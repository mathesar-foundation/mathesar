@import './colors.scss';
// ********************************************
// DARK MODE
// ********************************************

// ------------------------------------------
// Base colors
// ------------------------------------------

$base: hsl(230, 4%, 2%);

// Special semantic colors
$highlight: hsl(38, 8%, 80%);
$highlight-elevated: hsl(38, 30%, 80%);
$icon: hsl(hue($fjord), 55%, 90%);
$link: hsl(hue($fjord), 55%, 90%);

// ------------------------------------------
// Surfaces
// ------------------------------------------

// Colors, ordered by elevation / lightness
$surface-colors: (
  'inset': hsl(hue($base), saturation($base), 0%),
  'input': hsl(hue($base), saturation($base), 1%),
  'base': $base,
  'card': hsl(hue($base), saturation($base), 3%),
  'canvas': hsl(hue($base), saturation($base), 3%),
  'supporting': hsl(hue($base), saturation($base), 3%),
  'fieldset': hsl(hue($base), saturation($base), 4%),
  'header': hsl(hue($base), saturation($base), 5%),
  'control': hsl(hue($base), saturation($base), 5%),
  'elevated-low': hsl(hue($base), saturation($base), 5%),
  'elevated-mid': hsl(hue($base), saturation($base), 7%),
  'elevated-high': hsl(hue($base), saturation($base), 10%),
  'elevated-top': hsl(hue($base), saturation($base), 15%),
  'token': hsl(hue($base), saturation($base), 20%),
  'input-fill': $input-fill,
  'light': hsl(hue($base), saturation($base), 100%),
);

$surface-states: (
  'hover': ('h_delta': 0, 's_delta': 0, 'l_delta': 7),
  'active': ('h_delta': 0, 's_delta': 0, 'l_delta': 9),
  'focused': ('h_delta': 0, 's_delta': 0, 'l_delta': 2),
  'disabled': ('h_delta': 0, 's_delta': 0, 'l_delta': 20),
  'muted': ('h_delta': 0, 's_delta': 0, 'l_delta': 10),
);

// ------------------------------------------
// Borders
// ------------------------------------------

// Ordered by lightnesss.
// Although some tokens have the same values, they're defined separately for modularity.
$border-colors: (
  'container': hsl(hue($base), saturation($base), 12%),
  'row': hsl(hue($base), saturation($base), 12%),
  'grid': hsl(hue($base), saturation($base), 15%),
  'card': hsl(hue($base), saturation($base), 15%),
  'dropdown': hsl(hue($base), saturation($base), 15%),
  'shadow': hsl(hue($base), saturation($base), 18%),
  'divider': hsl(hue($base), saturation($base), 20%),
  'elevated-low': hsl(hue($base), saturation($base), 20%),
  'header': hsl(hue($base), saturation($base), 20%),
  'control': hsl(hue($base), saturation($base), 20%),
  'elevated-mid': hsl(hue($base), saturation($base), 25%),
  'fieldset': hsl(hue($base), saturation($base), 25%),
  'input': hsl(hue($base), saturation($base), 40%),
  'elevated-high': hsl(hue($base), saturation($base), 30%),
  'section': hsl(hue($base), saturation($base), 30%),
  'token': hsl(hue($base), saturation($base), 40%),
);

$border-states: (
  'hover': ('h_delta': 0, 's_delta': 0, 'l_delta': 6),
  'active': ('h_delta': 0, 's_delta': 0, 'l_delta': 14),
  'focused': ('h_delta': 0, 's_delta': 0, 'l_delta': 10),
);

// ------------------------------------------
// Text
// ------------------------------------------

$text-colors: (
  'code': hsl(hue($pumpkin), 80%, 96%),
  'control': hsl(hue($base), 10%, 75%),
  'disabled': hsl(hue($base), 35%, 80%),
  'faint': hsl(hue($base), 15%, 15%),
  'header': hsl(hue($base), 22%, 90%),
  'highlight': $highlight,
  'highlight-elevated': $highlight-elevated,
  'navigation': hsl(hue($base), 85%, 92%),
  'icon': $icon,
  'input': hsl(hue($pumpkin), 90%, 100%),
  'label': hsl(hue($pumpkin), 20%, 80%),
  'inverted': hsl(hue($base), 10%, 4%),
  'link': $link,
  'muted': hsl(hue($base), 15%, 40%),
  'primary': hsl(hue($pumpkin), 80%, 96%),
  'secondary': hsl(hue($pumpkin), 65%, 94%),
  'tertiary': hsl(hue($base), 60%, 90%),
  'token': hsl(hue($base), 85%, 93%),
  'tooltip': hsl(hue($tip), 30%, 80%),
);

$text-states: (
  'hover': ('h_delta': 0, 's_delta': 0, 'l_delta': 12),
  'active': ('h_delta': 0, 's_delta': 0, 'l_delta': 18),
);

// ------------------------------------------
// Utility boxes + buttons
// ------------------------------------------

$semantic-roles: (
  'bg': ('h_delta': 0, 's_delta': 0, 'l_delta': -30),
  'text': ('h_delta': 0, 's_delta': 0, 'l_delta': 20),
  'icon': ('h_delta': 0, 's_delta': 0, 'l_delta': 20),
  'border': ('h_delta': 0, 's_delta': -20, 'l_delta': -20),
  'inner-bg': ('h_delta': 0, 's_delta': -20, 'l_delta': -20),
  'inner-text': ('h_delta': 0, 's_delta': 0, 'l_delta': 30),
  'inner-icon': ('h_delta': 0, 's_delta': 0, 'l_delta': 30),
  'inner-border': ('h_delta': 0, 's_delta': -10, 'l_delta': -25),
);

$semantic-states: (
  'hover': ('h_delta': 0, 's_delta': 6, 'l_delta': 6),
  'active': ('h_delta': 0, 's_delta': 2, 'l_delta': 10),
  'focused': ('h_delta': 5, 's_delta': 5, 'l_delta': 3),
);

// ------------------------------------------
// Accents
// ------------------------------------------

$accent-colors: (
  'tomato': $tomato,
  'pumpkin': $pumpkin,
  'amethyst': $amethyst,
  'salmon': $salmon,
  'wisteria': $wisteria,
  'glacier': $glacier,
  'asparagus': $asparagus,
  'fjord': $fjord,
);

$accent-roles: (
  'base': ('h_delta': 0, 's_delta': 0, 'l_delta': 0),
  'faint': ('h_delta': 0, 's_delta': -30, 'l_delta': -45),
  'muted': ('h_delta': 0, 's_delta': -20, 'l_delta': -35),
  'dull': ('h_delta': 0, 's_delta': -10, 'l_delta': -20),
  'bright': ('h_delta': 0, 's_delta': 0, 'l_delta': 25),
  'contrast': ('h_delta': 0, 's_delta': 0, 'l_delta': 35),
  'inverted': ('h_delta': 0, 's_delta': 0, 'l_delta': 45),
);


$accent-states: (
  'hover': ('h_delta': 0, 's_delta': 3%, 'l_delta':-3%),
  'active': ('h_delta': 0, 's_delta': 0%, 'l_delta':-6%),
  'focused': ('h_delta': 5, 's_delta': 5%, 'l_delta':-3%),
  'muted': ('h_delta': 0, 's_delta': -20%, 'l_delta':10%),
  'highlighted': ('h_delta': -10, 's_delta': -12%, 'l_delta':-4%),
);

// ------------------------------------------
// GENERATE COLORS FOR THEME
// ------------------------------------------
body.theme-dark {
  @each $name, $color in $surface-colors {
    @include generate-surface-tokens(#{$name}, $color, $surface-states);
  }

  @each $name, $color in $border-colors {
    @include generate-border-tokens(#{$name}, $color, $border-states);
  }

  @each $name, $color in $text-colors {
    @include generate-text-tokens(#{$name}, $color, $text-states);
  }

  @each $name, $color in $semantic-colors {
    @include generate-semantic-tokens(#{$name}, $color, $semantic-roles);
  }

  @each $name, $color in $accent-colors {
    @include generate-accent-tokens(#{$name}, $color, $accent-roles);
  }
}
