(()=>{"use strict";const e=()=>`${(new Date).toISOString().slice(11,23)} (TS)`;let n=!0;function t(...n){console.log.apply(console,[`${e()} |`,...arguments])}function o(...n){console.info.apply(console,[`${e()} |`,...arguments])}function r(...n){console.debug.apply(console,[`${e()} |`,...arguments])}function a(...e){}const l=()=>{n?window.location.reload():o("Page reload was triggered and blocked due to PlaceholderPlugin.debug_disable_reload")},s={log:a,info:a,debug:a};let c=s;const i=()=>{o("Page reload was disabled for debugging purposes"),n=!1};var d,u;!function(e){e.Warning="WARNING",e.Error="ERROR"}(d||(d={})),function(e){e.Good="GOOD",e.Warning="WARNING",e.Error="ERROR",e.NoValidator="NO_VALIDATOR"}(u||(u={}));const p=e=>{const n=U("rules","object",e);if(0==n.length)throw new Error(`Rules should not be an empty array.\nProblematic object: ${JSON.stringify(e)}`);const t=A("id",e);return{display_name:A("display_name",e),id:t,rules:n.map((e=>g(e,t)))}},h=(e,n)=>{for(const t of e.rules)if(t.is_match_function(n)!=t.should_match&&t.severity==d.Error)return!1;return!0},_=(e,n)=>{if(e.validators.length>0){for(const t of e.validators)if(h(t,n))return!0;return!1}return!0},f=(e,n)=>{const t=[],o=[];for(const r of e.rules)r.is_match_function(n)!=r.should_match&&(r.severity==d.Error?o.push(`[${e.display_name}] Error: ${r.error_message}`):r.severity==d.Warning?t.push(`[${e.display_name}] Warning: ${r.error_message}`):console.warn(`Unknown rule severity ${r.severity}`));return{errors:o,warnings:t}},m=e=>{let n;if(1==e.validators.length)n=`Expecting: ${e.validators[0].display_name}`;else{n="Expecting one of the following: ";for(const t of e.validators)n+=`\n - ${t.display_name}`}return{rating:u.Good,message:n}},g=(e,n)=>{const t=A("severity",e);let o,r;if("warning"==t||"warn"==t)o=d.Warning;else{if("error"!=t)throw new Error(`Unknown severity '${t}'`);o=d.Error}if(e.regex){const n=A("regex",e),t=new RegExp(n);r=e=>t.test(e)}else{const t=A("match_function",e),o=new Function("value",t);r=e=>{try{const r=o(e);if("boolean"!=typeof r)throw new Error(`Custom match_function '${t}' of validator ${n} should return a boolean, but it returned a ${typeof r}: ${r}`);return r}catch(e){throw new Error(`Failed to evaluate match_function '${t}' of validator ${n}: ${e}`)}}}return{severity:o,should_match:H("should_match",e),error_message:A("error_message",e),is_match_function:r}},v=(e,n)=>{const t=((e,n)=>{const t=[];let o=!1;if(e.validators.length>0){for(const r of e.validators){const a=f(r,n);if(t.push(a),0==a.errors.length&&(o=!0,0==a.warnings.length))return m(e)}return o?(e=>{const n=[];for(const t of e)0==t.errors.length&&n.push(...t.warnings);return{rating:u.Warning,message:n.join("\n")}})(t):(e=>{const n=[];for(const t of e)n.push(...t.errors);return{rating:u.Error,message:n.join("\n")}})(t)}return{rating:u.NoValidator,message:"No validators are specified for this placeholder"}})(e,n.value);return((e,n)=>{e.classList.remove("validation-error","validation-warn","validation-ok","validation-none"),n.rating==u.Good?e.classList.add("validation-ok"):n.rating==u.Warning?e.classList.add("validation-warn"):n.rating==u.Error?e.classList.add("validation-error"):n.rating==u.NoValidator?e.classList.add("validation-none"):console.warn(`Unknown placeholder validity: ${n.rating}`),e.title=n.message})(n,t),c.debug("Validation: name =",e.name,", value =",n.value,", results =",t.rating),t.rating!=u.Error},w="PLACEHOLDER_",b=(e,n)=>{localStorage.setItem(w+e,n)},x=e=>localStorage.getItem(w+e),y=()=>{console.warn(`Clearing all localStorage items starting with '${w}'`);let e=0;for(;e<localStorage.length;){const n=localStorage.key(e);(null==n?void 0:n.startsWith(w))?localStorage.removeItem(n):e++}l()},$=(e,n)=>{try{const t=e.options[n];return null!=t&&null!=t}catch(e){return!1}},k=(e,n)=>{const t=_(e,n);if(c.info(`Set textbox ${e.name} to '${n}'. Validation ok? ${t}`),!t)throw new Error(`Validation error: Value '${n}' is not valid for placeholder ${e.name}`);b(`${e.name}_TEXT`,n)},E=e=>{const n=document.createElement("div");return n.appendChild(document.createTextNode(e)),n.innerHTML},N=e=>{const n=document.createElement("span");return n.classList.add("placeholder-value"),n.dataset.placeholder=e.name,n.textContent=e.expanded_value,n},T=(e,n,t)=>{var o;const r=document.createTreeWalker(e,NodeFilter.SHOW_TEXT);let a;n.global||console.warn(`You should set the global flag for the regex. Context: replacing '${n.source}' with '${t.current_value}'`);const l=[];for(;a=r.nextNode();)a.nodeValue&&a.nodeValue.match(n)&&l.push(a);const s=`<span class="placeholder-value" data-placeholder="${E(t.name)}">TEMPORARY PLACEHOLDER</span>`;for(const e of l)if(e.nodeValue){const t=E(e.nodeValue).replace(n,s),r=document.createElement("span");r.innerHTML=t,null===(o=e.parentElement)||void 0===o||o.replaceChild(r,e)}return l.length},C=(e,n,t)=>{const o=T(e,n.regex_dynamic,n);o>0&&(c.debug(`Replaced ${n.name} via dynamic method at least ${o} time(s)`),n.count_on_page+=o)},L=(e,n,t)=>{const o=T(e,n.regex_normal,n);o>0&&(c.debug(`Replaced ${n.name} via normal (dynamic) method at least ${o} time(s)`),n.count_on_page+=o)},R=(e,n,t)=>{const o=((e,n,t)=>{const o=document.createTreeWalker(e,NodeFilter.SHOW_TEXT);let r,a=0;for(n.global||console.warn(`You should set the global flag for the regex. Context: replacing '${n.source}' with '${t}'`);r=o.nextNode();)if(r.nodeValue){const e=r.nodeValue.replace(n,t);r.nodeValue!=e&&(r.nodeValue=e,a++)}return a})(e,n.regex_static,n.expanded_value);o>0&&(c.debug(`Replaced ${n.name} via static method at least ${o} time(s)`),n.count_on_page+=o,n.reload_page_on_change=!0)},O=(e,n,t)=>{const o=((e,n,t)=>{t=E(t),n.global||console.warn(`You should set the global flag for the regex. Context: replacing '${n.source}' with '${t}'`);const o=e.innerHTML.replace(n,t);return o!=e.innerHTML?(e.innerHTML=o,1):0})(e,n.regex_html,n.expanded_value);o>0&&(c.debug(`Replaced ${n.name} via innerHTML method at least ${o} time(s)`),n.count_on_page+=o,n.reload_page_on_change=!0)},D=e=>{for(const n of e)for(const e of n.output_elements){e.innerHTML="";const t=document.createTextNode(n.expanded_value);e.appendChild(t)}};class I{constructor(e){this.nodes=new Map;for(const n of e.values())this.nodes.set(n.name,new P(n));for(const n of e.values())try{this.on_placeholder_value_change(n)}catch(e){console.error("Error while building dependency graph",e),console.warn("Placeholder values may be inconsistent. Clearing your localStorage should fix this problem."),confirm("We detected a problem with your placeholder values. Resetting them to the defaults should fix this. Should we reset your placeholders?")&&y()}for(const e of this.nodes.values())0==e.downlinks.length&&e.recalculate_expanded_value(!0)}debug_print_representation(){let e="Dependency graph nodes (DEBUG view):";for(const n of this.nodes.values()){const t=n.downlinks.map((e=>e.placeholder.name)).join(", ");0==t.length?e+=`\n${n.placeholder.name} (${n.placeholder.expanded_value}) has no dependencies`:e+=`\n${n.placeholder.name} (${n.placeholder.expanded_value}) depends on ${t}`}c.debug(e)}unmark_everything(){for(const e of this.nodes.values())e.marked=!1}get_node(e){const n=this.nodes.get(e.name);if(null==n)throw new Error(`Placeholder ${e.name} is not part of the dependency graph`);return n}on_placeholder_value_change(e){const n=this.get_node(e);if(this.update_placeholder_downlinks(e),this.has_loop())throw e.expanded_value=e.current_value,n.downlinks=[],new Error(`Placeholder ${e.name} was part of a loop and has temporarily been made non-recursive`);n.recalculate_expanded_value(!0)}get_all_marked(){const e=[];for(const n of this.nodes.values())n.marked&&e.push(n.placeholder);return e}get_all_upstream(e){return this.unmark_everything(),this.get_node(e).recursive_mark_upstream(),this.get_all_marked()}update_placeholder_downlinks(e){if(0==e.allow_recursive)return;const n=this.get_node(e);for(const e of n.downlinks)e.remove_uplink(n);n.downlinks=[];for(const t of this.nodes.values())t!=n&&S(e.current_value,t.placeholder)&&(n.downlinks.push(t),t.uplinks.push(n))}get_all_used_placeholders(){this.unmark_everything();for(const e of this.nodes.values())e.placeholder.count_on_page>0&&e.recursive_mark_downstream();return this.get_all_marked()}has_loop(){this.unmark_everything();for(const e of this.nodes.values())if(!e.marked&&this._has_loop([],e))return!0;return!1}_has_loop(e,n){const t=[...e,n],o=e.indexOf(n);if(-1!=o){let e="Dependency cycle in placeholders detected:";for(let n=o;n<t.length;n++){const o=t[n].placeholder;e+=`\n$ -> ${o.name}: ${o.current_value}`}return console.warn(e),!0}if(n.marked)return!1;n.marked=!0;for(const e of n.downlinks)if(this._has_loop(t,e))return!0;return!1}}const S=(e,n)=>n.regex_dynamic.test(e)||n.regex_html.test(e)||n.regex_normal.test(e)||n.regex_static.test(e);class P{constructor(e){this.uplinks=[],this.downlinks=[],this.marked=!1,this.placeholder=e}remove_uplink(e){this.uplinks=this.uplinks.filter((n=>n!=e))}recalculate_expanded_value(e){let n=this.placeholder.current_value;for(const e of this.downlinks)t=n,o=e.placeholder,n=t.replace(o.regex_dynamic,o.expanded_value).replace(o.regex_html,o.expanded_value).replace(o.regex_normal,o.expanded_value).replace(o.regex_static,o.expanded_value);var t,o;if(this.placeholder.expanded_value=n,e)for(const n of this.uplinks)n.recalculate_expanded_value(e)}recursive_mark_upstream(){this.marked=!0;for(const e of this.uplinks)e.recursive_mark_upstream()}recursive_mark_downstream(){this.marked=!0;for(const e of this.downlinks)e.recursive_mark_downstream()}}const j=(e,n,t)=>{const o=t[e],r=typeof o;if(r!=n)throw new Error(`Type mismatch: ${e} should be ${n}, but is ${r}.\nProblematic object: ${JSON.stringify(t)}`);return o},A=(e,n)=>j(e,"string",n),H=(e,n)=>j(e,"boolean",n),M=(e,n)=>j(e,"number",n),U=(e,n,t)=>{const o=t[e];if(Array.isArray(o)){for(const[r,a]of o.entries()){const o=typeof a;if(o!=n){const a=`Type mismatch: ${e}'s ${r+1}th element should be ${n}, but is ${o}.\nProblematic object: ${JSON.stringify(t)}`;throw new Error(a)}}return o}throw new Error(`Type mismatch: ${e} should be an array, but is not.\nProblematic object: ${JSON.stringify(t)}`)};var V;!function(e){e.Textbox="TEXTBOX",e.Checkbox="CHECKBOX",e.Dropdown="DROPDOWN"}(V||(V={}));const W=(e,n,t,o)=>{const r=A("type",e),a=A("name",e);let l={name:a,order_index:o,regex_dynamic:RegExp(t.dynamic_prefix+a+t.dynamic_suffix,"g"),regex_html:RegExp(t.html_prefix+a+t.html_suffix,"g"),regex_normal:RegExp(t.normal_prefix+a+t.normal_suffix,"g"),regex_static:RegExp(t.static_prefix+a+t.static_suffix,"g"),description:A("description",e),read_only:H("read_only",e),allow_inner_html:H("allow_inner_html",e),allow_recursive:!1,current_value:"UNINITIALIZED",expanded_value:"UNINITIALIZED",count_on_page:0,reload_page_on_change:!1,output_elements:[]};if("textbox"===r){const t=F(l,e,n);return(e=>{const n=x(`${e.name}_TEXT`);if(null!=n){if(_(e,n))return void(e.current_value=n);console.warn(`Stored value for placeholder ${e.name} is invalid: '${n}'. Will revert to default.`)}if(null!=e.default_value)e.current_value=e.default_value,_(e,e.default_value)||console.warn(`Default value for placeholder '${e.name}' is invalid: '${e.default_value}'`);else{if(!e.default_function)throw new Error(`Either 'default_value' or 'default_function' needs to be set for placeholder ${e.name}`);try{const n=e.default_function();e.current_value=n;try{k(e,n)}catch(t){console.warn(`Default function for placeholder '${e.name}' returned invalid value: '${n}'`)}}catch(n){console.error(`Error while loading default textbox state for placeholder ${e.name}:`,n),e.current_value="DEFAULT_FUNCTION_ERROR"}}})(t),t}if("checkbox"==r){const n=J(l,e);return(e=>{const n=x(`${e.name}_IS_CHECKED`);null==n?e.current_is_checked=e.checked_by_default:"0"==n||"1"==n?e.current_is_checked="1"==n:(console.warn(`Unexpected state for checkbox. Should be '0' or '1', but was '${n}'`),e.current_is_checked=e.checked_by_default),e.current_value=e.current_is_checked?e.value_checked:e.value_unchecked})(n),n}if("dropdown"==r){const n=X(l,e);return(e=>{const n=x(`${e.name}_INDEX`);if(null==n)e.current_index=e.default_index;else{const t=Number(n);$(e,t)?e.current_index=t:(console.warn(`Unexpected state for dropdown. Should be a whole number N, where 0 <= N < ${e.options.length}. But it is ${n}`),e.current_index=e.default_index)}e.current_value=e.options[e.current_index].value})(n),n}throw new Error(`Unsupported placeholder type '${r}'`)},F=(e,n,t)=>{let o,r;if(null!=n.default_value)r=A("default_value",n);else{const t=A("default_function",n);o=()=>{try{const e=new Function(t)();if("string"!=typeof e)throw new Error(`Custom function '${t}' should return a string, but it returned a ${typeof e}: ${e}`);return e}catch(n){throw new Error(`Failed to evaluate default_function '${t}' of placeholder ${e.name}: ${n}`)}}}const a=U("validators","string",n),l=[];for(const e of a){const n=t.get(e);if(!n){const n=Array.from(t.keys()).join(", ");throw new Error(`No validator with id '${e}' was found. Known validators are ${n}`)}l.push(n)}return Object.assign(Object.assign({},e),{allow_recursive:H("allow_recursive",n),default_function:o,default_value:r,input_elements:[],type:V.Textbox,validators:l})},J=(e,n)=>Object.assign(Object.assign({},e),{allow_recursive:!0,checked_by_default:H("checked_by_default",n),current_is_checked:!1,input_elements:[],value_checked:A("value_checked",n),value_unchecked:A("value_unchecked",n),type:V.Checkbox}),X=(e,n)=>{const t=U("options","object",n),o=[];for(const e of t)o.push({display_name:A("display_name",e),value:A("value",e)});const r=M("default_index",n);if(r<0)throw new Error(`Invalid value: "default_index" should not be negative, but is ${r}.\nProblematic object: ${JSON.stringify(n)}`);if(r>=o.length)throw new Error(`Invalid value: "default_index" should be smaller than the number of options (${o.length}), but is ${r}.\nProblematic object: ${JSON.stringify(n)}`);return Object.assign(Object.assign({},e),{allow_recursive:!0,current_index:0,default_index:r,input_elements:[],options:o,type:V.Dropdown})},G=new Map;G.set("name","Name"),G.set("description","Description"),G.set("value","Value"),G.set("input","Input element"),G.set("description-or-name","Description / name");const B=(e,n)=>{e.appendChild(document.createTextNode(n))},q=(e,n)=>{const t=document.createElement(n);return e.appendChild(t),t},K=(e,n,t,o)=>{if(o=Y(o),e.innerHTML="",0==o.length){const n=q(e,"div");return n.classList.add("info-message"),void(0==o.length&&B(n,"No placeholders to be shown"))}c.info("Creating automatic input table at",e,"with columns",n);const r=q(e,"table"),a=q(r,"thead"),l=q(a,"tr"),s=q(r,"tbody");for(const e of n){const n=q(l,"th"),t=G.get(e);t?B(n,t):(B(n,e),console.error(`Unknown column name: ${e}`))}const i=[];for(const e of o){if(e.read_only){c.debug(`auto_table: Skipping ${e.name} because it is read-only`);continue}const o=q(s,"tr");Z(o,e,n,t),i.push({element:o,placeholder:e})}t.input_tables.push({columns:n,table_element:r,rows:i})},Y=e=>[...new Set(e)].sort(((e,n)=>e.order_index-n.order_index)),Z=(e,n,t,o)=>{for(const r of t){const t=q(e,"td");if("name"==r)B(t,n.name);else if("description"==r)B(t,n.description);else if("value"==r){const e=N(n);t.appendChild(e),n.output_elements.push(e)}else if("input"==r){const e=q(t,"input");Q(o,n,e)}else if("description-or-name"==r){const e=n.description||n.name;B(t,e)}else console.error(`Unknown column name: ${r}`)}},z=(e,n,t)=>{t=Y(t);const o=[];for(const e of n.rows)t.includes(e.placeholder)?o.push(e):(c.debug(`Removed table row for ${e.placeholder.name}:`,e.element),e.element.remove());const r=[],a=[...o].reverse(),l=[...t].reverse();let s;for(;s=l.pop();){const t=a.slice(-1)[0];if(t&&t.placeholder===s)a.pop(),r.push(t);else{const t=document.createElement("tr");0==r.length?n.table_element.insertBefore(t,n.table_element.firstChild):r[r.length-1].element.insertAdjacentElement("afterend",t),Z(t,s,n.columns,e),r.push({element:t,placeholder:s}),c.debug(`Added table row for ${s.name}:`,t)}}n.rows=r},Q=(e,n,t)=>{t.classList.add("input-for-variable"),n.type==V.Checkbox?ee(e,n,t):n.type==V.Dropdown?ne(e,n,t):n.type==V.Textbox?te(e,n,t):console.error(`Placeholder ${n.name} has unknown type '${n.type}'`)},ee=(e,n,t)=>{t.type="checkbox",t.checked=n.current_is_checked,n.read_only?t.disabled=!0:t.addEventListener("change",(()=>{c.debug("Checkbox change",n.name,"- new value:",t.checked),((e,n)=>{e.current_is_checked=n,e.current_value=n?e.value_checked:e.value_unchecked,b(`${e.name}_IS_CHECKED`,n?"1":"0")})(n,t.checked),n.current_value=t.checked?n.value_checked:n.value_unchecked,oe(e,n)})),n.input_elements.push(t)},ne=(e,n,t)=>{const o=document.createElement("select");o.classList.add("placeholder-dropdown");for(const e of n.options){const n=document.createElement("option");n.text=e.display_name,o.appendChild(n)}t.parentNode?t.parentNode.replaceChild(o,t):console.error("Input element",t,`for placeholder ${n.name} has no parent!`),o.selectedIndex=n.current_index,n.read_only?o.disabled=!0:o.addEventListener("change",(()=>{c.debug("Dropdown change",n.name,"- new index:",o.selectedIndex),((e,n)=>{if(!$(e,n))throw new Error(`Index must a whole number N, where 0 <= N < ${e.options.length}. But it is ${n}`);b(`${e.name}_INDEX`,`${n}`),e.current_value=e.options[n].value,e.current_index=n})(n,o.selectedIndex),n.current_index=o.selectedIndex,n.current_value=n.options[o.selectedIndex].value,oe(e,n)})),n.input_elements.push(o)},te=(e,n,t)=>{if(t.value=n.current_value,n.read_only)t.disabled=!0,t.style.cursor="not-allowed";else{null!=n.default_value?t.placeholder=`Default: ${n.default_value}`:t.placeholder="Dynamic default value";const o=o=>{"Enter"===o.key?(c.debug("Textbox change confirmed with Enter key for ",n.name,"- new value:",t.value),v(n,t)&&(k(n,t.value),n.current_value=t.value,oe(e,n))):"Escape"===o.key&&(c.debug("Resetting input field for ",n.name," to current placeholder value"),t.value=n.current_value)};0==n.validators.length||(v(n,t),t.addEventListener("input",(()=>{v(n,t)}))),t.addEventListener("keypress",o)}n.input_elements.push(t)},oe=(e,n)=>{const t=e.dependency_graph.get_all_upstream(n);let o=!1;for(const e of t)o=o||e.reload_page_on_change;if(c.debug(`Change of ${n.name} requires updates for placeholders:\n${t.map((e=>` - ${e.name}\n`)).join("")}\nRequires reload: ${o}`),o)l();else{if(e.dependency_graph.on_placeholder_value_change(n),(e=>{if(c.debug(`Updating ${e.input_tables.length} automatic input tables`),e.input_tables.length>0){const n=e.dependency_graph.get_all_used_placeholders();for(const t of e.input_tables)z(e,t,n)}})(e),n.type==V.Checkbox){const e=n;for(const n of e.input_elements)n.checked=e.current_is_checked}else if(n.type==V.Dropdown){const e=n;for(const n of e.input_elements)n.selectedIndex=e.current_index}else if(n.type==V.Textbox){const e=n;for(const n of e.input_elements)n.value=e.current_value,v(e,n)}else console.warn(`Placeholder ${n.name} has unexpected type '${n.type}'`);D(t)}},re=()=>{const e=(e=>{const n=new Map,t=new Map,o=new Map,r=new Map,a=new Map,l=U("validators","object",e);for(const e of l){const n=p(e);if(a.has(n.id))throw new Error(`Multiple validators with id '${n.id}'`);a.set(n.id,n)}const s=(e=>({debug:H("debug",e),delay_millis:M("delay_millis",e),normal_prefix:"x",normal_suffix:"x",html_prefix:"i",html_suffix:"i",static_prefix:"s",static_suffix:"s",dynamic_prefix:"d",dynamic_suffix:"d"}))(j("settings","object",e)),c=U("placeholder_list","object",e);for(let e=0;e<c.length;e++){const l=W(c[e],a,s,e);n.set(l.name,l),l.type==V.Textbox?t.set(l.name,l):l.type==V.Checkbox?o.set(l.name,l):l.type==V.Dropdown?r.set(l.name,l):console.warn("Unknown placeholder type:",l.type)}return{placeholders:n,textboxes:t,checkboxes:o,dropdowns:r,settings:s,dependency_graph:new I(n),input_tables:[]}})(window.PlaceholderPluginConfigJson);var n;n=e.settings.debug,c=n?{log:t,info:o,debug:r}:s,c.info("PluginConfig",e),(e=>{window.PlaceholderPlugin={settings:e.settings,placeholders:e.placeholders,debug_disable_reload:i,debug_print_dependency_graph:()=>e.dependency_graph.debug_print_representation()}})(e);const a=e.settings.delay_millis;a<0?ae(e):0==a?window.addEventListener("load",(()=>ae(e))):window.addEventListener("load",(()=>{setTimeout((()=>ae(e)),a)}))},ae=e=>{((e,n)=>{for(const t of n.placeholders.values())C(e,t),L(e,t),R(e,t),t.allow_inner_html&&O(e,t);(e=>{const n=document.querySelectorAll(".placeholder-value[data-placeholder]");for(const t of n){const n=t.getAttribute("data-placeholder");if(n){const o=e.placeholders.get(n);o?o.output_elements.push(t):console.warn(`No placeholder named '${n}', that is referenced by element:`,t)}else console.warn("Element has empty/no attribute 'data-placeholder':",t)}})(n),D([...n.placeholders.values()])})(document.body,e),e.dependency_graph.debug_print_representation(),(e=>{const n=document.querySelectorAll("input[data-input-for]");for(let t of n){const n=t.getAttribute("data-input-for");if(null==n)throw new Error("How can this be, the selector forces the 'data-input-for' attribute to exist");const o=e.placeholders.get(n);o?Q(e,o,t):(console.warn(`Unknown placeholder referenced in input element: '${n}'`),t.classList.add("input-for-variable"),t.value=`ERROR_UNDEFINED_PLACEHOLDER: ${n}`)}})(e),(e=>{const n=document.querySelectorAll("div.auto-input-table");if(n.length>0){const t=e.dependency_graph.get_all_used_placeholders().filter((e=>!e.read_only));for(let o of n){const n=o.getAttribute("data-columns")||"name,input",r=n.includes(",")?n.split(","):[n];K(o,r,e,t)}}})(e)};window.PlaceholderPluginConfigJson?re():document.addEventListener("PlaceholderPluginConfigJson",re)})();
//# sourceMappingURL=placeholder.min.js.map