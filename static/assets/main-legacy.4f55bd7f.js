!function(){function e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}System.register([],(function(t,n){"use strict";return{execute:function(){let r,o;function s(){}const i=e=>e;function a(e,t){for(const n in t)e[n]=t[n];return e}function l(e){return e()}function c(){return Object.create(null)}function u(e){e.forEach(l)}function d(e){return"function"==typeof e}function p(e,t){return e!=e?t==t:e!==t}function $(e,...t){if(null==e)return s;const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function m(e){let t;return $(e,(e=>t=e))(),t}function f(e,t,n){e.$$.on_destroy.push($(t,n))}function g(e,t,n,r){if(e){const o=h(e,t,n,r);return e[0](o)}}function h(e,t,n,r){return e[1]&&r?a(n.ctx.slice(),e[1](r(t))):n.ctx}function y(e,t,n,r){if(e[2]&&r){const o=e[2](r(n));if(void 0===t.dirty)return o;if("object"==typeof o){const e=[],n=Math.max(t.dirty.length,o.length);for(let r=0;r<n;r+=1)e[r]=t.dirty[r]|o[r];return e}return t.dirty|o}return t.dirty}function v(e,t,n,r,o,s){if(o){const i=h(t,n,r,s);e.p(i,o)}}function b(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let e=0;e<n;e++)t[e]=-1;return t}return-1}function w(e){const t={};for(const n in e)"$"!==n[0]&&(t[n]=e[n]);return t}function x(e,t){const n={};t=new Set(t);for(const r in e)t.has(r)||"$"===r[0]||(n[r]=e[r]);return n}function S(e){const t={};for(const n in e)t[n]=!0;return t}function C(e){return null==e?"":e}function k(e,t,n){return e.set(n),t}function D(e){return e&&d(e.destroy)?e.destroy:s}const I="undefined"!=typeof window;let _=I?()=>window.performance.now():()=>Date.now(),T=I?e=>requestAnimationFrame(e):s;const M=new Set;function E(e){M.forEach((t=>{t.c(e)||(M.delete(t),t.f())})),0!==M.size&&T(E)}function O(e){let t;return 0===M.size&&T(E),{promise:new Promise((n=>{M.add(t={c:e,f:n})})),abort(){M.delete(t)}}}function A(e,t){e.appendChild(t)}function L(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function N(e){const t=F("style");return function(e,t){A(e.head||e,t),t.sheet}(L(e),t),t.sheet}function P(e,t,n){e.insertBefore(t,n||null)}function R(e){e.parentNode.removeChild(e)}function z(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function F(e){return document.createElement(e)}function H(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function q(e){return document.createTextNode(e)}function V(){return q(" ")}function j(){return q("")}function W(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function U(e){return function(t){return t.preventDefault(),e.call(this,t)}}function Y(e){return function(t){return t.stopPropagation(),e.call(this,t)}}function B(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function K(e,t){const n=Object.getOwnPropertyDescriptors(e.__proto__);for(const r in t)null==t[r]?e.removeAttribute(r):"style"===r?e.style.cssText=t[r]:"__value"===r?e.value=e[r]=t[r]:n[r]&&n[r].set?e[r]=t[r]:B(e,r,t[r])}function G(e,t){for(const n in t)B(e,n,t[n])}function X(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function J(e,t){e.value=null==t?"":t}function Z(e,t,n,r){null===n?e.style.removeProperty(t):e.style.setProperty(t,n,r?"important":"")}let Q;function ee(){if(void 0===Q){Q=!1;try{"undefined"!=typeof window&&window.parent&&window.parent.document}catch(e){Q=!0}}return Q}function te(e,t,n){e.classList[n?"add":"remove"](t)}function ne(e,t,{bubbles:n=!1,cancelable:r=!1}={}){const o=document.createEvent("CustomEvent");return o.initCustomEvent(e,n,r,t),o}class re{constructor(e=!1){this.is_svg=!1,this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,t,n=null){this.e||(this.is_svg?this.e=H(t.nodeName):this.e=F(t.nodeName),this.t=t,this.c(e)),this.i(n)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.childNodes)}i(e){for(let t=0;t<this.n.length;t+=1)P(this.t,this.n[t],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(R)}}const oe=new Map;let se,ie=0;function ae(e,t,n,r,o,s,i,a=0){const l=16.666/r;let c="{\n";for(let g=0;g<=1;g+=l){const e=t+(n-t)*s(g);c+=100*g+`%{${i(e,1-e)}}\n`}const u=c+`100% {${i(n,1-n)}}\n}`,d=`__svelte_${function(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}(u)}_${a}`,p=L(e),{stylesheet:$,rules:m}=oe.get(p)||function(e,t){const n={stylesheet:N(t),rules:{}};return oe.set(e,n),n}(p,e);m[d]||(m[d]=!0,$.insertRule(`@keyframes ${d} ${u}`,$.cssRules.length));const f=e.style.animation||"";return e.style.animation=`${f?`${f}, `:""}${d} ${r}ms linear ${o}ms 1 both`,ie+=1,d}function le(e,t){const n=(e.style.animation||"").split(", "),r=n.filter(t?e=>e.indexOf(t)<0:e=>-1===e.indexOf("__svelte")),o=n.length-r.length;o&&(e.style.animation=r.join(", "),ie-=o,ie||T((()=>{ie||(oe.forEach((e=>{const{ownerNode:t}=e.stylesheet;t&&R(t)})),oe.clear())})))}function ce(e,t){const n=e.getBoundingClientRect();if(t.left!==n.left||t.top!==n.top){const r=getComputedStyle(e),o="none"===r.transform?"":r.transform;e.style.transform=`${o} translate(${t.left-n.left}px, ${t.top-n.top}px)`}}function ue(e){se=e}function de(){if(!se)throw new Error("Function called outside component initialization");return se}function pe(e){de().$$.on_mount.push(e)}function $e(e){de().$$.after_update.push(e)}function me(e){de().$$.on_destroy.push(e)}function fe(){const e=de();return(t,n,{cancelable:r=!1}={})=>{const o=e.$$.callbacks[t];if(o){const s=ne(t,n,{cancelable:r});return o.slice().forEach((t=>{t.call(e,s)})),!s.defaultPrevented}return!0}}function ge(e,t){return de().$$.context.set(e,t),t}function he(e){return de().$$.context.get(e)}function ye(e){return de().$$.context.has(e)}function ve(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach((e=>e.call(this,t)))}const be=[],we=[],xe=[],Se=[],Ce=Promise.resolve();let ke=!1;function De(){ke||(ke=!0,Ce.then(Ae))}function Ie(){return De(),Ce}function _e(e){xe.push(e)}function Te(e){Se.push(e)}const Me=new Set;let Ee,Oe=0;function Ae(){const e=se;do{for(;Oe<be.length;){const e=be[Oe];Oe++,ue(e),Le(e.$$)}for(ue(null),be.length=0,Oe=0;we.length;)we.pop()();for(let e=0;e<xe.length;e+=1){const t=xe[e];Me.has(t)||(Me.add(t),t())}xe.length=0}while(be.length);for(;Se.length;)Se.pop()();ke=!1,Me.clear(),ue(e)}function Le(e){if(null!==e.fragment){e.update(),u(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(_e)}}function Ne(){return Ee||(Ee=Promise.resolve(),Ee.then((()=>{Ee=null}))),Ee}function Pe(e,t,n){e.dispatchEvent(ne(`${t?"intro":"outro"}${n}`))}const Re=new Set;let ze;function Fe(){ze={r:0,c:[],p:ze}}function He(){ze.r||u(ze.c),ze=ze.p}function qe(e,t){e&&e.i&&(Re.delete(e),e.i(t))}function Ve(e,t,n,r){if(e&&e.o){if(Re.has(e))return;Re.add(e),ze.c.push((()=>{Re.delete(e),r&&(n&&e.d(1),r())})),e.o(t)}else r&&r()}const je={duration:0};function We(e,t,n){let r,o,a=t(e,n),l=!1,c=0;function u(){r&&le(e,r)}function p(){const{delay:t=0,duration:n=300,easing:d=i,tick:p=s,css:$}=a||je;$&&(r=ae(e,0,1,n,t,d,$,c++)),p(0,1);const m=_()+t,f=m+n;o&&o.abort(),l=!0,_e((()=>Pe(e,!0,"start"))),o=O((t=>{if(l){if(t>=f)return p(1,0),Pe(e,!0,"end"),u(),l=!1;if(t>=m){const e=d((t-m)/n);p(e,1-e)}}return l}))}let $=!1;return{start(){$||($=!0,le(e),d(a)?(a=a(),Ne().then(p)):p())},invalidate(){$=!1},end(){l&&(u(),l=!1)}}}function Ue(e,t,n){let r,o=t(e,n),a=!0;const l=ze;function c(){const{delay:t=0,duration:n=300,easing:c=i,tick:d=s,css:p}=o||je;p&&(r=ae(e,1,0,n,t,c,p));const $=_()+t,m=$+n;_e((()=>Pe(e,!1,"start"))),O((t=>{if(a){if(t>=m)return d(0,1),Pe(e,!1,"end"),--l.r||u(l.c),!1;if(t>=$){const e=c((t-$)/n);d(1-e,e)}}return a}))}return l.r+=1,d(o)?Ne().then((()=>{o=o(),c()})):c(),{end(t){t&&o.tick&&o.tick(1,0),a&&(r&&le(e,r),a=!1)}}}function Ye(e,t,n,r){let o=t(e,n),a=r?0:1,l=null,c=null,p=null;function $(){p&&le(e,p)}function m(e,t){const n=e.b-a;return t*=Math.abs(n),{a:a,b:e.b,d:n,duration:t,start:e.start,end:e.start+t,group:e.group}}function f(t){const{delay:n=0,duration:r=300,easing:d=i,tick:f=s,css:g}=o||je,h={start:_()+n,b:t};t||(h.group=ze,ze.r+=1),l||c?c=h:(g&&($(),p=ae(e,a,t,r,n,d,g)),t&&f(0,1),l=m(h,r),_e((()=>Pe(e,t,"start"))),O((t=>{if(c&&t>c.start&&(l=m(c,r),c=null,Pe(e,l.b,"start"),g&&($(),p=ae(e,a,l.b,l.duration,0,d,o.css))),l)if(t>=l.end)f(a=l.b,1-a),Pe(e,l.b,"end"),c||(l.b?$():--l.group.r||u(l.group.c)),l=null;else if(t>=l.start){const e=t-l.start;a=l.a+l.d*d(e/l.duration),f(a,1-a)}return!(!l&&!c)})))}return{run(e){d(o)?Ne().then((()=>{o=o(),f(e)})):f(e)},end(){$(),l=c=null}}}function Be(e,t){const n=t.token={};function r(e,r,o,s){if(t.token!==n)return;t.resolved=s;let i=t.ctx;void 0!==o&&(i=i.slice(),i[o]=s);const a=e&&(t.current=e)(i);let l=!1;t.block&&(t.blocks?t.blocks.forEach(((e,n)=>{n!==r&&e&&(Fe(),Ve(e,1,1,(()=>{t.blocks[n]===e&&(t.blocks[n]=null)})),He())})):t.block.d(1),a.c(),qe(a,1),a.m(t.mount(),t.anchor),l=!0),t.block=a,t.blocks&&(t.blocks[r]=a),l&&Ae()}if((o=e)&&"object"==typeof o&&"function"==typeof o.then){const n=de();if(e.then((e=>{ue(n),r(t.then,1,t.value,e),ue(null)}),(e=>{if(ue(n),r(t.catch,2,t.error,e),ue(null),!t.hasCatch)throw e})),t.current!==t.pending)return r(t.pending,0),!0}else{if(t.current!==t.then)return r(t.then,1,t.value,e),!0;t.resolved=e}var o}function Ke(e,t,n){const r=t.slice(),{resolved:o}=e;e.current===e.then&&(r[e.value]=o),e.current===e.catch&&(r[e.error]=o),e.block.p(r,n)}const Ge="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function Xe(e,t){e.d(1),t.delete(e.key)}function Je(e,t){Ve(e,1,1,(()=>{t.delete(e.key)}))}function Ze(e,t){e.f(),Je(e,t)}function Qe(e,t,n,r,o,s,i,a,l,c,u,d){let p=e.length,$=s.length,m=p;const f={};for(;m--;)f[e[m].key]=m;const g=[],h=new Map,y=new Map;for(m=$;m--;){const e=d(o,s,m),a=n(e);let l=i.get(a);l?r&&l.p(e,t):(l=c(a,e),l.c()),h.set(a,g[m]=l),a in f&&y.set(a,Math.abs(m-f[a]))}const v=new Set,b=new Set;function w(e){qe(e,1),e.m(a,u),i.set(e.key,e),u=e.first,$--}for(;p&&$;){const t=g[$-1],n=e[p-1],r=t.key,o=n.key;t===n?(u=t.first,p--,$--):h.has(o)?!i.has(r)||v.has(r)?w(t):b.has(o)?p--:y.get(r)>y.get(o)?(b.add(r),w(t)):(v.add(o),p--):(l(n,i),p--)}for(;p--;){const t=e[p];h.has(t.key)||l(t,i)}for(;$;)w(g[$-1]);return g}function et(e,t){const n={},r={},o={$$scope:1};let s=e.length;for(;s--;){const i=e[s],a=t[s];if(a){for(const e in i)e in a||(r[e]=1);for(const e in a)o[e]||(n[e]=a[e],o[e]=1);e[s]=a}else for(const e in i)o[e]=1}for(const i in r)i in n||(n[i]=void 0);return n}function tt(e){return"object"==typeof e&&null!==e?e:{}}function nt(e,t,n){const r=e.$$.props[t];void 0!==r&&(e.$$.bound[r]=n,n(e.$$.ctx[r]))}function rt(e){e&&e.c()}function ot(e,t,n,r){const{fragment:o,on_mount:s,on_destroy:i,after_update:a}=e.$$;o&&o.m(t,n),r||_e((()=>{const t=s.map(l).filter(d);i?i.push(...t):u(t),e.$$.on_mount=[]})),a.forEach(_e)}function st(e,t){const n=e.$$;null!==n.fragment&&(u(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function it(e,t,n,r,o,i,a,l=[-1]){const d=se;ue(e);const p=e.$$={fragment:null,ctx:null,props:i,update:s,not_equal:o,bound:c(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(d?d.$$.context:[])),callbacks:c(),dirty:l,skip_bound:!1,root:t.target||d.$$.root};a&&a(p.root);let $=!1;if(p.ctx=n?n(e,t.props||{},((t,n,...r)=>{const s=r.length?r[0]:n;return p.ctx&&o(p.ctx[t],p.ctx[t]=s)&&(!p.skip_bound&&p.bound[t]&&p.bound[t](s),$&&function(e,t){-1===e.$$.dirty[0]&&(be.push(e),De(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}(e,t)),n})):[],p.update(),$=!0,u(p.before_update),p.fragment=!!r&&r(p.ctx),t.target){if(t.hydrate){const e=function(e){return Array.from(e.childNodes)}(t.target);p.fragment&&p.fragment.l(e),e.forEach(R)}else p.fragment&&p.fragment.c();t.intro&&qe(e.$$.fragment),ot(e,t.target,t.anchor,t.customElement),Ae()}ue(d)}class at{$destroy(){st(this,1),this.$destroy=s}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}class lt extends Promise{constructor(t,n){super(t),e(this,"isCancelled",!1),e(this,"onCancel",void 0),this.onCancel=n}cancel(){this.isCancelled=!0,this.onCancel?.()}then(e,t){return this.isCancelled?null:super.then((t=>this.isCancelled?null:e?.(t)||t),(e=>{if(this.isCancelled)return null;if(!t)throw e;return t(e)}))}}class ct{constructor(){e(this,"listeners",void 0),this.listeners=new Map}getCallbackSet(e){const t=this.listeners.get(e);if(t)return t;const n=new Set;return this.listeners.set(e,n),n}on(e,t){const n=this.getCallbackSet(e);return n.add(t),()=>{n.delete(t)}}async dispatch(e,t){const n=this.listeners.get(e);n?await Promise.all([...n.values()].map((e=>e(t)))):console.warn(`No listeners found when dispatching event '${String(e)}'.`)}destroy(){this.listeners.clear()}}r=Symbol.iterator;class ut{constructor(t){e(this,"set",void 0),this.set=new Set(t)}getNewInstance(...e){return new this.constructor(...e)}with(e){const t=new Set(this.set);return t.add(e),this.getNewInstance(t)}union(e){const t=new Set(this.set);return[...e].forEach((e=>{t.add(e)})),this.getNewInstance(t)}without(e){const t=Array.isArray(e)?e:[e],n=new Set(this.set);return t.forEach((e=>{n.delete(e)})),this.getNewInstance(n)}has(e){return this.set.has(e)}get size(){return this.set.size}values(){return this.set.values()}valuesArray(){return[...this.set.values()]}[r](){return this.values()}}o=Symbol.iterator;class dt{constructor(t=[]){e(this,"map",void 0),e(this,"valueIsValid",(()=>!0)),this.map=new Map(t)}getNewInstance(...e){return new this.constructor(...e)}with(e,t,n=((e,t)=>t)){return this.withEntries([[e,t]],n)}withEntries(e,t=((e,t)=>t)){const n=new Map(this.map);return[...e].forEach((([e,r])=>{const o=this.get(e),s=void 0===o?r:t(o,r);this.valueIsValid(s)?n.set(e,s):n.delete(e)})),this.getNewInstance(n)}coalesce(e,t){return this.has(e)?this:this.with(e,t)}coalesceEntries(e){const t=new Map(this.map);return[...e].forEach((([e,n])=>{!this.has(e)&&this.valueIsValid(n)&&t.set(e,n)})),this.getNewInstance(t)}without(e){const t=Array.isArray(e)?e:[e],n=new Map(this.map);return t.forEach((e=>n.delete(e))),this.getNewInstance(n)}drained(){return this.getNewInstance([])}has(e){return this.map.has(e)}get(e){return this.map.get(e)}get size(){return this.map.size}keys(){return this.map.keys()}values(){return this.map.values()}entries(){return this.map.entries()}mapValues(e){return new dt([...this.entries()].map((([t,n])=>[t,e(n)])))}filterValues(e){return new dt([...this.entries()].filter((([,t])=>e(t))))}[o](){return this.entries()}}const pt=[];function $t(e,t){return{subscribe:mt(e,t).subscribe}}function mt(e,t=s){let n;const r=new Set;function o(t){if(function(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}(e,t)&&(e=t,n)){const t=!pt.length;for(const n of r)n[1](),pt.push(n,e);if(t){for(let e=0;e<pt.length;e+=2)pt[e][0](pt[e+1]);pt.length=0}}}return{set:o,update:function(t){o(t(e))},subscribe:function(i,a=s){const l=[i,a];return r.add(l),1===r.size&&(n=t(o)||s),i(e),()=>{r.delete(l),0===r.size&&(n(),n=null)}}}}function ft(e,t,n){const r=!Array.isArray(e),o=r?[e]:e,i=t.length<2;return $t(n,(e=>{let n=!1;const a=[];let l=0,c=s;const p=()=>{if(l)return;c();const n=t(r?a[0]:a,e);i?e(n):c=d(n)?n:s},m=o.map(((e,t)=>$(e,(e=>{a[t]=e,l&=~(1<<t),n&&p()}),(()=>{l|=1<<t}))));return n=!0,p(),function(){u(m),c()}}))}class gt{constructor(t=[]){e(this,"map",void 0),this.map=mt(new dt(t))}subscribe(e){return this.map.subscribe(e)}reconstruct(e=[]){this.map.set(new dt(e))}clear(){this.map.set(new dt)}delete(e){this.map.update((t=>t.without(e)))}set(e,t,n=((e,t)=>t)){this.map.update((r=>r.with(e,t,n)))}setEntries(e=[],t=((e,t)=>t)){this.map.update((n=>n.withEntries(e,t)))}setMultiple(e,t,n=((e,t)=>t)){this.map.update((r=>r.withEntries([...e].map((e=>[e,t])),n)))}getEntries(){return m(this.map).entries()}derivedEntries(){return ft(this.map,(e=>e.entries()))}getHas(e){return m(this.map).has(e)}derivedHas(e){return ft(this.map,(t=>t.has(e)))}getValue(e){return m(this.map).get(e)}derivedValue(e){return ft(this.map,(t=>t.get(e)))}getKeys(){return m(this.map).keys()}derivedKeys(){return ft(this.map,(e=>e.keys()))}getValues(){return m(this.map).values()}derivedValues(){return ft(this.map,(e=>e.values()))}}class ht{constructor(t=[]){e(this,"values",void 0),this.values=mt(new ut(t))}subscribe(e){return this.values.subscribe(e)}reconstruct(e=[]){this.values.set(new ut(e))}clear(){this.values.set(new ut)}delete(e){this.values.update((t=>t.without(e)))}add(e){this.values.update((t=>t.with(e)))}addMultiple(e=[]){this.values.update((t=>t.union(e)))}getValues(){return m(this.values).values()}derivedValues(){return ft(this.values,(e=>e.values()))}getHas(e){return m(this.values).has(e)}derivedHas(e){return ft(this.values,(t=>t.has(e)))}}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var yt={exports:{}};!function(e,t){e.exports=function(){var e=1e3,t=6e4,n=36e5,r="millisecond",o="second",s="minute",i="hour",a="day",l="week",c="month",u="quarter",d="year",p="date",$="Invalid Date",m=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,f=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,g={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},h=function(e,t,n){var r=String(e);return!r||r.length>=t?e:""+Array(t+1-r.length).join(n)+e},y={s:h,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),r=Math.floor(n/60),o=n%60;return(t<=0?"+":"-")+h(r,2,"0")+":"+h(o,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var r=12*(n.year()-t.year())+(n.month()-t.month()),o=t.clone().add(r,c),s=n-o<0,i=t.clone().add(r+(s?-1:1),c);return+(-(r+(n-o)/(s?o-i:i-o))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:c,y:d,w:l,d:a,D:p,h:i,m:s,s:o,ms:r,Q:u}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},v="en",b={};b[v]=g;var w=function(e){return e instanceof k},x=function e(t,n,r){var o;if(!t)return v;if("string"==typeof t){var s=t.toLowerCase();b[s]&&(o=s),n&&(b[s]=n,o=s);var i=t.split("-");if(!o&&i.length>1)return e(i[0])}else{var a=t.name;b[a]=t,o=a}return!r&&o&&(v=o),o||!r&&v},S=function(e,t){if(w(e))return e.clone();var n="object"==typeof t?t:{};return n.date=e,n.args=arguments,new k(n)},C=y;C.l=x,C.i=w,C.w=function(e,t){return S(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var k=function(){function g(e){this.$L=x(e.locale,null,!0),this.parse(e)}var h=g.prototype;return h.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(C.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var r=t.match(m);if(r){var o=r[2]-1||0,s=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],o,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)):new Date(r[1],o,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)}}return new Date(t)}(e),this.$x=e.x||{},this.init()},h.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},h.$utils=function(){return C},h.isValid=function(){return!(this.$d.toString()===$)},h.isSame=function(e,t){var n=S(e);return this.startOf(t)<=n&&n<=this.endOf(t)},h.isAfter=function(e,t){return S(e)<this.startOf(t)},h.isBefore=function(e,t){return this.endOf(t)<S(e)},h.$g=function(e,t,n){return C.u(e)?this[t]:this.set(n,e)},h.unix=function(){return Math.floor(this.valueOf()/1e3)},h.valueOf=function(){return this.$d.getTime()},h.startOf=function(e,t){var n=this,r=!!C.u(t)||t,u=C.p(e),$=function(e,t){var o=C.w(n.$u?Date.UTC(n.$y,t,e):new Date(n.$y,t,e),n);return r?o:o.endOf(a)},m=function(e,t){return C.w(n.toDate()[e].apply(n.toDate("s"),(r?[0,0,0,0]:[23,59,59,999]).slice(t)),n)},f=this.$W,g=this.$M,h=this.$D,y="set"+(this.$u?"UTC":"");switch(u){case d:return r?$(1,0):$(31,11);case c:return r?$(1,g):$(0,g+1);case l:var v=this.$locale().weekStart||0,b=(f<v?f+7:f)-v;return $(r?h-b:h+(6-b),g);case a:case p:return m(y+"Hours",0);case i:return m(y+"Minutes",1);case s:return m(y+"Seconds",2);case o:return m(y+"Milliseconds",3);default:return this.clone()}},h.endOf=function(e){return this.startOf(e,!1)},h.$set=function(e,t){var n,l=C.p(e),u="set"+(this.$u?"UTC":""),$=(n={},n[a]=u+"Date",n[p]=u+"Date",n[c]=u+"Month",n[d]=u+"FullYear",n[i]=u+"Hours",n[s]=u+"Minutes",n[o]=u+"Seconds",n[r]=u+"Milliseconds",n)[l],m=l===a?this.$D+(t-this.$W):t;if(l===c||l===d){var f=this.clone().set(p,1);f.$d[$](m),f.init(),this.$d=f.set(p,Math.min(this.$D,f.daysInMonth())).$d}else $&&this.$d[$](m);return this.init(),this},h.set=function(e,t){return this.clone().$set(e,t)},h.get=function(e){return this[C.p(e)]()},h.add=function(r,u){var p,$=this;r=Number(r);var m=C.p(u),f=function(e){var t=S($);return C.w(t.date(t.date()+Math.round(e*r)),$)};if(m===c)return this.set(c,this.$M+r);if(m===d)return this.set(d,this.$y+r);if(m===a)return f(1);if(m===l)return f(7);var g=(p={},p[s]=t,p[i]=n,p[o]=e,p)[m]||1,h=this.$d.getTime()+r*g;return C.w(h,this)},h.subtract=function(e,t){return this.add(-1*e,t)},h.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return n.invalidDate||$;var r=e||"YYYY-MM-DDTHH:mm:ssZ",o=C.z(this),s=this.$H,i=this.$m,a=this.$M,l=n.weekdays,c=n.months,u=function(e,n,o,s){return e&&(e[n]||e(t,r))||o[n].slice(0,s)},d=function(e){return C.s(s%12||12,e,"0")},p=n.meridiem||function(e,t,n){var r=e<12?"AM":"PM";return n?r.toLowerCase():r},m={YY:String(this.$y).slice(-2),YYYY:this.$y,M:a+1,MM:C.s(a+1,2,"0"),MMM:u(n.monthsShort,a,c,3),MMMM:u(c,a),D:this.$D,DD:C.s(this.$D,2,"0"),d:String(this.$W),dd:u(n.weekdaysMin,this.$W,l,2),ddd:u(n.weekdaysShort,this.$W,l,3),dddd:l[this.$W],H:String(s),HH:C.s(s,2,"0"),h:d(1),hh:d(2),a:p(s,i,!0),A:p(s,i,!1),m:String(i),mm:C.s(i,2,"0"),s:String(this.$s),ss:C.s(this.$s,2,"0"),SSS:C.s(this.$ms,3,"0"),Z:o};return r.replace(f,(function(e,t){return t||m[e]||o.replace(":","")}))},h.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},h.diff=function(r,p,$){var m,f=C.p(p),g=S(r),h=(g.utcOffset()-this.utcOffset())*t,y=this-g,v=C.m(this,g);return v=(m={},m[d]=v/12,m[c]=v,m[u]=v/3,m[l]=(y-h)/6048e5,m[a]=(y-h)/864e5,m[i]=y/n,m[s]=y/t,m[o]=y/e,m)[f]||y,$?v:C.a(v)},h.daysInMonth=function(){return this.endOf(c).$D},h.$locale=function(){return b[this.$L]},h.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),r=x(e,t,!0);return r&&(n.$L=r),n},h.clone=function(){return C.w(this.$d,this)},h.toDate=function(){return new Date(this.valueOf())},h.toJSON=function(){return this.isValid()?this.toISOString():null},h.toISOString=function(){return this.$d.toISOString()},h.toString=function(){return this.$d.toUTCString()},g}(),D=k.prototype;return S.prototype=D,[["$ms",r],["$s",o],["$m",s],["$H",i],["$W",a],["$M",c],["$y",d],["$D",p]].forEach((function(e){D[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),S.extend=function(e,t){return e.$i||(e(t,k,S),e.$i=!0),S},S.locale=x,S.isDayjs=w,S.unix=function(e){return S(1e3*e)},S.en=b[v],S.Ls=b,S.p={},S}()}(yt);const vt=yt.exports;var bt={exports:{}};!function(e,t){e.exports=function(){var e={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},t=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,n=/\d\d/,r=/\d\d?/,o=/\d*[^-_:/,()\s\d]+/,s={},i=function(e){return(e=+e)+(e>68?1900:2e3)},a=function(e){return function(t){this[e]=+t}},l=[/[+-]\d\d:?(\d\d)?|Z/,function(e){(this.zone||(this.zone={})).offset=function(e){if(!e)return 0;if("Z"===e)return 0;var t=e.match(/([+-]|\d\d)/g),n=60*t[1]+(+t[2]||0);return 0===n?0:"+"===t[0]?-n:n}(e)}],c=function(e){var t=s[e];return t&&(t.indexOf?t:t.s.concat(t.f))},u=function(e,t){var n,r=s.meridiem;if(r){for(var o=1;o<=24;o+=1)if(e.indexOf(r(o,0,t))>-1){n=o>12;break}}else n=e===(t?"pm":"PM");return n},d={A:[o,function(e){this.afternoon=u(e,!1)}],a:[o,function(e){this.afternoon=u(e,!0)}],S:[/\d/,function(e){this.milliseconds=100*+e}],SS:[n,function(e){this.milliseconds=10*+e}],SSS:[/\d{3}/,function(e){this.milliseconds=+e}],s:[r,a("seconds")],ss:[r,a("seconds")],m:[r,a("minutes")],mm:[r,a("minutes")],H:[r,a("hours")],h:[r,a("hours")],HH:[r,a("hours")],hh:[r,a("hours")],D:[r,a("day")],DD:[n,a("day")],Do:[o,function(e){var t=s.ordinal,n=e.match(/\d+/);if(this.day=n[0],t)for(var r=1;r<=31;r+=1)t(r).replace(/\[|\]/g,"")===e&&(this.day=r)}],M:[r,a("month")],MM:[n,a("month")],MMM:[o,function(e){var t=c("months"),n=(c("monthsShort")||t.map((function(e){return e.slice(0,3)}))).indexOf(e)+1;if(n<1)throw new Error;this.month=n%12||n}],MMMM:[o,function(e){var t=c("months").indexOf(e)+1;if(t<1)throw new Error;this.month=t%12||t}],Y:[/[+-]?\d+/,a("year")],YY:[n,function(e){this.year=i(e)}],YYYY:[/\d{4}/,a("year")],Z:l,ZZ:l};function p(n){var r,o;r=n,o=s&&s.formats;for(var i=(n=r.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(t,n,r){var s=r&&r.toUpperCase();return n||o[r]||e[r]||o[s].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(e,t,n){return t||n.slice(1)}))}))).match(t),a=i.length,l=0;l<a;l+=1){var c=i[l],u=d[c],p=u&&u[0],$=u&&u[1];i[l]=$?{regex:p,parser:$}:c.replace(/^\[|\]$/g,"")}return function(e){for(var t={},n=0,r=0;n<a;n+=1){var o=i[n];if("string"==typeof o)r+=o.length;else{var s=o.regex,l=o.parser,c=e.slice(r),u=s.exec(c)[0];l.call(t,u),e=e.replace(u,"")}}return function(e){var t=e.afternoon;if(void 0!==t){var n=e.hours;t?n<12&&(e.hours+=12):12===n&&(e.hours=0),delete e.afternoon}}(t),t}}return function(e,t,n){n.p.customParseFormat=!0,e&&e.parseTwoDigitYear&&(i=e.parseTwoDigitYear);var r=t.prototype,o=r.parse;r.parse=function(e){var t=e.date,r=e.utc,i=e.args;this.$u=r;var a=i[1];if("string"==typeof a){var l=!0===i[2],c=!0===i[3],u=l||c,d=i[2];c&&(d=i[2]),s=this.$locale(),!l&&d&&(s=n.Ls[d]),this.$d=function(e,t,n){try{if(["x","X"].indexOf(t)>-1)return new Date(("X"===t?1e3:1)*e);var r=p(t)(e),o=r.year,s=r.month,i=r.day,a=r.hours,l=r.minutes,c=r.seconds,u=r.milliseconds,d=r.zone,$=new Date,m=i||(o||s?1:$.getDate()),f=o||$.getFullYear(),g=0;o&&!s||(g=s>0?s-1:$.getMonth());var h=a||0,y=l||0,v=c||0,b=u||0;return d?new Date(Date.UTC(f,g,m,h,y,v,b+60*d.offset*1e3)):n?new Date(Date.UTC(f,g,m,h,y,v,b)):new Date(f,g,m,h,y,v,b)}catch(e){return new Date("")}}(t,a,r),this.init(),d&&!0!==d&&(this.$L=this.locale(d).$L),u&&t!=this.format(a)&&(this.$d=new Date("")),s={}}else if(a instanceof Array)for(var $=a.length,m=1;m<=$;m+=1){i[1]=a[m-1];var f=n.apply(this,i);if(f.isValid()){this.$d=f.$d,this.$L=f.$L,this.init();break}m===$&&(this.$d=new Date(""))}else o.call(this,e)}}}()}(bt);const wt=bt.exports;var xt={exports:{}};!function(e,t){e.exports=function(){var e,t,n=1e3,r=6e4,o=36e5,s=864e5,i=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,a=31536e6,l=2592e6,c=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,u={years:a,months:l,days:s,hours:o,minutes:r,seconds:n,milliseconds:1,weeks:6048e5},d=function(e){return e instanceof y},p=function(e,t,n){return new y(e,n,t.$l)},$=function(e){return t.p(e)+"s"},m=function(e){return e<0},f=function(e){return m(e)?Math.ceil(e):Math.floor(e)},g=function(e){return Math.abs(e)},h=function(e,t){return e?m(e)?{negative:!0,format:""+g(e)+t}:{negative:!1,format:""+e+t}:{negative:!1,format:""}},y=function(){function m(e,t,n){var r=this;if(this.$d={},this.$l=n,void 0===e&&(this.$ms=0,this.parseFromMilliseconds()),t)return p(e*u[$(t)],this);if("number"==typeof e)return this.$ms=e,this.parseFromMilliseconds(),this;if("object"==typeof e)return Object.keys(e).forEach((function(t){r.$d[$(t)]=e[t]})),this.calMilliseconds(),this;if("string"==typeof e){var o=e.match(c);if(o){var s=o.slice(2).map((function(e){return null!=e?Number(e):0}));return this.$d.years=s[0],this.$d.months=s[1],this.$d.weeks=s[2],this.$d.days=s[3],this.$d.hours=s[4],this.$d.minutes=s[5],this.$d.seconds=s[6],this.calMilliseconds(),this}}return this}var g=m.prototype;return g.calMilliseconds=function(){var e=this;this.$ms=Object.keys(this.$d).reduce((function(t,n){return t+(e.$d[n]||0)*u[n]}),0)},g.parseFromMilliseconds=function(){var e=this.$ms;this.$d.years=f(e/a),e%=a,this.$d.months=f(e/l),e%=l,this.$d.days=f(e/s),e%=s,this.$d.hours=f(e/o),e%=o,this.$d.minutes=f(e/r),e%=r,this.$d.seconds=f(e/n),e%=n,this.$d.milliseconds=e},g.toISOString=function(){var e=h(this.$d.years,"Y"),t=h(this.$d.months,"M"),n=+this.$d.days||0;this.$d.weeks&&(n+=7*this.$d.weeks);var r=h(n,"D"),o=h(this.$d.hours,"H"),s=h(this.$d.minutes,"M"),i=this.$d.seconds||0;this.$d.milliseconds&&(i+=this.$d.milliseconds/1e3);var a=h(i,"S"),l=e.negative||t.negative||r.negative||o.negative||s.negative||a.negative,c=o.format||s.format||a.format?"T":"",u=(l?"-":"")+"P"+e.format+t.format+r.format+c+o.format+s.format+a.format;return"P"===u||"-P"===u?"P0D":u},g.toJSON=function(){return this.toISOString()},g.format=function(e){var n=e||"YYYY-MM-DDTHH:mm:ss",r={Y:this.$d.years,YY:t.s(this.$d.years,2,"0"),YYYY:t.s(this.$d.years,4,"0"),M:this.$d.months,MM:t.s(this.$d.months,2,"0"),D:this.$d.days,DD:t.s(this.$d.days,2,"0"),H:this.$d.hours,HH:t.s(this.$d.hours,2,"0"),m:this.$d.minutes,mm:t.s(this.$d.minutes,2,"0"),s:this.$d.seconds,ss:t.s(this.$d.seconds,2,"0"),SSS:t.s(this.$d.milliseconds,3,"0")};return n.replace(i,(function(e,t){return t||String(r[e])}))},g.as=function(e){return this.$ms/u[$(e)]},g.get=function(e){var t=this.$ms,n=$(e);return"milliseconds"===n?t%=1e3:t="weeks"===n?f(t/u[n]):this.$d[n],0===t?0:t},g.add=function(e,t,n){var r;return r=t?e*u[$(t)]:d(e)?e.$ms:p(e,this).$ms,p(this.$ms+r*(n?-1:1),this)},g.subtract=function(e,t){return this.add(e,t,!0)},g.locale=function(e){var t=this.clone();return t.$l=e,t},g.clone=function(){return p(this.$ms,this)},g.humanize=function(t){return e().add(this.$ms,"ms").locale(this.$l).fromNow(!t)},g.milliseconds=function(){return this.get("milliseconds")},g.asMilliseconds=function(){return this.as("milliseconds")},g.seconds=function(){return this.get("seconds")},g.asSeconds=function(){return this.as("seconds")},g.minutes=function(){return this.get("minutes")},g.asMinutes=function(){return this.as("minutes")},g.hours=function(){return this.get("hours")},g.asHours=function(){return this.as("hours")},g.days=function(){return this.get("days")},g.asDays=function(){return this.as("days")},g.weeks=function(){return this.get("weeks")},g.asWeeks=function(){return this.as("weeks")},g.months=function(){return this.get("months")},g.asMonths=function(){return this.as("months")},g.years=function(){return this.get("years")},g.asYears=function(){return this.as("years")},m}();return function(n,r,o){e=o,t=o().$utils(),o.duration=function(e,t){var n=o.locale();return p(e,{$l:n},t)},o.isDuration=d;var s=r.prototype.add,i=r.prototype.subtract;r.prototype.add=function(e,t){return d(e)&&(e=e.asMilliseconds()),s.bind(this)(e,t)},r.prototype.subtract=function(e,t){return d(e)&&(e=e.asMilliseconds()),i.bind(this)(e,t)}}}()}(xt);const St=xt.exports;vt.extend(wt),vt.extend(St);let Ct=0;function kt(){return Ct+=1,`_global-id-${Ct}`}function Dt(e){return"object"==typeof e&&null!==e}function It(e){return"number"==typeof e}function _t(e,t){return Dt(e)&&t in e}function Tt(e,t){return _t(e,t)&&"string"==typeof e[t]}function Mt(e){return null!=e}function Et(e,t){return Mt(e)?e:t}function Ot(e){if(0===e)return"0 B";const t=Math.floor(Math.log(e)/Math.log(1024)),n=e/1024**t,r=" KMGTP".charAt(t);return`${n.toFixed(2)} ${r}B`}function At(e,t="label"){return Tt(e,t)?e[t]:void 0===e?"":String(e)}function Lt(e){const t=e-1;return t*t*t+1}function Nt(e){return"[object Date]"===Object.prototype.toString.call(e)}function Pt(e,t){if(e===t||e!=e)return()=>e;const n=typeof e;if(n!==typeof t||Array.isArray(e)!==Array.isArray(t))throw new Error("Cannot interpolate values of different type");if(Array.isArray(e)){const n=t.map(((t,n)=>Pt(e[n],t)));return e=>n.map((t=>t(e)))}if("object"===n){if(!e||!t)throw new Error("Object cannot be null");if(Nt(e)&&Nt(t)){e=e.getTime();const n=(t=t.getTime())-e;return t=>new Date(e+t*n)}const n=Object.keys(t),r={};return n.forEach((n=>{r[n]=Pt(e[n],t[n])})),e=>{const t={};return n.forEach((n=>{t[n]=r[n](e)})),t}}if("number"===n){const n=t-e;return t=>e+t*n}throw new Error(`Cannot interpolate ${n} values`)}const Rt={allowPause:!0,duration:0};function zt(e,t={}){const n={...Rt,...t},r=function(e,t={}){const n=mt(e);let r,o=e;function s(s,l){if(null==e)return n.set(e=s),Promise.resolve();o=s;let c=r,u=!1,{delay:d=0,duration:p=400,easing:$=i,interpolate:m=Pt}=a(a({},t),l);if(0===p)return c&&(c.abort(),c=null),n.set(e=o),Promise.resolve();const f=_()+d;let g;return r=O((t=>{if(t<f)return!0;u||(g=m(e,s),"function"==typeof p&&(p=p(e,s)),u=!0),c&&(c.abort(),c=null);const r=t-f;return r>p?(n.set(e=s),!1):(n.set(e=g($(r/p))),!0)})),r.promise}return{set:s,update:(t,n)=>s(t(o,e),n),subscribe:n.subscribe}}(e,n);let o=!1,s=e,l=e,{duration:c}=n,u=()=>{};function d(){return new Promise((e=>{u=e}))}return{update:function(e,t){c=t?.duration??n.duration,l=m(r),s=e(s,l);const o=d();return r.set(s,t).then(u),o},set:function(e,t){s=e,c=t?.duration??n.duration;const o=d();return r.update(((t,n)=>(l=n,e)),t).then(u),o},subscribe:r.subscribe,pause:function(){n.allowPause&&(o=!0,r.update(((e,t)=>(s=e,t)),{duration:0}))},resume:function(){if(!o)return;const e=m(r),t=(s-e)/((s-l)/c);r.set(s,{duration:t}).then(u)}}}function Ft(e){return function(e){return"object"==typeof e&&null!==e&&"subscribe"in e&&"function"==typeof e.subscribe}(e)?e:$t(e)}function Ht(e){let t=[];return $t(t,(n=>{const r=e.map(((e,r)=>e.subscribe((e=>{t=function(e,t,n){const r=[...e];return r[t]=n,r}(t,r,e),n(t)}))));return()=>r.forEach((e=>e()))}))}const qt="validationContext";class Vt{constructor(){e(this,"validationResult",mt(!0)),e(this,"validationFunctionMap",new Map)}validate(){let e=!0;for(const t of this.validationFunctionMap.values())e=e&&t();return this.validationResult.set(e),e}addValidator(e,t){this.validationFunctionMap.set(e,t),me((()=>{this.validationFunctionMap.delete(e),this.validate()}))}}function jt(){const e=new Vt;return ge(qt,e),e}function Wt(){if(!ye(qt))throw Error("Validation context not present");return he(qt)}function Ut(e){if(!e.target)return;return e.target.value}function Yt(e){return e.detail}function Bt(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Kt(e){return function(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}(e).toLowerCase()}function Gt(e={}){return Object.fromEntries(Object.entries(e).filter((([,e])=>void 0!==e)))}function Xt(e=0,t=100){return Math.floor(Math.random()*(t-e+1))+e}function Jt(e){return Object.entries(e).filter((e=>0===e[0].indexOf("--"))).map((e=>`${e[0]}: ${e[1]};`)).join("")}function Zt(...e){return e.filter(Mt).map((e=>{const t=e.trim();return t.endsWith(";")?t:`${t};`})).join("")}function Qt(e,t){return Math.ceil(e/t)}function en(e,t){let{callback:n,references:r}=t;function o(t){r&&m(r)?.some((e=>e?.contains?.(t.target)??!1))||e.contains(t.target)||n(t)}const s="onpointerdown"in document.body?["pointerdown"]:["mousedown","contextmenu"];return s.forEach((e=>{document.body.addEventListener(e,o,!0)})),{update:function(e){n=e.callback,r=e.references},destroy:function(){s.forEach((e=>{document.body.removeEventListener(e,o,!0)}))}}}var tn={exports:{}};function nn(e){const t=[{name:"flip"},{name:"preventOverflow",options:{altAxis:!0}},{name:"offset",options:{offset:[0,0]}},...[{name:"setMinWidth",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:e=>{const t=Math.min(250,e.state.rects.reference.width);e.state.styles.popper.minWidth=`${t}px`},effect:e=>{const t=e.state.elements.reference.offsetWidth,n=Math.min(250,t);e.state.elements.popper.style.minWidth=`${n}px`}}]];return e.forEach((e=>{const n=t.findIndex((t=>t.name===e.name));-1===n?t.push(e):t[n]=e})),t}function rn(e,t){let n,r;function o(t,r){t&&(n=tn.exports.createPopper(t,e,{placement:r?.placement||"bottom-start",modifiers:nn(r?.modifiers??[])}))}function s(){n?.destroy(),r=void 0}return o(t.reference,t.options),{update:function(e){const{reference:t,options:i}=e;if(t){if(n)return r!==t?(s(),o(t,i),void(r=t)):void(i&&n.setOptions(i));o(t,i)}else s()},destroy:s}}function on(e,t){function n(t){t&&t instanceof HTMLElement&&t.appendChild(e)}return n(t??document.querySelector("body")??void 0),{update:n,destroy:function(){e.parentElement?.removeChild(e)}}}!function(e,t){!function(e){function t(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function n(e){return e instanceof t(e).Element||e instanceof Element}function r(e){return e instanceof t(e).HTMLElement||e instanceof HTMLElement}function o(e){return"undefined"!=typeof ShadowRoot&&(e instanceof t(e).ShadowRoot||e instanceof ShadowRoot)}var s=Math.max,i=Math.min,a=Math.round;function l(){var e=navigator.userAgentData;return null!=e&&e.brands?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function c(){return!/^((?!chrome|android).)*safari/i.test(l())}function u(e,o,s){void 0===o&&(o=!1),void 0===s&&(s=!1);var i=e.getBoundingClientRect(),l=1,u=1;o&&r(e)&&(l=e.offsetWidth>0&&a(i.width)/e.offsetWidth||1,u=e.offsetHeight>0&&a(i.height)/e.offsetHeight||1);var d=(n(e)?t(e):window).visualViewport,p=!c()&&s,$=(i.left+(p&&d?d.offsetLeft:0))/l,m=(i.top+(p&&d?d.offsetTop:0))/u,f=i.width/l,g=i.height/u;return{width:f,height:g,top:m,right:$+f,bottom:m+g,left:$,x:$,y:m}}function d(e){var n=t(e);return{scrollLeft:n.pageXOffset,scrollTop:n.pageYOffset}}function p(e){return e?(e.nodeName||"").toLowerCase():null}function $(e){return((n(e)?e.ownerDocument:e.document)||window.document).documentElement}function m(e){return u($(e)).left+d(e).scrollLeft}function f(e){return t(e).getComputedStyle(e)}function g(e){var t=f(e),n=t.overflow,r=t.overflowX,o=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+o+r)}function h(e,n,o){void 0===o&&(o=!1);var s,i,l=r(n),c=r(n)&&function(e){var t=e.getBoundingClientRect(),n=a(t.width)/e.offsetWidth||1,r=a(t.height)/e.offsetHeight||1;return 1!==n||1!==r}(n),f=$(n),h=u(e,c,o),y={scrollLeft:0,scrollTop:0},v={x:0,y:0};return(l||!l&&!o)&&(("body"!==p(n)||g(f))&&(y=(s=n)!==t(s)&&r(s)?{scrollLeft:(i=s).scrollLeft,scrollTop:i.scrollTop}:d(s)),r(n)?((v=u(n,!0)).x+=n.clientLeft,v.y+=n.clientTop):f&&(v.x=m(f))),{x:h.left+y.scrollLeft-v.x,y:h.top+y.scrollTop-v.y,width:h.width,height:h.height}}function y(e){var t=u(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function v(e){return"html"===p(e)?e:e.assignedSlot||e.parentNode||(o(e)?e.host:null)||$(e)}function b(e){return["html","body","#document"].indexOf(p(e))>=0?e.ownerDocument.body:r(e)&&g(e)?e:b(v(e))}function w(e,n){var r;void 0===n&&(n=[]);var o=b(e),s=o===(null==(r=e.ownerDocument)?void 0:r.body),i=t(o),a=s?[i].concat(i.visualViewport||[],g(o)?o:[]):o,l=n.concat(a);return s?l:l.concat(w(v(a)))}function x(e){return["table","td","th"].indexOf(p(e))>=0}function S(e){return r(e)&&"fixed"!==f(e).position?e.offsetParent:null}function C(e){for(var n=t(e),s=S(e);s&&x(s)&&"static"===f(s).position;)s=S(s);return s&&("html"===p(s)||"body"===p(s)&&"static"===f(s).position)?n:s||function(e){var t=/firefox/i.test(l());if(/Trident/i.test(l())&&r(e)&&"fixed"===f(e).position)return null;var n=v(e);for(o(n)&&(n=n.host);r(n)&&["html","body"].indexOf(p(n))<0;){var s=f(n);if("none"!==s.transform||"none"!==s.perspective||"paint"===s.contain||-1!==["transform","perspective"].indexOf(s.willChange)||t&&"filter"===s.willChange||t&&s.filter&&"none"!==s.filter)return n;n=n.parentNode}return null}(e)||n}var k="top",D="bottom",I="right",_="left",T="auto",M=[k,D,I,_],E="start",O="end",A="viewport",L="popper",N=M.reduce((function(e,t){return e.concat([t+"-"+E,t+"-"+O])}),[]),P=[].concat(M,[T]).reduce((function(e,t){return e.concat([t,t+"-"+E,t+"-"+O])}),[]),R=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function z(e){var t=new Map,n=new Set,r=[];function o(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&o(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||o(e)})),r}function F(e){return e.split("-")[0]}function H(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&o(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function q(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function V(e,r,o){return r===A?q(function(e,n){var r=t(e),o=$(e),s=r.visualViewport,i=o.clientWidth,a=o.clientHeight,l=0,u=0;if(s){i=s.width,a=s.height;var d=c();(d||!d&&"fixed"===n)&&(l=s.offsetLeft,u=s.offsetTop)}return{width:i,height:a,x:l+m(e),y:u}}(e,o)):n(r)?function(e,t){var n=u(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(r,o):q(function(e){var t,n=$(e),r=d(e),o=null==(t=e.ownerDocument)?void 0:t.body,i=s(n.scrollWidth,n.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),a=s(n.scrollHeight,n.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),l=-r.scrollLeft+m(e),c=-r.scrollTop;return"rtl"===f(o||n).direction&&(l+=s(n.clientWidth,o?o.clientWidth:0)-i),{width:i,height:a,x:l,y:c}}($(e)))}function j(e,t,o,a){var l="clippingParents"===t?function(e){var t=w(v(e)),o=["absolute","fixed"].indexOf(f(e).position)>=0&&r(e)?C(e):e;return n(o)?t.filter((function(e){return n(e)&&H(e,o)&&"body"!==p(e)})):[]}(e):[].concat(t),c=[].concat(l,[o]),u=c[0],d=c.reduce((function(t,n){var r=V(e,n,a);return t.top=s(r.top,t.top),t.right=i(r.right,t.right),t.bottom=i(r.bottom,t.bottom),t.left=s(r.left,t.left),t}),V(e,u,a));return d.width=d.right-d.left,d.height=d.bottom-d.top,d.x=d.left,d.y=d.top,d}function W(e){return e.split("-")[1]}function U(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Y(e){var t,n=e.reference,r=e.element,o=e.placement,s=o?F(o):null,i=o?W(o):null,a=n.x+n.width/2-r.width/2,l=n.y+n.height/2-r.height/2;switch(s){case k:t={x:a,y:n.y-r.height};break;case D:t={x:a,y:n.y+n.height};break;case I:t={x:n.x+n.width,y:l};break;case _:t={x:n.x-r.width,y:l};break;default:t={x:n.x,y:n.y}}var c=s?U(s):null;if(null!=c){var u="y"===c?"height":"width";switch(i){case E:t[c]=t[c]-(n[u]/2-r[u]/2);break;case O:t[c]=t[c]+(n[u]/2-r[u]/2)}}return t}function B(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function K(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}function G(e,t){void 0===t&&(t={});var r=t,o=r.placement,s=void 0===o?e.placement:o,i=r.strategy,a=void 0===i?e.strategy:i,l=r.boundary,c=void 0===l?"clippingParents":l,d=r.rootBoundary,p=void 0===d?A:d,m=r.elementContext,f=void 0===m?L:m,g=r.altBoundary,h=void 0!==g&&g,y=r.padding,v=void 0===y?0:y,b=B("number"!=typeof v?v:K(v,M)),w=f===L?"reference":L,x=e.rects.popper,S=e.elements[h?w:f],C=j(n(S)?S:S.contextElement||$(e.elements.popper),c,p,a),_=u(e.elements.reference),T=Y({reference:_,element:x,strategy:"absolute",placement:s}),E=q(Object.assign({},x,T)),O=f===L?E:_,N={top:C.top-O.top+b.top,bottom:O.bottom-C.bottom+b.bottom,left:C.left-O.left+b.left,right:O.right-C.right+b.right},P=e.modifiersData.offset;if(f===L&&P){var R=P[s];Object.keys(N).forEach((function(e){var t=[I,D].indexOf(e)>=0?1:-1,n=[k,D].indexOf(e)>=0?"y":"x";N[e]+=R[n]*t}))}return N}var X={placement:"bottom",modifiers:[],strategy:"absolute"};function J(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"==typeof e.getBoundingClientRect)}))}function Z(e){void 0===e&&(e={});var t=e,r=t.defaultModifiers,o=void 0===r?[]:r,s=t.defaultOptions,i=void 0===s?X:s;return function(e,t,r){void 0===r&&(r=i);var s,a,l={placement:"bottom",orderedModifiers:[],options:Object.assign({},X,i),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},c=[],u=!1,d={state:l,setOptions:function(r){var s="function"==typeof r?r(l.options):r;p(),l.options=Object.assign({},i,l.options,s),l.scrollParents={reference:n(e)?w(e):e.contextElement?w(e.contextElement):[],popper:w(t)};var a,u,$=function(e){var t=z(e);return R.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}((a=[].concat(o,l.options.modifiers),u=a.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{}),Object.keys(u).map((function(e){return u[e]}))));return l.orderedModifiers=$.filter((function(e){return e.enabled})),l.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,o=e.effect;if("function"==typeof o){var s=o({state:l,name:t,instance:d,options:r}),i=function(){};c.push(s||i)}})),d.update()},forceUpdate:function(){if(!u){var e=l.elements,t=e.reference,n=e.popper;if(J(t,n)){l.rects={reference:h(t,C(n),"fixed"===l.options.strategy),popper:y(n)},l.reset=!1,l.placement=l.options.placement,l.orderedModifiers.forEach((function(e){return l.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<l.orderedModifiers.length;r++)if(!0!==l.reset){var o=l.orderedModifiers[r],s=o.fn,i=o.options,a=void 0===i?{}:i,c=o.name;"function"==typeof s&&(l=s({state:l,options:a,name:c,instance:d})||l)}else l.reset=!1,r=-1}}},update:(s=function(){return new Promise((function(e){d.forceUpdate(),e(l)}))},function(){return a||(a=new Promise((function(e){Promise.resolve().then((function(){a=void 0,e(s())}))}))),a}),destroy:function(){p(),u=!0}};if(!J(e,t))return d;function p(){c.forEach((function(e){return e()})),c=[]}return d.setOptions(r).then((function(e){!u&&r.onFirstUpdate&&r.onFirstUpdate(e)})),d}}var Q={passive:!0},ee={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var n=e.state,r=e.instance,o=e.options,s=o.scroll,i=void 0===s||s,a=o.resize,l=void 0===a||a,c=t(n.elements.popper),u=[].concat(n.scrollParents.reference,n.scrollParents.popper);return i&&u.forEach((function(e){e.addEventListener("scroll",r.update,Q)})),l&&c.addEventListener("resize",r.update,Q),function(){i&&u.forEach((function(e){e.removeEventListener("scroll",r.update,Q)})),l&&c.removeEventListener("resize",r.update,Q)}},data:{}},te={name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=Y({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},ne={top:"auto",right:"auto",bottom:"auto",left:"auto"};function re(e){var n,r=e.popper,o=e.popperRect,s=e.placement,i=e.variation,l=e.offsets,c=e.position,u=e.gpuAcceleration,d=e.adaptive,p=e.roundOffsets,m=e.isFixed,g=l.x,h=void 0===g?0:g,y=l.y,v=void 0===y?0:y,b="function"==typeof p?p({x:h,y:v}):{x:h,y:v};h=b.x,v=b.y;var w=l.hasOwnProperty("x"),x=l.hasOwnProperty("y"),S=_,T=k,M=window;if(d){var E=C(r),A="clientHeight",L="clientWidth";E===t(r)&&"static"!==f(E=$(r)).position&&"absolute"===c&&(A="scrollHeight",L="scrollWidth"),(s===k||(s===_||s===I)&&i===O)&&(T=D,v-=(m&&E===M&&M.visualViewport?M.visualViewport.height:E[A])-o.height,v*=u?1:-1),s!==_&&(s!==k&&s!==D||i!==O)||(S=I,h-=(m&&E===M&&M.visualViewport?M.visualViewport.width:E[L])-o.width,h*=u?1:-1)}var N,P=Object.assign({position:c},d&&ne),R=!0===p?function(e){var t=e.x,n=e.y,r=window.devicePixelRatio||1;return{x:a(t*r)/r||0,y:a(n*r)/r||0}}({x:h,y:v}):{x:h,y:v};return h=R.x,v=R.y,u?Object.assign({},P,((N={})[T]=x?"0":"",N[S]=w?"0":"",N.transform=(M.devicePixelRatio||1)<=1?"translate("+h+"px, "+v+"px)":"translate3d("+h+"px, "+v+"px, 0)",N)):Object.assign({},P,((n={})[T]=x?v+"px":"",n[S]=w?h+"px":"",n.transform="",n))}var oe={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,o=void 0===r||r,s=n.adaptive,i=void 0===s||s,a=n.roundOffsets,l=void 0===a||a,c={placement:F(t.placement),variation:W(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:o,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,re(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:i,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,re(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},se={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},o=t.attributes[e]||{},s=t.elements[e];r(s)&&p(s)&&(Object.assign(s.style,n),Object.keys(o).forEach((function(e){var t=o[e];!1===t?s.removeAttribute(e):s.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var o=t.elements[e],s=t.attributes[e]||{},i=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});r(o)&&p(o)&&(Object.assign(o.style,i),Object.keys(s).forEach((function(e){o.removeAttribute(e)})))}))}},requires:["computeStyles"]},ie={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,o=n.offset,s=void 0===o?[0,0]:o,i=P.reduce((function(e,n){return e[n]=function(e,t,n){var r=F(e),o=[_,k].indexOf(r)>=0?-1:1,s="function"==typeof n?n(Object.assign({},t,{placement:e})):n,i=s[0],a=s[1];return i=i||0,a=(a||0)*o,[_,I].indexOf(r)>=0?{x:a,y:i}:{x:i,y:a}}(n,t.rects,s),e}),{}),a=i[t.placement],l=a.x,c=a.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=i}},ae={left:"right",right:"left",bottom:"top",top:"bottom"};function le(e){return e.replace(/left|right|bottom|top/g,(function(e){return ae[e]}))}var ce={start:"end",end:"start"};function ue(e){return e.replace(/start|end/g,(function(e){return ce[e]}))}function de(e,t){void 0===t&&(t={});var n=t,r=n.placement,o=n.boundary,s=n.rootBoundary,i=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=void 0===l?P:l,u=W(r),d=u?a?N:N.filter((function(e){return W(e)===u})):M,p=d.filter((function(e){return c.indexOf(e)>=0}));0===p.length&&(p=d);var $=p.reduce((function(t,n){return t[n]=G(e,{placement:n,boundary:o,rootBoundary:s,padding:i})[F(n)],t}),{});return Object.keys($).sort((function(e,t){return $[e]-$[t]}))}var pe={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var o=n.mainAxis,s=void 0===o||o,i=n.altAxis,a=void 0===i||i,l=n.fallbackPlacements,c=n.padding,u=n.boundary,d=n.rootBoundary,p=n.altBoundary,$=n.flipVariations,m=void 0===$||$,f=n.allowedAutoPlacements,g=t.options.placement,h=F(g),y=l||(h!==g&&m?function(e){if(F(e)===T)return[];var t=le(e);return[ue(e),t,ue(t)]}(g):[le(g)]),v=[g].concat(y).reduce((function(e,n){return e.concat(F(n)===T?de(t,{placement:n,boundary:u,rootBoundary:d,padding:c,flipVariations:m,allowedAutoPlacements:f}):n)}),[]),b=t.rects.reference,w=t.rects.popper,x=new Map,S=!0,C=v[0],M=0;M<v.length;M++){var O=v[M],A=F(O),L=W(O)===E,N=[k,D].indexOf(A)>=0,P=N?"width":"height",R=G(t,{placement:O,boundary:u,rootBoundary:d,altBoundary:p,padding:c}),z=N?L?I:_:L?D:k;b[P]>w[P]&&(z=le(z));var H=le(z),q=[];if(s&&q.push(R[A]<=0),a&&q.push(R[z]<=0,R[H]<=0),q.every((function(e){return e}))){C=O,S=!1;break}x.set(O,q)}if(S)for(var V=function(e){var t=v.find((function(t){var n=x.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return C=t,"break"},j=m?3:1;j>0&&"break"!==V(j);j--);t.placement!==C&&(t.modifiersData[r]._skip=!0,t.placement=C,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function $e(e,t,n){return s(e,i(t,n))}var me={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,o=n.mainAxis,a=void 0===o||o,l=n.altAxis,c=void 0!==l&&l,u=n.boundary,d=n.rootBoundary,p=n.altBoundary,$=n.padding,m=n.tether,f=void 0===m||m,g=n.tetherOffset,h=void 0===g?0:g,v=G(t,{boundary:u,rootBoundary:d,padding:$,altBoundary:p}),b=F(t.placement),w=W(t.placement),x=!w,S=U(b),T="x"===S?"y":"x",M=t.modifiersData.popperOffsets,O=t.rects.reference,A=t.rects.popper,L="function"==typeof h?h(Object.assign({},t.rects,{placement:t.placement})):h,N="number"==typeof L?{mainAxis:L,altAxis:L}:Object.assign({mainAxis:0,altAxis:0},L),P=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,R={x:0,y:0};if(M){if(a){var z,H="y"===S?k:_,q="y"===S?D:I,V="y"===S?"height":"width",j=M[S],Y=j+v[H],B=j-v[q],K=f?-A[V]/2:0,X=w===E?O[V]:A[V],J=w===E?-A[V]:-O[V],Z=t.elements.arrow,Q=f&&Z?y(Z):{width:0,height:0},ee=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},te=ee[H],ne=ee[q],re=$e(0,O[V],Q[V]),oe=x?O[V]/2-K-re-te-N.mainAxis:X-re-te-N.mainAxis,se=x?-O[V]/2+K+re+ne+N.mainAxis:J+re+ne+N.mainAxis,ie=t.elements.arrow&&C(t.elements.arrow),ae=ie?"y"===S?ie.clientTop||0:ie.clientLeft||0:0,le=null!=(z=null==P?void 0:P[S])?z:0,ce=j+se-le,ue=$e(f?i(Y,j+oe-le-ae):Y,j,f?s(B,ce):B);M[S]=ue,R[S]=ue-j}if(c){var de,pe="x"===S?k:_,me="x"===S?D:I,fe=M[T],ge="y"===T?"height":"width",he=fe+v[pe],ye=fe-v[me],ve=-1!==[k,_].indexOf(b),be=null!=(de=null==P?void 0:P[T])?de:0,we=ve?he:fe-O[ge]-A[ge]-be+N.altAxis,xe=ve?fe+O[ge]+A[ge]-be-N.altAxis:ye,Se=f&&ve?function(e,t,n){var r=$e(e,t,n);return r>n?n:r}(we,fe,xe):$e(f?we:he,fe,f?xe:ye);M[T]=Se,R[T]=Se-fe}t.modifiersData[r]=R}},requiresIfExists:["offset"]},fe={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,o=e.options,s=n.elements.arrow,i=n.modifiersData.popperOffsets,a=F(n.placement),l=U(a),c=[_,I].indexOf(a)>=0?"height":"width";if(s&&i){var u=function(e,t){return B("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:K(e,M))}(o.padding,n),d=y(s),p="y"===l?k:_,$="y"===l?D:I,m=n.rects.reference[c]+n.rects.reference[l]-i[l]-n.rects.popper[c],f=i[l]-n.rects.reference[l],g=C(s),h=g?"y"===l?g.clientHeight||0:g.clientWidth||0:0,v=m/2-f/2,b=u[p],w=h-d[c]-u[$],x=h/2-d[c]/2+v,S=$e(b,x,w),T=l;n.modifiersData[r]=((t={})[T]=S,t.centerOffset=S-x,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!=typeof r||(r=t.elements.popper.querySelector(r)))&&H(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ge(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function he(e){return[k,I,D,_].some((function(t){return e[t]>=0}))}var ye={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,o=t.rects.popper,s=t.modifiersData.preventOverflow,i=G(t,{elementContext:"reference"}),a=G(t,{altBoundary:!0}),l=ge(i,r),c=ge(a,o,s),u=he(l),d=he(c);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}},ve=Z({defaultModifiers:[ee,te,oe,se]}),be=[ee,te,oe,se,ie,pe,me,fe,ye],we=Z({defaultModifiers:be});e.applyStyles=se,e.arrow=fe,e.computeStyles=oe,e.createPopper=we,e.createPopperLite=ve,e.defaultModifiers=be,e.detectOverflow=G,e.eventListeners=ee,e.flip=pe,e.hide=ye,e.offset=ie,e.popperGenerator=Z,e.popperOffsets=te,e.preventOverflow=me,Object.defineProperty(e,"__esModule",{value:!0})}(t)}(0,tn.exports);const sn={onMove:()=>{},onStart:()=>{},onStop:()=>{},min:0,max:1/0,axis:"x",invert:!1};function an(e,t){const n=function(e){return"touches"in e}(e)?e.touches[0]:e;return"x"===t?n.clientX:n.clientY}function ln(e){e.preventDefault()}function cn(e,t){const n=function(e){return{...sn,...e}}(t);let r=0,o=0,s=0;function i(e){const t=n.invert?-1:1,i=an(e,n.axis)-o,a=function(e){return Math.min(Math.max(e,n.min),n.max)}(r+i*t);!function(e){s=e,n.onMove(s)}(a)}function a(){n.onStop(s),window.removeEventListener("mousemove",i,!0),window.removeEventListener("touchmove",i,!0),window.removeEventListener("mouseup",a,!0),window.removeEventListener("touchend",a,!0),window.removeEventListener("touchcancel",a,!0),window.removeEventListener("selectstart",ln,!0)}function l(e){n.onStart(),r=n.getStartingValue(),o=an(e,n.axis),window.addEventListener("mousemove",i,!0),window.addEventListener("touchmove",i,!0),window.addEventListener("mouseup",a,!0),window.addEventListener("touchend",a,!0),window.addEventListener("touchcancel",a,!0),window.addEventListener("selectstart",ln,!0)}return e.addEventListener("mousedown",l),e.addEventListener("touchstart",l,{passive:!1}),{destroy(){e.removeEventListener("mousedown",l),e.removeEventListener("touchstart",l)}}}function un(e){let t,n;const r=e[7].default,o=g(r,e,e[6],null);let s=[e[2],{href:e[0]},{class:e[1]}],i={};for(let l=0;l<s.length;l+=1)i=a(i,s[l]);return{c(){t=F("a"),o&&o.c(),K(t,i)},m(e,r){P(e,t,r),o&&o.m(t,null),n=!0},p(e,[a]){o&&o.p&&(!n||64&a)&&v(o,r,e,e[6],n?y(r,e[6],a,null):b(e[6]),null),K(t,i=et(s,[4&a&&e[2],(!n||1&a)&&{href:e[0]},(!n||2&a)&&{class:e[1]}]))},i(e){n||(qe(o,e),n=!0)},o(e){Ve(o,e),n=!1},d(e){e&&R(t),o&&o.d(e)}}}function dn(e,t,n){let r;const o=["href","appearance","size","class"];let s=x(t,o),{$$slots:i={},$$scope:l}=t,{href:c}=t,{appearance:u="default"}=t,{size:d="medium"}=t,{class:p=""}=t;return e.$$set=e=>{t=a(a({},t),w(e)),n(2,s=x(t,o)),"href"in e&&n(0,c=e.href),"appearance"in e&&n(3,u=e.appearance),"size"in e&&n(4,d=e.size),"class"in e&&n(5,p=e.class),"$$scope"in e&&n(6,l=e.$$scope)},e.$$.update=()=>{56&e.$$.dirty&&n(1,r=["anchor-button","btn",`btn-${u}`,`size-${d}`,p].join(" "))},[c,r,s,u,d,p,l,i]}class pn extends at{constructor(e){super(),it(this,e,dn,un,p,{href:0,appearance:3,size:4,class:5})}}function $n(e){let t,n;const r=e[1].default,o=g(r,e,e[0],null);return{c(){t=F("span"),o&&o.c(),B(t,"class","badge")},m(e,r){P(e,t,r),o&&o.m(t,null),n=!0},p(e,[t]){o&&o.p&&(!n||1&t)&&v(o,r,e,e[0],n?y(r,e[0],t,null):b(e[0]),null)},i(e){n||(qe(o,e),n=!0)},o(e){Ve(o,e),n=!1},d(e){e&&R(t),o&&o.d(e)}}}function mn(e,t,n){let{$$slots:r={},$$scope:o}=t;return e.$$set=e=>{"$$scope"in e&&n(0,o=e.$$scope)},[o,r]}class fn extends at{constructor(e){super(),it(this,e,mn,$n,p,{})}}function gn(e){let t,n;return t=new fn({props:{$$slots:{default:[hn]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};3&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function hn(e){let t;return{c(){t=q(e[0])},m(e,n){P(e,t,n)},p(e,n){1&n&&X(t,e[0])},d(e){e&&R(t)}}}function yn(e){let t,n,r=e[0]>0&&gn(e);return{c(){r&&r.c(),t=j()},m(e,o){r&&r.m(e,o),P(e,t,o),n=!0},p(e,[n]){e[0]>0?r?(r.p(e,n),1&n&&qe(r,1)):(r=gn(e),r.c(),qe(r,1),r.m(t.parentNode,t)):r&&(Fe(),Ve(r,1,1,(()=>{r=null})),He())},i(e){n||(qe(r),n=!0)},o(e){Ve(r),n=!1},d(e){r&&r.d(e),e&&R(t)}}}function vn(e,t,n){let{value:r}=t;return e.$$set=e=>{"value"in e&&n(0,r=e.value)},[r]}class bn extends at{constructor(e){super(),it(this,e,vn,yn,p,{value:0})}}const wn=e=>({}),xn=e=>({}),Sn=e=>({}),Cn=e=>({}),kn=e=>({}),Dn=e=>({});function In(e){let t,n;const r=e[3].body,o=g(r,e,e[2],Cn);return{c(){t=F("div"),o&&o.c(),B(t,"class","body")},m(e,r){P(e,t,r),o&&o.m(t,null),n=!0},p(e,t){o&&o.p&&(!n||4&t)&&v(o,r,e,e[2],n?y(r,e[2],t,Sn):b(e[2]),Cn)},i(e){n||(qe(o,e),n=!0)},o(e){Ve(o,e),n=!1},d(e){e&&R(t),o&&o.d(e)}}}function _n(e){let t,n;const r=e[3].footer,o=g(r,e,e[2],xn);return{c(){t=F("div"),o&&o.c(),B(t,"class","footer")},m(e,r){P(e,t,r),o&&o.m(t,null),n=!0},p(e,t){o&&o.p&&(!n||4&t)&&v(o,r,e,e[2],n?y(r,e[2],t,wn):b(e[2]),xn)},i(e){n||(qe(o,e),n=!0)},o(e){Ve(o,e),n=!1},d(e){e&&R(t),o&&o.d(e)}}}function Tn(e){let t,n,r,o,s,i,a;const l=e[3].title,c=g(l,e,e[2],Dn);let u=e[1].body&&In(e),d=e[1].footer&&_n(e);return{c(){t=F("div"),n=F("div"),r=F("div"),c&&c.c(),o=V(),u&&u.c(),s=V(),d&&d.c(),B(r,"class","title"),B(n,"class","title-and-meta"),B(t,"class",i=["tutorial",e[0]].join(" "))},m(e,i){P(e,t,i),A(t,n),A(n,r),c&&c.m(r,null),A(t,o),u&&u.m(t,null),A(t,s),d&&d.m(t,null),a=!0},p(e,[n]){c&&c.p&&(!a||4&n)&&v(c,l,e,e[2],a?y(l,e[2],n,kn):b(e[2]),Dn),e[1].body?u?(u.p(e,n),2&n&&qe(u,1)):(u=In(e),u.c(),qe(u,1),u.m(t,s)):u&&(Fe(),Ve(u,1,1,(()=>{u=null})),He()),e[1].footer?d?(d.p(e,n),2&n&&qe(d,1)):(d=_n(e),d.c(),qe(d,1),d.m(t,null)):d&&(Fe(),Ve(d,1,1,(()=>{d=null})),He()),(!a||1&n&&i!==(i=["tutorial",e[0]].join(" ")))&&B(t,"class",i)},i(e){a||(qe(c,e),qe(u),qe(d),a=!0)},o(e){Ve(c,e),Ve(u),Ve(d),a=!1},d(e){e&&R(t),c&&c.d(e),u&&u.d(),d&&d.d()}}}function Mn(e,t,n){let{$$slots:r={},$$scope:o}=t;const s=S(r);let{class:i=""}=t;return e.$$set=e=>{"class"in e&&n(0,i=e.class),"$$scope"in e&&n(2,o=e.$$scope)},[i,s,o,r]}class En extends at{constructor(e){super(),it(this,e,Mn,Tn,p,{class:0})}}function On(e){let t,n,r,o;const s=e[9].default,i=g(s,e,e[8],null);let l=[{type:"button"},{class:e[3]},e[4]],c={};for(let u=0;u<l.length;u+=1)c=a(c,l[u]);return{c(){t=F("button"),i&&i.c(),K(t,c),te(t,"danger",e[1]),te(t,"active",e[2])},m(s,a){P(s,t,a),i&&i.m(t,null),t.autofocus&&t.focus(),e[17](t),n=!0,r||(o=[W(t,"click",e[10]),W(t,"keydown",e[11]),W(t,"focus",e[12]),W(t,"blur",e[13]),W(t,"mouseenter",e[14]),W(t,"mouseleave",e[15]),W(t,"mousedown",e[16])],r=!0)},p(e,[r]){i&&i.p&&(!n||256&r)&&v(i,s,e,e[8],n?y(s,e[8],r,null):b(e[8]),null),K(t,c=et(l,[{type:"button"},(!n||8&r)&&{class:e[3]},16&r&&e[4]])),te(t,"danger",e[1]),te(t,"active",e[2])},i(e){n||(qe(i,e),n=!0)},o(e){Ve(i,e),n=!1},d(n){n&&R(t),i&&i.d(n),e[17](null),r=!1,u(o)}}}function An(e,t,n){let r;const o=["appearance","size","danger","active","class","element"];let s=x(t,o),{$$slots:i={},$$scope:l}=t,{appearance:c="default"}=t,{size:u="medium"}=t,{danger:d=!1}=t,{active:p=!1}=t,{class:$=""}=t,{element:m}=t;return e.$$set=e=>{t=a(a({},t),w(e)),n(4,s=x(t,o)),"appearance"in e&&n(5,c=e.appearance),"size"in e&&n(6,u=e.size),"danger"in e&&n(1,d=e.danger),"active"in e&&n(2,p=e.active),"class"in e&&n(7,$=e.class),"element"in e&&n(0,m=e.element),"$$scope"in e&&n(8,l=e.$$scope)},e.$$.update=()=>{224&e.$$.dirty&&n(3,r=["btn",`btn-${c}`,`size-${u}`,$].join(" "))},[m,d,p,r,s,c,u,$,l,i,function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(e){we[e?"unshift":"push"]((()=>{m=e,n(0,m)}))}]}class Ln extends at{constructor(e){super(),it(this,e,An,On,p,{appearance:5,size:6,danger:1,active:2,class:7,element:0})}}var Nn={prefix:"fas",iconName:"trash-can",icon:[448,512,[61460,"trash-alt"],"f2ed","M135.2 17.7C140.6 6.8 151.7 0 163.8 0H284.2c12.1 0 23.2 6.8 28.6 17.7L320 32h96c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 96 0 81.7 0 64S14.3 32 32 32h96l7.2-14.3zM32 128H416V448c0 35.3-28.7 64-64 64H96c-35.3 0-64-28.7-64-64V128zm96 64c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16z"]},Pn={prefix:"fas",iconName:"file-lines",icon:[384,512,[128441,128462,61686,"file-alt","file-text"],"f15c","M64 0C28.7 0 0 28.7 0 64V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V160H256c-17.7 0-32-14.3-32-32V0H64zM256 0V128H384L256 0zM112 256H272c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16zm0 64H272c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16zm0 64H272c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16z"]},Rn={prefix:"fas",iconName:"pencil",icon:[512,512,[9999,61504,"pencil-alt"],"f303","M421.7 220.3l-11.3 11.3-22.6 22.6-205 205c-6.6 6.6-14.8 11.5-23.8 14.1L30.8 511c-8.4 2.5-17.5 .2-23.7-6.1S-1.5 489.7 1 481.2L38.7 353.1c2.6-9 7.5-17.2 14.1-23.8l205-205 22.6-22.6 11.3-11.3 33.9 33.9 62.1 62.1 33.9 33.9zM96 353.9l-9.3 9.3c-.9 .9-1.6 2.1-2 3.4l-25.3 86 86-25.3c1.3-.4 2.5-1.1 3.4-2l9.3-9.3H112c-8.8 0-16-7.2-16-16V353.9zM453.3 19.3l39.4 39.4c25 25 25 65.5 0 90.5l-14.5 14.5-22.6 22.6-11.3 11.3-33.9-33.9-62.1-62.1L314.3 67.7l11.3-11.3 22.6-22.6 14.5-14.5c25-25 65.5-25 90.5 0z"]},zn={prefix:"fas",iconName:"square-check",icon:[448,512,[9745,9989,61510,"check-square"],"f14a","M64 32C28.7 32 0 60.7 0 96V416c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V96c0-35.3-28.7-64-64-64H64zM337 209L209 337c-9.4 9.4-24.6 9.4-33.9 0l-64-64c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l47 47L303 175c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9z"]},Fn={prefix:"fas",iconName:"user",icon:[448,512,[128100,62144],"f007","M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0S96 57.3 96 128s57.3 128 128 128zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512H418.3c16.4 0 29.7-13.3 29.7-29.7C448 383.8 368.2 304 269.7 304H178.3z"]},Hn={prefix:"fas",iconName:"globe",icon:[512,512,[127760],"f0ac","M352 256c0 22.2-1.2 43.6-3.3 64H163.3c-2.2-20.4-3.3-41.8-3.3-64s1.2-43.6 3.3-64H348.7c2.2 20.4 3.3 41.8 3.3 64zm28.8-64H503.9c5.3 20.5 8.1 41.9 8.1 64s-2.8 43.5-8.1 64H380.8c2.1-20.6 3.2-42 3.2-64s-1.1-43.4-3.2-64zm112.6-32H376.7c-10-63.9-29.8-117.4-55.3-151.6c78.3 20.7 142 77.5 171.9 151.6zm-149.1 0H167.7c6.1-36.4 15.5-68.6 27-94.7c10.5-23.6 22.2-40.7 33.5-51.5C239.4 3.2 248.7 0 256 0s16.6 3.2 27.8 13.8c11.3 10.8 23 27.9 33.5 51.5c11.6 26 21 58.2 27 94.7zm-209 0H18.6C48.6 85.9 112.2 29.1 190.6 8.4C165.1 42.6 145.3 96.1 135.3 160zM8.1 192H131.2c-2.1 20.6-3.2 42-3.2 64s1.1 43.4 3.2 64H8.1C2.8 299.5 0 278.1 0 256s2.8-43.5 8.1-64zM194.7 446.6c-11.6-26-20.9-58.2-27-94.6H344.3c-6.1 36.4-15.5 68.6-27 94.6c-10.5 23.6-22.2 40.7-33.5 51.5C272.6 508.8 263.3 512 256 512s-16.6-3.2-27.8-13.8c-11.3-10.8-23-27.9-33.5-51.5zM135.3 352c10 63.9 29.8 117.4 55.3 151.6C112.2 482.9 48.6 426.1 18.6 352H135.3zm358.1 0c-30 74.1-93.6 130.9-171.9 151.6c25.5-34.2 45.2-87.7 55.3-151.6H493.4z"]},qn={prefix:"fas",iconName:"user-pen",icon:[640,512,["user-edit"],"f4ff","M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0S96 57.3 96 128s57.3 128 128 128zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512H322.8c-3.1-8.8-3.7-18.4-1.4-27.8l15-60.1c2.8-11.3 8.6-21.5 16.8-29.7l40.3-40.3c-32.1-31-75.7-50.1-123.9-50.1H178.3zm435.5-68.3c-15.6-15.6-40.9-15.6-56.6 0l-29.4 29.4 71 71 29.4-29.4c15.6-15.6 15.6-40.9 0-56.6l-14.4-14.4zM375.9 417c-4.1 4.1-7 9.2-8.4 14.9l-15 60.1c-1.4 5.5 .2 11.2 4.2 15.2s9.7 5.6 15.2 4.2l60.1-15c5.6-1.4 10.8-4.3 14.9-8.4L576.1 358.7l-71-71L375.9 417z"]},Vn={prefix:"fas",iconName:"arrow-down-wide-short",icon:[576,512,["sort-amount-asc","sort-amount-down"],"f160","M151.6 469.6C145.5 476.2 137 480 128 480s-17.5-3.8-23.6-10.4l-88-96c-11.9-13-11.1-33.3 2-45.2s33.3-11.1 45.2 2L96 365.7V64c0-17.7 14.3-32 32-32s32 14.3 32 32V365.7l32.4-35.4c11.9-13 32.2-13.9 45.2-2s13.9 32.2 2 45.2l-88 96zM320 480c-17.7 0-32-14.3-32-32s14.3-32 32-32h32c17.7 0 32 14.3 32 32s-14.3 32-32 32H320zm0-128c-17.7 0-32-14.3-32-32s14.3-32 32-32h96c17.7 0 32 14.3 32 32s-14.3 32-32 32H320zm0-128c-17.7 0-32-14.3-32-32s14.3-32 32-32H480c17.7 0 32 14.3 32 32s-14.3 32-32 32H320zm0-128c-17.7 0-32-14.3-32-32s14.3-32 32-32H544c17.7 0 32 14.3 32 32s-14.3 32-32 32H320z"]},jn={prefix:"fas",iconName:"arrows-rotate",icon:[512,512,[128472,"refresh","sync"],"f021","M105.1 202.6c7.7-21.8 20.2-42.3 37.8-59.8c62.5-62.5 163.8-62.5 226.3 0L386.3 160H336c-17.7 0-32 14.3-32 32s14.3 32 32 32H463.5c0 0 0 0 0 0h.4c17.7 0 32-14.3 32-32V64c0-17.7-14.3-32-32-32s-32 14.3-32 32v51.2L414.4 97.6c-87.5-87.5-229.3-87.5-316.8 0C73.2 122 55.6 150.7 44.8 181.4c-5.9 16.7 2.9 34.9 19.5 40.8s34.9-2.9 40.8-19.5zM39 289.3c-5 1.5-9.8 4.2-13.7 8.2c-4 4-6.7 8.8-8.1 14c-.3 1.2-.6 2.5-.8 3.8c-.3 1.7-.4 3.4-.4 5.1V448c0 17.7 14.3 32 32 32s32-14.3 32-32V396.9l17.6 17.5 0 0c87.5 87.4 229.3 87.4 316.7 0c24.4-24.4 42.1-53.1 52.9-83.7c5.9-16.7-2.9-34.9-19.5-40.8s-34.9 2.9-40.8 19.5c-7.7 21.8-20.2 42.3-37.8 59.8c-62.5 62.5-163.8 62.5-226.3 0l-.1-.1L125.6 352H176c17.7 0 32-14.3 32-32s-14.3-32-32-32H48.4c-1.6 0-3.2 .1-4.8 .3s-3.1 .5-4.6 1z"]},Wn={prefix:"fas",iconName:"filter",icon:[512,512,[],"f0b0","M3.9 54.9C10.5 40.9 24.5 32 40 32H472c15.5 0 29.5 8.9 36.1 22.9s4.6 30.5-5.2 42.5L320 320.9V448c0 12.1-6.8 23.2-17.7 28.6s-23.8 4.3-33.5-3l-64-48c-8.1-6-12.8-15.5-12.8-25.6V320.9L9 97.3C-.7 85.4-2.8 68.8 3.9 54.9z"]},Un={prefix:"fas",iconName:"arrow-up-right-from-square",icon:[448,512,["external-link"],"f08e","M288 32c-17.7 0-32 14.3-32 32s14.3 32 32 32h50.7L169.4 265.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L384 141.3V192c0 17.7 14.3 32 32 32s32-14.3 32-32V64c0-17.7-14.3-32-32-32H288zM80 64C35.8 64 0 99.8 0 144V400c0 44.2 35.8 80 80 80H336c44.2 0 80-35.8 80-80V320c0-17.7-14.3-32-32-32s-32 14.3-32 32v80c0 8.8-7.2 16-16 16H80c-8.8 0-16-7.2-16-16V144c0-8.8 7.2-16 16-16h80c17.7 0 32-14.3 32-32s-14.3-32-32-32H80z"]},Yn=Un,Bn={prefix:"fas",iconName:"floppy-disk",icon:[448,512,[128190,128426,"save"],"f0c7","M64 32C28.7 32 0 60.7 0 96V416c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V173.3c0-17-6.7-33.3-18.7-45.3L352 50.7C340 38.7 323.7 32 306.7 32H64zm0 96c0-17.7 14.3-32 32-32H288c17.7 0 32 14.3 32 32v64c0 17.7-14.3 32-32 32H96c-17.7 0-32-14.3-32-32V128zM224 416c-35.3 0-64-28.7-64-64s28.7-64 64-64s64 28.7 64 64s-28.7 64-64 64z"]},Kn={prefix:"fas",iconName:"arrow-rotate-right",icon:[512,512,[8635,"arrow-right-rotate","arrow-rotate-forward","redo"],"f01e","M386.3 160H336c-17.7 0-32 14.3-32 32s14.3 32 32 32H464c17.7 0 32-14.3 32-32V64c0-17.7-14.3-32-32-32s-32 14.3-32 32v51.2L414.4 97.6c-87.5-87.5-229.3-87.5-316.8 0s-87.5 229.3 0 316.8s229.3 87.5 316.8 0c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0c-62.5 62.5-163.8 62.5-226.3 0s-62.5-163.8 0-226.3s163.8-62.5 226.3 0L386.3 160z"]},Gn={prefix:"fas",iconName:"up-right-from-square",icon:[448,512,["external-link-alt"],"f35d","M288 32c-12.9 0-24.6 7.8-29.6 19.8s-2.2 25.7 6.9 34.9L306.7 128 169.4 265.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L352 173.3l41.4 41.4c9.2 9.2 22.9 11.9 34.9 6.9s19.8-16.6 19.8-29.6V64c0-17.7-14.3-32-32-32H288zM80 64C35.8 64 0 99.8 0 144V400c0 44.2 35.8 80 80 80H336c44.2 0 80-35.8 80-80V320c0-17.7-14.3-32-32-32s-32 14.3-32 32v80c0 8.8-7.2 16-16 16H80c-8.8 0-16-7.2-16-16V144c0-8.8 7.2-16 16-16h80c17.7 0 32-14.3 32-32s-14.3-32-32-32H80z"]},Xn=Gn,Jn={prefix:"fas",iconName:"envelope",icon:[512,512,[128386,9993,61443],"f0e0","M48 64C21.5 64 0 85.5 0 112c0 15.1 7.1 29.3 19.2 38.4L236.8 313.6c11.4 8.5 27 8.5 38.4 0L492.8 150.4c12.1-9.1 19.2-23.3 19.2-38.4c0-26.5-21.5-48-48-48H48zM0 176V384c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V176L294.4 339.2c-22.8 17.1-54 17.1-76.8 0L0 176z"]},Zn={prefix:"fas",iconName:"arrow-rotate-left",icon:[512,512,[8634,"arrow-left-rotate","arrow-rotate-back","arrow-rotate-backward","undo"],"f0e2","M125.7 160H176c17.7 0 32 14.3 32 32s-14.3 32-32 32H48c-17.7 0-32-14.3-32-32V64c0-17.7 14.3-32 32-32s32 14.3 32 32v51.2L97.6 97.6c87.5-87.5 229.3-87.5 316.8 0s87.5 229.3 0 316.8s-229.3 87.5-316.8 0c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0c62.5 62.5 163.8 62.5 226.3 0s62.5-163.8 0-226.3s-163.8-62.5-226.3 0L125.7 160z"]},Qn={prefix:"fas",iconName:"ellipsis-vertical",icon:[128,512,["ellipsis-v"],"f142","M64 360c30.9 0 56 25.1 56 56s-25.1 56-56 56s-56-25.1-56-56s25.1-56 56-56zm0-160c30.9 0 56 25.1 56 56s-25.1 56-56 56s-56-25.1-56-56s25.1-56 56-56zM120 96c0 30.9-25.1 56-56 56S8 126.9 8 96S33.1 40 64 40s56 25.1 56 56z"]},er={prefix:"fas",iconName:"delete-left",icon:[576,512,[9003,"backspace"],"f55a","M576 128c0-35.3-28.7-64-64-64H205.3c-17 0-33.3 6.7-45.3 18.7L9.4 233.4c-6 6-9.4 14.1-9.4 22.6s3.4 16.6 9.4 22.6L160 429.3c12 12 28.3 18.7 45.3 18.7H512c35.3 0 64-28.7 64-64V128zM271 175c9.4-9.4 24.6-9.4 33.9 0l47 47 47-47c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9l-47 47 47 47c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-47-47-47 47c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l47-47-47-47c-9.4-9.4-9.4-24.6 0-33.9z"]},tr={prefix:"fas",iconName:"arrow-down-short-wide",icon:[576,512,["sort-amount-desc","sort-amount-down-alt"],"f884","M151.6 469.6C145.5 476.2 137 480 128 480s-17.5-3.8-23.6-10.4l-88-96c-11.9-13-11.1-33.3 2-45.2s33.3-11.1 45.2 2L96 365.7V64c0-17.7 14.3-32 32-32s32 14.3 32 32V365.7l32.4-35.4c11.9-13 32.2-13.9 45.2-2s13.9 32.2 2 45.2l-88 96zM320 32h32c17.7 0 32 14.3 32 32s-14.3 32-32 32H320c-17.7 0-32-14.3-32-32s14.3-32 32-32zm0 128h96c17.7 0 32 14.3 32 32s-14.3 32-32 32H320c-17.7 0-32-14.3-32-32s14.3-32 32-32zm0 128H480c17.7 0 32 14.3 32 32s-14.3 32-32 32H320c-17.7 0-32-14.3-32-32s14.3-32 32-32zm0 128H544c17.7 0 32 14.3 32 32s-14.3 32-32 32H320c-17.7 0-32-14.3-32-32s14.3-32 32-32z"]},nr={prefix:"fas",iconName:"link",icon:[640,512,[128279,"chain"],"f0c1","M579.8 267.7c56.5-56.5 56.5-148 0-204.5c-50-50-128.8-56.5-186.3-15.4l-1.6 1.1c-14.4 10.3-17.7 30.3-7.4 44.6s30.3 17.7 44.6 7.4l1.6-1.1c32.1-22.9 76-19.3 103.8 8.6c31.5 31.5 31.5 82.5 0 114L422.3 334.8c-31.5 31.5-82.5 31.5-114 0c-27.9-27.9-31.5-71.8-8.6-103.8l1.1-1.6c10.3-14.4 6.9-34.4-7.4-44.6s-34.4-6.9-44.6 7.4l-1.1 1.6C206.5 251.2 213 330 263 380c56.5 56.5 148 56.5 204.5 0L579.8 267.7zM60.2 244.3c-56.5 56.5-56.5 148 0 204.5c50 50 128.8 56.5 186.3 15.4l1.6-1.1c14.4-10.3 17.7-30.3 7.4-44.6s-30.3-17.7-44.6-7.4l-1.6 1.1c-32.1 22.9-76 19.3-103.8-8.6C74 372 74 321 105.5 289.5L217.7 177.2c31.5-31.5 82.5-31.5 114 0c27.9 27.9 31.5 71.8 8.6 103.9l-1.1 1.6c-10.3 14.4-6.9 34.4 7.4 44.6s34.4 6.9 44.6-7.4l1.1-1.6C433.5 260.8 427 182 377 132c-56.5-56.5-148-56.5-204.5 0L60.2 244.3z"]},rr={prefix:"fas",iconName:"diagram-project",icon:[576,512,["project-diagram"],"f542","M0 80C0 53.5 21.5 32 48 32h96c26.5 0 48 21.5 48 48V96H384V80c0-26.5 21.5-48 48-48h96c26.5 0 48 21.5 48 48v96c0 26.5-21.5 48-48 48H432c-26.5 0-48-21.5-48-48V160H192v16c0 1.7-.1 3.4-.3 5L272 288h96c26.5 0 48 21.5 48 48v96c0 26.5-21.5 48-48 48H272c-26.5 0-48-21.5-48-48V336c0-1.7 .1-3.4 .3-5L144 224H48c-26.5 0-48-21.5-48-48V80z"]},or={prefix:"fas",iconName:"xmark",icon:[320,512,[128473,10005,10006,10060,215,"close","multiply","remove","times"],"f00d","M310.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L160 210.7 54.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L114.7 256 9.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L160 301.3 265.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L205.3 256 310.6 150.6z"]},sr=or,ir={prefix:"fas",iconName:"check",icon:[512,512,[10003,10004],"f00c","M470.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L192 338.7 425.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"]},ar={prefix:"fas",iconName:"magnifying-glass-plus",icon:[512,512,["search-plus"],"f00e","M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM184 296c0 13.3 10.7 24 24 24s24-10.7 24-24V232h64c13.3 0 24-10.7 24-24s-10.7-24-24-24H232V120c0-13.3-10.7-24-24-24s-24 10.7-24 24v64H120c-13.3 0-24 10.7-24 24s10.7 24 24 24h64v64z"]};const lr={data:{prefix:"fas",iconName:"angles-right",icon:[512,512,[187,"angle-double-right"],"f101","M470.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L402.7 256 265.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l160-160zm-352 160l160-160c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L210.7 256 73.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0z"]}},cr={data:{prefix:"fas",iconName:"angles-left",icon:[512,512,[171,"angle-double-left"],"f100","M41.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 256 246.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160zm352-160l-160 160c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L301.3 256 438.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0z"]}},ur={data:{prefix:"fas",iconName:"angle-right",icon:[320,512,[8250],"f105","M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"]}},dr={data:{prefix:"fas",iconName:"angle-left",icon:[320,512,[8249],"f104","M41.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 256 246.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"]}},pr={data:sr},$r={data:{prefix:"fas",iconName:"angle-down",icon:[448,512,[8964],"f107","M201.4 374.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 306.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z"]}},mr={data:{prefix:"fas",iconName:"circle-question",icon:[512,512,[62108,"question-circle"],"f059","M256 512c141.4 0 256-114.6 256-256S397.4 0 256 0S0 114.6 0 256S114.6 512 256 512zM169.8 165.3c7.9-22.3 29.1-37.3 52.8-37.3h58.3c34.9 0 63.1 28.3 63.1 63.1c0 22.6-12.1 43.5-31.7 54.8L280 264.4c-.2 13-10.9 23.6-24 23.6c-13.3 0-24-10.7-24-24V250.5c0-8.6 4.6-16.5 12.1-20.8l44.3-25.4c4.7-2.7 7.6-7.7 7.6-13.1c0-8.4-6.8-15.1-15.1-15.1H222.6c-3.4 0-6.4 2.1-7.5 5.3l-.4 1.2c-4.4 12.5-18.2 19-30.6 14.6s-19-18.2-14.6-30.6l.4-1.2zM288 352c0 17.7-14.3 32-32 32s-32-14.3-32-32s14.3-32 32-32s32 14.3 32 32z"]}},fr={data:ir},gr={data:{prefix:"fas",iconName:"magnifying-glass",icon:[512,512,[128269,"search"],"f002","M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352c79.5 0 144-64.5 144-144s-64.5-144-144-144S64 128.5 64 208s64.5 144 144 144z"]}},hr={data:{prefix:"fas",iconName:"ellipsis",icon:[448,512,["ellipsis-h"],"f141","M120 256c0 30.9-25.1 56-56 56s-56-25.1-56-56s25.1-56 56-56s56 25.1 56 56zm160 0c0 30.9-25.1 56-56 56s-56-25.1-56-56s25.1-56 56-56s56 25.1 56 56zm104 56c-30.9 0-56-25.1-56-56s25.1-56 56-56s56 25.1 56 56s-25.1 56-56 56z"]}},yr={data:{prefix:"fas",iconName:"file-arrow-up",icon:[384,512,["file-upload"],"f574","M64 0C28.7 0 0 28.7 0 64V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V160H256c-17.7 0-32-14.3-32-32V0H64zM256 0V128H384L256 0zM216 408c0 13.3-10.7 24-24 24s-24-10.7-24-24V305.9l-31 31c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l72-72c9.4-9.4 24.6-9.4 33.9 0l72 72c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-31-31V408z"]}},vr={data:{prefix:"fas",iconName:"file",icon:[384,512,[128196,128459,61462],"f15b","M0 64C0 28.7 28.7 0 64 0H224V128c0 17.7 14.3 32 32 32H384V448c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V64zm384 64H256V0L384 128z"]}},br={data:{prefix:"fas",iconName:"gears",icon:[640,512,["cogs"],"f085","M308.5 135.3c7.1-6.3 9.9-16.2 6.2-25c-2.3-5.3-4.8-10.5-7.6-15.5L304 89.4c-3-5-6.3-9.9-9.8-14.6c-5.7-7.6-15.7-10.1-24.7-7.1l-28.2 9.3c-10.7-8.8-23-16-36.2-20.9L199 27.1c-1.9-9.3-9.1-16.7-18.5-17.8C173.7 8.4 166.9 8 160 8s-13.7 .4-20.4 1.2c-9.4 1.1-16.6 8.6-18.5 17.8L115 56.1c-13.3 5-25.5 12.1-36.2 20.9L50.5 67.8c-9-3-19-.5-24.7 7.1c-3.5 4.7-6.8 9.6-9.9 14.6l-3 5.3c-2.8 5-5.3 10.2-7.6 15.6c-3.7 8.7-.9 18.6 6.2 25l22.2 19.8C32.6 161.9 32 168.9 32 176s.6 14.1 1.7 20.9L11.5 216.7c-7.1 6.3-9.9 16.2-6.2 25c2.3 5.3 4.8 10.5 7.6 15.6l3 5.2c3 5.1 6.3 9.9 9.9 14.6c5.7 7.6 15.7 10.1 24.7 7.1l28.2-9.3c10.7 8.8 23 16 36.2 20.9l6.1 29.1c1.9 9.3 9.1 16.7 18.5 17.8c6.7 .8 13.5 1.2 20.4 1.2s13.7-.4 20.4-1.2c9.4-1.1 16.6-8.6 18.5-17.8l6.1-29.1c13.3-5 25.5-12.1 36.2-20.9l28.2 9.3c9 3 19 .5 24.7-7.1c3.5-4.7 6.8-9.5 9.8-14.6l3.1-5.4c2.8-5 5.3-10.2 7.6-15.5c3.7-8.7 .9-18.6-6.2-25l-22.2-19.8c1.1-6.8 1.7-13.8 1.7-20.9s-.6-14.1-1.7-20.9l22.2-19.8zM208 176c0 26.5-21.5 48-48 48s-48-21.5-48-48s21.5-48 48-48s48 21.5 48 48zM504.7 500.5c6.3 7.1 16.2 9.9 25 6.2c5.3-2.3 10.5-4.8 15.5-7.6l5.4-3.1c5-3 9.9-6.3 14.6-9.8c7.6-5.7 10.1-15.7 7.1-24.7l-9.3-28.2c8.8-10.7 16-23 20.9-36.2l29.1-6.1c9.3-1.9 16.7-9.1 17.8-18.5c.8-6.7 1.2-13.5 1.2-20.4s-.4-13.7-1.2-20.4c-1.1-9.4-8.6-16.6-17.8-18.5L583.9 307c-5-13.3-12.1-25.5-20.9-36.2l9.3-28.2c3-9 .5-19-7.1-24.7c-4.7-3.5-9.6-6.8-14.6-9.9l-5.3-3c-5-2.8-10.2-5.3-15.6-7.6c-8.7-3.7-18.6-.9-25 6.2l-19.8 22.2c-6.8-1.1-13.8-1.7-20.9-1.7s-14.1 .6-20.9 1.7l-19.8-22.2c-6.3-7.1-16.2-9.9-25-6.2c-5.3 2.3-10.5 4.8-15.6 7.6l-5.2 3c-5.1 3-9.9 6.3-14.6 9.9c-7.6 5.7-10.1 15.7-7.1 24.7l9.3 28.2c-8.8 10.7-16 23-20.9 36.2L315.1 313c-9.3 1.9-16.7 9.1-17.8 18.5c-.8 6.7-1.2 13.5-1.2 20.4s.4 13.7 1.2 20.4c1.1 9.4 8.6 16.6 17.8 18.5l29.1 6.1c5 13.3 12.1 25.5 20.9 36.2l-9.3 28.2c-3 9-.5 19 7.1 24.7c4.7 3.5 9.5 6.8 14.6 9.8l5.4 3.1c5 2.8 10.2 5.3 15.5 7.6c8.7 3.7 18.6 .9 25-6.2l19.8-22.2c6.8 1.1 13.8 1.7 20.9 1.7s14.1-.6 20.9-1.7l19.8 22.2zM464 400c-26.5 0-48-21.5-48-48s21.5-48 48-48s48 21.5 48 48s-21.5 48-48 48z"]}},wr={data:Un},xr={data:{prefix:"fas",iconName:"lightbulb",icon:[384,512,[128161],"f0eb","M272 384c9.6-31.9 29.5-59.1 49.2-86.2l0 0c5.2-7.1 10.4-14.2 15.4-21.4c19.8-28.5 31.4-63 31.4-100.3C368 78.8 289.2 0 192 0S16 78.8 16 176c0 37.3 11.6 71.9 31.4 100.3c5 7.2 10.2 14.3 15.4 21.4l0 0c19.8 27.1 39.7 54.4 49.2 86.2H272zM192 512c44.2 0 80-35.8 80-80V416H112v16c0 44.2 35.8 80 80 80zM112 176c0 8.8-7.2 16-16 16s-16-7.2-16-16c0-61.9 50.1-112 112-112c8.8 0 16 7.2 16 16s-7.2 16-16 16c-44.2 0-80 35.8-80 80z"]}},Sr={data:{prefix:"fas",iconName:"circle-exclamation",icon:[512,512,["exclamation-circle"],"f06a","M256 512c141.4 0 256-114.6 256-256S397.4 0 256 0S0 114.6 0 256S114.6 512 256 512zm0-384c13.3 0 24 10.7 24 24V264c0 13.3-10.7 24-24 24s-24-10.7-24-24V152c0-13.3 10.7-24 24-24zm32 224c0 17.7-14.3 32-32 32s-32-14.3-32-32s14.3-32 32-32s32 14.3 32 32z"]}},Cr={data:{prefix:"fas",iconName:"triangle-exclamation",icon:[512,512,[9888,"exclamation-triangle","warning"],"f071","M256 32c14.2 0 27.3 7.5 34.5 19.8l216 368c7.3 12.4 7.3 27.7 .2 40.1S486.3 480 472 480H40c-14.3 0-27.6-7.7-34.7-20.1s-7-27.8 .2-40.1l216-368C228.7 39.5 241.8 32 256 32zm0 128c-13.3 0-24 10.7-24 24V296c0 13.3 10.7 24 24 24s24-10.7 24-24V184c0-13.3-10.7-24-24-24zm32 224c0-17.7-14.3-32-32-32s-32 14.3-32 32s14.3 32 32 32s32-14.3 32-32z"]}},kr={data:{prefix:"fas",iconName:"spinner",icon:[512,512,[],"f110","M304 48c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48zm0 416c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48zM48 304c26.5 0 48-21.5 48-48s-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48zm464-48c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48zM142.9 437c18.7-18.7 18.7-49.1 0-67.9s-49.1-18.7-67.9 0s-18.7 49.1 0 67.9s49.1 18.7 67.9 0zm0-294.2c18.7-18.7 18.7-49.1 0-67.9S93.7 56.2 75 75s-18.7 49.1 0 67.9s49.1 18.7 67.9 0zM369.1 437c18.7 18.7 49.1 18.7 67.9 0s18.7-49.1 0-67.9s-49.1-18.7-67.9 0s-18.7 49.1 0 67.9z"]},spin:!0},Dr={data:ir};function Ir(e){let t,n;const r=[kr,{size:e[0]}];let o={};for(let s=0;s<r.length;s+=1)o=a(o,r[s]);return t=new Wr({props:o}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const o=1&n?et(r,[0&n&&tt(kr),1&n&&{size:e[0]}]):{};t.$set(o)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function _r(e,t,n){let{size:r}=t;return e.$$set=e=>{"size"in e&&n(0,r=e.size)},[r]}class Tr extends at{constructor(e){super(),it(this,e,_r,Ir,p,{size:0})}}function Mr(e){let t,n,r,o;return{c(){t=H("path"),B(t,"d",n=e[0].path),B(t,"fill-rule",r=e[0].fillRule),B(t,"clip-rule",o=e[0].clipRule),B(t,"style",e[1])},m(e,n){P(e,t,n)},p(e,s){1&s&&n!==(n=e[0].path)&&B(t,"d",n),1&s&&r!==(r=e[0].fillRule)&&B(t,"fill-rule",r),1&s&&o!==(o=e[0].clipRule)&&B(t,"clip-rule",o),2&s&&B(t,"style",e[1])},d(e){e&&R(t)}}}function Er(e){let t;return{c(){t=H("path"),B(t,"d",e[0]),B(t,"style",e[1])},m(e,n){P(e,t,n)},p(e,n){1&n&&B(t,"d",e[0]),2&n&&B(t,"style",e[1])},d(e){e&&R(t)}}}function Or(e){let t;function n(e,t){return"string"==typeof e[0]?Er:Mr}let r=n(e),o=r(e);return{c(){o.c(),t=j()},m(e,n){o.m(e,n),P(e,t,n)},p(e,[s]){r===(r=n(e))&&o?o.p(e,s):(o.d(1),o=r(e),o&&(o.c(),o.m(t.parentNode,t)))},i:s,o:s,d(e){o.d(e),e&&R(t)}}}function Ar(e,t,n){let{path:r}=t,{style:o}=t;return e.$$set=e=>{"path"in e&&n(0,r=e.path),"style"in e&&n(1,o=e.style)},[r,o]}class Lr extends at{constructor(e){super(),it(this,e,Ar,Or,p,{path:0,style:1})}}function Nr(e,t,n){if(!n)return;const r=function(e,t,n){const{cx:r,cy:o}=n,s=1.4*n.r;return["M 0 0",`L 0 ${t}`,`L ${e} ${t}`,`L ${e} 0`,"L 0 0","z",`M ${r} ${o-s}`,`A ${s} ${s} 0 0 1 ${r+s} ${o}`,`A ${s} ${s} 0 0 1 ${r} ${o+s}`,`A ${s} ${s} 0 0 1 ${r-s} ${o}`,`A ${s} ${s} 0 0 1 ${r} ${o-s}`,"z"].join(" ")}(e,t,n);return`clip-path: path('${r}');`}function Pr(e,t,n){const r=e.slice();return r[16]=t[n],r}function Rr(e){let t,n;return{c(){t=H("title"),n=q(e[4])},m(e,r){P(e,t,r),A(t,n)},p(e,t){16&t&&X(n,e[4])},d(e){e&&R(t)}}}function zr(e){let t,n;return t=new Lr({props:{path:e[9],style:Nr(e[6],e[5],e[8])}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};512&n&&(r.path=e[9]),352&n&&(r.style=Nr(e[6],e[5],e[8])),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Fr(e){let t,n,r=[],o=new Map,s=e[9];const i=e=>e[16];for(let a=0;a<s.length;a+=1){let t=Pr(e,s,a),n=i(t);o.set(n,r[a]=Hr(n,t))}return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=j()},m(e,o){for(let t=0;t<r.length;t+=1)r[t].m(e,o);P(e,t,o),n=!0},p(e,n){864&n&&(s=e[9],Fe(),r=Qe(r,n,i,1,e,s,o,t.parentNode,Je,Hr,t,Pr),He())},i(e){if(!n){for(let e=0;e<s.length;e+=1)qe(r[e]);n=!0}},o(e){for(let t=0;t<r.length;t+=1)Ve(r[t]);n=!1},d(e){for(let t=0;t<r.length;t+=1)r[t].d(e);e&&R(t)}}}function Hr(e,t){let n,r,o;return r=new Lr({props:{path:t[16],style:Nr(t[6],t[5],t[8])}}),{key:e,first:null,c(){n=j(),rt(r.$$.fragment),this.first=n},m(e,t){P(e,n,t),ot(r,e,t),o=!0},p(e,n){t=e;const o={};512&n&&(o.path=t[16]),352&n&&(o.style=Nr(t[6],t[5],t[8])),r.$set(o)},i(e){o||(qe(r.$$.fragment,e),o=!0)},o(e){Ve(r.$$.fragment,e),o=!1},d(e){e&&R(n),st(r,e)}}}function qr(e){let t,n=[{class:"notification-dot"},e[8]],r={};for(let o=0;o<n.length;o+=1)r=a(r,n[o]);return{c(){t=H("circle"),G(t,r)},m(e,n){P(e,t,n)},p(e,o){G(t,r=et(n,[{class:"notification-dot"},256&o&&e[8]]))},d(e){e&&R(t)}}}function Vr(e){let t,n,r,o,s,i,l,c,u,d=e[4]&&Rr(e);const p=[Fr,zr],$=[];function m(e,t){return 512&t&&(r=null),null==r&&(r=!!Array.isArray(e[9])),r?0:1}o=m(e,-1),s=$[o]=p[o](e);let f=e[8]&&qr(e),g=[{version:"1.1"},{viewBox:l="0 0 "+e[6]+" "+e[5]},{width:e[0]},{height:e[0]},{class:e[7]},{"aria-label":e[3]},{role:c=e[3]?"img":"presentation"},e[10]],h={};for(let y=0;y<g.length;y+=1)h=a(h,g[y]);return{c(){t=H("svg"),d&&d.c(),n=j(),s.c(),i=j(),f&&f.c(),G(t,h),te(t,"fa-spin",e[1]),te(t,"fa-pulse",e[2])},m(e,r){P(e,t,r),d&&d.m(t,null),A(t,n),$[o].m(t,null),A(t,i),f&&f.m(t,null),u=!0},p(e,[r]){e[4]?d?d.p(e,r):(d=Rr(e),d.c(),d.m(t,n)):d&&(d.d(1),d=null);let a=o;o=m(e,r),o===a?$[o].p(e,r):(Fe(),Ve($[a],1,1,(()=>{$[a]=null})),He(),s=$[o],s?s.p(e,r):(s=$[o]=p[o](e),s.c()),qe(s,1),s.m(t,i)),e[8]?f?f.p(e,r):(f=qr(e),f.c(),f.m(t,null)):f&&(f.d(1),f=null),G(t,h=et(g,[{version:"1.1"},(!u||96&r&&l!==(l="0 0 "+e[6]+" "+e[5]))&&{viewBox:l},(!u||1&r)&&{width:e[0]},(!u||1&r)&&{height:e[0]},(!u||128&r)&&{class:e[7]},(!u||8&r)&&{"aria-label":e[3]},(!u||8&r&&c!==(c=e[3]?"img":"presentation"))&&{role:c},1024&r&&e[10]])),te(t,"fa-spin",e[1]),te(t,"fa-pulse",e[2])},i(e){u||(qe(s),u=!0)},o(e){Ve(s),u=!1},d(e){e&&R(t),d&&d.d(),$[o].d(),f&&f.d()}}}function jr(e,t,n){let r,o,s,i;const l=["data","size","spin","pulse","flip","rotate","class","label","title","hasNotificationDot"];let c,u=x(t,l),{data:d}=t,{size:p="1em"}=t,{spin:$=!1}=t,{pulse:m=!1}=t,{flip:f}=t,{rotate:g}=t,{class:h=""}=t,{label:y}=t,{title:v}=t,{hasNotificationDot:b=!1}=t;return e.$$set=e=>{t=a(a({},t),w(e)),n(10,u=x(t,l)),"data"in e&&n(11,d=e.data),"size"in e&&n(0,p=e.size),"spin"in e&&n(1,$=e.spin),"pulse"in e&&n(2,m=e.pulse),"flip"in e&&n(12,f=e.flip),"rotate"in e&&n(13,g=e.rotate),"class"in e&&n(14,h=e.class),"label"in e&&n(3,y=e.label),"title"in e&&n(4,v=e.title),"hasNotificationDot"in e&&n(15,b=e.hasNotificationDot)},e.$$.update=()=>{2048&e.$$.dirty&&n(6,[r,o,,,s]=d.icon,r,(n(5,o),n(11,d)),(n(9,s),n(11,d))),28672&e.$$.dirty&&n(7,c=function(e,t,n){const r=["fa-icon"];return e&&r.push(e),t&&r.push(`fa-flip-${t}`),n&&r.push(`fa-rotate-${n}`),r.join(" ")}(h,f,g)),32864&e.$$.dirty&&n(8,i=b?function(e,t){const n=.22*Math.min(t,e);return{r:n,cx:e-n,cy:n}}(r,o):void 0)},[p,$,m,y,v,o,r,c,i,s,u,d,f,g,h,b]}class Wr extends at{constructor(e){super(),it(this,e,jr,Vr,p,{data:11,size:0,spin:1,pulse:2,flip:12,rotate:13,class:14,label:3,title:4,hasNotificationDot:15})}}function Ur(e){let t,n;const r=[e[2]];let o={};for(let s=0;s<r.length;s+=1)o=a(o,r[s]);return t=new Wr({props:o}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const o=4&n?et(r,[tt(e[2])]):{};t.$set(o)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Yr(e){let t,n;return t=new Tr({}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p:s,i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Br(e){let t,n;return{c(){t=F("span"),n=q(e[1])},m(e,r){P(e,t,r),A(t,n)},p(e,t){2&t&&X(n,e[1])},d(e){e&&R(t)}}}function Kr(e){let t,n,r,o,s;const i=[Yr,Ur],a=[];function l(e,t){return e[0]?0:e[2]?1:-1}~(t=l(e))&&(n=a[t]=i[t](e));let c=e[1]&&Br(e);return{c(){n&&n.c(),r=V(),c&&c.c(),o=j()},m(e,n){~t&&a[t].m(e,n),P(e,r,n),c&&c.m(e,n),P(e,o,n),s=!0},p(e,s){let u=t;t=l(e),t===u?~t&&a[t].p(e,s):(n&&(Fe(),Ve(a[u],1,1,(()=>{a[u]=null})),He()),~t?(n=a[t],n?n.p(e,s):(n=a[t]=i[t](e),n.c()),qe(n,1),n.m(r.parentNode,r)):n=null),e[1]?c?c.p(e,s):(c=Br(e),c.c(),c.m(o.parentNode,o)):c&&(c.d(1),c=null)},i(e){s||(qe(n),s=!0)},o(e){Ve(n),s=!1},d(e){~t&&a[t].d(e),e&&R(r),c&&c.d(e),e&&R(o)}}}function Gr(e){let t,n;const r=[{appearance:e[4]},{disabled:e[3]||e[0]},e[6]];let o={$$slots:{default:[Kr]},$$scope:{ctx:e}};for(let s=0;s<r.length;s+=1)o=a(o,r[s]);return t=new Ln({props:o}),t.$on("click",e[5]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const o=89&n?et(r,[16&n&&{appearance:e[4]},9&n&&{disabled:e[3]||e[0]},64&n&&tt(e[6])]):{};519&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Xr(e,t,n){const r=["label","icon","onClick","confirm","disabled","isProcessing","appearance","proceed"];let o=x(t,r),{label:s="Proceed"}=t,{icon:i}=t,{onClick:l=(()=>{})}=t,{confirm:c=(async()=>!0)}=t,{disabled:u=!1}=t,{isProcessing:d=!1}=t,{appearance:p="primary"}=t;return e.$$set=e=>{t=a(a({},t),w(e)),n(6,o=x(t,r)),"label"in e&&n(1,s=e.label),"icon"in e&&n(2,i=e.icon),"onClick"in e&&n(7,l=e.onClick),"confirm"in e&&n(8,c=e.confirm),"disabled"in e&&n(3,u=e.disabled),"isProcessing"in e&&n(0,d=e.isProcessing),"appearance"in e&&n(4,p=e.appearance)},[d,s,i,u,p,async function(){if(await c()){n(0,d=!0);try{await l()}finally{n(0,d=!1)}}},o,l,c]}class Jr extends at{constructor(e){super(),it(this,e,Xr,Gr,p,{label:1,icon:2,onClick:7,confirm:8,disabled:3,isProcessing:0,appearance:4,proceed:5})}get proceed(){return this.$$.ctx[5]}}function Zr(e){let t,n;return t=new Ln({props:{appearance:"secondary",disabled:e[0]||!e[4],size:e[5],$$slots:{default:[eo]},$$scope:{ctx:e}}}),t.$on("click",(function(){d(e[1])&&e[1].apply(this,arguments)})),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(n,r){e=n;const o={};17&r&&(o.disabled=e[0]||!e[4]),32&r&&(o.size=e[5]),131584&r&&(o.$$scope={dirty:r,ctx:e}),t.$set(o)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Qr(e){let t,n;const r=[e[9].icon];let o={};for(let s=0;s<r.length;s+=1)o=a(o,r[s]);return t=new Wr({props:o}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const o=512&n?et(r,[tt(e[9].icon)]):{};t.$set(o)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function eo(e){let t,n,r,o,s=e[9].label+"",i=e[9].icon&&Qr(e);return{c(){i&&i.c(),t=V(),n=F("span"),r=q(s)},m(e,s){i&&i.m(e,s),P(e,t,s),P(e,n,s),A(n,r),o=!0},p(e,n){e[9].icon?i?(i.p(e,n),512&n&&qe(i,1)):(i=Qr(e),i.c(),qe(i,1),i.m(t.parentNode,t)):i&&(Fe(),Ve(i,1,1,(()=>{i=null})),He()),(!o||512&n)&&s!==(s=e[9].label+"")&&X(r,s)},i(e){o||(qe(i),o=!0)},o(e){Ve(i),o=!1},d(e){i&&i.d(e),e&&R(t),e&&R(n)}}}function to(e){let t,n,r,o,s,i,a=e[6]&&Zr(e);function l(t){e[13](t)}function c(t){e[14](t)}let u={onClick:e[2],icon:e[8].icon,label:e[8].label,disabled:e[0]||!e[3],size:e[5]};return void 0!==e[0]&&(u.isProcessing=e[0]),void 0!==e[7]&&(u.proceed=e[7]),r=new Jr({props:u}),we.push((()=>nt(r,"isProcessing",l))),we.push((()=>nt(r,"proceed",c))),{c(){t=F("div"),a&&a.c(),n=V(),rt(r.$$.fragment),B(t,"class","cancel-or-proceed-button-pair"),te(t,"has-cancel-button",e[6])},m(e,o){P(e,t,o),a&&a.m(t,null),A(t,n),ot(r,t,null),i=!0},p(e,[l]){e[6]?a?(a.p(e,l),64&l&&qe(a,1)):(a=Zr(e),a.c(),qe(a,1),a.m(t,n)):a&&(Fe(),Ve(a,1,1,(()=>{a=null})),He());const c={};4&l&&(c.onClick=e[2]),256&l&&(c.icon=e[8].icon),256&l&&(c.label=e[8].label),9&l&&(c.disabled=e[0]||!e[3]),32&l&&(c.size=e[5]),!o&&1&l&&(o=!0,c.isProcessing=e[0],Te((()=>o=!1))),!s&&128&l&&(s=!0,c.proceed=e[7],Te((()=>s=!1))),r.$set(c),(!i||64&l)&&te(t,"has-cancel-button",e[6])},i(e){i||(qe(a),qe(r.$$.fragment,e),i=!0)},o(e){Ve(a),Ve(r.$$.fragment,e),i=!1},d(e){e&&R(t),a&&a.d(),st(r)}}}function no(e,t,n){let r,o;const s={label:"Cancel"},i={label:"Proceed",icon:fr};let{cancelButton:a={}}=t,{proceedButton:l={}}=t,{onCancel:c=(()=>{})}=t,{onProceed:u=(()=>{})}=t,{canProceed:d=!0}=t,{canCancel:p=!0}=t,{isProcessing:$=!1}=t,{size:m}=t,{hasCancelButton:f=!0}=t,g=async()=>{};return e.$$set=e=>{"cancelButton"in e&&n(10,a=e.cancelButton),"proceedButton"in e&&n(11,l=e.proceedButton),"onCancel"in e&&n(1,c=e.onCancel),"onProceed"in e&&n(2,u=e.onProceed),"canProceed"in e&&n(3,d=e.canProceed),"canCancel"in e&&n(4,p=e.canCancel),"isProcessing"in e&&n(0,$=e.isProcessing),"size"in e&&n(5,m=e.size),"hasCancelButton"in e&&n(6,f=e.hasCancelButton)},e.$$.update=()=>{1024&e.$$.dirty&&n(9,r={...s,...a}),2048&e.$$.dirty&&n(8,o={...i,...l})},[$,c,u,d,p,m,f,g,o,r,a,l,function(){return g()},function(e){$=e,n(0,$)},function(e){g=e,n(7,g)}]}class ro extends at{constructor(e){super(),it(this,e,no,to,p,{cancelButton:10,proceedButton:11,onCancel:1,onProceed:2,canProceed:3,canCancel:4,isProcessing:0,size:5,hasCancelButton:6,proceed:12})}get proceed(){return this.$$.ctx[12]}}class oo{constructor(){e(this,"disabled",mt(!1)),e(this,"inputId",mt(kt()))}}const so={};function io(e){ge(so,e)}function ao(){return he(so)}function lo(e,t,n){let{id:r=kt()}=t,{labelController:o=ao()}=t,{disabled:s=!1}=t,{focusOnMount:i=!1}=t;return $e((async()=>{if(await Ie(),i){document.querySelector(`#${r}`)?.focus()}})),e.$$set=e=>{"id"in e&&n(0,r=e.id),"labelController"in e&&n(1,o=e.labelController),"disabled"in e&&n(2,s=e.disabled),"focusOnMount"in e&&n(3,i=e.focusOnMount)},e.$$.update=()=>{6&e.$$.dirty&&o?.disabled.set(s),3&e.$$.dirty&&o?.inputId.set(r)},[r,o,s,i]}class co extends at{constructor(e){super(),it(this,e,lo,null,p,{id:0,labelController:1,disabled:2,focusOnMount:3})}}function uo(e){let t,n,r,o,s,i,l,c;const d=[e[6],{disabled:e[3]}];function p(t){e[10](t)}let $={};for(let u=0;u<d.length;u+=1)$=a($,d[u]);void 0!==e[1]&&($.id=e[1]),t=new co({props:$}),we.push((()=>nt(t,"id",p)));let m=[e[6],{class:"checkbox"},{type:"checkbox"},{id:e[1]},{checked:s=e[0]??void 0},{indeterminate:e[4]},{disabled:e[3]},{value:e[2]}],f={};for(let u=0;u<m.length;u+=1)f=a(f,m[u]);return{c(){rt(t.$$.fragment),r=V(),o=F("input"),K(o,f)},m(n,s){ot(t,n,s),P(n,r,s),P(n,o,s),o.autofocus&&o.focus(),i=!0,l||(c=[W(o,"change",e[5]),W(o,"click",e[8]),W(o,"mousedown",e[9])],l=!0)},p(e,[r]){const a=72&r?et(d,[64&r&&tt(e[6]),8&r&&{disabled:e[3]}]):{};!n&&2&r&&(n=!0,a.id=e[1],Te((()=>n=!1))),t.$set(a),K(o,f=et(m,[64&r&&e[6],{class:"checkbox"},{type:"checkbox"},(!i||2&r)&&{id:e[1]},(!i||1&r&&s!==(s=e[0]??void 0))&&{checked:s},(!i||16&r)&&{indeterminate:e[4]},(!i||8&r)&&{disabled:e[3]},(!i||4&r)&&{value:e[2]}]))},i(e){i||(qe(t.$$.fragment,e),i=!0)},o(e){Ve(t.$$.fragment,e),i=!1},d(e){st(t,e),e&&R(r),e&&R(o),l=!1,u(c)}}}function po(e,t,n){let r;const o=["checked","allowIndeterminate","value","disabled","id"];let s=x(t,o);const i=fe();let{checked:l=!1}=t,{allowIndeterminate:c=!1}=t,{value:u}=t,{disabled:d=!1}=t,{id:p}=t;return e.$$set=e=>{t=a(a({},t),w(e)),n(6,s=x(t,o)),"checked"in e&&n(0,l=e.checked),"allowIndeterminate"in e&&n(7,c=e.allowIndeterminate),"value"in e&&n(2,u=e.value),"disabled"in e&&n(3,d=e.disabled),"id"in e&&n(1,p=e.id)},e.$$.update=()=>{129&e.$$.dirty&&n(4,r=c&&null===l)},[l,p,u,d,r,function(){n(0,l=!l),i("change",l)},s,c,function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(e){p=e,n(1,p)}]}class $o extends at{constructor(e){super(),it(this,e,po,uo,p,{checked:0,allowIndeterminate:7,value:2,disabled:3,id:1})}}function mo(e){return`${e}-label`}const fo=e=>({inputId:8&e}),go=e=>({inputId:e[3]});function ho(e){let t,n,r,o,s;const i=e[9].default,l=g(i,e,e[8],go);let c=[{for:e[3]},e[6],{style:e[0]},{class:"label-component"},{id:n=mo(e[3])}],u={};for(let d=0;d<c.length;d+=1)u=a(u,c[d]);return{c(){t=F("label"),l&&l.c(),K(t,u),te(t,"disabled",e[4])},m(n,i){P(n,t,i),l&&l.m(t,null),r=!0,o||(s=W(t,"click",e[5]),o=!0)},p(e,[o]){l&&l.p&&(!r||264&o)&&v(l,i,e,e[8],r?y(i,e[8],o,fo):b(e[8]),go),K(t,u=et(c,[(!r||8&o)&&{for:e[3]},64&o&&e[6],(!r||1&o)&&{style:e[0]},{class:"label-component"},(!r||8&o&&n!==(n=mo(e[3])))&&{id:n}])),te(t,"disabled",e[4])},i(e){r||(qe(l,e),r=!0)},o(e){Ve(l,e),r=!1},d(e){e&&R(t),l&&l.d(e),o=!1,s()}}}function yo(e,t,n){let r,o;const i=["controller","style"];let l,c,u=x(t,i),d=s,p=s;e.$$.on_destroy.push((()=>d())),e.$$.on_destroy.push((()=>p()));let{$$slots:m={},$$scope:f}=t,{controller:g=new oo}=t,{style:h}=t;return e.$$set=e=>{t=a(a({},t),w(e)),n(6,u=x(t,i)),"controller"in e&&n(7,g=e.controller),"style"in e&&n(0,h=e.style),"$$scope"in e&&n(8,f=e.$$scope)},e.$$.update=()=>{128&e.$$.dirty&&io(g),128&e.$$.dirty&&(n(2,({inputId:r,disabled:o}=g),r,(n(1,o),p(),p=$(o,(e=>n(4,c=e))),o)),d(),d=$(r,(e=>n(3,l=e))))},[h,o,r,l,c,function(){document.querySelector(`#${l}`)?.focus()},u,g,f,m]}class vo extends at{constructor(e){super(),it(this,e,yo,ho,p,{controller:7,style:0})}}const bo=e=>({}),wo=e=>({}),xo=e=>({}),So=e=>({});function Co(e){let t,n,r,o,s,i,a,l,c,u,d;const p=e[3].label,$=g(p,e,e[4],So),m=e[3].help,f=g(m,e,e[4],wo),h=e[3].default,w=g(h,e,e[4],null);return{c(){t=F("span"),n=F("span"),r=q(e[0]),o=V(),$&&$.c(),s=V(),i=F("span"),a=q(e[1]),l=V(),f&&f.c(),c=V(),u=F("span"),w&&w.c(),B(n,"class","label"),B(i,"class","help"),B(u,"class","input"),B(t,"class","label-content")},m(e,p){P(e,t,p),A(t,n),A(n,r),A(n,o),$&&$.m(n,null),A(t,s),A(t,i),A(i,a),A(i,l),f&&f.m(i,null),A(t,c),A(t,u),w&&w.m(u,null),d=!0},p(e,t){(!d||1&t)&&X(r,e[0]),$&&$.p&&(!d||16&t)&&v($,p,e,e[4],d?y(p,e[4],t,xo):b(e[4]),So),(!d||2&t)&&X(a,e[1]),f&&f.p&&(!d||16&t)&&v(f,m,e,e[4],d?y(m,e[4],t,bo):b(e[4]),wo),w&&w.p&&(!d||16&t)&&v(w,h,e,e[4],d?y(h,e[4],t,null):b(e[4]),null)},i(e){d||(qe($,e),qe(f,e),qe(w,e),d=!0)},o(e){Ve($,e),Ve(f,e),Ve(w,e),d=!1},d(e){e&&R(t),$&&$.d(e),f&&f.d(e),w&&w.d(e)}}}function ko(e){let t,n,r;return n=new vo({props:{$$slots:{default:[Co]},$$scope:{ctx:e}}}),{c(){t=F("div"),rt(n.$$.fragment),B(t,"class","labeled-input"),te(t,"layout-stacked","stacked"===e[2]),te(t,"layout-inline","inline"===e[2]),te(t,"layout-inline-input-first","inline-input-first"===e[2])},m(e,o){P(e,t,o),ot(n,t,null),r=!0},p(e,[o]){const s={};19&o&&(s.$$scope={dirty:o,ctx:e}),n.$set(s),(!r||4&o)&&te(t,"layout-stacked","stacked"===e[2]),(!r||4&o)&&te(t,"layout-inline","inline"===e[2]),(!r||4&o)&&te(t,"layout-inline-input-first","inline-input-first"===e[2])},i(e){r||(qe(n.$$.fragment,e),r=!0)},o(e){Ve(n.$$.fragment,e),r=!1},d(e){e&&R(t),st(n)}}}function Do(e,t,n){let{$$slots:r={},$$scope:o}=t,{label:s=""}=t,{help:i=""}=t,{layout:a="inline"}=t;return e.$$set=e=>{"label"in e&&n(0,s=e.label),"help"in e&&n(1,i=e.help),"layout"in e&&n(2,a=e.layout),"$$scope"in e&&n(4,o=e.$$scope)},[s,i,a,r,o]}class Io extends at{constructor(e){super(),it(this,e,Do,ko,p,{label:0,help:1,layout:2})}}function _o(e,t,n){const r=e.slice();return r[2]=t[n],r}function To(e){let t,n,r;const o=[e[1]];var s=e[0].component;function i(e){let t={};for(let n=0;n<o.length;n+=1)t=a(t,o[n]);return{props:t}}return s&&(t=new s(i())),{c(){t&&rt(t.$$.fragment),n=j()},m(e,o){t&&ot(t,e,o),P(e,n,o),r=!0},p(e,r){const a=2&r?et(o,[tt(e[1])]):{};if(s!==(s=e[0].component)){if(t){Fe();const e=t;Ve(e.$$.fragment,1,0,(()=>{st(e,1)})),He()}s?(t=new s(i()),rt(t.$$.fragment),qe(t.$$.fragment,1),ot(t,n.parentNode,n)):t=null}else s&&t.$set(a)},i(e){r||(t&&qe(t.$$.fragment,e),r=!0)},o(e){t&&Ve(t.$$.fragment,e),r=!1},d(e){e&&R(n),t&&st(t,e)}}}function Mo(e){let t,n=e[0],r=[];for(let o=0;o<n.length;o+=1)r[o]=Oo(_o(e,n,o));return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=j()},m(e,n){for(let t=0;t<r.length;t+=1)r[t].m(e,n);P(e,t,n)},p(e,o){if(1&o){let s;for(n=e[0],s=0;s<n.length;s+=1){const i=_o(e,n,s);r[s]?r[s].p(i,o):(r[s]=Oo(i),r[s].c(),r[s].m(t.parentNode,t))}for(;s<r.length;s+=1)r[s].d(1);r.length=n.length}},i:s,o:s,d(e){z(r,e),e&&R(t)}}}function Eo(e){let t;return{c(){t=q(e[0])},m(e,n){P(e,t,n)},p(e,n){1&n&&X(t,e[0])},i:s,o:s,d(e){e&&R(t)}}}function Oo(e){let t,n,r=e[2]+"";return{c(){t=F("p"),n=q(r)},m(e,r){P(e,t,r),A(t,n)},p(e,t){1&t&&r!==(r=e[2]+"")&&X(n,r)},d(e){e&&R(t)}}}function Ao(e){let t,n,r,o,s;const i=[Eo,Mo,To],a=[];function l(e,n){return 1&n&&(t=null),"string"==typeof e[0]?0:(null==t&&(t=!!Array.isArray(e[0])),t?1:2)}return n=l(e,-1),r=a[n]=i[n](e),{c(){r.c(),o=j()},m(e,t){a[n].m(e,t),P(e,o,t),s=!0},p(e,[t]){let s=n;n=l(e,t),n===s?a[n].p(e,t):(Fe(),Ve(a[s],1,1,(()=>{a[s]=null})),He(),r=a[n],r?r.p(e,t):(r=a[n]=i[n](e),r.c()),qe(r,1),r.m(o.parentNode,o))},i(e){s||(qe(r),s=!0)},o(e){Ve(r),s=!1},d(e){a[n].d(e),e&&R(o)}}}function Lo(e,t,n){let r,{arg:o}=t;return e.$$set=e=>{"arg"in e&&n(0,o=e.arg)},e.$$.update=()=>{1&e.$$.dirty&&n(1,r=_t(o,"props")&&Dt(o.props)?o.props:{})},[o,r]}class No extends at{constructor(e){super(),it(this,e,Lo,Ao,p,{arg:0})}}const Po=e=>({option:2&e,disabled:146&e}),Ro=e=>({option:e[13],disabled:e[7](e[13])||e[4]});function zo(e,t,n){const r=e.slice();return r[13]=t[n],r}const Fo=e=>({option:2&e,disabled:146&e}),Ho=e=>({option:e[13],disabled:e[7](e[13])||e[4]}),qo=e=>({option:2&e,disabled:146&e}),Vo=e=>({option:e[13],disabled:e[7](e[13])||e[4]});function jo(e){let t,n,r,o=e[8].label&&Wo(e),s=e[2]&&Uo(e);return{c(){t=F("legend"),o&&o.c(),n=V(),s&&s.c()},m(e,i){P(e,t,i),o&&o.m(t,null),A(t,n),s&&s.m(t,null),r=!0},p(e,r){e[8].label?o?(o.p(e,r),256&r&&qe(o,1)):(o=Wo(e),o.c(),qe(o,1),o.m(t,n)):o&&(Fe(),Ve(o,1,1,(()=>{o=null})),He()),e[2]?s?s.p(e,r):(s=Uo(e),s.c(),s.m(t,null)):s&&(s.d(1),s=null)},i(e){r||(qe(o),r=!0)},o(e){Ve(o),r=!1},d(e){e&&R(t),o&&o.d(),s&&s.d()}}}function Wo(e){let t;const n=e[10].label,r=g(n,e,e[12],Vo);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||4242&o)&&v(r,n,e,e[12],t?y(n,e[12],o,qo):b(e[12]),Vo)},i(e){t||(qe(r,e),t=!0)},o(e){Ve(r,e),t=!1},d(e){r&&r.d(e)}}}function Uo(e){let t;return{c(){t=q(e[2])},m(e,n){P(e,t,n)},p(e,n){4&n&&X(t,e[2])},d(e){e&&R(t)}}}function Yo(e){let t;const n=e[10].default,r=g(n,e,e[12],Ho);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||4242&o)&&v(r,n,e,e[12],t?y(n,e[12],o,Fo):b(e[12]),Ho)},i(e){t||(qe(r,e),t=!0)},o(e){Ve(r,e),t=!1},d(e){r&&r.d(e)}}}function Bo(e){let t,n;return t=new No({props:{arg:e[5](e[13])}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};34&n&&(r.arg=e[5](e[13])),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Ko(e,t){let n,r,o,s;return r=new Io({props:{layout:"inline-input-first",$$slots:{label:[Bo],default:[Yo]},$$scope:{ctx:t}}}),{key:e,first:null,c(){n=F("li"),rt(r.$$.fragment),o=V(),B(n,"class","option"),this.first=n},m(e,t){P(e,n,t),ot(r,n,null),A(n,o),s=!0},p(e,n){t=e;const o={};4274&n&&(o.$$scope={dirty:n,ctx:t}),r.$set(o)},i(e){s||(qe(r.$$.fragment,e),s=!0)},o(e){Ve(r.$$.fragment,e),s=!1},d(e){e&&R(n),st(r)}}}function Go(e){let t,n,r,o,s,i,a,l=[],c=new Map,u=(e[8].label||e[2])&&jo(e),d=e[1];const p=e=>e[13];for(let f=0;f<d.length;f+=1){let t=zo(e,d,f),n=p(t);c.set(n,l[f]=Ko(n,t))}const $=e[10].extra,m=g($,e,e[12],Ro);return{c(){t=F("fieldset"),u&&u.c(),n=V(),r=F("ul");for(let e=0;e<l.length;e+=1)l[e].c();o=V(),m&&m.c(),B(r,"class","options"),B(t,"class","fieldset-group"),B(t,"aria-label",e[3]),te(t,"inline",e[0]),te(t,"boxed",e[6]),te(t,"has-label",!!e[2])},m(c,d){P(c,t,d),u&&u.m(t,null),A(t,n),A(t,r);for(let e=0;e<l.length;e+=1)l[e].m(r,null);A(t,o),m&&m.m(t,null),s=!0,i||(a=W(t,"change",e[11]),i=!0)},p(e,[o]){e[8].label||e[2]?u?(u.p(e,o),260&o&&qe(u,1)):(u=jo(e),u.c(),qe(u,1),u.m(t,n)):u&&(Fe(),Ve(u,1,1,(()=>{u=null})),He()),4274&o&&(d=e[1],Fe(),l=Qe(l,o,p,1,e,d,c,r,Je,Ko,null,zo),He()),m&&m.p&&(!s||4242&o)&&v(m,$,e,e[12],s?y($,e[12],o,Po):b(e[12]),Ro),(!s||8&o)&&B(t,"aria-label",e[3]),(!s||1&o)&&te(t,"inline",e[0]),(!s||64&o)&&te(t,"boxed",e[6]),(!s||4&o)&&te(t,"has-label",!!e[2])},i(e){if(!s){qe(u);for(let e=0;e<d.length;e+=1)qe(l[e]);qe(m,e),s=!0}},o(e){Ve(u);for(let t=0;t<l.length;t+=1)Ve(l[t]);Ve(m,e),s=!1},d(e){e&&R(t),u&&u.d();for(let t=0;t<l.length;t+=1)l[t].d();m&&m.d(e),i=!1,a()}}}function Xo(e,t,n){let{$$slots:r={},$$scope:o}=t;const s=S(r);let{isInline:i=!1}=t,{options:a=[]}=t,{label:l}=t,{ariaLabel:c}=t,{disabled:u=!1}=t,{labelKey:d="label"}=t,{getLabel:p=(e=>At(e,d))}=t,{boxed:$=!1}=t,{getDisabled:m=(()=>!1)}=t;return e.$$set=e=>{"isInline"in e&&n(0,i=e.isInline),"options"in e&&n(1,a=e.options),"label"in e&&n(2,l=e.label),"ariaLabel"in e&&n(3,c=e.ariaLabel),"disabled"in e&&n(4,u=e.disabled),"labelKey"in e&&n(9,d=e.labelKey),"getLabel"in e&&n(5,p=e.getLabel),"boxed"in e&&n(6,$=e.boxed),"getDisabled"in e&&n(7,m=e.getDisabled),"$$scope"in e&&n(12,o=e.$$scope)},[i,a,l,c,u,p,$,m,s,d,r,function(t){ve.call(this,e,t)},o]}class Jo extends at{constructor(e){super(),it(this,e,Xo,Go,p,{isInline:0,options:1,label:2,ariaLabel:3,disabled:4,labelKey:9,getLabel:5,boxed:6,getDisabled:7})}}function Zo(e){let t,n,r;const o=e[5].default,s=g(o,e,e[4],null);return{c(){t=F("span"),s&&s.c(),B(t,"class",n="chip display-"+e[1]+" "+e[2]),Z(t,"background",e[0],!1)},m(e,n){P(e,t,n),s&&s.m(t,null),r=!0},p(e,[i]){s&&s.p&&(!r||16&i)&&v(s,o,e,e[4],r?y(o,e[4],i,null):b(e[4]),null),(!r||6&i&&n!==(n="chip display-"+e[1]+" "+e[2]))&&B(t,"class",n),1&i&&Z(t,"background",e[0],!1)},i(e){r||(qe(s,e),r=!0)},o(e){Ve(s,e),r=!1},d(e){e&&R(t),s&&s.d(e)}}}function Qo(e,t,n){let{$$slots:r={},$$scope:o}=t,{textShade:s="dark"}=t,{background:i=(()=>`hsl(${Xt(0,359)}, ${Xt(0,100)}%, ${"dark"===s?85:40}%)`)()}=t,{display:a="block"}=t,{class:l=""}=t;return e.$$set=e=>{"textShade"in e&&n(3,s=e.textShade),"background"in e&&n(0,i=e.background),"display"in e&&n(1,a=e.display),"class"in e&&n(2,l=e.class),"$$scope"in e&&n(4,o=e.$$scope)},[i,a,l,s,o,r]}class es extends at{constructor(e){super(),it(this,e,Qo,Zo,p,{textShade:3,background:0,display:1,class:2})}}const ts=e=>({}),ns=e=>({}),rs=e=>({}),os=e=>({}),ss=e=>({}),is=e=>({}),as=e=>({isOpen:1&e}),ls=e=>({toggle:e[2],isOpen:e[0]});function cs(e){let t,n,r,o;const s=[$r,{size:"0.9rem"},{rotate:e[0]?void 0:270}];let i={};for(let u=0;u<s.length;u+=1)i=a(i,s[u]);t=new Wr({props:i});const l=e[3].header,c=g(l,e,e[4],is);return{c(){rt(t.$$.fragment),n=V(),r=F("div"),c&&c.c(),B(r,"class","collapsible-header-title")},m(e,s){ot(t,e,s),P(e,n,s),P(e,r,s),c&&c.m(r,null),o=!0},p(e,n){const r=1&n?et(s,[0&n&&tt($r),s[1],1&n&&{rotate:e[0]?void 0:270}]):{};t.$set(r),c&&c.p&&(!o||16&n)&&v(c,l,e,e[4],o?y(l,e[4],n,ss):b(e[4]),is)},i(e){o||(qe(t.$$.fragment,e),qe(c,e),o=!0)},o(e){Ve(t.$$.fragment,e),Ve(c,e),o=!1},d(e){st(t,e),e&&R(n),e&&R(r),c&&c.d(e)}}}function us(e){let t,n;const r=e[3].content,o=g(r,e,e[4],ns);return{c(){t=F("div"),o&&o.c(),B(t,"class","collapsible-content")},m(e,r){P(e,t,r),o&&o.m(t,null),n=!0},p(e,t){o&&o.p&&(!n||16&t)&&v(o,r,e,e[4],n?y(r,e[4],t,ts):b(e[4]),ns)},i(e){n||(qe(o,e),n=!0)},o(e){Ve(o,e),n=!1},d(e){e&&R(t),o&&o.d(e)}}}function ds(e){let t,n,r,o,s;const i=e[3].trigger,a=g(i,e,e[4],ls),l=a||function(e){let t,n;return t=new Ln({props:{appearance:e[1],class:"collapsible-header-btn",$$slots:{default:[cs]},$$scope:{ctx:e}}}),t.$on("click",e[2]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.appearance=e[1]),17&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}(e),c=e[3]["trigger-aside"],u=g(c,e,e[4],os);let d=e[0]&&us(e);return{c(){t=F("div"),n=F("div"),l&&l.c(),r=V(),u&&u.c(),o=V(),d&&d.c(),B(n,"class","collapsible-header"),B(t,"class","collapsible")},m(e,i){P(e,t,i),A(t,n),l&&l.m(n,null),A(n,r),u&&u.m(n,null),A(t,o),d&&d.m(t,null),s=!0},p(e,[n]){a?a.p&&(!s||17&n)&&v(a,i,e,e[4],s?y(i,e[4],n,as):b(e[4]),ls):l&&l.p&&(!s||19&n)&&l.p(e,s?n:-1),u&&u.p&&(!s||16&n)&&v(u,c,e,e[4],s?y(c,e[4],n,rs):b(e[4]),os),e[0]?d?(d.p(e,n),1&n&&qe(d,1)):(d=us(e),d.c(),qe(d,1),d.m(t,null)):d&&(Fe(),Ve(d,1,1,(()=>{d=null})),He())},i(e){s||(qe(l,e),qe(u,e),qe(d),s=!0)},o(e){Ve(l,e),Ve(u,e),Ve(d),s=!1},d(e){e&&R(t),l&&l.d(e),u&&u.d(e),d&&d.d()}}}function ps(e,t,n){let{$$slots:r={},$$scope:o}=t,{isOpen:s=!1}=t,{triggerAppearance:i="default"}=t;return e.$$set=e=>{"isOpen"in e&&n(0,s=e.isOpen),"triggerAppearance"in e&&n(1,i=e.triggerAppearance),"$$scope"in e&&n(4,o=e.$$scope)},[s,i,function(){n(0,s=!s)},r,o]}class $s extends at{constructor(e){super(),it(this,e,ps,ds,p,{isOpen:0,triggerAppearance:1})}}class ms{constructor(t){var n;e(this,"inputs",void 0),e(this,"output",void 0),this.inputs=new ht,this.output=(n=ft(this.inputs,(e=>ft(Ht([...e]),t))),ft(n,((e,t)=>e.subscribe(t))))}registerInput(e){const t=Ft(e);return this.inputs.add(t),()=>this.inputs.delete(t)}subscribe(e,t){return this.output.subscribe(e,t)}}const fs=Symbol("menu alignment stores context");function gs(){return new ms((e=>e.some((e=>e))))}function hs(){return he(fs)}function ys(){if(void 0!==hs())throw Error("MenuController context has already been set");const e={hasControlColumn:gs(),hasIconColumn:gs()};return ge(fs,e),e}function vs(e){let t,n;const r=e[11].default,o=g(r,e,e[10],null);return{c(){t=F("div"),o&&o.c(),B(t,"class","menu"),B(t,"role","menu"),B(t,"style",e[0]),te(t,"has-icon",e[1]),te(t,"has-control",e[2])},m(e,r){P(e,t,r),o&&o.m(t,null),n=!0},p(e,[s]){o&&o.p&&(!n||1024&s)&&v(o,r,e,e[10],n?y(r,e[10],s,null):b(e[10]),null),(!n||1&s)&&B(t,"style",e[0]),(!n||2&s)&&te(t,"has-icon",e[1]),(!n||4&s)&&te(t,"has-control",e[2])},i(e){n||(qe(o,e),n=!0)},o(e){Ve(o,e),n=!1},d(e){e&&R(t),o&&o.d(e)}}}function bs(e,t,n){let r,o,s,i,{$$slots:a={},$$scope:l}=t;const c=ys(),{hasControlColumn:u,hasIconColumn:d}=c;f(e,u,(e=>n(2,i=e))),f(e,d,(e=>n(1,s=e)));let{style:p}=t,{iconWidth:$="1em"}=t,{controlWidth:m="1em"}=t,{cssVariables:g}=t;return e.$$set=e=>{"style"in e&&n(5,p=e.style),"iconWidth"in e&&n(6,$=e.iconWidth),"controlWidth"in e&&n(7,m=e.controlWidth),"cssVariables"in e&&n(8,g=e.cssVariables),"$$scope"in e&&n(10,l=e.$$scope)},e.$$.update=()=>{256&e.$$.dirty&&n(9,r=g?Jt(g):""),736&e.$$.dirty&&n(0,o=Zt(Jt({"--Menu__icon-width":$,"--Menu__control-width":m}),r,p))},[o,s,i,u,d,p,$,m,g,r,l,a]}class ws extends at{constructor(e){super(),it(this,e,bs,vs,p,{style:5,iconWidth:6,controlWidth:7,cssVariables:8})}}function xs(e){let t,n,r,o,s,i;return n=new ws({props:{$$slots:{default:[Ss]},$$scope:{ctx:e}}}),{c(){t=F("div"),rt(n.$$.fragment),B(t,"class","context-menu dropdown content")},m(a,l){P(a,t,l),ot(n,t,null),o=!0,s||(i=[D(en.call(null,t,{callback:e[3]})),D(r=rn.call(null,t,{reference:ks(e[2])})),D(on.call(null,t)),W(t,"click",e[4])],s=!0)},p(e,t){const o={};512&t&&(o.$$scope={dirty:t,ctx:e}),n.$set(o),r&&d(r.update)&&4&t&&r.update.call(null,{reference:ks(e[2])})},i(e){o||(qe(n.$$.fragment,e),o=!0)},o(e){Ve(n.$$.fragment,e),o=!1},d(e){e&&R(t),st(n),s=!1,u(i)}}}function Ss(e){let t;const n=e[7].default,r=g(n,e,e[9],null);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||512&o)&&v(r,n,e,e[9],t?y(n,e[9],o,null):b(e[9]),null)},i(e){t||(qe(r,e),t=!0)},o(e){Ve(r,e),t=!1},d(e){r&&r.d(e)}}}function Cs(e){let t,n,r=e[0]&&xs(e);return{c(){t=F("div"),r&&r.c(),B(t,"class","context-menu-wrapper")},m(o,s){P(o,t,s),r&&r.m(t,null),e[8](t),n=!0},p(e,[n]){e[0]?r?(r.p(e,n),1&n&&qe(r,1)):(r=xs(e),r.c(),qe(r,1),r.m(t,null)):r&&(Fe(),Ve(r,1,1,(()=>{r=null})),He())},i(e){n||(qe(r),n=!0)},o(e){Ve(r),n=!1},d(n){n&&R(t),r&&r.d(),e[8](null)}}}function ks(e){const{x:t,y:n}=e;return{getBoundingClientRect:()=>({width:0,height:0,x:t,y:n,top:n,right:t,bottom:n,left:t,toJSON:()=>({x:t,y:n})})}}function Ds(e,t,n){let r,{$$slots:o={},$$scope:s}=t,{triggerElement:i}=t,{closeOnInnerClick:a=!0}=t,l=!1,c={x:0,y:0};function u(e){e.preventDefault(),n(2,c={x:e.clientX,y:e.clientY}),n(0,l=!l)}function d(){n(0,l=!1)}function p(e){"Escape"===e.key&&l&&d(),e.stopPropagation()}return pe((()=>{const e=i??r?.parentElement??void 0;return e?(e.addEventListener("contextmenu",u),()=>{e.removeEventListener("contextmenu",u)}):()=>{}})),e.$$set=e=>{"triggerElement"in e&&n(5,i=e.triggerElement),"closeOnInnerClick"in e&&n(6,a=e.closeOnInnerClick),"$$scope"in e&&n(9,s=e.$$scope)},e.$$.update=()=>{1&e.$$.dirty&&(l?document.addEventListener("keydown",p,{capture:!0}):document.removeEventListener("keydown",p,{capture:!0}))},[l,r,c,d,function(){a&&d()},i,a,o,function(e){we[e?"unshift":"push"]((()=>{r=e,n(1,r)}))},s]}class Is extends at{constructor(e){super(),it(this,e,Ds,Cs,p,{triggerElement:5,closeOnInnerClick:6})}}const _s=e=>({}),Ts=e=>({handleNewValue:e[0]});function Ms(e){let t;const n=e[4].default,r=g(n,e,e[3],Ts);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,[o]){r&&r.p&&(!t||8&o)&&v(r,n,e,e[3],t?y(n,e[3],o,_s):b(e[3]),Ts)},i(e){t||(qe(r,e),t=!0)},o(e){Ve(r,e),t=!1},d(e){r&&r.d(e)}}}function Es(e,t,n){let{$$slots:r={},$$scope:o}=t;const s=fe();let i,{duration:a=300}=t,{value:l}=t;function c(e){l!==e&&(n(1,l=e),s("artificialInput",e),s("artificialChange",e))}return me((()=>clearTimeout(i))),e.$$set=e=>{"duration"in e&&n(2,a=e.duration),"value"in e&&n(1,l=e.value),"$$scope"in e&&n(3,o=e.$$scope)},[function({value:e,debounce:t}){clearTimeout(i),t?i=window.setTimeout((()=>{c(e)}),a):c(e)},l,a,o,r]}class Os extends at{constructor(e){super(),it(this,e,Es,Ms,p,{duration:2,value:1})}}class As{constructor(t){e(this,"elements",mt(new Set)),e(this,"parent",void 0),this.parent=t}add(e){return this.elements.update((t=>{const n=new Set(t);return n.add(e),n})),this.parent?.add(e),()=>this.delete(e)}delete(e){this.elements.update((t=>{const n=new Set(t);return n.delete(e),n})),this.parent?.delete(e)}subscribe(e){return this.elements.subscribe(e)}}const Ls=e=>({}),Ns=e=>({close:e[8]});function Ps(e){let t,n,r,o,s,i,a,l;const c=[zs,Rs],p=[];function $(e,t){return e[10].default?0:e[3]?1:-1}return~(n=$(e))&&(r=p[n]=c[n](e)),{c(){t=F("div"),r&&r.c(),B(t,"class",o=["dropdown content",e[2]].join(" "))},m(r,o){P(r,t,o),~n&&p[n].m(t,null),e[18](t),i=!0,a||(l=[D(on.call(null,t)),D(s=rn.call(null,t,{reference:e[1],options:{placement:e[4],modifiers:[{name:"flip",options:{fallbackPlacements:e[6]}}]}})),D(en.call(null,t,{callback:e[8],references:e[7]})),W(t,"click",e[9]),W(t,"mouseenter",e[16]),W(t,"mouseleave",e[17])],a=!0)},p(e,a){let l=n;n=$(e),n===l?~n&&p[n].p(e,a):(r&&(Fe(),Ve(p[l],1,1,(()=>{p[l]=null})),He()),~n?(r=p[n],r?r.p(e,a):(r=p[n]=c[n](e),r.c()),qe(r,1),r.m(t,null)):r=null),(!i||4&a&&o!==(o=["dropdown content",e[2]].join(" ")))&&B(t,"class",o),s&&d(s.update)&&82&a&&s.update.call(null,{reference:e[1],options:{placement:e[4],modifiers:[{name:"flip",options:{fallbackPlacements:e[6]}}]}})},i(e){i||(qe(r),i=!0)},o(e){Ve(r),i=!1},d(r){r&&R(t),~n&&p[n].d(),e[18](null),a=!1,u(l)}}}function Rs(e){let t,n;return t=new No({props:{arg:e[3]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};8&n&&(r.arg=e[3]),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function zs(e){let t;const n=e[15].default,r=g(n,e,e[14],Ns);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||16384&o)&&v(r,n,e,e[14],t?y(n,e[14],o,Ls):b(e[14]),Ns)},i(e){t||(qe(r,e),t=!0)},o(e){Ve(r,e),t=!1},d(e){r&&r.d(e)}}}function Fs(e){let t,n,r=e[0]&&Ps(e);return{c(){r&&r.c(),t=j()},m(e,o){r&&r.m(e,o),P(e,t,o),n=!0},p(e,[n]){e[0]?r?(r.p(e,n),1&n&&qe(r,1)):(r=Ps(e),r.c(),qe(r,1),r.m(t.parentNode,t)):r&&(Fe(),Ve(r,1,1,(()=>{r=null})),He())},i(e){n||(qe(r),n=!0)},o(e){Ve(r),n=!1},d(e){r&&r.d(e),e&&R(t)}}}function Hs(e,t,n){let r,o,{$$slots:s={},$$scope:i}=t;const a=S(s),l=fe();let c,{trigger:u}=t,{placements:d=["bottom-start","bottom-end","top-start","top-end","right-start","left-start"]}=t,{preferredPlacement:p}=t,{isOpen:$=!1}=t,{class:m=""}=t,{closeOnInnerClick:f=!1}=t,{content:g}=t;const h=he("dropdownAccompanyingElements");async function y(){c||await Ie(),c&&h?.delete(c)}me(y);const v=new As(h);ge("dropdownAccompanyingElements",v);const b=ft(v,(e=>[u,...e]));function w(e){e?(l("open"),async function(){c||await Ie(),c&&h?.add(c)}()):(l("close"),y())}function x(){n(0,$=!1)}return e.$$set=e=>{"trigger"in e&&n(1,u=e.trigger),"placements"in e&&n(11,d=e.placements),"preferredPlacement"in e&&n(12,p=e.preferredPlacement),"isOpen"in e&&n(0,$=e.isOpen),"class"in e&&n(2,m=e.class),"closeOnInnerClick"in e&&n(13,f=e.closeOnInnerClick),"content"in e&&n(3,g=e.content),"$$scope"in e&&n(14,i=e.$$scope)},e.$$.update=()=>{6144&e.$$.dirty&&n(4,r=p??d[0]??"bottom-start"),2064&e.$$.dirty&&n(6,o=(()=>{const e=d.filter((e=>e!==r));if(0!==e.length)return e})()),1&e.$$.dirty&&w($)},[$,u,m,g,r,c,o,b,x,function(){f&&x()},a,d,p,f,i,s,function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(e){we[e?"unshift":"push"]((()=>{c=e,n(5,c)}))}]}class qs extends at{constructor(e){super(),it(this,e,Hs,Fs,p,{trigger:1,placements:11,preferredPlacement:12,isOpen:0,class:2,closeOnInnerClick:13,content:3})}}const Vs=e=>({}),js=e=>({}),Ws=e=>({}),Us=e=>({});function Ys(e){let t;const n=e[8].content,r=g(n,e,e[14],js);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||16384&o)&&v(r,n,e,e[14],t?y(n,e[14],o,Vs):b(e[14]),js)},i(e){t||(qe(r,e),t=!0)},o(e){Ve(r,e),t=!1},d(e){r&&r.d(e)}}}function Bs(e){let t,n,r,o,s,i;const l=e[8].trigger,c=g(l,e,e[14],Us);let d=[{"aria-label":"Help"},e[6]],p={};for(let u=0;u<d.length;u+=1)p=a(p,d[u]);return r=new qs({props:{trigger:e[3],isOpen:e[5],placements:["top","right","bottom","left"],class:"tooltip "+e[0],$$slots:{default:[Ys]},$$scope:{ctx:e}}}),r.$on("mouseenter",e[12]),r.$on("mouseleave",e[13]),{c(){t=F("span"),c&&c.c(),n=V(),rt(r.$$.fragment),K(t,p)},m(a,l){P(a,t,l),c&&c.m(t,null),e[9](t),P(a,n,l),ot(r,a,l),o=!0,s||(i=[W(t,"mouseenter",e[10]),W(t,"mouseleave",e[11])],s=!0)},p(e,[n]){c&&c.p&&(!o||16384&n)&&v(c,l,e,e[14],o?y(l,e[14],n,Ws):b(e[14]),Us),K(t,p=et(d,[{"aria-label":"Help"},64&n&&e[6]]));const s={};8&n&&(s.trigger=e[3]),32&n&&(s.isOpen=e[5]),1&n&&(s.class="tooltip "+e[0]),16384&n&&(s.$$scope={dirty:n,ctx:e}),r.$set(s)},i(e){o||(qe(c,e),qe(r.$$.fragment,e),o=!0)},o(e){Ve(c,e),Ve(r.$$.fragment,e),o=!1},d(o){o&&R(t),c&&c.d(o),e[9](null),o&&R(n),st(r,o),s=!1,u(i)}}}function Ks(e,t,n){let r;const o=["tooltipClass","allowHover"];let s,i,l=x(t,o),{$$slots:c={},$$scope:u}=t,{tooltipClass:d=""}=t,{allowHover:p=!1}=t,$=!1,m=!1;return e.$$set=e=>{t=a(a({},t),w(e)),n(6,l=x(t,o)),"tooltipClass"in e&&n(0,d=e.tooltipClass),"allowHover"in e&&n(7,p=e.allowHover),"$$scope"in e&&n(14,u=e.$$scope)},e.$$.update=()=>{134&e.$$.dirty&&n(5,r=$||p&&m)},[d,$,m,s,i,r,l,p,c,function(e){we[e?"unshift":"push"]((()=>{s=e,n(3,s)}))},()=>{window.clearTimeout(i),n(1,$=!0)},()=>{n(4,i=window.setTimeout((()=>{n(1,$=!1)}),100))},()=>{n(2,m=!0)},()=>{n(2,m=!1)},u]}class Gs extends at{constructor(e){super(),it(this,e,Ks,Bs,p,{tooltipClass:0,allowHover:7})}}const Xs=e=>({}),Js=e=>({slot:"content"});function Zs(e){let t,n;const r=[{slot:"trigger"},mr];let o={};for(let s=0;s<r.length;s+=1)o=a(o,r[s]);return t=new Wr({props:o}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const o=0&n?et(r,[r[0],tt(mr)]):{};t.$set(o)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Qs(e){let t;const n=e[0].default,r=g(n,e,e[1],Js);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||2&o)&&v(r,n,e,e[1],t?y(n,e[1],o,Xs):b(e[1]),Js)},i(e){t||(qe(r,e),t=!0)},o(e){Ve(r,e),t=!1},d(e){r&&r.d(e)}}}function ei(e){let t,n;return t=new Gs({props:{"aria-label":"Help",class:"help-trigger",allowHover:!0,$$slots:{content:[Qs],trigger:[Zs]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const r={};2&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function ti(e,t,n){let{$$slots:r={},$$scope:o}=t;return e.$$set=e=>{"$$scope"in e&&n(1,o=e.$$scope)},[r,o]}class ni extends at{constructor(e){super(),it(this,e,ti,ei,p,{})}}function ri(e){let t,n,r;const o=e[3].default,s=g(o,e,e[2],null);let i=[{class:n=["input-group",e[0]].join(" ")},e[1]],l={};for(let c=0;c<i.length;c+=1)l=a(l,i[c]);return{c(){t=F("div"),s&&s.c(),K(t,l)},m(e,n){P(e,t,n),s&&s.m(t,null),r=!0},p(e,[a]){s&&s.p&&(!r||4&a)&&v(s,o,e,e[2],r?y(o,e[2],a,null):b(e[2]),null),K(t,l=et(i,[(!r||1&a&&n!==(n=["input-group",e[0]].join(" ")))&&{class:n},2&a&&e[1]]))},i(e){r||(qe(s,e),r=!0)},o(e){Ve(s,e),r=!1},d(e){e&&R(t),s&&s.d(e)}}}function oi(e,t,n){const r=["class"];let o=x(t,r),{$$slots:s={},$$scope:i}=t,{class:l=""}=t;return e.$$set=e=>{t=a(a({},t),w(e)),n(1,o=x(t,r)),"class"in e&&n(0,l=e.class),"$$scope"in e&&n(2,i=e.$$scope)},[l,o,i,s]}class si extends at{constructor(e){super(),it(this,e,oi,ri,p,{class:0})}}function ii(e){let t,n,r;const o=e[3].default,s=g(o,e,e[2],null);let i=[{class:n=["input-group-text",e[0]].join(" ")},e[1]],l={};for(let c=0;c<i.length;c+=1)l=a(l,i[c]);return{c(){t=F("span"),s&&s.c(),K(t,l)},m(e,n){P(e,t,n),s&&s.m(t,null),r=!0},p(e,[a]){s&&s.p&&(!r||4&a)&&v(s,o,e,e[2],r?y(o,e[2],a,null):b(e[2]),null),K(t,l=et(i,[(!r||1&a&&n!==(n=["input-group-text",e[0]].join(" ")))&&{class:n},2&a&&e[1]]))},i(e){r||(qe(s,e),r=!0)},o(e){Ve(s,e),r=!1},d(e){e&&R(t),s&&s.d(e)}}}function ai(e,t,n){const r=["class"];let o=x(t,r),{$$slots:s={},$$scope:i}=t,{class:l=""}=t;return e.$$set=e=>{t=a(a({},t),w(e)),n(1,o=x(t,r)),"class"in e&&n(0,l=e.class),"$$scope"in e&&n(2,i=e.$$scope)},[l,o,i,s]}class li extends at{constructor(e){super(),it(this,e,ai,ii,p,{class:0})}}function ci(e){let t,n,r,o,s,i,l,c;const d=[e[6]];function p(t){e[15](t)}let $={};for(let u=0;u<d.length;u+=1)$=a($,d[u]);void 0!==e[2]&&($.id=e[2]),t=new co({props:$}),we.push((()=>nt(t,"id",p)));let m=[e[6],{style:e[5]},{type:"text"},{class:s=["input-element","text-input",e[3]].join(" ")},{id:e[2]}],f={};for(let u=0;u<m.length;u+=1)f=a(f,m[u]);return{c(){rt(t.$$.fragment),r=V(),o=F("input"),K(o,f),te(o,"has-error",e[4])},m(n,s){ot(t,n,s),P(n,r,s),P(n,o,s),o.autofocus&&o.focus(),e[16](o),J(o,e[0]),i=!0,l||(c=[W(o,"input",e[17]),W(o,"input",e[9]),W(o,"focus",e[10]),W(o,"blur",e[11]),W(o,"keydown",e[12]),W(o,"beforeinput",e[13]),W(o,"change",e[14])],l=!0)},p(e,[r]){const a=64&r?et(d,[tt(e[6])]):{};!n&&4&r&&(n=!0,a.id=e[2],Te((()=>n=!1))),t.$set(a),K(o,f=et(m,[64&r&&e[6],(!i||32&r)&&{style:e[5]},{type:"text"},(!i||8&r&&s!==(s=["input-element","text-input",e[3]].join(" ")))&&{class:s},(!i||4&r)&&{id:e[2]}])),1&r&&o.value!==e[0]&&J(o,e[0]),te(o,"has-error",e[4])},i(e){i||(qe(t.$$.fragment,e),i=!0)},o(e){Ve(t.$$.fragment,e),i=!1},d(n){st(t,n),n&&R(r),n&&R(o),e[16](null),l=!1,u(c)}}}function ui(e,t,n){let r,o;const s=["value","class","element","hasError","id","cssVariables"];let i=x(t,s),{value:l=""}=t,{class:c=""}=t,{element:u}=t,{hasError:d=!1}=t,{id:p}=t,{cssVariables:$}=t;return e.$$set=e=>{t=a(a({},t),w(e)),n(6,i=x(t,s)),"value"in e&&n(0,l=e.value),"class"in e&&n(3,c=e.class),"element"in e&&n(1,u=e.element),"hasError"in e&&n(4,d=e.hasError),"id"in e&&n(2,p=e.id),"cssVariables"in e&&n(7,$=e.cssVariables)},e.$$.update=()=>{128&e.$$.dirty&&n(8,r=$?Jt($):""),n(5,o=Zt(r,i.style))},[l,u,p,c,d,o,i,$,r,function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(e){p=e,n(2,p)},function(e){we[e?"unshift":"push"]((()=>{u=e,n(1,u)}))},function(){l=this.value,n(0,l)}]}class di extends at{constructor(e){super(),it(this,e,ui,ci,p,{value:0,class:3,element:1,hasError:4,id:2,cssVariables:7})}}var pi=-1;function $i(e,t,n,r){if(e===t)return e?[[0,e]]:[];if(null!=n){var o=function(e,t,n){var r="number"==typeof n?{index:n,length:0}:n.oldRange,o="number"==typeof n?null:n.newRange,s=e.length,i=t.length;if(0===r.length&&(null===o||0===o.length)){var a=r.index,l=e.slice(0,a),c=e.slice(a),u=o?o.index:null,d=a+i-s;if((null===u||u===d)&&!(d<0||d>i)){var p=t.slice(0,d);if((f=t.slice(d))===c){var $=Math.min(a,d);if((h=l.slice(0,$))===(v=p.slice(0,$)))return xi(h,l.slice($),p.slice($),c)}}if(null===u||u===a){var m=a,f=(p=t.slice(0,m),t.slice(m));if(p===l){var g=Math.min(s-m,i-m);if((y=c.slice(c.length-g))===(b=f.slice(f.length-g)))return xi(l,c.slice(0,c.length-g),f.slice(0,f.length-g),y)}}}if(r.length>0&&o&&0===o.length){var h=e.slice(0,r.index),y=e.slice(r.index+r.length);if(!(i<($=h.length)+(g=y.length))){var v=t.slice(0,$),b=t.slice(i-g);if(h===v&&y===b)return xi(h,e.slice($,s-g),t.slice($,i-g),y)}}return null}(e,t,n);if(o)return o}var s=fi(e,t),i=e.substring(0,s);s=gi(e=e.substring(s),t=t.substring(s));var a=e.substring(e.length-s),l=function(e,t){var n;if(!e)return[[1,t]];if(!t)return[[pi,e]];var r=e.length>t.length?e:t,o=e.length>t.length?t:e,s=r.indexOf(o);if(-1!==s)return n=[[1,r.substring(0,s)],[0,o],[1,r.substring(s+o.length)]],e.length>t.length&&(n[0][0]=n[2][0]=pi),n;if(1===o.length)return[[pi,e],[1,t]];var i=function(e,t){var n=e.length>t.length?e:t,r=e.length>t.length?t:e;if(n.length<4||2*r.length<n.length)return null;function o(e,t,n){for(var r,o,s,i,a=e.substring(n,n+Math.floor(e.length/4)),l=-1,c="";-1!==(l=t.indexOf(a,l+1));){var u=fi(e.substring(n),t.substring(l)),d=gi(e.substring(0,n),t.substring(0,l));c.length<d+u&&(c=t.substring(l-d,l)+t.substring(l,l+u),r=e.substring(0,n-d),o=e.substring(n+u),s=t.substring(0,l-d),i=t.substring(l+u))}return 2*c.length>=e.length?[r,o,s,i,c]:null}var s,i,a,l,c,u=o(n,r,Math.ceil(n.length/4)),d=o(n,r,Math.ceil(n.length/2));if(!u&&!d)return null;s=d?u&&u[4].length>d[4].length?u:d:u;e.length>t.length?(i=s[0],a=s[1],l=s[2],c=s[3]):(l=s[0],c=s[1],i=s[2],a=s[3]);var p=s[4];return[i,a,l,c,p]}(e,t);if(i){var a=i[0],l=i[1],c=i[2],u=i[3],d=i[4],p=$i(a,c),$=$i(l,u);return p.concat([[0,d]],$)}return function(e,t){for(var n=e.length,r=t.length,o=Math.ceil((n+r)/2),s=o,i=2*o,a=new Array(i),l=new Array(i),c=0;c<i;c++)a[c]=-1,l[c]=-1;a[s+1]=0,l[s+1]=0;for(var u=n-r,d=u%2!=0,p=0,$=0,m=0,f=0,g=0;g<o;g++){for(var h=-g+p;h<=g-$;h+=2){for(var y=s+h,v=(C=h===-g||h!==g&&a[y-1]<a[y+1]?a[y+1]:a[y-1]+1)-h;C<n&&v<r&&e.charAt(C)===t.charAt(v);)C++,v++;if(a[y]=C,C>n)$+=2;else if(v>r)p+=2;else if(d){if((x=s+u-h)>=0&&x<i&&-1!==l[x])if(C>=(w=n-l[x]))return mi(e,t,C,v)}}for(var b=-g+m;b<=g-f;b+=2){for(var w,x=s+b,S=(w=b===-g||b!==g&&l[x-1]<l[x+1]?l[x+1]:l[x-1]+1)-b;w<n&&S<r&&e.charAt(n-w-1)===t.charAt(r-S-1);)w++,S++;if(l[x]=w,w>n)f+=2;else if(S>r)m+=2;else if(!d){if((y=s+u-b)>=0&&y<i&&-1!==a[y]){var C;v=s+(C=a[y])-y;if(C>=(w=n-w))return mi(e,t,C,v)}}}}return[[pi,e],[1,t]]}(e,t)}(e=e.substring(0,e.length-s),t=t.substring(0,t.length-s));return i&&l.unshift([0,i]),a&&l.push([0,a]),hi(l,r),l}function mi(e,t,n,r){var o=e.substring(0,n),s=t.substring(0,r),i=e.substring(n),a=t.substring(r),l=$i(o,s),c=$i(i,a);return l.concat(c)}function fi(e,t){if(!e||!t||e.charAt(0)!==t.charAt(0))return 0;for(var n=0,r=Math.min(e.length,t.length),o=r,s=0;n<o;)e.substring(s,o)==t.substring(s,o)?s=n=o:r=o,o=Math.floor((r-n)/2+n);return yi(e.charCodeAt(o-1))&&o--,o}function gi(e,t){if(!e||!t||e.slice(-1)!==t.slice(-1))return 0;for(var n=0,r=Math.min(e.length,t.length),o=r,s=0;n<o;)e.substring(e.length-o,e.length-s)==t.substring(t.length-o,t.length-s)?s=n=o:r=o,o=Math.floor((r-n)/2+n);return vi(e.charCodeAt(e.length-o))&&o--,o}function hi(e,t){e.push([0,""]);for(var n,r=0,o=0,s=0,i="",a="";r<e.length;)if(r<e.length-1&&!e[r][1])e.splice(r,1);else switch(e[r][0]){case 1:s++,a+=e[r][1],r++;break;case pi:o++,i+=e[r][1],r++;break;case 0:var l=r-s-o-1;if(t){if(l>=0&&wi(e[l][1])){var c=e[l][1].slice(-1);if(e[l][1]=e[l][1].slice(0,-1),i=c+i,a=c+a,!e[l][1]){e.splice(l,1),r--;var u=l-1;e[u]&&1===e[u][0]&&(s++,a=e[u][1]+a,u--),e[u]&&e[u][0]===pi&&(o++,i=e[u][1]+i,u--),l=u}}if(bi(e[r][1])){c=e[r][1].charAt(0);e[r][1]=e[r][1].slice(1),i+=c,a+=c}}if(r<e.length-1&&!e[r][1]){e.splice(r,1);break}if(i.length>0||a.length>0){i.length>0&&a.length>0&&(0!==(n=fi(a,i))&&(l>=0?e[l][1]+=a.substring(0,n):(e.splice(0,0,[0,a.substring(0,n)]),r++),a=a.substring(n),i=i.substring(n)),0!==(n=gi(a,i))&&(e[r][1]=a.substring(a.length-n)+e[r][1],a=a.substring(0,a.length-n),i=i.substring(0,i.length-n)));var d=s+o;0===i.length&&0===a.length?(e.splice(r-d,d),r-=d):0===i.length?(e.splice(r-d,d,[1,a]),r=r-d+1):0===a.length?(e.splice(r-d,d,[pi,i]),r=r-d+1):(e.splice(r-d,d,[pi,i],[1,a]),r=r-d+2)}0!==r&&0===e[r-1][0]?(e[r-1][1]+=e[r][1],e.splice(r,1)):r++,s=0,o=0,i="",a=""}""===e[e.length-1][1]&&e.pop();var p=!1;for(r=1;r<e.length-1;)0===e[r-1][0]&&0===e[r+1][0]&&(e[r][1].substring(e[r][1].length-e[r-1][1].length)===e[r-1][1]?(e[r][1]=e[r-1][1]+e[r][1].substring(0,e[r][1].length-e[r-1][1].length),e[r+1][1]=e[r-1][1]+e[r+1][1],e.splice(r-1,1),p=!0):e[r][1].substring(0,e[r+1][1].length)==e[r+1][1]&&(e[r-1][1]+=e[r+1][1],e[r][1]=e[r][1].substring(e[r+1][1].length)+e[r+1][1],e.splice(r+1,1),p=!0)),r++;p&&hi(e,t)}function yi(e){return e>=55296&&e<=56319}function vi(e){return e>=56320&&e<=57343}function bi(e){return vi(e.charCodeAt(0))}function wi(e){return yi(e.charCodeAt(e.length-1))}function xi(e,t,n,r){return wi(e)||bi(r)?null:function(e){for(var t=[],n=0;n<e.length;n++)e[n][1].length>0&&t.push(e[n]);return t}([[0,e],[pi,t],[1,n],[0,r]])}function Si(e,t,n){return $i(e,t,n,!0)}Si.INSERT=1,Si.DELETE=pi,Si.EQUAL=0;var Ci=Si;const ki=["direction","boxSizing","paddingRight","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","fontFamily","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize"];function Di(e){const{clientWidth:t,scrollWidth:n}=e;if(t>=n)return;const r=e.selectionEnd;if(!r)return;if(0===r)return void(e.scrollLeft=0);const o=e.value;if(r===o.length)return void(e.scrollLeft=e.scrollWidth);const s=function(e,t){const n=document.createElement("div");n.id="caret-position-measurement",document.body.appendChild(n);const{style:r}=n;r.position="absolute",r.top="0px",r.zIndex="999999999",r.backgroundColor="coral",r.width="max-content",r.whiteSpace="pre",r.visibility="hidden";for(const s of ki)r[s]=t[s];n.textContent=e;const o=n.clientWidth;return n.remove(),o}(o.substring(0,r),window.getComputedStyle(e));let i=10;const a=s-e.scrollLeft-t+i;if(a>0)return void(e.scrollLeft+=a);i=25;const l=e.scrollLeft-s+i;l>0&&(e.scrollLeft-=l)}function Ii(e){let t,n,r;const o=[{value:e[1]},e[5]];function s(t){e[9](t)}let i={};for(let l=0;l<o.length;l+=1)i=a(i,o[l]);return void 0!==e[0]&&(i.element=e[0]),t=new di({props:i}),we.push((()=>nt(t,"element",s))),t.$on("beforeinput",e[2]),t.$on("blur",e[3]),t.$on("focus",e[10]),t.$on("blur",e[11]),t.$on("blur",e[4]),t.$on("keydown",e[12]),{c(){rt(t.$$.fragment)},m(e,n){ot(t,e,n),r=!0},p(e,[r]){const s=34&r?et(o,[2&r&&{value:e[1]},32&r&&tt(e[5])]):{};!n&&1&r&&(n=!0,s.element=e[0],Te((()=>n=!1))),t.$set(s)},i(e){r||(qe(t.$$.fragment,e),r=!0)},o(e){Ve(t.$$.fragment,e),r=!1},d(e){st(t,e)}}}function _i(e,t,n){let r;const o=["formatter","value","onParseError","element"];let s=x(t,o);const i=fe();let l,c,u,{formatter:d}=t,{value:p}=t,{onParseError:$=(()=>{})}=t,{element:m}=t,f="";return e.$$set=e=>{t=a(a({},t),w(e)),n(5,s=x(t,o)),"formatter"in e&&n(7,d=e.formatter),"value"in e&&n(6,p=e.value),"onParseError"in e&&n(8,$=e.onParseError),"element"in e&&n(0,m=e.element)},e.$$.update=()=>{var t;128&e.$$.dirty&&(r=e=>null==e?"":d.format(e)),64&e.$$.dirty&&(c=r(t=p),l?.value!==t&&(n(1,f=c),u=t))},[m,f,async function(e){e.preventDefault();const{value:t,cursorPosition:r}=function(e){const t=e.target,n=e.inputType,r=t.value,o=t.selectionStart??0,s=t.selectionEnd??r.length,i=o===s;let a=r.substring(0,o),l=r.substring(s,r.length);const c=(()=>{switch(n){case"insertText":case"insertFromPaste":case"insertFromDrop":return"insert";default:return"delete"}})(),u=(()=>{switch(n){case"deleteContentBackward":case"deleteWordBackward":return"backward";case"deleteContentForward":case"deleteWordForward":return"forward";default:return}})();"delete"===c&&i&&("backward"===u?a=a.slice(0,-1):"forward"===u&&(l=l.slice(1,l.length)));const d="insert"===c&&e.data||"";return{value:`${a}${d}${l}`,cursorPosition:a.length+d.length}}(e);try{l=d.parse(t),function(e){n(6,p=e),i("artificialInput",e)}(l.value),n(1,f=l.intermediateDisplay);const e=function({oldText:e,oldCursorPosition:t,newText:n}){const r=Ci(e,n);let o=0;return r.forEach((e=>{const[t]=e;t===Ci.DELETE?o-=1:t===Ci.INSERT&&(o+=1)})),o<0&&(o=0),t+o}({oldText:t,oldCursorPosition:r,newText:l.intermediateDisplay});if(await Ie(),m?.setSelectionRange(e,e),!m)return;Di(m)}catch(o){$({userInput:t,error:o})}},function(){u!==p&&i("artificialChange",p)},function(){n(1,f=c??"")},s,p,d,$,function(e){m=e,n(0,m)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)}]}class Ti extends at{constructor(e){super(),it(this,e,_i,Ii,p,{formatter:7,value:6,onParseError:8,element:0})}}function Mi(e){const t=new Intl.NumberFormat(e).format(1.2)[1];if(![".",","].includes(t))throw new Error(`Unsupported decimal separator: ${t}`);return t}const Ei={allowFloat:!1,allowNegative:!1,useGrouping:!1,minimumFractionDigits:0,maximumFractionDigits:20,forceTrailingDecimal:!1};function Oi(e){return{...e,decimalSeparator:Mi(e.locale)}}class Ai{constructor(t={}){e(this,"opts",void 0),this.opts=Oi(function(e,t={}){return{...e,...Gt(t)}}(Ei,t))}}function Li(e){return e.replace(new RegExp(`[${["","","","","","","","","",""].join("")}]`,"g"),"-")}function Ni(e){return`${!!/^-/.exec(e)?"-":""}${e.replace(/-/g,"")}`}function Pi(e){return e.replace(/,/g,".")}function Ri(e){const t=[String.raw`\d`,...e.allowNegative?[Bt("-")]:[],...e.allowFloat?[Bt(e.decimalSeparator)]:[]],n=new RegExp(`[^${t.join("")}]`,"g");return e=>e.replace(n,"")}function zi(e){return t=>t.split(e.decimalSeparator).reduce(((t,n,r)=>{if(void 0===t)return n;return`${t}${r<=1?e.decimalSeparator:""}${n}`}))}function Fi(e){const t=new RegExp(`(^|[^\\d])(?=${Bt(e.decimalSeparator)})`);return e=>e.replace(t,"$10")}function Hi(e){return e.replace(/^(-?)0*(?!\.|$)/,"$1")}function qi(e){return e.replace(/(\.(?:[1-9]|0(?=0*[1-9]))*)(0*)$/,"$1")}function Vi(e){return e.replace(/\.$/,"")}function ji(e){return t=>e.reduce(((e,t)=>t(e)),t)}function Wi(e){return ji([Li,Ri(e),Ni,zi(e),Pi,Fi(e),Hi])}function Ui(e){return function(t){const n=function(t){return Number.isNaN(t)?["Value is NaN."]:!e.allowNegative&&(t<0||Object.is(t,-0))?["Value must be positive."]:e.allowFloat||"number"!=typeof t||t%1==0?[]:["Value must be an integer."]}(t);if(n.length)throw new Error(`Unable to format value. ${n.join(", ")}`);const r=Intl.NumberFormat(e.locale,{numberingSystem:"latn",minimumFractionDigits:e.minimumFractionDigits,maximumFractionDigits:Math.max(e.minimumFractionDigits,e.maximumFractionDigits),useGrouping:e.useGrouping}).formatToParts(t),o=[];e.forceTrailingDecimal&&o.push(function(e){return t=>t.some((e=>"decimal"===e.type))?t:[...t,{type:"decimal",value:e.decimalSeparator}]}(e));const s=function(e){return e.map((e=>e.value)).join("")}(o.reduce(((e,t)=>t(e)),r));return Li(s)}}function Yi(e){return t=>t.replace(/\./g,e.decimalSeparator)}function Bi(e){return(e.split(".")[1]??"").length}function Ki(e){return e.endsWith(".")}function Gi(e){return function(t){const n=Wi(e)(t),r=function(e){const t=parseFloat(e);if(!Number.isNaN(t))return t}(n);if(void 0===r)return{value:null,intermediateDisplay:n};const o=function(e){return ji([Wi(e),qi,Vi])}(e)(t);var s;if(s=r,Ui(Oi({locale:"en-US",allowFloat:!0,allowNegative:!0,useGrouping:!1,minimumFractionDigits:0,maximumFractionDigits:20,forceTrailingDecimal:!1}))(s)===o){const t=Object.is(r,-0)?-0:parseFloat(r.toFixed(e.maximumFractionDigits));return{value:{type:"number",numericalValue:t,normalizedStringifiedNumber:t.toString()},intermediateDisplay:Ui({...e,forceTrailingDecimal:Ki(n),minimumFractionDigits:Math.min(Bi(n),e.maximumFractionDigits)})(t)}}const i=function(e){try{return BigInt(e)}catch{return}}(n);return void 0!==i?{value:{type:"bigint",numericalValue:i,normalizedStringifiedNumber:o},intermediateDisplay:Ui({...e,forceTrailingDecimal:!1,minimumFractionDigits:0,maximumFractionDigits:0})(i)}:{value:{type:"bigfloat",normalizedStringifiedNumber:o},intermediateDisplay:Yi(e)(n)}}}class Xi extends Ai{format(e){return Ui(this.opts)(e)}parse(e){const t=Gi(this.opts)(e);if(null===t.value)return{value:null,intermediateDisplay:t.intermediateDisplay};if("number"!==t.value.type)throw new Error("Number input could not be accurately parsed to a JavaScript number without loss of precision.");return{value:t.value.numericalValue,intermediateDisplay:t.intermediateDisplay}}}class Ji extends Ai{format(e){const t=Gi({...this.opts,decimalSeparator:"."})(e);switch(t.value?.type){case"bigfloat":return t.value.normalizedStringifiedNumber;case"number":case"bigint":return Ui(this.opts)(t.value.numericalValue);default:return""}}parse(e){const t=Gi(this.opts)(e);return{value:t.value?.normalizedStringifiedNumber??null,intermediateDisplay:t.intermediateDisplay}}}function Zi(e){const t={...Ei,...e},{allowFloat:n,allowNegative:r}=t;return r?"text":n?"decimal":"numeric"}function Qi(e){let t,n,r,o;const s=[{formatter:e[3]},e[4],{inputmode:e[2]}];function i(t){e[5](t)}function l(t){e[6](t)}let c={};for(let u=0;u<s.length;u+=1)c=a(c,s[u]);return void 0!==e[0]&&(c.value=e[0]),void 0!==e[1]&&(c.element=e[1]),t=new Ti({props:c}),we.push((()=>nt(t,"value",i))),we.push((()=>nt(t,"element",l))),t.$on("artificialInput",e[7]),t.$on("artificialChange",e[8]),{c(){rt(t.$$.fragment)},m(e,n){ot(t,e,n),o=!0},p(e,[o]){const i=28&o?et(s,[8&o&&{formatter:e[3]},16&o&&tt(e[4]),4&o&&{inputmode:e[2]}]):{};!n&&1&o&&(n=!0,i.value=e[0],Te((()=>n=!1))),!r&&2&o&&(r=!0,i.element=e[1],Te((()=>r=!1))),t.$set(i)},i(e){o||(qe(t.$$.fragment,e),o=!0)},o(e){Ve(t.$$.fragment,e),o=!1},d(e){st(t,e)}}}function ea(e,t,n){let r,o;const s=["value","element"];let i=x(t,s),{value:l}=t,{element:c}=t;return e.$$set=e=>{t=a(a({},t),w(e)),n(4,i=x(t,s)),"value"in e&&n(0,l=e.value),"element"in e&&n(1,c=e.element)},e.$$.update=()=>{n(3,r=new Xi(i)),n(2,o=Zi(i))},[l,c,o,r,i,function(e){l=e,n(0,l)},function(e){c=e,n(1,c)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)}]}class ta extends at{constructor(e){super(),it(this,e,ea,Qi,p,{value:0,element:1})}}function na(e){let t,n,r,o;const s=[e[4],{formatter:e[3]},{inputmode:e[2]}];function i(t){e[5](t)}function l(t){e[6](t)}let c={};for(let u=0;u<s.length;u+=1)c=a(c,s[u]);return void 0!==e[0]&&(c.value=e[0]),void 0!==e[1]&&(c.element=e[1]),t=new Ti({props:c}),we.push((()=>nt(t,"value",i))),we.push((()=>nt(t,"element",l))),t.$on("blur",e[7]),t.$on("focus",e[8]),t.$on("keydown",e[9]),t.$on("artificialInput",e[10]),t.$on("artificialChange",e[11]),{c(){rt(t.$$.fragment)},m(e,n){ot(t,e,n),o=!0},p(e,[o]){const i=28&o?et(s,[16&o&&tt(e[4]),8&o&&{formatter:e[3]},4&o&&{inputmode:e[2]}]):{};!n&&1&o&&(n=!0,i.value=e[0],Te((()=>n=!1))),!r&&2&o&&(r=!0,i.element=e[1],Te((()=>r=!1))),t.$set(i)},i(e){o||(qe(t.$$.fragment,e),o=!0)},o(e){Ve(t.$$.fragment,e),o=!1},d(e){st(t,e)}}}function ra(e,t,n){let r,o;const s=["value","element"];let i=x(t,s),{value:l}=t,{element:c}=t;return e.$$set=e=>{t=a(a({},t),w(e)),n(4,i=x(t,s)),"value"in e&&n(0,l=e.value),"element"in e&&n(1,c=e.element)},e.$$.update=()=>{n(3,r=new Ji(i)),n(2,o=Zi(i))},[l,c,o,r,i,function(e){l=e,n(0,l)},function(e){c=e,n(1,c)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)}]}class oa extends at{constructor(e){super(),it(this,e,ra,na,p,{value:0,element:1})}}const sa=e=>({close:32768&e}),ia=e=>({close:e[15]}),aa=e=>({}),la=e=>({});function ca(e){let t,n,r;const o=[$r,{size:"0.75em"}];let s={};for(let i=0;i<o.length;i+=1)s=a(s,o[i]);return n=new Wr({props:s}),{c(){t=F("span"),rt(n.$$.fragment),B(t,"class","arrow")},m(e,o){P(e,t,o),ot(n,t,null),r=!0},p(e,t){const r=0&t?et(o,[tt($r),o[1]]):{};n.$set(r)},i(e){r||(qe(n.$$.fragment,e),r=!0)},o(e){Ve(n.$$.fragment,e),r=!1},d(e){e&&R(t),st(n)}}}function ua(e){let t,n,r,o;const s=e[17].trigger,i=g(s,e,e[24],la);let a=e[8]&&ca();return{c(){t=F("span"),i&&i.c(),n=V(),a&&a.c(),r=j(),B(t,"class","label")},m(e,s){P(e,t,s),i&&i.m(t,null),P(e,n,s),a&&a.m(e,s),P(e,r,s),o=!0},p(e,t){i&&i.p&&(!o||16777216&t)&&v(i,s,e,e[24],o?y(s,e[24],t,aa):b(e[24]),la),e[8]?a?(a.p(e,t),256&t&&qe(a,1)):(a=ca(),a.c(),qe(a,1),a.m(r.parentNode,r)):a&&(Fe(),Ve(a,1,1,(()=>{a=null})),He())},i(e){o||(qe(i,e),qe(a),o=!0)},o(e){Ve(i,e),Ve(a),o=!1},d(e){e&&R(t),i&&i.d(e),e&&R(n),a&&a.d(e),e&&R(r)}}}function da(e){let t;const n=e[17].content,r=g(n,e,e[24],ia);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||16809984&o)&&v(r,n,e,e[24],t?y(n,e[24],o,sa):b(e[24]),ia)},i(e){t||(qe(r,e),t=!0)},o(e){Ve(r,e),t=!1},d(e){r&&r.d(e)}}}function pa(e){let t,n,r,o,s;const i=[{appearance:e[1]},{class:e[12]},{"aria-controls":e[5]},{"aria-haspopup":"listbox"},{"aria-label":e[4]},{title:e[4]},{size:e[9]},{disabled:e[10]},e[14]];function l(t){e[18](t)}let c={$$slots:{default:[ua]},$$scope:{ctx:e}};for(let u=0;u<i.length;u+=1)c=a(c,i[u]);return void 0!==e[11]&&(c.element=e[11]),t=new Ln({props:c}),we.push((()=>nt(t,"element",l))),t.$on("click",e[13]),t.$on("keydown",e[19]),t.$on("focus",e[20]),t.$on("blur",e[21]),o=new qs({props:{trigger:e[11],isOpen:e[0],placements:e[6],preferredPlacement:e[7],class:e[2],closeOnInnerClick:e[3],$$slots:{default:[da,({close:e})=>({15:e}),({close:e})=>e?32768:0]},$$scope:{ctx:e}}}),o.$on("close",e[15]),o.$on("open",e[22]),o.$on("close",e[23]),{c(){rt(t.$$.fragment),r=V(),rt(o.$$.fragment)},m(e,n){ot(t,e,n),P(e,r,n),ot(o,e,n),s=!0},p(e,[r]){const s=22066&r?et(i,[2&r&&{appearance:e[1]},4096&r&&{class:e[12]},32&r&&{"aria-controls":e[5]},i[3],16&r&&{"aria-label":e[4]},16&r&&{title:e[4]},512&r&&{size:e[9]},1024&r&&{disabled:e[10]},16384&r&&tt(e[14])]):{};16777472&r&&(s.$$scope={dirty:r,ctx:e}),!n&&2048&r&&(n=!0,s.element=e[11],Te((()=>n=!1))),t.$set(s);const a={};2048&r&&(a.trigger=e[11]),1&r&&(a.isOpen=e[0]),64&r&&(a.placements=e[6]),128&r&&(a.preferredPlacement=e[7]),4&r&&(a.class=e[2]),8&r&&(a.closeOnInnerClick=e[3]),16809984&r&&(a.$$scope={dirty:r,ctx:e}),o.$set(a)},i(e){s||(qe(t.$$.fragment,e),qe(o.$$.fragment,e),s=!0)},o(e){Ve(t.$$.fragment,e),Ve(o.$$.fragment,e),s=!1},d(e){st(t,e),e&&R(r),st(o,e)}}}function $a(e,t,n){let r;const o=["triggerClass","triggerAppearance","contentClass","isOpen","closeOnInnerClick","ariaLabel","ariaControls","placements","preferredPlacement","showArrow","size","disabled"];let s,i=x(t,o),{$$slots:l={},$$scope:c}=t,{triggerClass:u=""}=t,{triggerAppearance:d="default"}=t,{contentClass:p=""}=t,{isOpen:$=!1}=t,{closeOnInnerClick:m=!1}=t,{ariaLabel:f}=t,{ariaControls:g}=t,{placements:h}=t,{preferredPlacement:y}=t,{showArrow:v=!0}=t,{size:b="medium"}=t,{disabled:S=!1}=t;return e.$$set=e=>{t=a(a({},t),w(e)),n(14,i=x(t,o)),"triggerClass"in e&&n(16,u=e.triggerClass),"triggerAppearance"in e&&n(1,d=e.triggerAppearance),"contentClass"in e&&n(2,p=e.contentClass),"isOpen"in e&&n(0,$=e.isOpen),"closeOnInnerClick"in e&&n(3,m=e.closeOnInnerClick),"ariaLabel"in e&&n(4,f=e.ariaLabel),"ariaControls"in e&&n(5,g=e.ariaControls),"placements"in e&&n(6,h=e.placements),"preferredPlacement"in e&&n(7,y=e.preferredPlacement),"showArrow"in e&&n(8,v=e.showArrow),"size"in e&&n(9,b=e.size),"disabled"in e&&n(10,S=e.disabled),"$$scope"in e&&n(24,c=e.$$scope)},e.$$.update=()=>{65792&e.$$.dirty&&n(12,r=function(e,t){const n=["dropdown","trigger"];return e&&n.push(e),t||n.push("no-arrow"),n.join(" ")}(u,v))},[$,d,p,m,f,g,h,y,v,b,S,s,r,function(e){e.preventDefault(),n(0,$=!$)},i,function(){n(0,$=!1)},u,l,function(e){s=e,n(11,s)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},c]}class ma extends at{constructor(e){super(),it(this,e,$a,pa,p,{triggerClass:16,triggerAppearance:1,contentClass:2,isOpen:0,closeOnInnerClick:3,ariaLabel:4,ariaControls:5,placements:6,preferredPlacement:7,showArrow:8,size:9,disabled:10})}}const fa=e=>({isOpen:2&e[0]}),ga=e=>({api:e[0],isOpen:e[1]});function ha(e){let t;const n=e[16].default,r=g(n,e,e[15],ga);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||32770&o[0])&&v(r,n,e,e[15],t?y(n,e[15],o,fa):b(e[15]),ga)},i(e){t||(qe(r,e),t=!0)},o(e){Ve(r,e),t=!1},d(e){r&&r.d(e)}}}function ya(e,t,n){let r,o,s,{$$slots:i={},$$scope:a}=t;const l=fe();let{selectionType:c="multiple"}=t,{options:u}=t,{value:d=[]}=t,{searchable:p=!1}=t,{disabled:$=!1}=t,{labelKey:m="label"}=t,{getLabel:g=(e=>At(e,m))}=t,{checkEquality:h=((e,t)=>e===t)}=t,{checkIfOptionIsDisabled:y=(()=>!1)}=t,{mode:v="dropdown"}=t;const b=mt(!1);f(e,b,(e=>n(1,r=e)));const w=mt(-1);f(e,w,(e=>n(17,o=e)));const x=mt(Array.isArray(u)?u:[]);function S(){const e=d[d.length-1];k(w,o=s.findIndex((t=>h(e,t))),o)}function C(){$||(k(b,r=!0,r),S())}function D(){$||k(b,r=!1,r)}function I(e){const t=s.findIndex((t=>h(e,t)));k(w,o=t,o)}function _(){const e=s.length;k(w,o=o===e-1?0:o+1,o)}function T(){const e=s.length;k(w,o=o<=0?e-1:o-1,o)}function M(e){return"single"===c?h(e,d[0]):d.some((t=>h(e,t)))}function E(e){I(e),y(e)||(M(e)?"single"===c&&D():("single"===c?(n(5,d=[e]),D()):n(5,d=[...d,e]),l("change",d)))}function O(e){I(e),y(e)||M(e)&&("single"===c?(n(5,d=[]),D()):n(5,d=d.filter((t=>!h(e,t)))),l("change",d))}function A(e){"single"!==c&&M(e)?O(e):E(e)}function L(){A(s[o])}f(e,x,(e=>n(18,s=e))),pe((()=>{"static"===v&&S()}));const N={open:C,close:D,toggle:function(){$||(r?D():C())},focusOption:I,focusNext:_,focusPrevious:T,isOptionSelected:M,select:E,deselect:O,pick:A,pickFocused:L,handleKeyDown:function(e){if(r||"dropdown"!==v)switch(e.key){case"ArrowDown":e.preventDefault(),_();break;case"ArrowUp":e.preventDefault(),T();break;case"Escape":e.preventDefault(),D();break;case"Enter":e.preventDefault(),L()}else if("Enter"===e.key)e.preventDefault(),C()}},P=mt(d),R=mt({selectionType:c,getLabel:g,searchable:p,disabled:$,checkEquality:h,checkIfOptionIsDisabled:y,mode:v});return ge("LIST_BOX_CONTEXT",{api:N,state:{isOpen:b,displayedOptions:x,focusedOptionIndex:w,value:P,staticProps:R}}),e.$$set=e=>{"selectionType"in e&&n(6,c=e.selectionType),"options"in e&&n(7,u=e.options),"value"in e&&n(5,d=e.value),"searchable"in e&&n(8,p=e.searchable),"disabled"in e&&n(9,$=e.disabled),"labelKey"in e&&n(10,m=e.labelKey),"getLabel"in e&&n(11,g=e.getLabel),"checkEquality"in e&&n(12,h=e.checkEquality),"checkIfOptionIsDisabled"in e&&n(13,y=e.checkIfOptionIsDisabled),"mode"in e&&n(14,v=e.mode),"$$scope"in e&&n(15,a=e.$$scope)},e.$$.update=()=>{128&e.$$.dirty[0]&&x.set(Array.isArray(u)?u:[]),32&e.$$.dirty[0]&&P.set(d),31552&e.$$.dirty[0]&&R.set({selectionType:c,getLabel:g,searchable:p,disabled:$,checkEquality:h,checkIfOptionIsDisabled:y,mode:v})},[N,r,b,w,x,d,c,u,p,$,m,g,h,y,v,a,i]}class va extends at{constructor(e){super(),it(this,e,ya,ha,p,{selectionType:6,options:7,value:5,searchable:8,disabled:9,labelKey:10,getLabel:11,checkEquality:12,checkIfOptionIsDisabled:13,mode:14,api:0},null,[-1,-1])}get api(){return this.$$.ctx[0]}}function ba(e,t,n){const r=e.slice();r[23]=t[n],r[26]=n;const o=r[6].some((e=>r[4].checkEquality(e,r[23])));return r[24]=o,r}const wa=e=>({option:32&e,label:48&e}),xa=e=>({option:e[23],label:e[4].getLabel(e[23])});function Sa(e,t){let n,r,o,s,i,a;const l=t[15].default,c=g(l,t,t[14],xa),u=c||function(e){let t,n;return t=new No({props:{arg:e[4].getLabel(e[23])}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};48&n&&(r.arg=e[4].getLabel(e[23])),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}(t);function d(){return t[19](t[23])}return{key:e,first:null,c(){n=F("li"),u&&u.c(),r=V(),B(n,"role","option"),B(n,"aria-selected",o=!!t[24]||void 0),te(n,"selected",t[24]),te(n,"in-focus",t[26]===t[7]),this.first=n},m(e,t){P(e,n,t),u&&u.m(n,null),A(n,r),s=!0,i||(a=W(n,"click",d),i=!0)},p(e,r){t=e,c?c.p&&(!s||16432&r)&&v(c,l,t,t[14],s?y(l,t[14],r,wa):b(t[14]),xa):u&&u.p&&(!s||48&r)&&u.p(t,s?r:-1),(!s||112&r&&o!==(o=!!t[24]||void 0))&&B(n,"aria-selected",o),(!s||112&r)&&te(n,"selected",t[24]),(!s||160&r)&&te(n,"in-focus",t[26]===t[7])},i(e){s||(qe(u,e),s=!0)},o(e){Ve(u,e),s=!1},d(e){e&&R(n),u&&u.d(e),i=!1,a()}}}function Ca(e){let t,n,r,o,s,i=[],a=new Map,l=e[5];const c=e=>e[23];for(let u=0;u<l.length;u+=1){let t=ba(e,l,u),n=c(t);a.set(n,i[u]=Sa(n,t))}return{c(){t=F("ul");for(let e=0;e<i.length;e+=1)i[e].c();B(t,"tabindex","0"),B(t,"id",e[0]),B(t,"role","listbox"),B(t,"aria-expanded","true"),B(t,"class",n=["list-box-options",e[4].selectionType,e[1]].join(" ")),te(t,"truncate",e[2]),te(t,"disabled",e[4].disabled)},m(n,a){P(n,t,a);for(let e=0;e<i.length;e+=1)i[e].m(t,null);e[20](t),r=!0,o||(s=[W(t,"focus",e[16]),W(t,"blur",e[17]),W(t,"keydown",e[18])],o=!0)},p(e,[o]){16880&o&&(l=e[5],Fe(),i=Qe(i,o,c,1,e,l,a,t,Je,Sa,null,ba),He()),(!r||1&o)&&B(t,"id",e[0]),(!r||18&o&&n!==(n=["list-box-options",e[4].selectionType,e[1]].join(" ")))&&B(t,"class",n),(!r||22&o)&&te(t,"truncate",e[2]),(!r||18&o)&&te(t,"disabled",e[4].disabled)},i(e){if(!r){for(let e=0;e<l.length;e+=1)qe(i[e]);r=!0}},o(e){for(let t=0;t<i.length;t+=1)Ve(i[t]);r=!1},d(n){n&&R(t);for(let e=0;e<i.length;e+=1)i[e].d();e[20](null),o=!1,u(s)}}}function ka(e,t,n){let r,o,s,i,{$$slots:a={},$$scope:l}=t,{id:c}=t,{class:u=""}=t,{truncateOnOverflow:d=!0}=t,{offsetOnFocus:p=0}=t;const{api:$,state:m}=he("LIST_BOX_CONTEXT"),{displayedOptions:g,value:h,focusedOptionIndex:y,staticProps:v}=m;let b;function w(){if(b){const e=b.querySelector(".in-focus"),t="dropdown"===r.mode?b.parentElement:b;if(e&&t)if(e.offsetTop+e.clientHeight+p>t.scrollTop+t.clientHeight){const n=t.getBoundingClientRect().bottom-e.getBoundingClientRect().bottom-2*p;t.scrollTop-=n}else e.offsetTop<t.scrollTop&&(t.scrollTop=e.offsetTop-p)}}f(e,g,(e=>n(5,o=e))),f(e,h,(e=>n(6,s=e))),f(e,y,(e=>n(7,i=e))),f(e,v,(e=>n(4,r=e))),pe((()=>(w(),y.subscribe((()=>{Ie().then((()=>w()))})))));return e.$$set=e=>{"id"in e&&n(0,c=e.id),"class"in e&&n(1,u=e.class),"truncateOnOverflow"in e&&n(2,d=e.truncateOnOverflow),"offsetOnFocus"in e&&n(13,p=e.offsetOnFocus),"$$scope"in e&&n(14,l=e.$$scope)},[c,u,d,b,r,o,s,i,$,g,h,y,v,p,l,a,function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},e=>$.pick(e),function(e){we[e?"unshift":"push"]((()=>{b=e,n(3,b)}))}]}class Da extends at{constructor(e){super(),it(this,e,ka,Ca,p,{id:0,class:1,truncateOnOverflow:2,offsetOnFocus:13})}}const Ia=e=>({option:268435456&e[0],label:536870912&e[0]}),_a=e=>({option:e[28],label:e[29]});function Ta(e,t,n){const r=e.slice();return r[30]=t[n],r}const Ma=e=>({option:1&e[0],label:17&e[0]}),Ea=e=>({option:e[30],label:e[4](e[30])});function Oa(e){let t,n;return t=new No({props:{arg:e[4](e[30])}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};17&n[0]&&(r.arg=e[4](e[30])),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Aa(e){let t;const n=e[16].default,r=g(n,e,e[23],Ea);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||8388625&o[0])&&v(r,n,e,e[23],t?y(n,e[23],o,Ma):b(e[23]),Ea)},i(e){t||(qe(r,e),t=!0)},o(e){Ve(r,e),t=!1},d(e){r&&r.d(e)}}}function La(e){let t,n,r,o,s,i,a,l,c,u,d;const p=[Aa,Oa],$=[];function m(e,t){return e[14].default?0:1}function f(){return e[17](e[30])}return r=m(e),o=$[r]=p[r](e),a=new Wr({props:{data:sr,size:"0.8em"}}),{c(){t=F("span"),n=F("span"),o.c(),s=V(),i=F("span"),rt(a.$$.fragment),l=V(),B(n,"class","label"),B(i,"class","remove-button icon-button"),B(t,"class","selected-value")},m(e,o){P(e,t,o),A(t,n),$[r].m(n,null),A(t,s),A(t,i),ot(a,i,null),A(t,l),c=!0,u||(d=W(i,"click",Y(f)),u=!0)},p(t,s){let i=r;r=m(e=t),r===i?$[r].p(e,s):(Fe(),Ve($[i],1,1,(()=>{$[i]=null})),He(),o=$[r],o?o.p(e,s):(o=$[r]=p[r](e),o.c()),qe(o,1),o.m(n,null))},i(e){c||(qe(o),qe(a.$$.fragment,e),c=!0)},o(e){Ve(o),Ve(a.$$.fragment,e),c=!1},d(e){e&&R(t),$[r].d(),st(a),u=!1,d()}}}function Na(e){let t,n;return t=new Da({props:{id:e[1]+"-select-options"}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};2&n[0]&&(r.id=e[1]+"-select-options"),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Pa(e){let t,n;return t=new Da({props:{id:e[1]+"-select-options",$$slots:{default:[Ra,({option:e,label:t})=>({28:e,29:t}),({option:e,label:t})=>[(e?268435456:0)|(t?536870912:0)]]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};2&n[0]&&(r.id=e[1]+"-select-options"),813694976&n[0]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Ra(e){let t;const n=e[16].default,r=g(n,e,e[23],_a);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||813694976&o[0])&&v(r,n,e,e[23],t?y(n,e[23],o,Ia):b(e[23]),_a)},i(e){t||(qe(r,e),t=!0)},o(e){Ve(r,e),t=!1},d(e){r&&r.d(e)}}}function za(e){let t,n,r,o;const s=[Pa,Na],i=[];function a(e,t){return e[14].default?0:1}return t=a(e),n=i[t]=s[t](e),{c(){n.c(),r=j()},m(e,n){i[t].m(e,n),P(e,r,n),o=!0},p(e,o){let l=t;t=a(e),t===l?i[t].p(e,o):(Fe(),Ve(i[l],1,1,(()=>{i[l]=null})),He(),n=i[t],n?n.p(e,o):(n=i[t]=s[t](e),n.c()),qe(n,1),n.m(r.parentNode,r))},i(e){o||(qe(n),o=!0)},o(e){Ve(n),o=!1},d(e){i[t].d(e),e&&R(r)}}}function Fa(e){let t,n,r,o,s,i,a,l,c,p,$,m=e[0],f=[];for(let u=0;u<m.length;u+=1)f[u]=La(Ta(e,m,u));const g=e=>Ve(f[e],1,1,(()=>{f[e]=null}));return s=new Wr({props:{data:er}}),l=new qs({props:{isOpen:e[27],class:"multi-select-content "+e[6],trigger:e[10],$$slots:{default:[za]},$$scope:{ctx:e}}}),l.$on("close",(function(){return e[20](e[26])})),{c(){t=F("span"),n=F("span");for(let e=0;e<f.length;e+=1)f[e].c();r=V(),o=F("span"),rt(s.$$.fragment),a=V(),rt(l.$$.fragment),B(n,"class","selected-values"),B(o,"class","clear-button icon-button"),B(t,"class",i="input-element multi-select-trigger "+e[7]),B(t,"aria-label",e[8]),B(t,"tabindex","0"),B(t,"id",e[1]),te(t,"disabled",e[2])},m(i,u){P(i,t,u),A(t,n);for(let e=0;e<f.length;e+=1)f[e].m(n,null);A(t,r),A(t,o),ot(s,o,null),e[19](t),P(i,a,u),ot(l,i,u),c=!0,p||($=[W(o,"click",Y(e[18])),W(t,"click",(function(){d(e[26].toggle)&&e[26].toggle.apply(this,arguments)})),W(t,"keydown",(function(){d(e[26].handleKeyDown)&&e[26].handleKeyDown.apply(this,arguments)}))],p=!0)},p(r,o){if(e=r,8409105&o[0]){let t;for(m=e[0],t=0;t<m.length;t+=1){const r=Ta(e,m,t);f[t]?(f[t].p(r,o),qe(f[t],1)):(f[t]=La(r),f[t].c(),qe(f[t],1),f[t].m(n,null))}for(Fe(),t=m.length;t<f.length;t+=1)g(t);He()}(!c||128&o[0]&&i!==(i="input-element multi-select-trigger "+e[7]))&&B(t,"class",i),(!c||256&o[0])&&B(t,"aria-label",e[8]),(!c||2&o[0])&&B(t,"id",e[1]),(!c||132&o[0])&&te(t,"disabled",e[2]);const s={};134217728&o[0]&&(s.isOpen=e[27]),64&o[0]&&(s.class="multi-select-content "+e[6]),1024&o[0]&&(s.trigger=e[10]),8404994&o[0]&&(s.$$scope={dirty:o,ctx:e}),l.$set(s)},i(e){if(!c){for(let e=0;e<m.length;e+=1)qe(f[e]);qe(s.$$.fragment,e),qe(l.$$.fragment,e),c=!0}},o(e){f=f.filter(Boolean);for(let t=0;t<f.length;t+=1)Ve(f[t]);Ve(s.$$.fragment,e),Ve(l.$$.fragment,e),c=!1},d(n){n&&R(t),z(f,n),st(s),e[19](null),n&&R(a),st(l,n),p=!1,u($)}}}function Ha(e){let t,n,r,o,s;const i=[e[13],{id:e[1]},{disabled:e[2]}];let l={};for(let d=0;d<i.length;d+=1)l=a(l,i[d]);function c(t){e[21](t)}t=new co({props:l});let u={options:e[5],labelKey:e[3],getLabel:e[4],disabled:e[2],checkEquality:e[9],$$slots:{default:[Fa,({api:e,isOpen:t})=>({26:e,27:t}),({api:e,isOpen:t})=>[(e?67108864:0)|(t?134217728:0)]]},$$scope:{ctx:e}};return void 0!==e[0]&&(u.value=e[0]),r=new va({props:u}),we.push((()=>nt(r,"value",c))),r.$on("change",e[22]),{c(){rt(t.$$.fragment),n=V(),rt(r.$$.fragment)},m(e,o){ot(t,e,o),P(e,n,o),ot(r,e,o),s=!0},p(e,n){const s=8198&n[0]?et(i,[8192&n[0]&&tt(e[13]),2&n[0]&&{id:e[1]},4&n[0]&&{disabled:e[2]}]):{};t.$set(s);const a={};32&n[0]&&(a.options=e[5]),8&n[0]&&(a.labelKey=e[3]),16&n[0]&&(a.getLabel=e[4]),4&n[0]&&(a.disabled=e[2]),512&n[0]&&(a.checkEquality=e[9]),209733079&n[0]&&(a.$$scope={dirty:n,ctx:e}),!o&&1&n[0]&&(o=!0,a.value=e[0],Te((()=>o=!1))),r.$set(a)},i(e){s||(qe(t.$$.fragment,e),qe(r.$$.fragment,e),s=!0)},o(e){Ve(t.$$.fragment,e),Ve(r.$$.fragment,e),s=!1},d(e){st(t,e),e&&R(n),st(r,e)}}}function qa(e,t,n){const r=["id","disabled","labelKey","getLabel","options","values","contentClass","triggerClass","ariaLabel","valuesAreEqual","autoClearInvalidValues"];let o=x(t,r),{$$slots:s={},$$scope:i}=t;const l=S(s),c=fe();let u,{id:d=kt()}=t,{disabled:p=!1}=t,{labelKey:$="label"}=t,{getLabel:m=(e=>At(e,$))}=t,{options:f=[]}=t,{values:g=[]}=t,{contentClass:h=""}=t,{triggerClass:y=""}=t,{ariaLabel:v}=t,{valuesAreEqual:b=((e,t)=>e===t)}=t,{autoClearInvalidValues:C=!0}=t;function k(e){n(0,g=e),c("change",g)}function D(e){k(g.filter((t=>!b(t,e))))}return e.$$set=e=>{t=a(a({},t),w(e)),n(13,o=x(t,r)),"id"in e&&n(1,d=e.id),"disabled"in e&&n(2,p=e.disabled),"labelKey"in e&&n(3,$=e.labelKey),"getLabel"in e&&n(4,m=e.getLabel),"options"in e&&n(5,f=e.options),"values"in e&&n(0,g=e.values),"contentClass"in e&&n(6,h=e.contentClass),"triggerClass"in e&&n(7,y=e.triggerClass),"ariaLabel"in e&&n(8,v=e.ariaLabel),"valuesAreEqual"in e&&n(9,b=e.valuesAreEqual),"autoClearInvalidValues"in e&&n(15,C=e.autoClearInvalidValues),"$$scope"in e&&n(23,i=e.$$scope)},e.$$.update=()=>{var t;32&e.$$.dirty[0]&&(t=f,C&&k(g.filter((e=>t.some((t=>b(t,e)))))))},[g,d,p,$,m,f,h,y,v,b,u,k,D,o,l,C,s,e=>D(e),()=>k([]),function(e){we[e?"unshift":"push"]((()=>{u=e,n(10,u)}))},e=>e.close(),function(e){g=e,n(0,g)},function(t){ve.call(this,e,t)},i]}class Va extends at{constructor(e){super(),it(this,e,qa,Ha,p,{id:1,disabled:2,labelKey:3,getLabel:4,options:5,values:0,contentClass:6,triggerClass:7,ariaLabel:8,valuesAreEqual:9,autoClearInvalidValues:15},null,[-1,-1])}}function ja(e){let t,n,r,o,s,i,l,c;const d=[e[5]];function p(t){e[12](t)}let $={};for(let u=0;u<d.length;u+=1)$=a($,d[u]);void 0!==e[2]&&($.id=e[2]),t=new co({props:$}),we.push((()=>nt(t,"id",p)));let m=[e[5],{type:"password"},{class:s=["input-element","password-input",...e[3].split(" ")].join(" ")},{id:e[2]}],f={};for(let u=0;u<m.length;u+=1)f=a(f,m[u]);return{c(){rt(t.$$.fragment),r=V(),o=F("input"),K(o,f),te(o,"has-error",e[4])},m(n,s){ot(t,n,s),P(n,r,s),P(n,o,s),o.autofocus&&o.focus(),e[13](o),J(o,e[0]),i=!0,l||(c=[W(o,"input",e[14]),W(o,"input",e[6]),W(o,"focus",e[7]),W(o,"blur",e[8]),W(o,"keydown",e[9]),W(o,"beforeinput",e[10]),W(o,"change",e[11])],l=!0)},p(e,[r]){const a=32&r?et(d,[tt(e[5])]):{};!n&&4&r&&(n=!0,a.id=e[2],Te((()=>n=!1))),t.$set(a),K(o,f=et(m,[32&r&&e[5],{type:"password"},(!i||8&r&&s!==(s=["input-element","password-input",...e[3].split(" ")].join(" ")))&&{class:s},(!i||4&r)&&{id:e[2]}])),1&r&&o.value!==e[0]&&J(o,e[0]),te(o,"has-error",e[4])},i(e){i||(qe(t.$$.fragment,e),i=!0)},o(e){Ve(t.$$.fragment,e),i=!1},d(n){st(t,n),n&&R(r),n&&R(o),e[13](null),l=!1,u(c)}}}function Wa(e,t,n){const r=["value","class","element","hasError","id"];let o=x(t,r),{value:s=""}=t,{class:i=""}=t,{element:l}=t,{hasError:c=!1}=t,{id:u}=t;return e.$$set=e=>{t=a(a({},t),w(e)),n(5,o=x(t,r)),"value"in e&&n(0,s=e.value),"class"in e&&n(3,i=e.class),"element"in e&&n(1,l=e.element),"hasError"in e&&n(4,c=e.hasError),"id"in e&&n(2,u=e.id)},[s,l,u,i,c,o,function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(e){u=e,n(2,u)},function(e){we[e?"unshift":"push"]((()=>{l=e,n(1,l)}))},function(){s=this.value,n(0,s)}]}class Ua extends at{constructor(e){super(),it(this,e,Wa,ja,p,{value:0,class:3,element:1,hasError:4,id:2})}}function Ya(e){let t,n,r,o,i=[{class:"progress"},{role:"progressbar"},{"aria-valuenow":e[0]},{"aria-valuemin":r=0},{"aria-valuemax":o=100},{"aria-valuetext":e[1]},e[2]],l={};for(let s=0;s<i.length;s+=1)l=a(l,i[s]);return{c(){t=F("div"),n=F("div"),Z(n,"width",e[0]+"%"),K(t,l)},m(e,r){P(e,t,r),A(t,n)},p(e,[r]){1&r&&Z(n,"width",e[0]+"%"),K(t,l=et(i,[{class:"progress"},{role:"progressbar"},1&r&&{"aria-valuenow":e[0]},{"aria-valuemin":0},{"aria-valuemax":100},2&r&&{"aria-valuetext":e[1]},4&r&&e[2]]))},i:s,o:s,d(e){e&&R(t)}}}function Ba(e,t,n){const r=["percentage","ariaValueText"];let o=x(t,r),{percentage:s=0}=t,{ariaValueText:i="Progress"}=t;return e.$$set=e=>{t=a(a({},t),w(e)),n(2,o=x(t,r)),"percentage"in e&&n(0,s=e.percentage),"ariaValueText"in e&&n(1,i=e.ariaValueText)},[s,i,o]}class Ka extends at{constructor(e){super(),it(this,e,Ba,Ya,p,{percentage:0,ariaValueText:1})}}function Ga(e){let t,n,r,o,s,i,l;const c=[e[5],{disabled:e[3]}];function u(t){e[6](t)}let d={};for(let p=0;p<c.length;p+=1)d=a(d,c[p]);return void 0!==e[1]&&(d.id=e[1]),t=new co({props:d}),we.push((()=>nt(t,"id",u))),{c(){rt(t.$$.fragment),r=V(),o=F("input"),B(o,"class","radio"),B(o,"type","radio"),o.checked=e[0],B(o,"id",e[1]),o.disabled=e[3],o.value=e[2]},m(n,a){ot(t,n,a),P(n,r,a),P(n,o,a),s=!0,i||(l=W(o,"change",e[4]),i=!0)},p(e,[r]){const i=40&r?et(c,[32&r&&tt(e[5]),8&r&&{disabled:e[3]}]):{};!n&&2&r&&(n=!0,i.id=e[1],Te((()=>n=!1))),t.$set(i),(!s||1&r)&&(o.checked=e[0]),(!s||2&r)&&B(o,"id",e[1]),(!s||8&r)&&(o.disabled=e[3]),(!s||4&r)&&(o.value=e[2])},i(e){s||(qe(t.$$.fragment,e),s=!0)},o(e){Ve(t.$$.fragment,e),s=!1},d(e){st(t,e),e&&R(r),e&&R(o),i=!1,l()}}}function Xa(e,t,n){const r=["checked","value","disabled","id"];let o=x(t,r);const s=fe();let{checked:i=!1}=t,{value:l}=t,{disabled:c=!1}=t,{id:u}=t;return e.$$set=e=>{t=a(a({},t),w(e)),n(5,o=x(t,r)),"checked"in e&&n(0,i=e.checked),"value"in e&&n(2,l=e.value),"disabled"in e&&n(3,c=e.disabled),"id"in e&&n(1,u=e.id)},[i,u,l,c,function(){n(0,i=!i),s("change",i)},o,function(e){u=e,n(1,u)}]}class Ja extends at{constructor(e){super(),it(this,e,Xa,Ga,p,{checked:0,value:2,disabled:3,id:1})}}const Za=e=>({}),Qa=e=>({slot:"label"}),el=e=>({}),tl=e=>({slot:"extra"});function nl(e){let t,n;return t=new Ja({props:{disabled:e[9],checked:e[8](e[0],e[14])}}),t.$on("change",(function(...t){return e[11](e[14],...t)})),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(n,r){e=n;const o={};512&r&&(o.disabled=e[9]),16641&r&&(o.checked=e[8](e[0],e[14])),t.$set(o)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function rl(e){let t;const n=e[10].default,r=g(n,e,e[13],Qa);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||8192&o)&&v(r,n,e,e[13],t?y(n,e[13],o,Za):b(e[13]),Qa)},i(e){t||(qe(r,e),t=!0)},o(e){Ve(r,e),t=!1},d(e){r&&r.d(e)}}}function ol(e){let t;const n=e[10].extra,r=g(n,e,e[13],tl);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||8192&o)&&v(r,n,e,e[13],t?y(n,e[13],o,el):b(e[13]),tl)},i(e){t||(qe(r,e),t=!0)},o(e){Ve(r,e),t=!1},d(e){r&&r.d(e)}}}function sl(e){let t,n;return t=new Jo({props:{isInline:e[1],options:e[2],label:e[3],ariaLabel:e[4],disabled:e[9],boxed:e[7],labelKey:e[5],getLabel:e[6],$$slots:{extra:[ol,({option:e,disabled:t})=>({14:e,9:t}),({option:e,disabled:t})=>(e?16384:0)|(t?512:0)],label:[rl,({option:e,disabled:t})=>({14:e,9:t}),({option:e,disabled:t})=>(e?16384:0)|(t?512:0)],default:[nl,({option:e,disabled:t})=>({14:e,9:t}),({option:e,disabled:t})=>(e?16384:0)|(t?512:0)]},$$scope:{ctx:e}}}),t.$on("change",e[12]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const r={};2&n&&(r.isInline=e[1]),4&n&&(r.options=e[2]),8&n&&(r.label=e[3]),16&n&&(r.ariaLabel=e[4]),512&n&&(r.disabled=e[9]),128&n&&(r.boxed=e[7]),32&n&&(r.labelKey=e[5]),64&n&&(r.getLabel=e[6]),25345&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function il(e,t,n){let{$$slots:r={},$$scope:o}=t,{value:s}=t,{isInline:i=!1}=t,{options:a=[]}=t,{label:l}=t,{ariaLabel:c}=t,{radioLabelKey:u}=t,{getRadioLabel:d}=t,{disabled:p=!1}=t,{boxed:$=!1}=t,{valuesAreEqual:m=((e,t)=>e===t)}=t;return e.$$set=e=>{"value"in e&&n(0,s=e.value),"isInline"in e&&n(1,i=e.isInline),"options"in e&&n(2,a=e.options),"label"in e&&n(3,l=e.label),"ariaLabel"in e&&n(4,c=e.ariaLabel),"radioLabelKey"in e&&n(5,u=e.radioLabelKey),"getRadioLabel"in e&&n(6,d=e.getRadioLabel),"disabled"in e&&n(9,p=e.disabled),"boxed"in e&&n(7,$=e.boxed),"valuesAreEqual"in e&&n(8,m=e.valuesAreEqual),"$$scope"in e&&n(13,o=e.$$scope)},[s,i,a,l,c,u,d,$,m,p,r,(e,{detail:t})=>{t&&n(0,s=e)},function(t){ve.call(this,e,t)},o]}class al extends at{constructor(e){super(),it(this,e,il,sl,p,{value:0,isInline:1,options:2,label:3,ariaLabel:4,radioLabelKey:5,getRadioLabel:6,disabled:9,boxed:7,valuesAreEqual:8})}}function ll(e,{delay:t=0,duration:n=400,easing:r=i}={}){const o=+getComputedStyle(e).opacity;return{delay:t,duration:n,easing:r,css:e=>"opacity: "+e*o}}function cl(e,{delay:t=0,duration:n=400,easing:r=Lt,x:o=0,y:s=0,opacity:i=0}={}){const a=getComputedStyle(e),l=+a.opacity,c="none"===a.transform?"":a.transform,u=l*(1-i);return{delay:t,duration:n,easing:r,css:(e,t)=>`\n\t\t\ttransform: ${c} translate(${(1-e)*o}px, ${(1-e)*s}px);\n\t\t\topacity: ${l-u*t}`}}function ul(e){let t,n,r;return{c(){t=F("div"),B(t,"class","skeleton")},m(e,n){P(e,t,n),r=!0},i(e){r||(e&&_e((()=>{n||(n=Ye(t,ll,{duration:120},!0)),n.run(1)})),r=!0)},o(e){e&&(n||(n=Ye(t,ll,{duration:120},!1)),n.run(0)),r=!1},d(e){e&&R(t),e&&n&&n.end()}}}function dl(e){let t,n=e[0]&&ul();return{c(){n&&n.c(),t=j()},m(e,r){n&&n.m(e,r),P(e,t,r)},p(e,[r]){e[0]?n?1&r&&qe(n,1):(n=ul(),n.c(),qe(n,1),n.m(t.parentNode,t)):n&&(Fe(),Ve(n,1,1,(()=>{n=null})),He())},i(e){qe(n)},o(e){Ve(n)},d(e){n&&n.d(e),e&&R(t)}}}function pl(e,t,n){let{loading:r=!1}=t;return e.$$set=e=>{"loading"in e&&n(0,r=e.loading)},[r]}class $l extends at{constructor(e){super(),it(this,e,pl,dl,p,{loading:0})}}function ml(e){let t,n,r,o,s,i,l,c;const d=[e[7],{disabled:e[3]}];function p(t){e[14](t)}let $={};for(let u=0;u<d.length;u+=1)$=a($,d[u]);void 0!==e[0]&&($.id=e[0]),t=new co({props:$}),we.push((()=>nt(t,"id",p)));let m=[e[7],{class:s="input-element text-area "+e[4]},{id:e[0]},{disabled:e[3]}],f={};for(let u=0;u<m.length;u+=1)f=a(f,m[u]);return{c(){rt(t.$$.fragment),r=V(),o=F("textarea"),K(o,f),te(o,"has-error",e[5])},m(n,s){ot(t,n,s),P(n,r,s),P(n,o,s),o.autofocus&&o.focus(),e[15](o),J(o,e[1]),i=!0,l||(c=[W(o,"input",e[16]),W(o,"input",e[9]),W(o,"change",e[10]),W(o,"focus",e[11]),W(o,"blur",e[12]),W(o,"keydown",e[6]),W(o,"keydown",e[13])],l=!0)},p(e,[r]){const a=136&r?et(d,[128&r&&tt(e[7]),8&r&&{disabled:e[3]}]):{};!n&&1&r&&(n=!0,a.id=e[0],Te((()=>n=!1))),t.$set(a),K(o,f=et(m,[128&r&&e[7],(!i||16&r&&s!==(s="input-element text-area "+e[4]))&&{class:s},(!i||1&r)&&{id:e[0]},(!i||8&r)&&{disabled:e[3]}])),2&r&&J(o,e[1]),te(o,"has-error",e[5])},i(e){i||(qe(t.$$.fragment,e),i=!0)},o(e){Ve(t.$$.fragment,e),i=!1},d(n){st(t,n),n&&R(r),n&&R(o),e[15](null),l=!1,u(c)}}}function fl(e,t,n){const r=["id","disabled","class","addNewLineOnEnterKeyCombinations","value","element","hasError"];let o=x(t,r);const s=fe();let{id:i}=t,{disabled:l=!1}=t,{class:c=""}=t,{addNewLineOnEnterKeyCombinations:u=!1}=t,{value:d=""}=t,{element:p}=t,{hasError:$=!1}=t;return e.$$set=e=>{t=a(a({},t),w(e)),n(7,o=x(t,r)),"id"in e&&n(0,i=e.id),"disabled"in e&&n(3,l=e.disabled),"class"in e&&n(4,c=e.class),"addNewLineOnEnterKeyCombinations"in e&&n(8,u=e.addNewLineOnEnterKeyCombinations),"value"in e&&n(1,d=e.value),"element"in e&&n(2,p=e.element),"hasError"in e&&n(5,$=e.hasError)},[i,d,p,l,c,$,function(e){let t="normal";if(p&&"Enter"===e.key&&(e.ctrlKey||e.metaKey||e.shiftKey)){if(u&&!e.shiftKey){let e=p.selectionStart;const t=p.value.substring(0,e),r=p.value.substring(e,p.value.length);n(2,p.value=`${t}\n${r}`,p),n(1,d=p.value),e+=1,n(2,p.selectionStart=e,p),n(2,p.selectionEnd=e,p)}t="newlineWithEnterKeyCombination"}s("processedKeyDown",{type:t,originalEvent:e})},o,u,function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(e){i=e,n(0,i)},function(e){we[e?"unshift":"push"]((()=>{p=e,n(2,p)}))},function(){d=this.value,n(1,d)}]}class gl extends at{constructor(e){super(),it(this,e,fl,ml,p,{id:0,disabled:3,class:4,addNewLineOnEnterKeyCombinations:8,value:1,element:2,hasError:5})}}function hl(e){let t,n,r,o,s,i,l;const c=[e[2]];let u={};for(let m=0;m<c.length;m+=1)u=a(u,c[m]);r=new Wr({props:u});const d=[{class:["prefixed-input",e[1]].join(" ")},e[3]];function p(t){e[4](t)}let $={};for(let m=0;m<d.length;m+=1)$=a($,d[m]);return void 0!==e[0]&&($.value=e[0]),s=new di({props:$}),we.push((()=>nt(s,"value",p))),s.$on("input",e[5]),s.$on("focus",e[6]),s.$on("blur",e[7]),s.$on("keydown",e[8]),s.$on("beforeinput",e[9]),s.$on("change",e[10]),{c(){t=F("span"),n=F("div"),rt(r.$$.fragment),o=V(),rt(s.$$.fragment),B(n,"class","input-prefix-icon-container svelte-p2k6oc"),B(t,"class","prefix-wrapper svelte-p2k6oc")},m(e,i){P(e,t,i),A(t,n),ot(r,n,null),A(t,o),ot(s,t,null),l=!0},p(e,[t]){const n=4&t?et(c,[tt(e[2])]):{};r.$set(n);const o=10&t?et(d,[2&t&&{class:["prefixed-input",e[1]].join(" ")},8&t&&tt(e[3])]):{};!i&&1&t&&(i=!0,o.value=e[0],Te((()=>i=!1))),s.$set(o)},i(e){l||(qe(r.$$.fragment,e),qe(s.$$.fragment,e),l=!0)},o(e){Ve(r.$$.fragment,e),Ve(s.$$.fragment,e),l=!1},d(e){e&&R(t),st(r),st(s)}}}function yl(e,t,n){const r=["value","class","prefixIcon"];let o=x(t,r),{value:s=""}=t,{class:i=""}=t,{prefixIcon:l}=t;return e.$$set=e=>{t=a(a({},t),w(e)),n(3,o=x(t,r)),"value"in e&&n(0,s=e.value),"class"in e&&n(1,i=e.class),"prefixIcon"in e&&n(2,l=e.prefixIcon)},[s,i,l,o,function(e){s=e,n(0,s)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)}]}class vl extends at{constructor(e){super(),it(this,e,yl,hl,p,{value:0,class:1,prefixIcon:2})}}function bl(e){let t,n,r,o,s,i;const a=e[8].default,l=g(a,e,e[11],null);return r=new qs({props:{isOpen:e[4],trigger:e[3],placements:e[1],class:"truncation-content",$$slots:{default:[xl]},$$scope:{ctx:e}}}),{c(){t=F("span"),l&&l.c(),n=V(),rt(r.$$.fragment),B(t,"class","truncate"),B(t,"style",e[5]),te(t,"multiline",e[2])},m(a,c){P(a,t,c),l&&l.m(t,null),e[9](t),P(a,n,c),ot(r,a,c),o=!0,s||(i=[W(t,"mouseenter",e[6]),W(t,"mouseleave",e[10])],s=!0)},p(e,n){l&&l.p&&(!o||2048&n)&&v(l,a,e,e[11],o?y(a,e[11],n,null):b(e[11]),null),(!o||32&n)&&B(t,"style",e[5]),(!o||4&n)&&te(t,"multiline",e[2]);const s={};16&n&&(s.isOpen=e[4]),8&n&&(s.trigger=e[3]),2&n&&(s.placements=e[1]),2048&n&&(s.$$scope={dirty:n,ctx:e}),r.$set(s)},i(e){o||(qe(l,e),qe(r.$$.fragment,e),o=!0)},o(e){Ve(l,e),Ve(r.$$.fragment,e),o=!1},d(o){o&&R(t),l&&l.d(o),e[9](null),o&&R(n),st(r,o),s=!1,u(i)}}}function wl(e){let t;const n=e[8].default,r=g(n,e,e[11],null);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||2048&o)&&v(r,n,e,e[11],t?y(n,e[11],o,null):b(e[11]),null)},i(e){t||(qe(r,e),t=!0)},o(e){Ve(r,e),t=!1},d(e){r&&r.d(e)}}}function xl(e){let t;const n=e[8].default,r=g(n,e,e[11],null);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||2048&o)&&v(r,n,e,e[11],t?y(n,e[11],o,null):b(e[11]),null)},i(e){t||(qe(r,e),t=!0)},o(e){Ve(r,e),t=!1},d(e){r&&r.d(e)}}}function Sl(e){let t,n,r,o;const s=[wl,bl],i=[];function a(e,t){return e[0]?0:1}return t=a(e),n=i[t]=s[t](e),{c(){n.c(),r=j()},m(e,n){i[t].m(e,n),P(e,r,n),o=!0},p(e,[o]){let l=t;t=a(e),t===l?i[t].p(e,o):(Fe(),Ve(i[l],1,1,(()=>{i[l]=null})),He(),n=i[t],n?n.p(e,o):(n=i[t]=s[t](e),n.c()),qe(n,1),n.m(r.parentNode,r))},i(e){o||(qe(n),o=!0)},o(e){Ve(n),o=!1},d(e){i[t].d(e),e&&R(r)}}}function Cl(e,t,n){let r,o,s,{$$slots:i={},$$scope:a}=t,{lines:l=1}=t,{passthrough:c=!1}=t,{popoverPlacements:u=["top","right","left","bottom"]}=t,d=!1;return e.$$set=e=>{"lines"in e&&n(7,l=e.lines),"passthrough"in e&&n(0,c=e.passthrough),"popoverPlacements"in e&&n(1,u=e.popoverPlacements),"$$scope"in e&&n(11,a=e.$$scope)},e.$$.update=()=>{128&e.$$.dirty&&n(2,r=l>1),132&e.$$.dirty&&n(5,o=r?`-webkit-line-clamp: ${l};`:void 0)},[c,u,r,s,d,o,function(){var e;((e=s).scrollHeight-e.clientHeight>3||e.scrollWidth-e.clientWidth>0)&&n(4,d=!0)},l,i,function(e){we[e?"unshift":"push"]((()=>{s=e,n(3,s)}))},()=>{n(4,d=!1)},a]}class kl extends at{constructor(e){super(),it(this,e,Cl,Sl,p,{lines:7,passthrough:0,popoverPlacements:1})}}function Dl(e){return"string"==typeof e?e:Tt(e,"message")?e.message:"object"==typeof e?JSON.stringify(e):String(e)}class Il extends Error{constructor(e,t){super(`${JSON.stringify(e)}${t?` ${t}`:""}`),this.name="MissingExhaustiveConditionError"}}function _l(e){throw new Il(e)}const Tl=e=>({}),Ml=e=>({});function El(e){let t,n,r,o,s,i,a;const l=e[10].panel,c=g(l,e,e[9],Ml);return{c(){t=F("div"),n=F("div"),o=V(),c&&c.c(),B(n,"class","resizer"),B(t,"class","panel"),B(t,"style",e[8])},m(l,u){P(l,t,u),A(t,n),A(t,o),c&&c.m(t,null),s=!0,i||(a=D(r=cn.call(null,n,{getStartingValue:e[11],onMove:e[12],onStart:e[13],onStop:e[14],min:e[2],max:e[3],axis:"width"===e[6]?"x":"y",invert:"right"===e[1]||"bottom"===e[1]})),i=!0)},p(e,n){r&&d(r.update)&&239&n&&r.update.call(null,{getStartingValue:e[11],onMove:e[12],onStart:e[13],onStop:e[14],min:e[2],max:e[3],axis:"width"===e[6]?"x":"y",invert:"right"===e[1]||"bottom"===e[1]}),c&&c.p&&(!s||512&n)&&v(c,l,e,e[9],s?y(l,e[9],n,Tl):b(e[9]),Ml),(!s||256&n)&&B(t,"style",e[8])},i(e){s||(qe(c,e),s=!0)},o(e){Ve(c,e),s=!1},d(e){e&&R(t),c&&c.d(e),i=!1,a()}}}function Ol(e){let t,n,r,o;const s=e[10].default,i=g(s,e,e[9],null);let a=e[4]&&El(e);return{c(){t=F("div"),n=F("div"),i&&i.c(),r=V(),a&&a.c(),B(n,"class","main"),B(t,"class","with-panel"),te(t,"is-resizing",e[7]),te(t,"top","top"===e[1]),te(t,"bottom","bottom"===e[1]),te(t,"left","left"===e[1]),te(t,"right","right"===e[1]),te(t,"horizontal","width"===e[6]),te(t,"vertical","height"===e[6])},m(e,s){P(e,t,s),A(t,n),i&&i.m(n,null),A(t,r),a&&a.m(t,null),o=!0},p(e,[n]){i&&i.p&&(!o||512&n)&&v(i,s,e,e[9],o?y(s,e[9],n,null):b(e[9]),null),e[4]?a?(a.p(e,n),16&n&&qe(a,1)):(a=El(e),a.c(),qe(a,1),a.m(t,null)):a&&(Fe(),Ve(a,1,1,(()=>{a=null})),He()),(!o||128&n)&&te(t,"is-resizing",e[7]),(!o||2&n)&&te(t,"top","top"===e[1]),(!o||2&n)&&te(t,"bottom","bottom"===e[1]),(!o||2&n)&&te(t,"left","left"===e[1]),(!o||2&n)&&te(t,"right","right"===e[1]),(!o||64&n)&&te(t,"horizontal","width"===e[6]),(!o||64&n)&&te(t,"vertical","height"===e[6])},i(e){o||(qe(i,e),qe(a),o=!0)},o(e){Ve(i,e),Ve(a),o=!1},d(e){e&&R(t),i&&i.d(e),a&&a.d()}}}function Al(e,t,n){let r,o,{$$slots:s={},$$scope:i}=t,{placement:a="right"}=t,{sizePx:l=300}=t,{minSizePx:c=0}=t,{maxSizePx:u=1/0}=t,{showPanel:d=!0}=t,{onResizeComplete:p=(()=>{})}=t,$=!1;return e.$$set=e=>{"placement"in e&&n(1,a=e.placement),"sizePx"in e&&n(0,l=e.sizePx),"minSizePx"in e&&n(2,c=e.minSizePx),"maxSizePx"in e&&n(3,u=e.maxSizePx),"showPanel"in e&&n(4,d=e.showPanel),"onResizeComplete"in e&&n(5,p=e.onResizeComplete),"$$scope"in e&&n(9,i=e.$$scope)},e.$$.update=()=>{2&e.$$.dirty&&n(6,r=(()=>{switch(a){case"top":case"bottom":return"height";case"left":case"right":return"width";default:return _l(a)}})()),65&e.$$.dirty&&n(8,o=`${r}: ${l}px;`)},[l,a,c,u,d,p,r,$,o,i,s,()=>l,e=>{n(0,l=e)},()=>{n(7,$=!0)},e=>{n(7,$=!1),p(e)}]}class Ll extends at{constructor(e){super(),it(this,e,Al,Ol,p,{placement:1,sizePx:0,minSizePx:2,maxSizePx:3,showPanel:4,onResizeComplete:5})}}var Nl=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"],Pl={_disable:[],allowInput:!1,allowInvalidPreload:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:"object"==typeof window&&-1===window.navigator.userAgent.indexOf("MSIE"),ariaDateFormat:"F j, Y",autoFillDefaultTime:!0,clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enableSeconds:!1,enableTime:!1,errorHandler:function(e){return"undefined"!=typeof console&&console.warn(e)},getWeek:function(e){var t=new Date(e.getTime());t.setHours(0,0,0,0),t.setDate(t.getDate()+3-(t.getDay()+6)%7);var n=new Date(t.getFullYear(),0,4);return 1+Math.round(((t.getTime()-n.getTime())/864e5-3+(n.getDay()+6)%7)/7)},hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",monthSelectorType:"dropdown",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:!1,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:void 0,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,showMonths:1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1},Rl={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:function(e){var t=e%100;if(t>3&&t<21)return"th";switch(t%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year",monthAriaLabel:"Month",hourAriaLabel:"Hour",minuteAriaLabel:"Minute",time_24hr:!1},zl=function(e,t){return void 0===t&&(t=2),("000"+e).slice(-1*t)},Fl=function(e){return!0===e?1:0};function Hl(e,t){var n;return function(){var r=this,o=arguments;clearTimeout(n),n=setTimeout((function(){return e.apply(r,o)}),t)}}var ql=function(e){return e instanceof Array?e:[e]};function Vl(e,t,n){if(!0===n)return e.classList.add(t);e.classList.remove(t)}function jl(e,t,n){var r=window.document.createElement(e);return t=t||"",n=n||"",r.className=t,void 0!==n&&(r.textContent=n),r}function Wl(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function Ul(e,t){return t(e)?e:e.parentNode?Ul(e.parentNode,t):void 0}function Yl(e,t){var n=jl("div","numInputWrapper"),r=jl("input","numInput "+e),o=jl("span","arrowUp"),s=jl("span","arrowDown");if(-1===navigator.userAgent.indexOf("MSIE 9.0")?r.type="number":(r.type="text",r.pattern="\\d*"),void 0!==t)for(var i in t)r.setAttribute(i,t[i]);return n.appendChild(r),n.appendChild(o),n.appendChild(s),n}function Bl(e){try{return"function"==typeof e.composedPath?e.composedPath()[0]:e.target}catch(t){return e.target}}var Kl=function(){},Gl=function(e,t,n){return n.months[t?"shorthand":"longhand"][e]},Xl={D:Kl,F:function(e,t,n){e.setMonth(n.months.longhand.indexOf(t))},G:function(e,t){e.setHours((e.getHours()>=12?12:0)+parseFloat(t))},H:function(e,t){e.setHours(parseFloat(t))},J:function(e,t){e.setDate(parseFloat(t))},K:function(e,t,n){e.setHours(e.getHours()%12+12*Fl(new RegExp(n.amPM[1],"i").test(t)))},M:function(e,t,n){e.setMonth(n.months.shorthand.indexOf(t))},S:function(e,t){e.setSeconds(parseFloat(t))},U:function(e,t){return new Date(1e3*parseFloat(t))},W:function(e,t,n){var r=parseInt(t),o=new Date(e.getFullYear(),0,2+7*(r-1),0,0,0,0);return o.setDate(o.getDate()-o.getDay()+n.firstDayOfWeek),o},Y:function(e,t){e.setFullYear(parseFloat(t))},Z:function(e,t){return new Date(t)},d:function(e,t){e.setDate(parseFloat(t))},h:function(e,t){e.setHours((e.getHours()>=12?12:0)+parseFloat(t))},i:function(e,t){e.setMinutes(parseFloat(t))},j:function(e,t){e.setDate(parseFloat(t))},l:Kl,m:function(e,t){e.setMonth(parseFloat(t)-1)},n:function(e,t){e.setMonth(parseFloat(t)-1)},s:function(e,t){e.setSeconds(parseFloat(t))},u:function(e,t){return new Date(parseFloat(t))},w:Kl,y:function(e,t){e.setFullYear(2e3+parseFloat(t))}},Jl={D:"",F:"",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",u:"(.+)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},Zl={Z:function(e){return e.toISOString()},D:function(e,t,n){return t.weekdays.shorthand[Zl.w(e,t,n)]},F:function(e,t,n){return Gl(Zl.n(e,t,n)-1,!1,t)},G:function(e,t,n){return zl(Zl.h(e,t,n))},H:function(e){return zl(e.getHours())},J:function(e,t){return void 0!==t.ordinal?e.getDate()+t.ordinal(e.getDate()):e.getDate()},K:function(e,t){return t.amPM[Fl(e.getHours()>11)]},M:function(e,t){return Gl(e.getMonth(),!0,t)},S:function(e){return zl(e.getSeconds())},U:function(e){return e.getTime()/1e3},W:function(e,t,n){return n.getWeek(e)},Y:function(e){return zl(e.getFullYear(),4)},d:function(e){return zl(e.getDate())},h:function(e){return e.getHours()%12?e.getHours()%12:12},i:function(e){return zl(e.getMinutes())},j:function(e){return e.getDate()},l:function(e,t){return t.weekdays.longhand[e.getDay()]},m:function(e){return zl(e.getMonth()+1)},n:function(e){return e.getMonth()+1},s:function(e){return e.getSeconds()},u:function(e){return e.getTime()},w:function(e){return e.getDay()},y:function(e){return String(e.getFullYear()).substring(2)}},Ql=function(e){var t=e.config,n=void 0===t?Pl:t,r=e.l10n,o=void 0===r?Rl:r,s=e.isMobile,i=void 0!==s&&s;return function(e,t,r){var s=r||o;return void 0===n.formatDate||i?t.split("").map((function(t,r,o){return Zl[t]&&"\\"!==o[r-1]?Zl[t](e,s,n):"\\"!==t?t:""})).join(""):n.formatDate(e,t,s)}},ec=function(e){var t=e.config,n=void 0===t?Pl:t,r=e.l10n,o=void 0===r?Rl:r;return function(e,t,r,s){if(0===e||e){var i,a=s||o,l=e;if(e instanceof Date)i=new Date(e.getTime());else if("string"!=typeof e&&void 0!==e.toFixed)i=new Date(e);else if("string"==typeof e){var c=t||(n||Pl).dateFormat,u=String(e).trim();if("today"===u)i=new Date,r=!0;else if(n&&n.parseDate)i=n.parseDate(e,c);else if(/Z$/.test(u)||/GMT$/.test(u))i=new Date(e);else{for(var d=void 0,p=[],$=0,m=0,f="";$<c.length;$++){var g=c[$],h="\\"===g,y="\\"===c[$-1]||h;if(Jl[g]&&!y){f+=Jl[g];var v=new RegExp(f).exec(e);v&&(d=!0)&&p["Y"!==g?"push":"unshift"]({fn:Xl[g],val:v[++m]})}else h||(f+=".")}i=n&&n.noCalendar?new Date((new Date).setHours(0,0,0,0)):new Date((new Date).getFullYear(),0,1,0,0,0,0),p.forEach((function(e){var t=e.fn,n=e.val;return i=t(i,n,a)||i})),i=d?i:void 0}}if(i instanceof Date&&!isNaN(i.getTime()))return!0===r&&i.setHours(0,0,0,0),i;n.errorHandler(new Error("Invalid date provided: "+l))}}};function tc(e,t,n){return void 0===n&&(n=!0),!1!==n?new Date(e.getTime()).setHours(0,0,0,0)-new Date(t.getTime()).setHours(0,0,0,0):e.getTime()-t.getTime()}var nc=function(e,t,n){return 3600*e+60*t+n},rc=864e5;function oc(e){var t=e.defaultHour,n=e.defaultMinute,r=e.defaultSeconds;if(void 0!==e.minDate){var o=e.minDate.getHours(),s=e.minDate.getMinutes(),i=e.minDate.getSeconds();t<o&&(t=o),t===o&&n<s&&(n=s),t===o&&n===s&&r<i&&(r=e.minDate.getSeconds())}if(void 0!==e.maxDate){var a=e.maxDate.getHours(),l=e.maxDate.getMinutes();(t=Math.min(t,a))===a&&(n=Math.min(l,n)),t===a&&n===l&&(r=e.maxDate.getSeconds())}return{hours:t,minutes:n,seconds:r}}"function"!=typeof Object.assign&&(Object.assign=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!e)throw TypeError("Cannot convert undefined or null to object");for(var r=function(t){t&&Object.keys(t).forEach((function(n){return e[n]=t[n]}))},o=0,s=t;o<s.length;o++){var i=s[o];r(i)}return e});var sc=globalThis&&globalThis.__assign||function(){return sc=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},sc.apply(this,arguments)},ic=globalThis&&globalThis.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var s=arguments[t],i=0,a=s.length;i<a;i++,o++)r[o]=s[i];return r};function ac(e,t){var n={config:sc(sc({},Pl),cc.defaultConfig),l10n:Rl};function r(){var e;return(null===(e=n.calendarContainer)||void 0===e?void 0:e.getRootNode()).activeElement||document.activeElement}function o(e){return e.bind(n)}function s(){var e=n.config;!1===e.weekNumbers&&1===e.showMonths||!0!==e.noCalendar&&window.requestAnimationFrame((function(){if(void 0!==n.calendarContainer&&(n.calendarContainer.style.visibility="hidden",n.calendarContainer.style.display="block"),void 0!==n.daysContainer){var t=(n.days.offsetWidth+1)*e.showMonths;n.daysContainer.style.width=t+"px",n.calendarContainer.style.width=t+(void 0!==n.weekWrapper?n.weekWrapper.offsetWidth:0)+"px",n.calendarContainer.style.removeProperty("visibility"),n.calendarContainer.style.removeProperty("display")}}))}function i(e){if(0===n.selectedDates.length){var t=void 0===n.config.minDate||tc(new Date,n.config.minDate)>=0?new Date:new Date(n.config.minDate.getTime()),r=oc(n.config);t.setHours(r.hours,r.minutes,r.seconds,t.getMilliseconds()),n.selectedDates=[t],n.latestSelectedDateObj=t}void 0!==e&&"blur"!==e.type&&function(e){e.preventDefault();var t="keydown"===e.type,r=Bl(e),o=r;void 0!==n.amPM&&r===n.amPM&&(n.amPM.textContent=n.l10n.amPM[Fl(n.amPM.textContent===n.l10n.amPM[0])]);var s=parseFloat(o.getAttribute("min")),i=parseFloat(o.getAttribute("max")),a=parseFloat(o.getAttribute("step")),l=parseInt(o.value,10),c=e.delta||(t?38===e.which?1:-1:0),u=l+a*c;if(void 0!==o.value&&2===o.value.length){var d=o===n.hourElement,p=o===n.minuteElement;u<s?(u=i+u+Fl(!d)+(Fl(d)&&Fl(!n.amPM)),p&&f(void 0,-1,n.hourElement)):u>i&&(u=o===n.hourElement?u-i-Fl(!n.amPM):s,p&&f(void 0,1,n.hourElement)),n.amPM&&d&&(1===a?u+l===23:Math.abs(u-l)>a)&&(n.amPM.textContent=n.l10n.amPM[Fl(n.amPM.textContent===n.l10n.amPM[0])]),o.value=zl(u)}}(e);var o=n._input.value;a(),Q(),n._input.value!==o&&n._debouncedChange()}function a(){if(void 0!==n.hourElement&&void 0!==n.minuteElement){var e,t,r=(parseInt(n.hourElement.value.slice(-2),10)||0)%24,o=(parseInt(n.minuteElement.value,10)||0)%60,s=void 0!==n.secondElement?(parseInt(n.secondElement.value,10)||0)%60:0;void 0!==n.amPM&&(e=r,t=n.amPM.textContent,r=e%12+12*Fl(t===n.l10n.amPM[1]));var i=void 0!==n.config.minTime||n.config.minDate&&n.minDateHasTime&&n.latestSelectedDateObj&&0===tc(n.latestSelectedDateObj,n.config.minDate,!0),a=void 0!==n.config.maxTime||n.config.maxDate&&n.maxDateHasTime&&n.latestSelectedDateObj&&0===tc(n.latestSelectedDateObj,n.config.maxDate,!0);if(void 0!==n.config.maxTime&&void 0!==n.config.minTime&&n.config.minTime>n.config.maxTime){var l=nc(n.config.minTime.getHours(),n.config.minTime.getMinutes(),n.config.minTime.getSeconds()),u=nc(n.config.maxTime.getHours(),n.config.maxTime.getMinutes(),n.config.maxTime.getSeconds()),d=nc(r,o,s);if(d>u&&d<l){var p=function(e){var t=Math.floor(e/3600),n=(e-3600*t)/60;return[t,n,e-3600*t-60*n]}(l);r=p[0],o=p[1],s=p[2]}}else{if(a){var $=void 0!==n.config.maxTime?n.config.maxTime:n.config.maxDate;(r=Math.min(r,$.getHours()))===$.getHours()&&(o=Math.min(o,$.getMinutes())),o===$.getMinutes()&&(s=Math.min(s,$.getSeconds()))}if(i){var m=void 0!==n.config.minTime?n.config.minTime:n.config.minDate;(r=Math.max(r,m.getHours()))===m.getHours()&&o<m.getMinutes()&&(o=m.getMinutes()),o===m.getMinutes()&&(s=Math.max(s,m.getSeconds()))}}c(r,o,s)}}function l(e){var t=e||n.latestSelectedDateObj;t&&t instanceof Date&&c(t.getHours(),t.getMinutes(),t.getSeconds())}function c(e,t,r){void 0!==n.latestSelectedDateObj&&n.latestSelectedDateObj.setHours(e%24,t,r||0,0),n.hourElement&&n.minuteElement&&!n.isMobile&&(n.hourElement.value=zl(n.config.time_24hr?e:(12+e)%12+12*Fl(e%12==0)),n.minuteElement.value=zl(t),void 0!==n.amPM&&(n.amPM.textContent=n.l10n.amPM[Fl(e>=12)]),void 0!==n.secondElement&&(n.secondElement.value=zl(r)))}function u(e){var t=Bl(e),n=parseInt(t.value)+(e.delta||0);(n/1e3>1||"Enter"===e.key&&!/[^\d]/.test(n.toString()))&&M(n)}function d(e,t,r,o){return t instanceof Array?t.forEach((function(t){return d(e,t,r,o)})):e instanceof Array?e.forEach((function(e){return d(e,t,r,o)})):(e.addEventListener(t,r,o),void n._handlers.push({remove:function(){return e.removeEventListener(t,r,o)}}))}function p(){K("onChange")}function $(e,t){var r=void 0!==e?n.parseDate(e):n.latestSelectedDateObj||(n.config.minDate&&n.config.minDate>n.now?n.config.minDate:n.config.maxDate&&n.config.maxDate<n.now?n.config.maxDate:n.now),o=n.currentYear,s=n.currentMonth;try{void 0!==r&&(n.currentYear=r.getFullYear(),n.currentMonth=r.getMonth())}catch(i){i.message="Invalid date supplied: "+r,n.config.errorHandler(i)}t&&n.currentYear!==o&&(K("onYearChange"),x()),!t||n.currentYear===o&&n.currentMonth===s||K("onMonthChange"),n.redraw()}function m(e){var t=Bl(e);~t.className.indexOf("arrow")&&f(e,t.classList.contains("arrowUp")?1:-1)}function f(e,t,n){var r=e&&Bl(e),o=n||r&&r.parentNode&&r.parentNode.firstChild,s=G("increment");s.delta=t,o&&o.dispatchEvent(s)}function g(e,t,r,o){var s=E(t,!0),i=jl("span",e,t.getDate().toString());return i.dateObj=t,i.$i=o,i.setAttribute("aria-label",n.formatDate(t,n.config.ariaDateFormat)),-1===e.indexOf("hidden")&&0===tc(t,n.now)&&(n.todayDateElem=i,i.classList.add("today"),i.setAttribute("aria-current","date")),s?(i.tabIndex=-1,X(t)&&(i.classList.add("selected"),n.selectedDateElem=i,"range"===n.config.mode&&(Vl(i,"startRange",n.selectedDates[0]&&0===tc(t,n.selectedDates[0],!0)),Vl(i,"endRange",n.selectedDates[1]&&0===tc(t,n.selectedDates[1],!0)),"nextMonthDay"===e&&i.classList.add("inRange")))):i.classList.add("flatpickr-disabled"),"range"===n.config.mode&&function(e){return!("range"!==n.config.mode||n.selectedDates.length<2)&&(tc(e,n.selectedDates[0])>=0&&tc(e,n.selectedDates[1])<=0)}(t)&&!X(t)&&i.classList.add("inRange"),n.weekNumbers&&1===n.config.showMonths&&"prevMonthDay"!==e&&o%7==6&&n.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+n.config.getWeek(t)+"</span>"),K("onDayCreate",i),i}function h(e){e.focus(),"range"===n.config.mode&&N(e)}function y(e){for(var t=e>0?0:n.config.showMonths-1,r=e>0?n.config.showMonths:-1,o=t;o!=r;o+=e)for(var s=n.daysContainer.children[o],i=e>0?0:s.children.length-1,a=e>0?s.children.length:-1,l=i;l!=a;l+=e){var c=s.children[l];if(-1===c.className.indexOf("hidden")&&E(c.dateObj))return c}}function v(e,t){var o=r(),s=O(o||document.body),i=void 0!==e?e:s?o:void 0!==n.selectedDateElem&&O(n.selectedDateElem)?n.selectedDateElem:void 0!==n.todayDateElem&&O(n.todayDateElem)?n.todayDateElem:y(t>0?1:-1);void 0===i?n._input.focus():s?function(e,t){for(var r=-1===e.className.indexOf("Month")?e.dateObj.getMonth():n.currentMonth,o=t>0?n.config.showMonths:-1,s=t>0?1:-1,i=r-n.currentMonth;i!=o;i+=s)for(var a=n.daysContainer.children[i],l=r-n.currentMonth===i?e.$i+t:t<0?a.children.length-1:0,c=a.children.length,u=l;u>=0&&u<c&&u!=(t>0?c:-1);u+=s){var d=a.children[u];if(-1===d.className.indexOf("hidden")&&E(d.dateObj)&&Math.abs(e.$i-u)>=Math.abs(t))return h(d)}n.changeMonth(s),v(y(s),0)}(i,t):h(i)}function b(e,t){for(var r=(new Date(e,t,1).getDay()-n.l10n.firstDayOfWeek+7)%7,o=n.utils.getDaysInMonth((t-1+12)%12,e),s=n.utils.getDaysInMonth(t,e),i=window.document.createDocumentFragment(),a=n.config.showMonths>1,l=a?"prevMonthDay hidden":"prevMonthDay",c=a?"nextMonthDay hidden":"nextMonthDay",u=o+1-r,d=0;u<=o;u++,d++)i.appendChild(g("flatpickr-day "+l,new Date(e,t-1,u),0,d));for(u=1;u<=s;u++,d++)i.appendChild(g("flatpickr-day",new Date(e,t,u),0,d));for(var p=s+1;p<=42-r&&(1===n.config.showMonths||d%7!=0);p++,d++)i.appendChild(g("flatpickr-day "+c,new Date(e,t+1,p%s),0,d));var $=jl("div","dayContainer");return $.appendChild(i),$}function w(){if(void 0!==n.daysContainer){Wl(n.daysContainer),n.weekNumbers&&Wl(n.weekNumbers);for(var e=document.createDocumentFragment(),t=0;t<n.config.showMonths;t++){var r=new Date(n.currentYear,n.currentMonth,1);r.setMonth(n.currentMonth+t),e.appendChild(b(r.getFullYear(),r.getMonth()))}n.daysContainer.appendChild(e),n.days=n.daysContainer.firstChild,"range"===n.config.mode&&1===n.selectedDates.length&&N()}}function x(){if(!(n.config.showMonths>1||"dropdown"!==n.config.monthSelectorType)){var e=function(e){return!(void 0!==n.config.minDate&&n.currentYear===n.config.minDate.getFullYear()&&e<n.config.minDate.getMonth())&&!(void 0!==n.config.maxDate&&n.currentYear===n.config.maxDate.getFullYear()&&e>n.config.maxDate.getMonth())};n.monthsDropdownContainer.tabIndex=-1,n.monthsDropdownContainer.innerHTML="";for(var t=0;t<12;t++)if(e(t)){var r=jl("option","flatpickr-monthDropdown-month");r.value=new Date(n.currentYear,t).getMonth().toString(),r.textContent=Gl(t,n.config.shorthandCurrentMonth,n.l10n),r.tabIndex=-1,n.currentMonth===t&&(r.selected=!0),n.monthsDropdownContainer.appendChild(r)}}}function S(){var e,t=jl("div","flatpickr-month"),r=window.document.createDocumentFragment();n.config.showMonths>1||"static"===n.config.monthSelectorType?e=jl("span","cur-month"):(n.monthsDropdownContainer=jl("select","flatpickr-monthDropdown-months"),n.monthsDropdownContainer.setAttribute("aria-label",n.l10n.monthAriaLabel),d(n.monthsDropdownContainer,"change",(function(e){var t=Bl(e),r=parseInt(t.value,10);n.changeMonth(r-n.currentMonth),K("onMonthChange")})),x(),e=n.monthsDropdownContainer);var o=Yl("cur-year",{tabindex:"-1"}),s=o.getElementsByTagName("input")[0];s.setAttribute("aria-label",n.l10n.yearAriaLabel),n.config.minDate&&s.setAttribute("min",n.config.minDate.getFullYear().toString()),n.config.maxDate&&(s.setAttribute("max",n.config.maxDate.getFullYear().toString()),s.disabled=!!n.config.minDate&&n.config.minDate.getFullYear()===n.config.maxDate.getFullYear());var i=jl("div","flatpickr-current-month");return i.appendChild(e),i.appendChild(o),r.appendChild(i),t.appendChild(r),{container:t,yearElement:s,monthElement:e}}function C(){Wl(n.monthNav),n.monthNav.appendChild(n.prevMonthNav),n.config.showMonths&&(n.yearElements=[],n.monthElements=[]);for(var e=n.config.showMonths;e--;){var t=S();n.yearElements.push(t.yearElement),n.monthElements.push(t.monthElement),n.monthNav.appendChild(t.container)}n.monthNav.appendChild(n.nextMonthNav)}function k(){n.weekdayContainer?Wl(n.weekdayContainer):n.weekdayContainer=jl("div","flatpickr-weekdays");for(var e=n.config.showMonths;e--;){var t=jl("div","flatpickr-weekdaycontainer");n.weekdayContainer.appendChild(t)}return D(),n.weekdayContainer}function D(){if(n.weekdayContainer){var e=n.l10n.firstDayOfWeek,t=ic(n.l10n.weekdays.shorthand);e>0&&e<t.length&&(t=ic(t.splice(e,t.length),t.splice(0,e)));for(var r=n.config.showMonths;r--;)n.weekdayContainer.children[r].innerHTML="\n      <span class='flatpickr-weekday'>\n        "+t.join("</span><span class='flatpickr-weekday'>")+"\n      </span>\n      "}}function I(e,t){void 0===t&&(t=!0);var r=t?e:e-n.currentMonth;r<0&&!0===n._hidePrevMonthArrow||r>0&&!0===n._hideNextMonthArrow||(n.currentMonth+=r,(n.currentMonth<0||n.currentMonth>11)&&(n.currentYear+=n.currentMonth>11?1:-1,n.currentMonth=(n.currentMonth+12)%12,K("onYearChange"),x()),w(),K("onMonthChange"),J())}function _(e){return n.calendarContainer.contains(e)}function T(e){if(n.isOpen&&!n.config.inline){var t=Bl(e),r=_(t),o=!(t===n.input||t===n.altInput||n.element.contains(t)||e.path&&e.path.indexOf&&(~e.path.indexOf(n.input)||~e.path.indexOf(n.altInput)))&&!r&&!_(e.relatedTarget),s=!n.config.ignoredFocusElements.some((function(e){return e.contains(t)}));o&&s&&(n.config.allowInput&&n.setDate(n._input.value,!1,n.config.altInput?n.config.altFormat:n.config.dateFormat),void 0!==n.timeContainer&&void 0!==n.minuteElement&&void 0!==n.hourElement&&""!==n.input.value&&void 0!==n.input.value&&i(),n.close(),n.config&&"range"===n.config.mode&&1===n.selectedDates.length&&n.clear(!1))}}function M(e){if(!(!e||n.config.minDate&&e<n.config.minDate.getFullYear()||n.config.maxDate&&e>n.config.maxDate.getFullYear())){var t=e,r=n.currentYear!==t;n.currentYear=t||n.currentYear,n.config.maxDate&&n.currentYear===n.config.maxDate.getFullYear()?n.currentMonth=Math.min(n.config.maxDate.getMonth(),n.currentMonth):n.config.minDate&&n.currentYear===n.config.minDate.getFullYear()&&(n.currentMonth=Math.max(n.config.minDate.getMonth(),n.currentMonth)),r&&(n.redraw(),K("onYearChange"),x())}}function E(e,t){var r;void 0===t&&(t=!0);var o=n.parseDate(e,void 0,t);if(n.config.minDate&&o&&tc(o,n.config.minDate,void 0!==t?t:!n.minDateHasTime)<0||n.config.maxDate&&o&&tc(o,n.config.maxDate,void 0!==t?t:!n.maxDateHasTime)>0)return!1;if(!n.config.enable&&0===n.config.disable.length)return!0;if(void 0===o)return!1;for(var s=!!n.config.enable,i=null!==(r=n.config.enable)&&void 0!==r?r:n.config.disable,a=0,l=void 0;a<i.length;a++){if("function"==typeof(l=i[a])&&l(o))return s;if(l instanceof Date&&void 0!==o&&l.getTime()===o.getTime())return s;if("string"==typeof l){var c=n.parseDate(l,void 0,!0);return c&&c.getTime()===o.getTime()?s:!s}if("object"==typeof l&&void 0!==o&&l.from&&l.to&&o.getTime()>=l.from.getTime()&&o.getTime()<=l.to.getTime())return s}return!s}function O(e){return void 0!==n.daysContainer&&(-1===e.className.indexOf("hidden")&&-1===e.className.indexOf("flatpickr-disabled")&&n.daysContainer.contains(e))}function A(e){var t=e.target===n._input,r=n._input.value.trimEnd()!==Z();!t||!r||e.relatedTarget&&_(e.relatedTarget)||n.setDate(n._input.value,!0,e.target===n.altInput?n.config.altFormat:n.config.dateFormat)}function L(t){var o=Bl(t),s=n.config.wrap?e.contains(o):o===n._input,l=n.config.allowInput,c=n.isOpen&&(!l||!s),u=n.config.inline&&s&&!l;if(13===t.keyCode&&s){if(l)return n.setDate(n._input.value,!0,o===n.altInput?n.config.altFormat:n.config.dateFormat),n.close(),o.blur();n.open()}else if(_(o)||c||u){var d=!!n.timeContainer&&n.timeContainer.contains(o);switch(t.keyCode){case 13:d?(t.preventDefault(),i(),V()):j(t);break;case 27:t.preventDefault(),V();break;case 8:case 46:s&&!n.config.allowInput&&(t.preventDefault(),n.clear());break;case 37:case 39:if(d||s)n.hourElement&&n.hourElement.focus();else{t.preventDefault();var p=r();if(void 0!==n.daysContainer&&(!1===l||p&&O(p))){var $=39===t.keyCode?1:-1;t.ctrlKey?(t.stopPropagation(),I($),v(y(1),0)):v(void 0,$)}}break;case 38:case 40:t.preventDefault();var m=40===t.keyCode?1:-1;n.daysContainer&&void 0!==o.$i||o===n.input||o===n.altInput?t.ctrlKey?(t.stopPropagation(),M(n.currentYear-m),v(y(1),0)):d||v(void 0,7*m):o===n.currentYearElement?M(n.currentYear-m):n.config.enableTime&&(!d&&n.hourElement&&n.hourElement.focus(),i(t),n._debouncedChange());break;case 9:if(d){var f=[n.hourElement,n.minuteElement,n.secondElement,n.amPM].concat(n.pluginElements).filter((function(e){return e})),g=f.indexOf(o);if(-1!==g){var h=f[g+(t.shiftKey?-1:1)];t.preventDefault(),(h||n._input).focus()}}else!n.config.noCalendar&&n.daysContainer&&n.daysContainer.contains(o)&&t.shiftKey&&(t.preventDefault(),n._input.focus())}}if(void 0!==n.amPM&&o===n.amPM)switch(t.key){case n.l10n.amPM[0].charAt(0):case n.l10n.amPM[0].charAt(0).toLowerCase():n.amPM.textContent=n.l10n.amPM[0],a(),Q();break;case n.l10n.amPM[1].charAt(0):case n.l10n.amPM[1].charAt(0).toLowerCase():n.amPM.textContent=n.l10n.amPM[1],a(),Q()}(s||_(o))&&K("onKeyDown",t)}function N(e,t){if(void 0===t&&(t="flatpickr-day"),1===n.selectedDates.length&&(!e||e.classList.contains(t)&&!e.classList.contains("flatpickr-disabled"))){for(var r=e?e.dateObj.getTime():n.days.firstElementChild.dateObj.getTime(),o=n.parseDate(n.selectedDates[0],void 0,!0).getTime(),s=Math.min(r,n.selectedDates[0].getTime()),i=Math.max(r,n.selectedDates[0].getTime()),a=!1,l=0,c=0,u=s;u<i;u+=rc)E(new Date(u),!0)||(a=a||u>s&&u<i,u<o&&(!l||u>l)?l=u:u>o&&(!c||u<c)&&(c=u));Array.from(n.rContainer.querySelectorAll("*:nth-child(-n+"+n.config.showMonths+") > ."+t)).forEach((function(t){var s,i,u,d=t.dateObj.getTime(),p=l>0&&d<l||c>0&&d>c;if(p)return t.classList.add("notAllowed"),void["inRange","startRange","endRange"].forEach((function(e){t.classList.remove(e)}));a&&!p||(["startRange","inRange","endRange","notAllowed"].forEach((function(e){t.classList.remove(e)})),void 0!==e&&(e.classList.add(r<=n.selectedDates[0].getTime()?"startRange":"endRange"),o<r&&d===o?t.classList.add("startRange"):o>r&&d===o&&t.classList.add("endRange"),d>=l&&(0===c||d<=c)&&(i=o,u=r,(s=d)>Math.min(i,u)&&s<Math.max(i,u))&&t.classList.add("inRange")))}))}}function P(){!n.isOpen||n.config.static||n.config.inline||H()}function R(e){return function(t){var r=n.config["_"+e+"Date"]=n.parseDate(t,n.config.dateFormat),o=n.config["_"+("min"===e?"max":"min")+"Date"];void 0!==r&&(n["min"===e?"minDateHasTime":"maxDateHasTime"]=r.getHours()>0||r.getMinutes()>0||r.getSeconds()>0),n.selectedDates&&(n.selectedDates=n.selectedDates.filter((function(e){return E(e)})),n.selectedDates.length||"min"!==e||l(r),Q()),n.daysContainer&&(q(),void 0!==r?n.currentYearElement[e]=r.getFullYear().toString():n.currentYearElement.removeAttribute(e),n.currentYearElement.disabled=!!o&&void 0!==r&&o.getFullYear()===r.getFullYear())}}function z(){return n.config.wrap?e.querySelector("[data-input]"):e}function F(){"object"!=typeof n.config.locale&&void 0===cc.l10ns[n.config.locale]&&n.config.errorHandler(new Error("flatpickr: invalid locale "+n.config.locale)),n.l10n=sc(sc({},cc.l10ns.default),"object"==typeof n.config.locale?n.config.locale:"default"!==n.config.locale?cc.l10ns[n.config.locale]:void 0),Jl.D="("+n.l10n.weekdays.shorthand.join("|")+")",Jl.l="("+n.l10n.weekdays.longhand.join("|")+")",Jl.M="("+n.l10n.months.shorthand.join("|")+")",Jl.F="("+n.l10n.months.longhand.join("|")+")",Jl.K="("+n.l10n.amPM[0]+"|"+n.l10n.amPM[1]+"|"+n.l10n.amPM[0].toLowerCase()+"|"+n.l10n.amPM[1].toLowerCase()+")",void 0===sc(sc({},t),JSON.parse(JSON.stringify(e.dataset||{}))).time_24hr&&void 0===cc.defaultConfig.time_24hr&&(n.config.time_24hr=n.l10n.time_24hr),n.formatDate=Ql(n),n.parseDate=ec({config:n.config,l10n:n.l10n})}function H(e){if("function"!=typeof n.config.position){if(void 0!==n.calendarContainer){K("onPreCalendarPosition");var t=e||n._positionElement,r=Array.prototype.reduce.call(n.calendarContainer.children,(function(e,t){return e+t.offsetHeight}),0),o=n.calendarContainer.offsetWidth,s=n.config.position.split(" "),i=s[0],a=s.length>1?s[1]:null,l=t.getBoundingClientRect(),c=window.innerHeight-l.bottom,u="above"===i||"below"!==i&&c<r&&l.top>r,d=window.pageYOffset+l.top+(u?-r-2:t.offsetHeight+2);if(Vl(n.calendarContainer,"arrowTop",!u),Vl(n.calendarContainer,"arrowBottom",u),!n.config.inline){var p=window.pageXOffset+l.left,$=!1,m=!1;"center"===a?(p-=(o-l.width)/2,$=!0):"right"===a&&(p-=o-l.width,m=!0),Vl(n.calendarContainer,"arrowLeft",!$&&!m),Vl(n.calendarContainer,"arrowCenter",$),Vl(n.calendarContainer,"arrowRight",m);var f=window.document.body.offsetWidth-(window.pageXOffset+l.right),g=p+o>window.document.body.offsetWidth,h=f+o>window.document.body.offsetWidth;if(Vl(n.calendarContainer,"rightMost",g),!n.config.static)if(n.calendarContainer.style.top=d+"px",g)if(h){var y=function(){for(var e=null,t=0;t<document.styleSheets.length;t++){var n=document.styleSheets[t];if(n.cssRules){try{n.cssRules}catch(o){continue}e=n;break}}return null!=e?e:(r=document.createElement("style"),document.head.appendChild(r),r.sheet);var r}();if(void 0===y)return;var v=window.document.body.offsetWidth,b=Math.max(0,v/2-o/2),w=y.cssRules.length,x="{left:"+l.left+"px;right:auto;}";Vl(n.calendarContainer,"rightMost",!1),Vl(n.calendarContainer,"centerMost",!0),y.insertRule(".flatpickr-calendar.centerMost:before,.flatpickr-calendar.centerMost:after"+x,w),n.calendarContainer.style.left=b+"px",n.calendarContainer.style.right="auto"}else n.calendarContainer.style.left="auto",n.calendarContainer.style.right=f+"px";else n.calendarContainer.style.left=p+"px",n.calendarContainer.style.right="auto"}}}else n.config.position(n,e)}function q(){n.config.noCalendar||n.isMobile||(x(),J(),w())}function V(){n._input.focus(),-1!==window.navigator.userAgent.indexOf("MSIE")||void 0!==navigator.msMaxTouchPoints?setTimeout(n.close,0):n.close()}function j(e){e.preventDefault(),e.stopPropagation();var t=Ul(Bl(e),(function(e){return e.classList&&e.classList.contains("flatpickr-day")&&!e.classList.contains("flatpickr-disabled")&&!e.classList.contains("notAllowed")}));if(void 0!==t){var r=t,o=n.latestSelectedDateObj=new Date(r.dateObj.getTime()),s=(o.getMonth()<n.currentMonth||o.getMonth()>n.currentMonth+n.config.showMonths-1)&&"range"!==n.config.mode;if(n.selectedDateElem=r,"single"===n.config.mode)n.selectedDates=[o];else if("multiple"===n.config.mode){var i=X(o);i?n.selectedDates.splice(parseInt(i),1):n.selectedDates.push(o)}else"range"===n.config.mode&&(2===n.selectedDates.length&&n.clear(!1,!1),n.latestSelectedDateObj=o,n.selectedDates.push(o),0!==tc(o,n.selectedDates[0],!0)&&n.selectedDates.sort((function(e,t){return e.getTime()-t.getTime()})));if(a(),s){var l=n.currentYear!==o.getFullYear();n.currentYear=o.getFullYear(),n.currentMonth=o.getMonth(),l&&(K("onYearChange"),x()),K("onMonthChange")}if(J(),w(),Q(),s||"range"===n.config.mode||1!==n.config.showMonths?void 0!==n.selectedDateElem&&void 0===n.hourElement&&n.selectedDateElem&&n.selectedDateElem.focus():h(r),void 0!==n.hourElement&&void 0!==n.hourElement&&n.hourElement.focus(),n.config.closeOnSelect){var c="single"===n.config.mode&&!n.config.enableTime,u="range"===n.config.mode&&2===n.selectedDates.length&&!n.config.enableTime;(c||u)&&V()}p()}}n.parseDate=ec({config:n.config,l10n:n.l10n}),n._handlers=[],n.pluginElements=[],n.loadedPlugins=[],n._bind=d,n._setHoursFromDate=l,n._positionCalendar=H,n.changeMonth=I,n.changeYear=M,n.clear=function(e,t){void 0===e&&(e=!0);void 0===t&&(t=!0);n.input.value="",void 0!==n.altInput&&(n.altInput.value="");void 0!==n.mobileInput&&(n.mobileInput.value="");n.selectedDates=[],n.latestSelectedDateObj=void 0,!0===t&&(n.currentYear=n._initialDate.getFullYear(),n.currentMonth=n._initialDate.getMonth());if(!0===n.config.enableTime){var r=oc(n.config),o=r.hours,s=r.minutes,i=r.seconds;c(o,s,i)}n.redraw(),e&&K("onChange")},n.close=function(){n.isOpen=!1,n.isMobile||(void 0!==n.calendarContainer&&n.calendarContainer.classList.remove("open"),void 0!==n._input&&n._input.classList.remove("active"));K("onClose")},n.onMouseOver=N,n._createElement=jl,n.createDay=g,n.destroy=function(){void 0!==n.config&&K("onDestroy");for(var e=n._handlers.length;e--;)n._handlers[e].remove();if(n._handlers=[],n.mobileInput)n.mobileInput.parentNode&&n.mobileInput.parentNode.removeChild(n.mobileInput),n.mobileInput=void 0;else if(n.calendarContainer&&n.calendarContainer.parentNode)if(n.config.static&&n.calendarContainer.parentNode){var t=n.calendarContainer.parentNode;if(t.lastChild&&t.removeChild(t.lastChild),t.parentNode){for(;t.firstChild;)t.parentNode.insertBefore(t.firstChild,t);t.parentNode.removeChild(t)}}else n.calendarContainer.parentNode.removeChild(n.calendarContainer);n.altInput&&(n.input.type="text",n.altInput.parentNode&&n.altInput.parentNode.removeChild(n.altInput),delete n.altInput);n.input&&(n.input.type=n.input._type,n.input.classList.remove("flatpickr-input"),n.input.removeAttribute("readonly"));["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","monthsDropdownContainer","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach((function(e){try{delete n[e]}catch(UU){}}))},n.isEnabled=E,n.jumpToDate=$,n.updateValue=Q,n.open=function(e,t){void 0===t&&(t=n._positionElement);if(!0===n.isMobile){if(e){e.preventDefault();var r=Bl(e);r&&r.blur()}return void 0!==n.mobileInput&&(n.mobileInput.focus(),n.mobileInput.click()),void K("onOpen")}if(n._input.disabled||n.config.inline)return;var o=n.isOpen;n.isOpen=!0,o||(n.calendarContainer.classList.add("open"),n._input.classList.add("active"),K("onOpen"),H(t));!0===n.config.enableTime&&!0===n.config.noCalendar&&(!1!==n.config.allowInput||void 0!==e&&n.timeContainer.contains(e.relatedTarget)||setTimeout((function(){return n.hourElement.select()}),50))},n.redraw=q,n.set=function(e,t){if(null!==e&&"object"==typeof e)for(var r in Object.assign(n.config,e),e)void 0!==W[r]&&W[r].forEach((function(e){return e()}));else n.config[e]=t,void 0!==W[e]?W[e].forEach((function(e){return e()})):Nl.indexOf(e)>-1&&(n.config[e]=ql(t));n.redraw(),Q(!0)},n.setDate=function(e,t,r){void 0===t&&(t=!1);void 0===r&&(r=n.config.dateFormat);if(0!==e&&!e||e instanceof Array&&0===e.length)return n.clear(t);U(e,r),n.latestSelectedDateObj=n.selectedDates[n.selectedDates.length-1],n.redraw(),$(void 0,t),l(),0===n.selectedDates.length&&n.clear(!1);Q(t),t&&K("onChange")},n.toggle=function(e){if(!0===n.isOpen)return n.close();n.open(e)};var W={locale:[F,D],showMonths:[C,s,k],minDate:[$],maxDate:[$],positionElement:[B],clickOpens:[function(){!0===n.config.clickOpens?(d(n._input,"focus",n.open),d(n._input,"click",n.open)):(n._input.removeEventListener("focus",n.open),n._input.removeEventListener("click",n.open))}]};function U(e,t){var r=[];if(e instanceof Array)r=e.map((function(e){return n.parseDate(e,t)}));else if(e instanceof Date||"number"==typeof e)r=[n.parseDate(e,t)];else if("string"==typeof e)switch(n.config.mode){case"single":case"time":r=[n.parseDate(e,t)];break;case"multiple":r=e.split(n.config.conjunction).map((function(e){return n.parseDate(e,t)}));break;case"range":r=e.split(n.l10n.rangeSeparator).map((function(e){return n.parseDate(e,t)}))}else n.config.errorHandler(new Error("Invalid date supplied: "+JSON.stringify(e)));n.selectedDates=n.config.allowInvalidPreload?r:r.filter((function(e){return e instanceof Date&&E(e,!1)})),"range"===n.config.mode&&n.selectedDates.sort((function(e,t){return e.getTime()-t.getTime()}))}function Y(e){return e.slice().map((function(e){return"string"==typeof e||"number"==typeof e||e instanceof Date?n.parseDate(e,void 0,!0):e&&"object"==typeof e&&e.from&&e.to?{from:n.parseDate(e.from,void 0),to:n.parseDate(e.to,void 0)}:e})).filter((function(e){return e}))}function B(){n._positionElement=n.config.positionElement||n._input}function K(e,t){if(void 0!==n.config){var r=n.config[e];if(void 0!==r&&r.length>0)for(var o=0;r[o]&&o<r.length;o++)r[o](n.selectedDates,n.input.value,n,t);"onChange"===e&&(n.input.dispatchEvent(G("change")),n.input.dispatchEvent(G("input")))}}function G(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!0),t}function X(e){for(var t=0;t<n.selectedDates.length;t++){var r=n.selectedDates[t];if(r instanceof Date&&0===tc(r,e))return""+t}return!1}function J(){n.config.noCalendar||n.isMobile||!n.monthNav||(n.yearElements.forEach((function(e,t){var r=new Date(n.currentYear,n.currentMonth,1);r.setMonth(n.currentMonth+t),n.config.showMonths>1||"static"===n.config.monthSelectorType?n.monthElements[t].textContent=Gl(r.getMonth(),n.config.shorthandCurrentMonth,n.l10n)+" ":n.monthsDropdownContainer.value=r.getMonth().toString(),e.value=r.getFullYear().toString()})),n._hidePrevMonthArrow=void 0!==n.config.minDate&&(n.currentYear===n.config.minDate.getFullYear()?n.currentMonth<=n.config.minDate.getMonth():n.currentYear<n.config.minDate.getFullYear()),n._hideNextMonthArrow=void 0!==n.config.maxDate&&(n.currentYear===n.config.maxDate.getFullYear()?n.currentMonth+1>n.config.maxDate.getMonth():n.currentYear>n.config.maxDate.getFullYear()))}function Z(e){var t=e||(n.config.altInput?n.config.altFormat:n.config.dateFormat);return n.selectedDates.map((function(e){return n.formatDate(e,t)})).filter((function(e,t,r){return"range"!==n.config.mode||n.config.enableTime||r.indexOf(e)===t})).join("range"!==n.config.mode?n.config.conjunction:n.l10n.rangeSeparator)}function Q(e){void 0===e&&(e=!0),void 0!==n.mobileInput&&n.mobileFormatStr&&(n.mobileInput.value=void 0!==n.latestSelectedDateObj?n.formatDate(n.latestSelectedDateObj,n.mobileFormatStr):""),n.input.value=Z(n.config.dateFormat),void 0!==n.altInput&&(n.altInput.value=Z(n.config.altFormat)),!1!==e&&K("onValueUpdate")}function ee(e){var t=Bl(e),r=n.prevMonthNav.contains(t),o=n.nextMonthNav.contains(t);r||o?I(r?-1:1):n.yearElements.indexOf(t)>=0?t.select():t.classList.contains("arrowUp")?n.changeYear(n.currentYear+1):t.classList.contains("arrowDown")&&n.changeYear(n.currentYear-1)}return function(){n.element=n.input=e,n.isOpen=!1,function(){var r=["wrap","weekNumbers","allowInput","allowInvalidPreload","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],s=sc(sc({},JSON.parse(JSON.stringify(e.dataset||{}))),t),i={};n.config.parseDate=s.parseDate,n.config.formatDate=s.formatDate,Object.defineProperty(n.config,"enable",{get:function(){return n.config._enable},set:function(e){n.config._enable=Y(e)}}),Object.defineProperty(n.config,"disable",{get:function(){return n.config._disable},set:function(e){n.config._disable=Y(e)}});var a="time"===s.mode;if(!s.dateFormat&&(s.enableTime||a)){var l=cc.defaultConfig.dateFormat||Pl.dateFormat;i.dateFormat=s.noCalendar||a?"H:i"+(s.enableSeconds?":S":""):l+" H:i"+(s.enableSeconds?":S":"")}if(s.altInput&&(s.enableTime||a)&&!s.altFormat){var c=cc.defaultConfig.altFormat||Pl.altFormat;i.altFormat=s.noCalendar||a?"h:i"+(s.enableSeconds?":S K":" K"):c+" h:i"+(s.enableSeconds?":S":"")+" K"}Object.defineProperty(n.config,"minDate",{get:function(){return n.config._minDate},set:R("min")}),Object.defineProperty(n.config,"maxDate",{get:function(){return n.config._maxDate},set:R("max")});var u=function(e){return function(t){n.config["min"===e?"_minTime":"_maxTime"]=n.parseDate(t,"H:i:S")}};Object.defineProperty(n.config,"minTime",{get:function(){return n.config._minTime},set:u("min")}),Object.defineProperty(n.config,"maxTime",{get:function(){return n.config._maxTime},set:u("max")}),"time"===s.mode&&(n.config.noCalendar=!0,n.config.enableTime=!0);Object.assign(n.config,i,s);for(var d=0;d<r.length;d++)n.config[r[d]]=!0===n.config[r[d]]||"true"===n.config[r[d]];Nl.filter((function(e){return void 0!==n.config[e]})).forEach((function(e){n.config[e]=ql(n.config[e]||[]).map(o)})),n.isMobile=!n.config.disableMobile&&!n.config.inline&&"single"===n.config.mode&&!n.config.disable.length&&!n.config.enable&&!n.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);for(d=0;d<n.config.plugins.length;d++){var p=n.config.plugins[d](n)||{};for(var $ in p)Nl.indexOf($)>-1?n.config[$]=ql(p[$]).map(o).concat(n.config[$]):void 0===s[$]&&(n.config[$]=p[$])}s.altInputClass||(n.config.altInputClass=z().className+" "+n.config.altInputClass);K("onParseConfig")}(),F(),function(){if(n.input=z(),!n.input)return void n.config.errorHandler(new Error("Invalid input element specified"));n.input._type=n.input.type,n.input.type="text",n.input.classList.add("flatpickr-input"),n._input=n.input,n.config.altInput&&(n.altInput=jl(n.input.nodeName,n.config.altInputClass),n._input=n.altInput,n.altInput.placeholder=n.input.placeholder,n.altInput.disabled=n.input.disabled,n.altInput.required=n.input.required,n.altInput.tabIndex=n.input.tabIndex,n.altInput.type="text",n.input.setAttribute("type","hidden"),!n.config.static&&n.input.parentNode&&n.input.parentNode.insertBefore(n.altInput,n.input.nextSibling));n.config.allowInput||n._input.setAttribute("readonly","readonly");B()}(),function(){n.selectedDates=[],n.now=n.parseDate(n.config.now)||new Date;var e=n.config.defaultDate||("INPUT"!==n.input.nodeName&&"TEXTAREA"!==n.input.nodeName||!n.input.placeholder||n.input.value!==n.input.placeholder?n.input.value:null);e&&U(e,n.config.dateFormat);n._initialDate=n.selectedDates.length>0?n.selectedDates[0]:n.config.minDate&&n.config.minDate.getTime()>n.now.getTime()?n.config.minDate:n.config.maxDate&&n.config.maxDate.getTime()<n.now.getTime()?n.config.maxDate:n.now,n.currentYear=n._initialDate.getFullYear(),n.currentMonth=n._initialDate.getMonth(),n.selectedDates.length>0&&(n.latestSelectedDateObj=n.selectedDates[0]);void 0!==n.config.minTime&&(n.config.minTime=n.parseDate(n.config.minTime,"H:i"));void 0!==n.config.maxTime&&(n.config.maxTime=n.parseDate(n.config.maxTime,"H:i"));n.minDateHasTime=!!n.config.minDate&&(n.config.minDate.getHours()>0||n.config.minDate.getMinutes()>0||n.config.minDate.getSeconds()>0),n.maxDateHasTime=!!n.config.maxDate&&(n.config.maxDate.getHours()>0||n.config.maxDate.getMinutes()>0||n.config.maxDate.getSeconds()>0)}(),n.utils={getDaysInMonth:function(e,t){return void 0===e&&(e=n.currentMonth),void 0===t&&(t=n.currentYear),1===e&&(t%4==0&&t%100!=0||t%400==0)?29:n.l10n.daysInMonth[e]}},n.isMobile||function(){var e=window.document.createDocumentFragment();if(n.calendarContainer=jl("div","flatpickr-calendar"),n.calendarContainer.tabIndex=-1,!n.config.noCalendar){if(e.appendChild((n.monthNav=jl("div","flatpickr-months"),n.yearElements=[],n.monthElements=[],n.prevMonthNav=jl("span","flatpickr-prev-month"),n.prevMonthNav.innerHTML=n.config.prevArrow,n.nextMonthNav=jl("span","flatpickr-next-month"),n.nextMonthNav.innerHTML=n.config.nextArrow,C(),Object.defineProperty(n,"_hidePrevMonthArrow",{get:function(){return n.__hidePrevMonthArrow},set:function(e){n.__hidePrevMonthArrow!==e&&(Vl(n.prevMonthNav,"flatpickr-disabled",e),n.__hidePrevMonthArrow=e)}}),Object.defineProperty(n,"_hideNextMonthArrow",{get:function(){return n.__hideNextMonthArrow},set:function(e){n.__hideNextMonthArrow!==e&&(Vl(n.nextMonthNav,"flatpickr-disabled",e),n.__hideNextMonthArrow=e)}}),n.currentYearElement=n.yearElements[0],J(),n.monthNav)),n.innerContainer=jl("div","flatpickr-innerContainer"),n.config.weekNumbers){var t=function(){n.calendarContainer.classList.add("hasWeeks");var e=jl("div","flatpickr-weekwrapper");e.appendChild(jl("span","flatpickr-weekday",n.l10n.weekAbbreviation));var t=jl("div","flatpickr-weeks");return e.appendChild(t),{weekWrapper:e,weekNumbers:t}}(),r=t.weekWrapper,o=t.weekNumbers;n.innerContainer.appendChild(r),n.weekNumbers=o,n.weekWrapper=r}n.rContainer=jl("div","flatpickr-rContainer"),n.rContainer.appendChild(k()),n.daysContainer||(n.daysContainer=jl("div","flatpickr-days"),n.daysContainer.tabIndex=-1),w(),n.rContainer.appendChild(n.daysContainer),n.innerContainer.appendChild(n.rContainer),e.appendChild(n.innerContainer)}n.config.enableTime&&e.appendChild(function(){n.calendarContainer.classList.add("hasTime"),n.config.noCalendar&&n.calendarContainer.classList.add("noCalendar");var e=oc(n.config);n.timeContainer=jl("div","flatpickr-time"),n.timeContainer.tabIndex=-1;var t=jl("span","flatpickr-time-separator",":"),r=Yl("flatpickr-hour",{"aria-label":n.l10n.hourAriaLabel});n.hourElement=r.getElementsByTagName("input")[0];var o=Yl("flatpickr-minute",{"aria-label":n.l10n.minuteAriaLabel});n.minuteElement=o.getElementsByTagName("input")[0],n.hourElement.tabIndex=n.minuteElement.tabIndex=-1,n.hourElement.value=zl(n.latestSelectedDateObj?n.latestSelectedDateObj.getHours():n.config.time_24hr?e.hours:function(e){switch(e%24){case 0:case 12:return 12;default:return e%12}}(e.hours)),n.minuteElement.value=zl(n.latestSelectedDateObj?n.latestSelectedDateObj.getMinutes():e.minutes),n.hourElement.setAttribute("step",n.config.hourIncrement.toString()),n.minuteElement.setAttribute("step",n.config.minuteIncrement.toString()),n.hourElement.setAttribute("min",n.config.time_24hr?"0":"1"),n.hourElement.setAttribute("max",n.config.time_24hr?"23":"12"),n.hourElement.setAttribute("maxlength","2"),n.minuteElement.setAttribute("min","0"),n.minuteElement.setAttribute("max","59"),n.minuteElement.setAttribute("maxlength","2"),n.timeContainer.appendChild(r),n.timeContainer.appendChild(t),n.timeContainer.appendChild(o),n.config.time_24hr&&n.timeContainer.classList.add("time24hr");if(n.config.enableSeconds){n.timeContainer.classList.add("hasSeconds");var s=Yl("flatpickr-second");n.secondElement=s.getElementsByTagName("input")[0],n.secondElement.value=zl(n.latestSelectedDateObj?n.latestSelectedDateObj.getSeconds():e.seconds),n.secondElement.setAttribute("step",n.minuteElement.getAttribute("step")),n.secondElement.setAttribute("min","0"),n.secondElement.setAttribute("max","59"),n.secondElement.setAttribute("maxlength","2"),n.timeContainer.appendChild(jl("span","flatpickr-time-separator",":")),n.timeContainer.appendChild(s)}n.config.time_24hr||(n.amPM=jl("span","flatpickr-am-pm",n.l10n.amPM[Fl((n.latestSelectedDateObj?n.hourElement.value:n.config.defaultHour)>11)]),n.amPM.title=n.l10n.toggleTitle,n.amPM.tabIndex=-1,n.timeContainer.appendChild(n.amPM));return n.timeContainer}());Vl(n.calendarContainer,"rangeMode","range"===n.config.mode),Vl(n.calendarContainer,"animate",!0===n.config.animate),Vl(n.calendarContainer,"multiMonth",n.config.showMonths>1),n.calendarContainer.appendChild(e);var s=void 0!==n.config.appendTo&&void 0!==n.config.appendTo.nodeType;if((n.config.inline||n.config.static)&&(n.calendarContainer.classList.add(n.config.inline?"inline":"static"),n.config.inline&&(!s&&n.element.parentNode?n.element.parentNode.insertBefore(n.calendarContainer,n._input.nextSibling):void 0!==n.config.appendTo&&n.config.appendTo.appendChild(n.calendarContainer)),n.config.static)){var i=jl("div","flatpickr-wrapper");n.element.parentNode&&n.element.parentNode.insertBefore(i,n.element),i.appendChild(n.element),n.altInput&&i.appendChild(n.altInput),i.appendChild(n.calendarContainer)}n.config.static||n.config.inline||(void 0!==n.config.appendTo?n.config.appendTo:window.document.body).appendChild(n.calendarContainer)}(),function(){n.config.wrap&&["open","close","toggle","clear"].forEach((function(e){Array.prototype.forEach.call(n.element.querySelectorAll("[data-"+e+"]"),(function(t){return d(t,"click",n[e])}))}));if(n.isMobile)return void function(){var e=n.config.enableTime?n.config.noCalendar?"time":"datetime-local":"date";n.mobileInput=jl("input",n.input.className+" flatpickr-mobile"),n.mobileInput.tabIndex=1,n.mobileInput.type=e,n.mobileInput.disabled=n.input.disabled,n.mobileInput.required=n.input.required,n.mobileInput.placeholder=n.input.placeholder,n.mobileFormatStr="datetime-local"===e?"Y-m-d\\TH:i:S":"date"===e?"Y-m-d":"H:i:S",n.selectedDates.length>0&&(n.mobileInput.defaultValue=n.mobileInput.value=n.formatDate(n.selectedDates[0],n.mobileFormatStr));n.config.minDate&&(n.mobileInput.min=n.formatDate(n.config.minDate,"Y-m-d"));n.config.maxDate&&(n.mobileInput.max=n.formatDate(n.config.maxDate,"Y-m-d"));n.input.getAttribute("step")&&(n.mobileInput.step=String(n.input.getAttribute("step")));n.input.type="hidden",void 0!==n.altInput&&(n.altInput.type="hidden");try{n.input.parentNode&&n.input.parentNode.insertBefore(n.mobileInput,n.input.nextSibling)}catch(t){}d(n.mobileInput,"change",(function(e){n.setDate(Bl(e).value,!1,n.mobileFormatStr),K("onChange"),K("onClose")}))}();var e=Hl(P,50);n._debouncedChange=Hl(p,300),n.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&d(n.daysContainer,"mouseover",(function(e){"range"===n.config.mode&&N(Bl(e))}));d(n._input,"keydown",L),void 0!==n.calendarContainer&&d(n.calendarContainer,"keydown",L);n.config.inline||n.config.static||d(window,"resize",e);void 0!==window.ontouchstart?d(window.document,"touchstart",T):d(window.document,"mousedown",T);d(window.document,"focus",T,{capture:!0}),!0===n.config.clickOpens&&(d(n._input,"focus",n.open),d(n._input,"click",n.open));void 0!==n.daysContainer&&(d(n.monthNav,"click",ee),d(n.monthNav,["keyup","increment"],u),d(n.daysContainer,"click",j));if(void 0!==n.timeContainer&&void 0!==n.minuteElement&&void 0!==n.hourElement){var t=function(e){return Bl(e).select()};d(n.timeContainer,["increment"],i),d(n.timeContainer,"blur",i,{capture:!0}),d(n.timeContainer,"click",m),d([n.hourElement,n.minuteElement],["focus","click"],t),void 0!==n.secondElement&&d(n.secondElement,"focus",(function(){return n.secondElement&&n.secondElement.select()})),void 0!==n.amPM&&d(n.amPM,"click",(function(e){i(e)}))}n.config.allowInput&&d(n._input,"blur",A)}(),(n.selectedDates.length||n.config.noCalendar)&&(n.config.enableTime&&l(n.config.noCalendar?n.latestSelectedDateObj:void 0),Q(!1)),s();var r=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);!n.isMobile&&r&&H(),K("onReady")}(),n}function lc(e,t){for(var n=Array.prototype.slice.call(e).filter((function(e){return e instanceof HTMLElement})),r=[],o=0;o<n.length;o++){var s=n[o];try{if(null!==s.getAttribute("data-fp-omit"))continue;void 0!==s._flatpickr&&(s._flatpickr.destroy(),s._flatpickr=void 0),s._flatpickr=ac(s,t||{}),r.push(s._flatpickr)}catch(i){console.error(i)}}return 1===r.length?r[0]:r}"undefined"!=typeof HTMLElement&&"undefined"!=typeof HTMLCollection&&"undefined"!=typeof NodeList&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(e){return lc(this,e)},HTMLElement.prototype.flatpickr=function(e){return lc([this],e)});var cc=function(e,t){return"string"==typeof e?lc(window.document.querySelectorAll(e),t):e instanceof Node?lc([e],t):lc(e,t)};function uc(e){let t;return{c(){t=F("div"),t.innerHTML='<input type="hidden" data-input=""/>',B(t,"class","flat-pickr")},m(n,r){P(n,t,r),e[7](t)},p:s,i:s,o:s,d(n){n&&R(t),e[7](null)}}}function dc(e,t,n){const r=fe();let o,s,{value:i}=t,{type:a}=t,{format:l}=t,{timeShow24Hr:c=!0}=t,{timeEnableSeconds:u=!0}=t;return pe((()=>(n(6,s=cc(o,{wrap:!0,enableTime:"date"!==a,enableSeconds:u,noCalendar:"time"===a,dateFormat:l,parseDate:(e,t)=>vt(e,t).toDate(),formatDate:(e,t)=>vt(e).format(t),time_24hr:c,static:!0,inline:!0,monthSelectorType:"static",onChange:e=>{if(e[0]){const t=i,o=vt(e[0]);if(n(1,i=o.format(l)),r("change",i),"date"===a)r("dateChange",i);else if("time"===a)r("timeChange",i);else{const e=vt(t,l);if(!e.isValid())return r("dateChange",i),void r("timeChange",i);e.format("YYYY-MM-DD")!==o.format("YYYY-MM-DD")&&r("dateChange",i),e.format("HH:mm")!==o.format("HH:mm")&&r("timeChange",i)}}}})),()=>s.destroy()))),e.$$set=e=>{"value"in e&&n(1,i=e.value),"type"in e&&n(2,a=e.type),"format"in e&&n(3,l=e.format),"timeShow24Hr"in e&&n(4,c=e.timeShow24Hr),"timeEnableSeconds"in e&&n(5,u=e.timeEnableSeconds)},e.$$.update=()=>{66&e.$$.dirty&&(null==i?s?.clear():s?.setDate(i))},[o,i,a,l,c,u,s,function(e){we[e?"unshift":"push"]((()=>{o=e,n(0,o)}))}]}cc.defaultConfig={},cc.l10ns={en:sc({},Rl),default:sc({},Rl)},cc.localize=function(e){cc.l10ns.default=sc(sc({},cc.l10ns.default),e)},cc.setDefaults=function(e){cc.defaultConfig=sc(sc({},cc.defaultConfig),e)},cc.parseDate=ec({}),cc.formatDate=Ql({}),cc.compareDates=tc,"undefined"!=typeof jQuery&&void 0!==jQuery.fn&&(jQuery.fn.flatpickr=function(e){return lc(this,e)}),Date.prototype.fp_incr=function(e){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+("string"==typeof e?parseInt(e,10):e))},"undefined"!=typeof window&&(window.flatpickr=cc);class pc extends at{constructor(e){super(),it(this,e,dc,uc,p,{value:1,type:2,format:3,timeShow24Hr:4,timeEnableSeconds:5})}}const $c=e=>({}),mc=e=>({slot:"trigger"});function fc(e){let t,n;const r=[e[2]];let o={};for(let s=0;s<r.length;s+=1)o=a(o,r[s]);return t=new Wr({props:o}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const o=4&n?et(r,[tt(e[2])]):{};t.$set(o)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function gc(e){let t,n;return{c(){t=F("span"),n=q(e[0]),B(t,"class","label")},m(e,r){P(e,t,r),A(t,n)},p(e,t){1&t&&X(n,e[0])},d(e){e&&R(t)}}}function hc(e){let t;const n=e[6].trigger,r=g(n,e,e[7],mc),o=r||function(e){let t,n,r,o=e[2]&&fc(e),s=e[0]&&gc(e);return{c(){t=F("span"),o&&o.c(),n=V(),s&&s.c(),B(t,"class","dropdown-menu-trigger svelte-pow2fb")},m(e,i){P(e,t,i),o&&o.m(t,null),A(t,n),s&&s.m(t,null),r=!0},p(e,r){e[2]?o?(o.p(e,r),4&r&&qe(o,1)):(o=fc(e),o.c(),qe(o,1),o.m(t,n)):o&&(Fe(),Ve(o,1,1,(()=>{o=null})),He()),e[0]?s?s.p(e,r):(s=gc(e),s.c(),s.m(t,null)):s&&(s.d(1),s=null)},i(e){r||(qe(o),r=!0)},o(e){Ve(o),r=!1},d(e){e&&R(t),o&&o.d(),s&&s.d()}}}(e);return{c(){o&&o.c()},m(e,n){o&&o.m(e,n),t=!0},p(e,s){r?r.p&&(!t||128&s)&&v(r,n,e,e[7],t?y(n,e[7],s,$c):b(e[7]),mc):o&&o.p&&(!t||5&s)&&o.p(e,t?s:-1)},i(e){t||(qe(o,e),t=!0)},o(e){Ve(o,e),t=!1},d(e){o&&o.d(e)}}}function yc(e){let t;const n=e[6].default,r=g(n,e,e[7],null);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||128&o)&&v(r,n,e,e[7],t?y(n,e[7],o,null):b(e[7]),null)},i(e){t||(qe(r,e),t=!0)},o(e){Ve(r,e),t=!1},d(e){r&&r.d(e)}}}function vc(e){let t,n;return t=new ws({props:{slot:"content",style:"--min-width: 100%;"+e[4],$$slots:{default:[yc]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};16&n&&(r.style="--min-width: 100%;"+e[4]),128&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function bc(e){let t,n;const r=[{closeOnInnerClick:e[3]},{ariaLabel:e[1]??e[0]},e[5]];let o={$$slots:{content:[vc],trigger:[hc]},$$scope:{ctx:e}};for(let s=0;s<r.length;s+=1)o=a(o,r[s]);return t=new ma({props:o}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const o=43&n?et(r,[8&n&&{closeOnInnerClick:e[3]},3&n&&{ariaLabel:e[1]??e[0]},32&n&&tt(e[5])]):{};149&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function wc(e,t,n){const r=["label","ariaLabel","icon","closeOnInnerClick","menuStyle"];let o=x(t,r),{$$slots:s={},$$scope:i}=t,{label:l=""}=t,{ariaLabel:c}=t,{icon:u}=t,{closeOnInnerClick:d=!0}=t,{menuStyle:p=""}=t;return e.$$set=e=>{t=a(a({},t),w(e)),n(5,o=x(t,r)),"label"in e&&n(0,l=e.label),"ariaLabel"in e&&n(1,c=e.ariaLabel),"icon"in e&&n(2,u=e.icon),"closeOnInnerClick"in e&&n(3,d=e.closeOnInnerClick),"menuStyle"in e&&n(4,p=e.menuStyle),"$$scope"in e&&n(7,i=e.$$scope)},[l,c,u,d,p,o,s,i]}class xc extends at{constructor(e){super(),it(this,e,wc,bc,p,{label:0,ariaLabel:1,icon:2,closeOnInnerClick:3,menuStyle:4})}}const Sc=e=>({option:1&e,label:17&e}),Cc=e=>({option:e[0],label:e[4](e[0])}),kc=e=>({}),Dc=e=>({option:e[28],label:e[29]}),Ic=e=>({option:268435456&e,label:536870912&e}),_c=e=>({option:e[28],label:e[29]});function Tc(e){let t,n;return t=new No({props:{arg:e[4](e[0])}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};17&n&&(r.arg=e[4](e[0])),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Mc(e){let t;const n=e[16].default,r=g(n,e,e[23],Cc);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||8388625&o)&&v(r,n,e,e[23],t?y(n,e[23],o,Sc):b(e[23]),Cc)},i(e){t||(qe(r,e),t=!0)},o(e){Ve(r,e),t=!1},d(e){r&&r.d(e)}}}function Ec(e){let t,n,r,o;const s=[Mc,Tc],i=[];function a(e,t){return e[14].default?0:1}return t=a(e),n=i[t]=s[t](e),{c(){n.c(),r=j()},m(e,n){i[t].m(e,n),P(e,r,n),o=!0},p(e,o){let l=t;t=a(e),t===l?i[t].p(e,o):(Fe(),Ve(i[l],1,1,(()=>{i[l]=null})),He(),n=i[t],n?n.p(e,o):(n=i[t]=s[t](e),n.c()),qe(n,1),n.m(r.parentNode,r))},i(e){o||(qe(n),o=!0)},o(e){Ve(n),o=!1},d(e){i[t].d(e),e&&R(r)}}}function Oc(e){let t,n;return t=new Da({props:{id:e[1]+"-select-options"}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.id=e[1]+"-select-options"),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Ac(e){let t,n;return t=new Da({props:{id:e[1]+"-select-options",$$slots:{default:[Lc,({option:e,label:t})=>({28:e,29:t}),({option:e,label:t})=>(e?268435456:0)|(t?536870912:0)]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.id=e[1]+"-select-options"),813694976&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Lc(e){let t;const n=e[16].default,r=g(n,e,e[23],_c);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||813694976&o)&&v(r,n,e,e[23],t?y(n,e[23],o,Ic):b(e[23]),_c)},i(e){t||(qe(r,e),t=!0)},o(e){Ve(r,e),t=!1},d(e){r&&r.d(e)}}}function Nc(e){let t;const n=e[16].empty,r=g(n,e,e[23],Dc);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||8388608&o)&&v(r,n,e,e[23],t?y(n,e[23],o,kc):b(e[23]),Dc)},i(e){t||(qe(r,e),t=!0)},o(e){Ve(r,e),t=!1},d(e){r&&r.d(e)}}}function Pc(e){let t,n,r,o,s;const i=[Ac,Oc],a=[];function l(e,t){return e[14].default?0:1}t=l(e),n=a[t]=i[t](e);let c=0===e[5].length&&e[14].empty&&Nc(e);return{c(){n.c(),r=V(),c&&c.c(),o=j()},m(e,n){a[t].m(e,n),P(e,r,n),c&&c.m(e,n),P(e,o,n),s=!0},p(e,s){let u=t;t=l(e),t===u?a[t].p(e,s):(Fe(),Ve(a[u],1,1,(()=>{a[u]=null})),He(),n=a[t],n?n.p(e,s):(n=a[t]=i[t](e),n.c()),qe(n,1),n.m(r.parentNode,r)),0===e[5].length&&e[14].empty?c?(c.p(e,s),16416&s&&qe(c,1)):(c=Nc(e),c.c(),qe(c,1),c.m(o.parentNode,o)):c&&(Fe(),Ve(c,1,1,(()=>{c=null})),He())},i(e){s||(qe(n),qe(c),s=!0)},o(e){Ve(n),Ve(c),s=!1},d(e){a[t].d(e),e&&R(r),c&&c.d(e),e&&R(o)}}}function Rc(e){let t,n;return t=new ma({props:{ariaControls:e[1]+"-select-options",ariaLabel:e[10],isOpen:e[27],disabled:e[2],id:e[1],contentClass:["select",e[8],e[6]].join(" "),triggerAppearance:e[9],triggerClass:["input-element select full-width",e[8],e[7]].join(" "),$$slots:{content:[Pc],trigger:[Ec]},$$scope:{ctx:e}}}),t.$on("open",(function(){return e[17](e[26])})),t.$on("close",(function(){return e[18](e[26])})),t.$on("keydown",(function(...t){return e[19](e[26],...t)})),t.$on("focus",e[20]),t.$on("blur",e[21]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(n,r){e=n;const o={};2&r&&(o.ariaControls=e[1]+"-select-options"),1024&r&&(o.ariaLabel=e[10]),134217728&r&&(o.isOpen=e[27]),4&r&&(o.disabled=e[2]),2&r&&(o.id=e[1]),320&r&&(o.contentClass=["select",e[8],e[6]].join(" ")),512&r&&(o.triggerAppearance=e[9]),384&r&&(o.triggerClass=["input-element select full-width",e[8],e[7]].join(" ")),8405043&r&&(o.$$scope={dirty:r,ctx:e}),t.$set(o)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function zc(e){let t,n,r,o;const s=[e[13],{id:e[1]},{disabled:e[2]}];let i={};for(let l=0;l<s.length;l+=1)i=a(i,s[l]);return t=new co({props:i}),r=new va({props:{selectionType:"single",options:e[5],value:void 0!==e[0]?[e[0]]:[],labelKey:e[3],getLabel:e[4],checkEquality:e[11],$$slots:{default:[Rc,({api:e,isOpen:t})=>({26:e,27:t}),({api:e,isOpen:t})=>(e?67108864:0)|(t?134217728:0)]},$$scope:{ctx:e}}}),r.$on("change",e[22]),{c(){rt(t.$$.fragment),n=V(),rt(r.$$.fragment)},m(e,s){ot(t,e,s),P(e,n,s),ot(r,e,s),o=!0},p(e,[n]){const o=8198&n?et(s,[8192&n&&tt(e[13]),2&n&&{id:e[1]},4&n&&{disabled:e[2]}]):{};t.$set(o);const i={};32&n&&(i.options=e[5]),1&n&&(i.value=void 0!==e[0]?[e[0]]:[]),8&n&&(i.labelKey=e[3]),16&n&&(i.getLabel=e[4]),2048&n&&(i.checkEquality=e[11]),209733623&n&&(i.$$scope={dirty:n,ctx:e}),r.$set(i)},i(e){o||(qe(t.$$.fragment,e),qe(r.$$.fragment,e),o=!0)},o(e){Ve(t.$$.fragment,e),Ve(r.$$.fragment,e),o=!1},d(e){st(t,e),e&&R(n),st(r,e)}}}function Fc(e,t,n){const r=["id","disabled","labelKey","getLabel","options","value","contentClass","triggerClass","class","triggerAppearance","ariaLabel","valuesAreEqual","autoSelect"];let o=x(t,r),{$$slots:s={},$$scope:i}=t;const l=S(s),c=fe();let{id:u=kt()}=t,{disabled:d=!1}=t,{labelKey:p="label"}=t,{getLabel:$=(e=>At(e,p))}=t,{options:m}=t,{value:f}=t,{contentClass:g=""}=t,{triggerClass:h=""}=t,{class:y=""}=t,{triggerAppearance:v="default"}=t,{ariaLabel:b}=t,{valuesAreEqual:C=((e,t)=>e===t)}=t,{autoSelect:k="first"}=t;function D(e){n(0,[f]=e,f),c("change",f),c("input",f),c("artificialChange",f),c("artificialInput",f)}return e.$$set=e=>{t=a(a({},t),w(e)),n(13,o=x(t,r)),"id"in e&&n(1,u=e.id),"disabled"in e&&n(2,d=e.disabled),"labelKey"in e&&n(3,p=e.labelKey),"getLabel"in e&&n(4,$=e.getLabel),"options"in e&&n(5,m=e.options),"value"in e&&n(0,f=e.value),"contentClass"in e&&n(6,g=e.contentClass),"triggerClass"in e&&n(7,h=e.triggerClass),"class"in e&&n(8,y=e.class),"triggerAppearance"in e&&n(9,v=e.triggerAppearance),"ariaLabel"in e&&n(10,b=e.ariaLabel),"valuesAreEqual"in e&&n(11,C=e.valuesAreEqual),"autoSelect"in e&&n(15,k=e.autoSelect),"$$scope"in e&&n(23,i=e.$$scope)},e.$$.update=()=>{var t;32&e.$$.dirty&&(t=m,"none"!==k&&(t.length?void 0!==f&&t.some((e=>C(e,f)))||("first"===k?D(t):"clear"===k&&D([])):void 0!==f&&D([])))},[f,u,d,p,$,m,g,h,y,v,b,C,D,o,l,k,s,e=>e.open(),e=>e.close(),(e,t)=>e.handleKeyDown(t),function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},e=>D(e.detail),i]}class Hc extends at{constructor(e){super(),it(this,e,Fc,zc,p,{id:1,disabled:2,labelKey:3,getLabel:4,options:5,value:0,contentClass:6,triggerClass:7,class:8,triggerAppearance:9,ariaLabel:10,valuesAreEqual:11,autoSelect:15})}}function qc(e,t){return"boolean"===e||t?.[0]}function Vc(e){let t,n;const r=[e[4],{triggerAppearance:e[0]},{options:e[1]},{value:e[2]}];let o={};for(let s=0;s<r.length;s+=1)o=a(o,r[s]);return t=new Hc({props:o}),t.$on("change",e[3]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const o=23&n?et(r,[16&n&&tt(e[4]),1&n&&{triggerAppearance:e[0]},2&n&&{options:e[1]},4&n&&{value:e[2]}]):{};t.$set(o)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function jc(e,t,n){let r,o;const s=["dataType","enumValues","options","triggerAppearance","value"];let i=x(t,s),{dataType:l}=t,{enumValues:c}=t,{options:u}=t,{triggerAppearance:d="default"}=t,{value:p=qc(l,c)}=t;return e.$$set=e=>{t=a(a({},t),w(e)),n(4,i=x(t,s)),"dataType"in e&&n(6,l=e.dataType),"enumValues"in e&&n(7,c=e.enumValues),"options"in e&&n(8,u=e.options),"triggerAppearance"in e&&n(0,d=e.triggerAppearance),"value"in e&&n(5,p=e.value)},e.$$.update=()=>{448&e.$$.dirty&&n(1,r=function(e,t,n){return"boolean"===e?[{value:!0,label:n?.true?.label??"True"},{value:!1,label:n?.false?.label??"False"}]:t?.map((e=>({value:e,label:n?.[e]?.label??e})))||[]}(l,c,u)),34&e.$$.dirty&&n(2,o=function(e,t){return e.find((e=>e.value===t))}(r,p))},[d,r,o,function(e){n(5,p=e.detail?.value)},i,p,l,c,u]}class Wc extends at{constructor(e){super(),it(this,e,jc,Vc,p,{dataType:6,enumValues:7,options:8,triggerAppearance:0,value:5})}}function Uc(e){let t,n,r;const o=[e[2]];function s(t){e[4](t)}let i={};for(let l=0;l<o.length;l+=1)i=a(i,o[l]);return void 0!==e[0]&&(i.value=e[0]),t=new di({props:i}),we.push((()=>nt(t,"value",s))),{c(){rt(t.$$.fragment)},m(e,n){ot(t,e,n),r=!0},p(e,r){const s=4&r?et(o,[tt(e[2])]):{};!n&&1&r&&(n=!0,s.value=e[0],Te((()=>n=!1))),t.$set(s)},i(e){r||(qe(t.$$.fragment,e),r=!0)},o(e){Ve(t.$$.fragment,e),r=!1},d(e){st(t,e)}}}function Yc(e){let t,n,r;const o=[e[2]];function s(t){e[3](t)}let i={};for(let l=0;l<o.length;l+=1)i=a(i,o[l]);return void 0!==e[0]&&(i.value=e[0]),t=new gl({props:i}),we.push((()=>nt(t,"value",s))),{c(){rt(t.$$.fragment)},m(e,n){ot(t,e,n),r=!0},p(e,r){const s=4&r?et(o,[tt(e[2])]):{};!n&&1&r&&(n=!0,s.value=e[0],Te((()=>n=!1))),t.$set(s)},i(e){r||(qe(t.$$.fragment,e),r=!0)},o(e){Ve(t.$$.fragment,e),r=!1},d(e){st(t,e)}}}function Bc(e){let t,n,r,o;const s=[Yc,Uc],i=[];function a(e,t){return"textarea"===e[1]?0:1}return t=a(e),n=i[t]=s[t](e),{c(){n.c(),r=j()},m(e,n){i[t].m(e,n),P(e,r,n),o=!0},p(e,[o]){let l=t;t=a(e),t===l?i[t].p(e,o):(Fe(),Ve(i[l],1,1,(()=>{i[l]=null})),He(),n=i[t],n?n.p(e,o):(n=i[t]=s[t](e),n.c()),qe(n,1),n.m(r.parentNode,r))},i(e){o||(qe(n),o=!0)},o(e){Ve(n),o=!1},d(e){i[t].d(e),e&&R(r)}}}function Kc(e,t,n){const r=["value","interfaceType"];let o=x(t,r),{value:s}=t,{interfaceType:i}=t;return e.$$set=e=>{t=a(a({},t),w(e)),n(2,o=x(t,r)),"value"in e&&n(0,s=e.value),"interfaceType"in e&&n(1,i=e.interfaceType)},[s,i,o,function(e){s=e,n(0,s)},function(e){s=e,n(0,s)}]}class Gc extends at{constructor(e){super(),it(this,e,Kc,Bc,p,{value:0,interfaceType:1})}}function Xc(e){let t,n,r;const o=[e[2]];function s(t){e[3](t)}let i={};for(let l=0;l<o.length;l+=1)i=a(i,o[l]);return void 0!==e[0]&&(i.checked=e[0]),t=new $o({props:i}),we.push((()=>nt(t,"checked",s))),{c(){rt(t.$$.fragment)},m(e,n){ot(t,e,n),r=!0},p(e,r){const s=4&r?et(o,[tt(e[2])]):{};!n&&1&r&&(n=!0,s.checked=e[0],Te((()=>n=!1))),t.$set(s)},i(e){r||(qe(t.$$.fragment,e),r=!0)},o(e){Ve(t.$$.fragment,e),r=!1},d(e){st(t,e)}}}function Jc(e){let t;return{c(){t=q("Toggle not implemented yet")},m(e,n){P(e,t,n)},p:s,i:s,o:s,d(e){e&&R(t)}}}function Zc(e){let t,n,r,o;const s=[Jc,Xc],i=[];function a(e,t){return"toggle"===e[1]?0:1}return t=a(e),n=i[t]=s[t](e),{c(){n.c(),r=j()},m(e,n){i[t].m(e,n),P(e,r,n),o=!0},p(e,[o]){let l=t;t=a(e),t===l?i[t].p(e,o):(Fe(),Ve(i[l],1,1,(()=>{i[l]=null})),He(),n=i[t],n?n.p(e,o):(n=i[t]=s[t](e),n.c()),qe(n,1),n.m(r.parentNode,r))},i(e){o||(qe(n),o=!0)},o(e){Ve(n),o=!1},d(e){i[t].d(e),e&&R(r)}}}function Qc(e,t,n){const r=["value","interfaceType"];let o=x(t,r),{value:s=!1}=t,{interfaceType:i="checkbox"}=t;return e.$$set=e=>{t=a(a({},t),w(e)),n(2,o=x(t,r)),"value"in e&&n(0,s=e.value),"interfaceType"in e&&n(1,i=e.interfaceType)},[s,i,o,function(e){s=e,n(0,s)}]}class eu extends at{constructor(e){super(),it(this,e,Qc,Zc,p,{value:0,interfaceType:1})}}function tu(e){let t,n,r;const o=[e[5],{interfaceType:e[2]}];function s(t){e[9](t)}let i={};for(let l=0;l<o.length;l+=1)i=a(i,o[l]);return void 0!==e[0]&&(i.value=e[0]),t=new Gc({props:i}),we.push((()=>nt(t,"value",s))),{c(){rt(t.$$.fragment)},m(e,n){ot(t,e,n),r=!0},p(e,r){const s=36&r?et(o,[32&r&&tt(e[5]),4&r&&{interfaceType:e[2]}]):{};!n&&1&r&&(n=!0,s.value=e[0],Te((()=>n=!1))),t.$set(s)},i(e){r||(qe(t.$$.fragment,e),r=!0)},o(e){Ve(t.$$.fragment,e),r=!1},d(e){st(t,e)}}}function nu(e){let t,n,r;const o=[e[5],{allowFloat:"float"===e[1]},{allowNegative:!0}];function s(t){e[8](t)}let i={};for(let l=0;l<o.length;l+=1)i=a(i,o[l]);return void 0!==e[0]&&(i.value=e[0]),t=new ta({props:i}),we.push((()=>nt(t,"value",s))),{c(){rt(t.$$.fragment)},m(e,n){ot(t,e,n),r=!0},p(e,r){const s=34&r?et(o,[32&r&&tt(e[5]),2&r&&{allowFloat:"float"===e[1]},o[2]]):{};!n&&1&r&&(n=!0,s.value=e[0],Te((()=>n=!1))),t.$set(s)},i(e){r||(qe(t.$$.fragment,e),r=!0)},o(e){Ve(t.$$.fragment,e),r=!1},d(e){st(t,e)}}}function ru(e){let t,n,r;const o=[e[5],{interfaceType:e[2]}];function s(t){e[7](t)}let i={};for(let l=0;l<o.length;l+=1)i=a(i,o[l]);return void 0!==e[0]&&(i.value=e[0]),t=new eu({props:i}),we.push((()=>nt(t,"value",s))),{c(){rt(t.$$.fragment)},m(e,n){ot(t,e,n),r=!0},p(e,r){const s=36&r?et(o,[32&r&&tt(e[5]),4&r&&{interfaceType:e[2]}]):{};!n&&1&r&&(n=!0,s.value=e[0],Te((()=>n=!1))),t.$set(s)},i(e){r||(qe(t.$$.fragment,e),r=!0)},o(e){Ve(t.$$.fragment,e),r=!1},d(e){st(t,e)}}}function ou(e){let t,n,r;const o=[e[5],{enumValues:e[3]},{dataType:e[1]},{options:e[4]}];function s(t){e[6](t)}let i={};for(let l=0;l<o.length;l+=1)i=a(i,o[l]);return void 0!==e[0]&&(i.value=e[0]),t=new Wc({props:i}),we.push((()=>nt(t,"value",s))),{c(){rt(t.$$.fragment)},m(e,n){ot(t,e,n),r=!0},p(e,r){const s=58&r?et(o,[32&r&&tt(e[5]),8&r&&{enumValues:e[3]},2&r&&{dataType:e[1]},16&r&&{options:e[4]}]):{};!n&&1&r&&(n=!0,s.value=e[0],Te((()=>n=!1))),t.$set(s)},i(e){r||(qe(t.$$.fragment,e),r=!0)},o(e){Ve(t.$$.fragment,e),r=!1},d(e){st(t,e)}}}function su(e){let t,n,r,o;const s=[ou,ru,nu,tu],i=[];function a(e,t){return e[3]||"select"===e[2]?0:"boolean"===e[1]?1:"integer"===e[1]||"float"===e[1]?2:"string"===e[1]?3:-1}return~(t=a(e))&&(n=i[t]=s[t](e)),{c(){n&&n.c(),r=j()},m(e,n){~t&&i[t].m(e,n),P(e,r,n),o=!0},p(e,[o]){let l=t;t=a(e),t===l?~t&&i[t].p(e,o):(n&&(Fe(),Ve(i[l],1,1,(()=>{i[l]=null})),He()),~t?(n=i[t],n?n.p(e,o):(n=i[t]=s[t](e),n.c()),qe(n,1),n.m(r.parentNode,r)):n=null)},i(e){o||(qe(n),o=!0)},o(e){Ve(n),o=!1},d(e){~t&&i[t].d(e),e&&R(r)}}}function iu(e,t,n){const r=["dataType","value","interfaceType","enum","options"];let o=x(t,r),{dataType:s="string"}=t,{value:i}=t,{interfaceType:l}=t,{enum:c}=t,{options:u}=t;return e.$$set=e=>{t=a(a({},t),w(e)),n(5,o=x(t,r)),"dataType"in e&&n(1,s=e.dataType),"value"in e&&n(0,i=e.value),"interfaceType"in e&&n(2,l=e.interfaceType),"enum"in e&&n(3,c=e.enum),"options"in e&&n(4,u=e.options)},[i,s,l,c,u,o,function(e){i=e,n(0,i)},function(e){i=e,n(0,i)},function(e){i=e,n(0,i)},function(e){i=e,n(0,i)}]}class au extends at{constructor(e){super(),it(this,e,iu,su,p,{dataType:1,value:0,interfaceType:2,enum:3,options:4})}}function lu(e,t,n){const r=e.slice();r[18]=t[n];const o=Math.round(r[1]?.[r[18].fileId]??0);return r[19]=o,r}function cu(e){let t,n,r=[],o=new Map,s=e[0];const i=e=>e[18].fileId;for(let a=0;a<s.length;a+=1){let t=lu(e,s,a),n=i(t);o.set(n,r[a]=uu(n,t))}return{c(){t=F("div");for(let e=0;e<r.length;e+=1)r[e].c();B(t,"class","files")},m(e,o){P(e,t,o);for(let n=0;n<r.length;n+=1)r[n].m(t,null);n=!0},p(e,n){3&n&&(s=e[0],Fe(),r=Qe(r,n,i,1,e,s,o,t,Je,uu,null,lu),He())},i(e){if(!n){for(let e=0;e<s.length;e+=1)qe(r[e]);n=!0}},o(e){for(let t=0;t<r.length;t+=1)Ve(r[t]);n=!1},d(e){e&&R(t);for(let t=0;t<r.length;t+=1)r[t].d()}}}function uu(e,t){let n,r,o,s,i,l,c,u,d,p,$,m,f,g,h,y,v,b,w,x,S=t[18].file.name+"",C=t[19]+"",k=Ot(t[18].file.size)+"";const D=[vr];let I={};for(let _=0;_<D.length;_+=1)I=a(I,D[_]);return s=new Wr({props:I}),d=new Ka({props:{percentage:t[19]}}),{key:e,first:null,c(){n=F("div"),r=F("div"),o=F("div"),rt(s.$$.fragment),i=V(),l=F("span"),c=q(S),u=V(),rt(d.$$.fragment),p=V(),$=F("div"),m=F("span"),f=q("Uploaded "),g=q(C),h=q("%"),y=V(),v=F("span"),b=q(k),w=V(),B(o,"class","file-name"),B($,"class","upload-info"),B(r,"class","file-info"),B(n,"class","file"),this.first=n},m(e,t){P(e,n,t),A(n,r),A(r,o),ot(s,o,null),A(o,i),A(o,l),A(l,c),A(r,u),ot(d,r,null),A(r,p),A(r,$),A($,m),A(m,f),A(m,g),A(m,h),A($,y),A($,v),A(v,b),A(n,w),x=!0},p(e,n){t=e;const r=0&n?et(D,[tt(vr)]):{};s.$set(r),(!x||1&n)&&S!==(S=t[18].file.name+"")&&X(c,S);const o={};3&n&&(o.percentage=t[19]),d.$set(o),(!x||3&n)&&C!==(C=t[19]+"")&&X(g,C),(!x||1&n)&&k!==(k=Ot(t[18].file.size)+"")&&X(b,k)},i(e){x||(qe(s.$$.fragment,e),qe(d.$$.fragment,e),x=!0)},o(e){Ve(s.$$.fragment,e),Ve(d.$$.fragment,e),x=!1},d(e){e&&R(n),st(s),st(d)}}}function du(e){let t,n,r,o;const s=e[10].default,i=g(s,e,e[9],null),l=i||function(e){let t,n,r,o,s,i;const l=[yr];let c={};for(let u=0;u<l.length;u+=1)c=a(c,l[u]);return r=new Wr({props:c}),{c(){t=F("div"),n=F("div"),rt(r.$$.fragment),o=V(),s=F("div"),s.innerHTML='<div class="title">Drag a file here</div> \n            <div class="desc">or click to browse a file from your computer</div>',B(n,"class","icon-holder"),B(s,"class","text"),B(t,"class","message")},m(e,a){P(e,t,a),A(t,n),ot(r,n,null),A(t,o),A(t,s),i=!0},p(e,t){const n=0&t?et(l,[tt(yr)]):{};r.$set(n)},i(e){i||(qe(r.$$.fragment,e),i=!0)},o(e){Ve(r.$$.fragment,e),i=!1},d(e){e&&R(t),st(r)}}}();return{c(){t=F("label"),l&&l.c(),B(t,"tabindex","0"),B(t,"for",e[5]),B(t,"class","file-upload-trigger"),te(t,"dragging-over",e[4])},m(s,i){P(s,t,i),l&&l.m(t,null),n=!0,r||(o=[W(t,"keydown",e[8]),W(t,"drop",Y(U(e[7]))),W(t,"dragenter",Y(U(e[11]))),W(t,"dragover",Y(U(e[12]))),W(t,"dragleave",Y(U(e[13]))),W(t,"dragend",Y(U(e[14])))],r=!0)},p(e,r){i&&i.p&&(!n||512&r)&&v(i,s,e,e[9],n?y(s,e[9],r,null):b(e[9]),null),(!n||16&r)&&te(t,"dragging-over",e[4])},i(e){n||(qe(l,e),n=!0)},o(e){Ve(l,e),n=!1},d(e){e&&R(t),l&&l.d(e),r=!1,u(o)}}}function pu(e){let t,n,r,o,s,i,a,l=e[0]&&e[0].length>0&&cu(e),c=(e[2]||!e[0]||0===e[0].length)&&du(e);return{c(){t=F("div"),l&&l.c(),n=V(),r=F("input"),o=V(),c&&c.c(),B(r,"type","file"),B(r,"id",e[5]),r.multiple=e[2],Z(r,"display","none"),B(t,"class","file-upload"),te(t,"disabled",e[3]),te(t,"inprogress",e[0]&&e[0].length>0)},m(u,d){P(u,t,d),l&&l.m(t,null),A(t,n),A(t,r),A(t,o),c&&c.m(t,null),s=!0,i||(a=W(r,"change",e[6]),i=!0)},p(e,[o]){e[0]&&e[0].length>0?l?(l.p(e,o),1&o&&qe(l,1)):(l=cu(e),l.c(),qe(l,1),l.m(t,n)):l&&(Fe(),Ve(l,1,1,(()=>{l=null})),He()),(!s||4&o)&&(r.multiple=e[2]),e[2]||!e[0]||0===e[0].length?c?(c.p(e,o),5&o&&qe(c,1)):(c=du(e),c.c(),qe(c,1),c.m(t,null)):c&&(Fe(),Ve(c,1,1,(()=>{c=null})),He()),(!s||8&o)&&te(t,"disabled",e[3]),(!s||1&o)&&te(t,"inprogress",e[0]&&e[0].length>0)},i(e){s||(qe(l),qe(c),s=!0)},o(e){Ve(l),Ve(c),s=!1},d(e){e&&R(t),l&&l.d(),c&&c.d(),i=!1,a()}}}function $u(e,t,n){let{$$slots:r={},$$scope:o}=t;const s=fe(),i=kt();let{fileProgress:a}=t,{multiple:l=!1}=t,{fileUploads:c}=t,{disabled:u=!1}=t,d=0,p=!1;function $(e,t){const r=[];for(const n of t)r.push({fileId:`${i}-${d}`,file:n}),d+=1;n(0,c=[...c||[],...r]),s("add",{added:r,all:c,originalEvent:e})}return e.$$set=e=>{"fileProgress"in e&&n(1,a=e.fileProgress),"multiple"in e&&n(2,l=e.multiple),"fileUploads"in e&&n(0,c=e.fileUploads),"disabled"in e&&n(3,u=e.disabled),"$$scope"in e&&n(9,o=e.$$scope)},[c,a,l,u,p,i,function(e){const t=e.target;t.files&&$(e,t.files),t.value=""},function(e){if(n(4,p=!1),!u){const t=e.dataTransfer?.files;if(!t||0===t.length)return;$(e,l?t:[t[0]])}},function(e){u||"Enter"!==e.key||e.target.click()},o,r,()=>{n(4,p=!0)},()=>{n(4,p=!0)},()=>{n(4,p=!1)},()=>{n(4,p=!1)}]}class mu extends at{constructor(e){super(),it(this,e,$u,pu,p,{fileProgress:1,multiple:2,fileUploads:0,disabled:3})}}function fu(e,t,n){const r=e.slice();return r[19]=t[n],r}function gu(e){let t,n,r;return n=new Ln({props:{appearance:"plain",tabindex:"0",role:"link","aria-label":"Previous",disabled:1===e[0],$$slots:{default:[hu]},$$scope:{ctx:e}}}),n.$on("click",e[8]),{c(){t=F("li"),rt(n.$$.fragment)},m(e,o){P(e,t,o),ot(n,t,null),r=!0},p(e,t){const r={};1&t&&(r.disabled=1===e[0]),4194304&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(qe(n.$$.fragment,e),r=!0)},o(e){Ve(n.$$.fragment,e),r=!1},d(e){e&&R(t),st(n)}}}function hu(e){let t,n;const r=[dr,{tabindex:"-1"}];let o={};for(let s=0;s<r.length;s+=1)o=a(o,r[s]);return t=new Wr({props:o}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const o=0&n?et(r,[tt(dr),r[1]]):{};t.$set(o)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function yu(e){let t,n,r,o,s,i;const a=[bu,vu],l=[];function c(e,t){return e[2]?0:1}n=c(e),r=l[n]=a[n](e);let u=e[5].start>2&&xu(e);return{c(){t=F("li"),r.c(),o=V(),u&&u.c(),s=j()},m(e,r){P(e,t,r),l[n].m(t,null),P(e,o,r),u&&u.m(e,r),P(e,s,r),i=!0},p(e,o){let i=n;n=c(e),n===i?l[n].p(e,o):(Fe(),Ve(l[i],1,1,(()=>{l[i]=null})),He(),r=l[n],r?r.p(e,o):(r=l[n]=a[n](e),r.c()),qe(r,1),r.m(t,null)),e[5].start>2?u?(u.p(e,o),32&o&&qe(u,1)):(u=xu(e),u.c(),qe(u,1),u.m(s.parentNode,s)):u&&(Fe(),Ve(u,1,1,(()=>{u=null})),He())},i(e){i||(qe(r),qe(u),i=!0)},o(e){Ve(r),Ve(u),i=!1},d(e){e&&R(t),l[n].d(),e&&R(o),u&&u.d(e),e&&R(s)}}}function vu(e){let t,n;return t=new Ln({props:{tabindex:"0",appearance:"secondary",role:"link","aria-label":"Goto Page 1",class:"page",$$slots:{default:[wu]},$$scope:{ctx:e}}}),t.$on("click",e[10]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};4194304&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function bu(e){let t,n,r,o,i;return{c(){t=F("a"),n=q("1"),B(t,"tabindex","0"),B(t,"aria-label","Goto Page 1"),B(t,"class","page"),B(t,"href",r=e[2](1,e[1])),B(t,"data-tinro-ignore","")},m(r,s){P(r,t,s),A(t,n),o||(i=W(t,"click",e[9]),o=!0)},p(e,n){6&n&&r!==(r=e[2](1,e[1]))&&B(t,"href",r)},i:s,o:s,d(e){e&&R(t),o=!1,i()}}}function wu(e){let t;return{c(){t=q("1")},m(e,n){P(e,t,n)},d(e){e&&R(t)}}}function xu(e){let t,n,r;return n=new Ln({props:{tabindex:"0",role:"link",appearance:"plain","aria-label":"Goto Page "+e[5].prevPageWindow,$$slots:{default:[Su]},$$scope:{ctx:e}}}),n.$on("click",e[11]),{c(){t=F("li"),rt(n.$$.fragment)},m(e,o){P(e,t,o),ot(n,t,null),r=!0},p(e,t){const r={};32&t&&(r["aria-label"]="Goto Page "+e[5].prevPageWindow),4194304&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(qe(n.$$.fragment,e),r=!0)},o(e){Ve(n.$$.fragment,e),r=!1},d(e){e&&R(t),st(n)}}}function Su(e){let t,n,r,o,s;const i=[{class:"ellipsis"},hr];let l={};for(let d=0;d<i.length;d+=1)l=a(l,i[d]);n=new Wr({props:l});const c=[{class:"arrow"},cr];let u={};for(let d=0;d<c.length;d+=1)u=a(u,c[d]);return o=new Wr({props:u}),{c(){t=F("span"),rt(n.$$.fragment),r=V(),rt(o.$$.fragment)},m(e,i){P(e,t,i),ot(n,t,null),A(t,r),ot(o,t,null),s=!0},p(e,t){const r=0&t?et(i,[i[0],tt(hr)]):{};n.$set(r);const s=0&t?et(c,[c[0],tt(cr)]):{};o.$set(s)},i(e){s||(qe(n.$$.fragment,e),qe(o.$$.fragment,e),s=!0)},o(e){Ve(n.$$.fragment,e),Ve(o.$$.fragment,e),s=!1},d(e){e&&R(t),st(n),st(o)}}}function Cu(e){let t,n;return t=new Ln({props:{tabindex:"0",appearance:"secondary",role:"link","aria-label":e[0]===e[19]?`Current Page, Page ${e[0]}`:`Goto Page ${e[19]}`,class:"page","data-page":e[19],"aria-selected":e[0]===e[19],$$slots:{default:[Du]},$$scope:{ctx:e}}}),t.$on("click",(function(...t){return e[13](e[19],...t)})),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(n,r){e=n;const o={};33&r&&(o["aria-label"]=e[0]===e[19]?`Current Page, Page ${e[0]}`:`Goto Page ${e[19]}`),32&r&&(o["data-page"]=e[19]),33&r&&(o["aria-selected"]=e[0]===e[19]),4194336&r&&(o.$$scope={dirty:r,ctx:e}),t.$set(o)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function ku(e){let t,n,r,o,i,a,l,c,u=e[19]+"";function d(...t){return e[12](e[19],...t)}return{c(){t=F("a"),n=q(u),B(t,"tabindex","0"),B(t,"class","page"),B(t,"href",r=e[2](e[19],e[1])),B(t,"aria-label",o=e[0]===e[19]?`Current Page, Page ${e[0]}`:`Goto Page ${e[19]}`),B(t,"aria-selected",i=e[0]===e[19]),B(t,"data-page",a=e[19]),B(t,"data-tinro-ignore","")},m(e,r){P(e,t,r),A(t,n),l||(c=W(t,"click",d),l=!0)},p(s,l){e=s,32&l&&u!==(u=e[19]+"")&&X(n,u),38&l&&r!==(r=e[2](e[19],e[1]))&&B(t,"href",r),33&l&&o!==(o=e[0]===e[19]?`Current Page, Page ${e[0]}`:`Goto Page ${e[19]}`)&&B(t,"aria-label",o),33&l&&i!==(i=e[0]===e[19])&&B(t,"aria-selected",i),32&l&&a!==(a=e[19])&&B(t,"data-page",a)},i:s,o:s,d(e){e&&R(t),l=!1,c()}}}function Du(e){let t,n=e[19]+"";return{c(){t=q(n)},m(e,n){P(e,t,n)},p(e,r){32&r&&n!==(n=e[19]+"")&&X(t,n)},d(e){e&&R(t)}}}function Iu(e,t){let n,r,o,s;const i=[ku,Cu],a=[];function l(e,t){return e[2]?0:1}return r=l(t),o=a[r]=i[r](t),{key:e,first:null,c(){n=F("li"),o.c(),te(n,"active",t[0]===t[19]),this.first=n},m(e,t){P(e,n,t),a[r].m(n,null),s=!0},p(e,c){let u=r;r=l(t=e),r===u?a[r].p(t,c):(Fe(),Ve(a[u],1,1,(()=>{a[u]=null})),He(),o=a[r],o?o.p(t,c):(o=a[r]=i[r](t),o.c()),qe(o,1),o.m(n,null)),(!s||33&c)&&te(n,"active",t[0]===t[19])},i(e){s||(qe(o),s=!0)},o(e){Ve(o),s=!1},d(e){e&&R(n),a[r].d()}}}function _u(e){let t,n,r,o,s,i=e[5].end<e[4]-1&&Tu(e);const a=[Ou,Eu],l=[];function c(e,t){return e[2]?0:1}return r=c(e),o=l[r]=a[r](e),{c(){i&&i.c(),t=V(),n=F("li"),o.c()},m(e,o){i&&i.m(e,o),P(e,t,o),P(e,n,o),l[r].m(n,null),s=!0},p(e,s){e[5].end<e[4]-1?i?(i.p(e,s),48&s&&qe(i,1)):(i=Tu(e),i.c(),qe(i,1),i.m(t.parentNode,t)):i&&(Fe(),Ve(i,1,1,(()=>{i=null})),He());let u=r;r=c(e),r===u?l[r].p(e,s):(Fe(),Ve(l[u],1,1,(()=>{l[u]=null})),He(),o=l[r],o?o.p(e,s):(o=l[r]=a[r](e),o.c()),qe(o,1),o.m(n,null))},i(e){s||(qe(i),qe(o),s=!0)},o(e){Ve(i),Ve(o),s=!1},d(e){i&&i.d(e),e&&R(t),e&&R(n),l[r].d()}}}function Tu(e){let t,n,r;return n=new Ln({props:{tabindex:"0",appearance:"plain",role:"link","aria-label":"Goto Page "+e[5].nextPageWindow,$$slots:{default:[Mu]},$$scope:{ctx:e}}}),n.$on("click",e[14]),{c(){t=F("li"),rt(n.$$.fragment)},m(e,o){P(e,t,o),ot(n,t,null),r=!0},p(e,t){const r={};32&t&&(r["aria-label"]="Goto Page "+e[5].nextPageWindow),4194304&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(qe(n.$$.fragment,e),r=!0)},o(e){Ve(n.$$.fragment,e),r=!1},d(e){e&&R(t),st(n)}}}function Mu(e){let t,n,r,o,s;const i=[{class:"ellipsis"},hr];let l={};for(let d=0;d<i.length;d+=1)l=a(l,i[d]);n=new Wr({props:l});const c=[{class:"arrow"},lr];let u={};for(let d=0;d<c.length;d+=1)u=a(u,c[d]);return o=new Wr({props:u}),{c(){t=F("span"),rt(n.$$.fragment),r=V(),rt(o.$$.fragment)},m(e,i){P(e,t,i),ot(n,t,null),A(t,r),ot(o,t,null),s=!0},p(e,t){const r=0&t?et(i,[i[0],tt(hr)]):{};n.$set(r);const s=0&t?et(c,[c[0],tt(lr)]):{};o.$set(s)},i(e){s||(qe(n.$$.fragment,e),qe(o.$$.fragment,e),s=!0)},o(e){Ve(n.$$.fragment,e),Ve(o.$$.fragment,e),s=!1},d(e){e&&R(t),st(n),st(o)}}}function Eu(e){let t,n;return t=new Ln({props:{tabindex:"0",appearance:"secondary",class:"page",role:"link","aria-label":"Goto Page "+e[4],$$slots:{default:[Au]},$$scope:{ctx:e}}}),t.$on("click",e[16]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};16&n&&(r["aria-label"]="Goto Page "+e[4]),4194320&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Ou(e){let t,n,r,o,i,a;return{c(){t=F("a"),n=q(e[4]),B(t,"tabindex","0"),B(t,"class","page"),B(t,"aria-label",r="Goto Page "+e[4]),B(t,"href",o=e[2](e[4],e[1])),B(t,"data-tinro-ignore","")},m(r,o){P(r,t,o),A(t,n),i||(a=W(t,"click",e[15]),i=!0)},p(e,s){16&s&&X(n,e[4]),16&s&&r!==(r="Goto Page "+e[4])&&B(t,"aria-label",r),22&s&&o!==(o=e[2](e[4],e[1]))&&B(t,"href",o)},i:s,o:s,d(e){e&&R(t),i=!1,a()}}}function Au(e){let t;return{c(){t=q(e[4])},m(e,n){P(e,t,n)},p(e,n){16&n&&X(t,e[4])},d(e){e&&R(t)}}}function Lu(e){let t,n,r;return n=new Ln({props:{tabindex:"0",appearance:"plain",role:"link","aria-label":"Next",disabled:e[0]===e[4],$$slots:{default:[Nu]},$$scope:{ctx:e}}}),n.$on("click",e[17]),{c(){t=F("li"),rt(n.$$.fragment)},m(e,o){P(e,t,o),ot(n,t,null),r=!0},p(e,t){const r={};17&t&&(r.disabled=e[0]===e[4]),4194304&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(qe(n.$$.fragment,e),r=!0)},o(e){Ve(n.$$.fragment,e),r=!1},d(e){e&&R(t),st(n)}}}function Nu(e){let t,n;const r=[ur];let o={};for(let s=0;s<r.length;s+=1)o=a(o,r[s]);return t=new Wr({props:o}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const o=0&n?et(r,[tt(ur)]):{};t.$set(o)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Pu(e){let t,n,r,o,s,i,a,l=[],c=new Map,u=e[4]>1&&gu(e),d=e[5].start>1&&yu(e),p=e[5].currentWindow;const $=e=>e[19];for(let g=0;g<p.length;g+=1){let t=fu(e,p,g),n=$(t);c.set(n,l[g]=Iu(n,t))}let m=e[5].end<e[4]&&_u(e),f=e[4]>1&&Lu(e);return{c(){t=F("nav"),n=F("ul"),u&&u.c(),r=V(),d&&d.c(),o=V();for(let e=0;e<l.length;e+=1)l[e].c();s=V(),m&&m.c(),i=V(),f&&f.c(),B(n,"class","pagination"),B(t,"aria-label",e[3])},m(e,c){P(e,t,c),A(t,n),u&&u.m(n,null),A(n,r),d&&d.m(n,null),A(n,o);for(let t=0;t<l.length;t+=1)l[t].m(n,null);A(n,s),m&&m.m(n,null),A(n,i),f&&f.m(n,null),a=!0},p(e,[g]){e[4]>1?u?(u.p(e,g),16&g&&qe(u,1)):(u=gu(e),u.c(),qe(u,1),u.m(n,r)):u&&(Fe(),Ve(u,1,1,(()=>{u=null})),He()),e[5].start>1?d?(d.p(e,g),32&g&&qe(d,1)):(d=yu(e),d.c(),qe(d,1),d.m(n,o)):d&&(Fe(),Ve(d,1,1,(()=>{d=null})),He()),103&g&&(p=e[5].currentWindow,Fe(),l=Qe(l,g,$,1,e,p,c,n,Je,Iu,s,fu),He()),e[5].end<e[4]?m?(m.p(e,g),48&g&&qe(m,1)):(m=_u(e),m.c(),qe(m,1),m.m(n,i)):m&&(Fe(),Ve(m,1,1,(()=>{m=null})),He()),e[4]>1?f?(f.p(e,g),16&g&&qe(f,1)):(f=Lu(e),f.c(),qe(f,1),f.m(n,null)):f&&(Fe(),Ve(f,1,1,(()=>{f=null})),He()),(!a||8&g)&&B(t,"aria-label",e[3])},i(e){if(!a){qe(u),qe(d);for(let e=0;e<p.length;e+=1)qe(l[e]);qe(m),qe(f),a=!0}},o(e){Ve(u),Ve(d);for(let t=0;t<l.length;t+=1)Ve(l[t]);Ve(m),Ve(f),a=!1},d(e){e&&R(t),u&&u.d(),d&&d.d();for(let t=0;t<l.length;t+=1)l[t].d();m&&m.d(),f&&f.d()}}}function Ru(e,t,n){let r,o;const s=fe();let{currentPage:i=1}=t,{pageSize:a=10}=t,{total:l=0}=t,{getLink:c}=t,{ariaLabel:u="Pagination"}=t;async function d(e,t){t>0&&t<=r&&i!==t&&(n(0,i=t),s("change",{currentPage:i,originalEvent:e})),await Ie();document.querySelector(`[data-page="${i}"]`)?.focus()}return e.$$set=e=>{"currentPage"in e&&n(0,i=e.currentPage),"pageSize"in e&&n(1,a=e.pageSize),"total"in e&&n(7,l=e.total),"getLink"in e&&n(2,c=e.getLink),"ariaLabel"in e&&n(3,u=e.ariaLabel)},e.$$.update=()=>{130&e.$$.dirty&&n(4,r=Qt(l,a)),17&e.$$.dirty&&n(5,o=function(e,t){let n=Math.max(e-2,1),r=Math.min(n+4,t);r-n<4&&(n=Math.max(r-4,1)),r>t-2&&(n=Math.max(r-(6-(t-r)),1)),n<3&&(r=Math.min(r+2-(n-1),t));const o=function(e,t){const n=[];for(let r=e;r<=t;r+=1)n.push(r);return n}(n,r);return{currentWindow:o,start:n,end:r,prevPageWindow:Math.max(n-3,1),nextPageWindow:Math.min(r+3,t)}}(i,r))},[i,a,c,u,r,o,d,l,e=>d(e,i-1),e=>d(e,1),e=>d(e,1),e=>d(e,o.prevPageWindow),(e,t)=>d(t,e),(e,t)=>d(t,e),e=>d(e,o.nextPageWindow),e=>d(e,r),e=>d(e,r),e=>d(e,i+1)]}class zu extends at{constructor(e){super(),it(this,e,Ru,Pu,p,{currentPage:0,pageSize:1,total:7,getLink:2,ariaLabel:3})}}const Fu=e=>({option:2097152&e,label:4194304&e}),Hu=e=>({option:e[21],label:e[22]});function qu(e){let t;const n=e[12].default,r=g(n,e,e[17],Hu),o=r||function(e){let t,n;return t=new No({props:{arg:e[4](e[21])}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};2097168&n&&(r.arg=e[4](e[21])),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}(e);return{c(){o&&o.c()},m(e,n){o&&o.m(e,n),t=!0},p(e,s){r?r.p&&(!t||6422528&s)&&v(r,n,e,e[17],t?y(n,e[17],s,Fu):b(e[17]),Hu):o&&o.p&&(!t||2097168&s)&&o.p(e,t?s:-1)},i(e){t||(qe(o,e),t=!0)},o(e){Ve(o,e),t=!1},d(e){o&&o.d(e)}}}function Vu(e){let t,n;return t=new Da({props:{id:e[1],class:"input-element selection-list "+e[6],offsetOnFocus:e[8],$$slots:{default:[qu,({option:e,label:t})=>({21:e,22:t}),({option:e,label:t})=>(e?2097152:0)|(t?4194304:0)]},$$scope:{ctx:e}}}),t.$on("keydown",(function(...t){return e[13](e[20],...t)})),t.$on("focus",e[14]),t.$on("blur",e[15]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(n,r){e=n;const o={};2&r&&(o.id=e[1]),64&r&&(o.class="input-element selection-list "+e[6]),256&r&&(o.offsetOnFocus=e[8]),6422544&r&&(o.$$scope={dirty:r,ctx:e}),t.$set(o)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function ju(e){let t,n,r,o;const s=[e[10],{id:e[1]},{disabled:e[2]}];let i={};for(let l=0;l<s.length;l+=1)i=a(i,s[l]);return t=new co({props:i}),r=new va({props:{selectionType:"single",options:e[5],value:void 0!==e[0]?[e[0]]:[],labelKey:e[3],getLabel:e[4],disabled:e[2],mode:"static",checkEquality:e[7],$$slots:{default:[Vu,({api:e})=>({20:e}),({api:e})=>e?1048576:0]},$$scope:{ctx:e}}}),r.$on("change",e[16]),{c(){rt(t.$$.fragment),n=V(),rt(r.$$.fragment)},m(e,s){ot(t,e,s),P(e,n,s),ot(r,e,s),o=!0},p(e,[n]){const o=1030&n?et(s,[1024&n&&tt(e[10]),2&n&&{id:e[1]},4&n&&{disabled:e[2]}]):{};t.$set(o);const i={};32&n&&(i.options=e[5]),1&n&&(i.value=void 0!==e[0]?[e[0]]:[]),8&n&&(i.labelKey=e[3]),16&n&&(i.getLabel=e[4]),4&n&&(i.disabled=e[2]),128&n&&(i.checkEquality=e[7]),1179986&n&&(i.$$scope={dirty:n,ctx:e}),r.$set(i)},i(e){o||(qe(t.$$.fragment,e),qe(r.$$.fragment,e),o=!0)},o(e){Ve(t.$$.fragment,e),Ve(r.$$.fragment,e),o=!1},d(e){st(t,e),e&&R(n),st(r,e)}}}function Wu(e,t,n){const r=["id","disabled","labelKey","getLabel","options","value","class","valuesAreEqual","autoSelect","offsetOnFocus"];let o=x(t,r),{$$slots:s={},$$scope:i}=t;const l=fe();let{id:c=kt()}=t,{disabled:u=!1}=t,{labelKey:d="label"}=t,{getLabel:p=(e=>At(e,d))}=t,{options:$}=t,{value:m}=t,{class:f=""}=t,{valuesAreEqual:g=((e,t)=>e===t)}=t,{autoSelect:h="first"}=t,{offsetOnFocus:y=0}=t;function v(e){n(0,[m]=e,m),l("change",m),l("input",m),l("artificialChange",m),l("artificialInput",m)}return e.$$set=e=>{t=a(a({},t),w(e)),n(10,o=x(t,r)),"id"in e&&n(1,c=e.id),"disabled"in e&&n(2,u=e.disabled),"labelKey"in e&&n(3,d=e.labelKey),"getLabel"in e&&n(4,p=e.getLabel),"options"in e&&n(5,$=e.options),"value"in e&&n(0,m=e.value),"class"in e&&n(6,f=e.class),"valuesAreEqual"in e&&n(7,g=e.valuesAreEqual),"autoSelect"in e&&n(11,h=e.autoSelect),"offsetOnFocus"in e&&n(8,y=e.offsetOnFocus),"$$scope"in e&&n(17,i=e.$$scope)},e.$$.update=()=>{var t;32&e.$$.dirty&&(t=$,"none"!==h&&(t.length?void 0!==m&&t.some((e=>g(e,m)))||("first"===h?v(t):"clear"===h&&v([])):void 0!==m&&v([])))},[m,c,u,d,p,$,f,g,y,v,o,h,s,(e,t)=>e.handleKeyDown(t),function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},e=>v(e.detail),i]}class Uu extends at{constructor(e){super(),it(this,e,Wu,ju,p,{id:1,disabled:2,labelKey:3,getLabel:4,options:5,value:0,class:6,valuesAreEqual:7,autoSelect:11,offsetOnFocus:8})}}function Yu(e){let t,n,r,o,s,i,l;const c=e[12].default,d=g(c,e,e[11],null);let p=[{role:"tab"},{tabindex:"0"},{"aria-selected":e[3]},{"aria-disabled":n=!!e[1].disabled},{id:r=e[3]?`mtsr-${e[0]}-tab`:void 0},{"aria-controls":o=e[3]?`mtsr-${e[0]}-tabpanel`:void 0},e[6]],$={};for(let u=0;u<p.length;u+=1)$=a($,p[u]);return{c(){t=F(e[7]),d&&d.c(),K(t,$)},m(n,r){P(n,t,r),d&&d.m(t,null),s=!0,i||(l=[W(t,"focus",e[13]),W(t,"blur",e[14]),W(t,"mousedown",e[15]),W(t,"click",e[16])],i=!0)},p(e,i){d&&d.p&&(!s||2048&i)&&v(d,c,e,e[11],s?y(c,e[11],i,null):b(e[11]),null),K(t,$=et(p,[{role:"tab"},{tabindex:"0"},(!s||8&i)&&{"aria-selected":e[3]},(!s||2&i&&n!==(n=!!e[1].disabled))&&{"aria-disabled":n},(!s||9&i&&r!==(r=e[3]?`mtsr-${e[0]}-tab`:void 0))&&{id:r},(!s||9&i&&o!==(o=e[3]?`mtsr-${e[0]}-tabpanel`:void 0))&&{"aria-controls":o},64&i&&e[6]]))},i(e){s||(qe(d,e),s=!0)},o(e){Ve(d,e),s=!1},d(e){e&&R(t),d&&d.d(e),i=!1,u(l)}}}function Bu(e){let t,n,r;return{c(){t=F("button"),t.textContent="",B(t,"type","button"),B(t,"aria-label","remove"),B(t,"class","remove")},m(o,s){P(o,t,s),n||(r=W(t,"click",e[17]),n=!0)},p:s,d(e){e&&R(t),n=!1,r()}}}function Ku(e){let t,n,r,o,s=e[7],i=e[7]&&Yu(e),a=e[4]&&Bu(e);return{c(){t=F("li"),i&&i.c(),n=V(),a&&a.c(),B(t,"role","presentation"),B(t,"class","tab"),B(t,"tabindex","-1"),B(t,"style",r=e[5]?`width:${Math.floor(100/e[2])}%;`:void 0),te(t,"active",e[3])},m(e,r){P(e,t,r),i&&i.m(t,null),A(t,n),a&&a.m(t,null),o=!0},p(e,[l]){e[7]?s?p(s,e[7])?(i.d(1),i=Yu(e),i.c(),i.m(t,n)):i.p(e,l):(i=Yu(e),i.c(),i.m(t,n)):s&&(i.d(1),i=null),s=e[7],e[4]?a?a.p(e,l):(a=Bu(e),a.c(),a.m(t,null)):a&&(a.d(1),a=null),(!o||36&l&&r!==(r=e[5]?`width:${Math.floor(100/e[2])}%;`:void 0))&&B(t,"style",r),(!o||8&l)&&te(t,"active",e[3])},i(e){o||(qe(i),o=!0)},o(e){Ve(i),o=!1},d(e){e&&R(t),i&&i.d(e),a&&a.d()}}}function Gu(e,t,n){let r,o,s,{$$slots:i={},$$scope:a}=t;const l=fe();let{componentId:c}=t,{tab:u}=t,{totalTabs:d}=t,{isActive:p=!1}=t,{allowRemoval:$=!1}=t,{uniformTabWidth:m=!0}=t,{link:f}=t;return e.$$set=e=>{"componentId"in e&&n(0,c=e.componentId),"tab"in e&&n(1,u=e.tab),"totalTabs"in e&&n(2,d=e.totalTabs),"isActive"in e&&n(3,p=e.isActive),"allowRemoval"in e&&n(4,$=e.allowRemoval),"uniformTabWidth"in e&&n(5,m=e.uniformTabWidth),"link"in e&&n(9,f=e.link),"$$scope"in e&&n(11,a=e.$$scope)},e.$$.update=()=>{512&e.$$.dirty&&n(10,r=void 0!==f),1024&e.$$.dirty&&n(7,o=r?"a":"div"),1536&e.$$.dirty&&n(6,s=r?{href:f}:{})},[c,u,d,p,$,m,s,o,l,f,r,a,i,function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},e=>l("remove",e)]}class Xu extends at{constructor(e){super(),it(this,e,Gu,Ku,p,{componentId:0,tab:1,totalTabs:2,isActive:3,allowRemoval:4,uniformTabWidth:5,link:9})}}const Ju=e=>({activeTab:2&e}),Zu=e=>({activeTab:e[1]});function Qu(e,t,n){const r=e.slice();return r[21]=t[n],r[23]=n,r}const ed=e=>({tab:1&e,activeTab:2&e}),td=e=>({tab:e[21],activeTab:e[1]});function nd(e){let t,n;const r=e[16].tab,o=g(r,e,e[19],td),s=o||function(e){let t,n=e[21][e[3]]+"";return{c(){t=q(n)},m(e,n){P(e,t,n)},p(e,r){9&r&&n!==(n=e[21][e[3]]+"")&&X(t,n)},d(e){e&&R(t)}}}(e);return{c(){s&&s.c(),t=V()},m(e,r){s&&s.m(e,r),P(e,t,r),n=!0},p(e,t){o?o.p&&(!n||524291&t)&&v(o,r,e,e[19],n?y(r,e[19],t,ed):b(e[19]),td):s&&s.p&&(!n||9&t)&&s.p(e,n?t:-1)},i(e){n||(qe(s,e),n=!0)},o(e){Ve(s,e),n=!1},d(e){s&&s.d(e),e&&R(t)}}}function rd(e,t){let n,r,o;return r=new Xu({props:{componentId:t[9],tab:t[21],allowRemoval:t[4],uniformTabWidth:t[7],link:t[13](t[21]),totalTabs:t[0].length,isActive:t[21][t[2]]===t[1]?.[t[2]],$$slots:{default:[nd]},$$scope:{ctx:t}}}),r.$on("focus",ad),r.$on("blur",ld),r.$on("click",t[12]),r.$on("mousedown",(function(...e){return t[17](t[21],...e)})),r.$on("remove",(function(...e){return t[18](t[23],...e)})),{key:e,first:null,c(){n=j(),rt(r.$$.fragment),this.first=n},m(e,t){P(e,n,t),ot(r,e,t),o=!0},p(e,n){t=e;const o={};1&n&&(o.tab=t[21]),16&n&&(o.allowRemoval=t[4]),128&n&&(o.uniformTabWidth=t[7]),1&n&&(o.link=t[13](t[21])),1&n&&(o.totalTabs=t[0].length),7&n&&(o.isActive=t[21][t[2]]===t[1]?.[t[2]]),524299&n&&(o.$$scope={dirty:n,ctx:t}),r.$set(o)},i(e){o||(qe(r.$$.fragment,e),o=!0)},o(e){Ve(r.$$.fragment,e),o=!1},d(e){e&&R(n),st(r,e)}}}function od(e){let t;const n=e[16].default,r=g(n,e,e[19],Zu);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||524290&o)&&v(r,n,e,e[19],t?y(n,e[19],o,Ju):b(e[19]),Zu)},i(e){t||(qe(r,e),t=!0)},o(e){Ve(r,e),t=!1},d(e){r&&r.d(e)}}}function sd(e){let t,n,r,o,s,i,a=[],l=new Map,c=e[0];const u=e=>e[21][e[2]]||e[21];for(let p=0;p<c.length;p+=1){let t=Qu(e,c,p),n=u(t);l.set(n,a[p]=rd(n,t))}let d=e[1]&&od(e);return{c(){t=F("div"),n=F("ul");for(let e=0;e<a.length;e+=1)a[e].c();r=V(),o=F("div"),s=F("div"),d&&d.c(),B(n,"role","tablist"),B(n,"class","tabs"),te(n,"fill-tab-width",e[5]),B(s,"role","tabpanel"),B(s,"aria-hidden","false"),B(s,"id","mtsr-"+e[9]+"-tabpanel"),B(s,"aria-labelledby","mtsr-"+e[9]+"-tab"),B(s,"tabindex","0"),B(o,"class","tab-content-holder"),B(t,"class","tab-container"),B(t,"role","navigation"),te(t,"fill-container-height",e[6]),te(t,"compact","compact"===e[8])},m(e,l){P(e,t,l),A(t,n);for(let t=0;t<a.length;t+=1)a[t].m(n,null);A(t,r),A(t,o),A(o,s),d&&d.m(s,null),i=!0},p(e,[r]){540319&r&&(c=e[0],Fe(),a=Qe(a,r,u,1,e,c,l,n,Je,rd,null,Qu),He()),(!i||32&r)&&te(n,"fill-tab-width",e[5]),e[1]?d?(d.p(e,r),2&r&&qe(d,1)):(d=od(e),d.c(),qe(d,1),d.m(s,null)):d&&(Fe(),Ve(d,1,1,(()=>{d=null})),He()),(!i||64&r)&&te(t,"fill-container-height",e[6]),(!i||256&r)&&te(t,"compact","compact"===e[8])},i(e){if(!i){for(let e=0;e<c.length;e+=1)qe(a[e]);qe(d),i=!0}},o(e){for(let t=0;t<a.length;t+=1)Ve(a[t]);Ve(d),i=!1},d(e){e&&R(t);for(let t=0;t<a.length;t+=1)a[t].d();d&&d.d()}}}let id=0;function ad(e){e.target.parentElement.classList.add("focused")}function ld(e){e.target.parentElement.classList.remove("focused")}function cd(e,t,n){let{$$slots:r={},$$scope:o}=t;const s=fe(),i=(id+=1,id);let{tabs:a=[]}=t,{activeTab:l=a[0]}=t,{idKey:c="id"}=t,{labelKey:u="label"}=t,{linkKey:d="href"}=t,{allowRemoval:p=!1}=t,{preventDefault:$=!1}=t,{fillTabWidth:m=!1}=t,{fillContainerHeight:f=!1}=t,{uniformTabWidth:g=!0}=t,{tabStyle:h="default"}=t;function y(e,t){!!t[d]||n(1,l=t),s("tabSelected",{tab:t,originalEvent:e})}function v(e,t){const r=a.splice(t,1);l?.[c]===r[0]?.[c]&&(a[t]?n(1,l=a[t]):a[t-1]?n(1,l=a[t-1]):n(1,l=null)),n(0,a=[].concat(a)),s("tabRemoved",{removedTab:r[0],activeTab:l,originalEvent:e.detail})}return e.$$set=e=>{"tabs"in e&&n(0,a=e.tabs),"activeTab"in e&&n(1,l=e.activeTab),"idKey"in e&&n(2,c=e.idKey),"labelKey"in e&&n(3,u=e.labelKey),"linkKey"in e&&n(14,d=e.linkKey),"allowRemoval"in e&&n(4,p=e.allowRemoval),"preventDefault"in e&&n(15,$=e.preventDefault),"fillTabWidth"in e&&n(5,m=e.fillTabWidth),"fillContainerHeight"in e&&n(6,f=e.fillContainerHeight),"uniformTabWidth"in e&&n(7,g=e.uniformTabWidth),"tabStyle"in e&&n(8,h=e.tabStyle),"$$scope"in e&&n(19,o=e.$$scope)},[a,l,c,u,p,m,f,g,h,i,y,v,function(e){if($){e.preventDefault();e.target.closest('a[role="tab"]')?.focus?.()}},function(e){return e[d]},d,$,r,(e,t)=>y(t,e),(e,t)=>v(t,e),o]}class ud extends at{constructor(e){super(),it(this,e,cd,sd,p,{tabs:0,activeTab:1,idKey:2,labelKey:3,linkKey:14,allowRemoval:4,preventDefault:15,fillTabWidth:5,fillContainerHeight:6,uniformTabWidth:7,tabStyle:8})}}const dd={body:"Are you sure?",proceedButton:{label:"Yes"},cancelButton:{label:"Cancel"},onProceed:()=>Promise.resolve(),onSuccess:()=>{},onError:()=>{}};class pd{constructor(t,n){e(this,"modal",void 0),e(this,"confirmationProps",void 0),e(this,"resolve",mt((()=>{}))),e(this,"canProceed",mt(!0)),this.modal=t,this.confirmationProps=mt(n)}}class $d{constructor(t){e(this,"idSet",void 0),this.idSet=new ut(t)}ids(){return this.idSet.values()}get size(){return this.idSet.size}has(e){return this.idSet.has(e)}isOnTop(e){return this.idSet.values().next().value===e}withModalOnTop(e){return new $d(new ut([e]).union(this.idSet).values())}without(e){return new $d(this.idSet.without(e).values())}}class md{constructor({modalId:t,modalStackStore:n}){e(this,"modalId",void 0),e(this,"modalStackStore",void 0),e(this,"isOpen",void 0),e(this,"isOnTop",void 0),this.modalId=t,this.modalStackStore=n,this.isOpen=function({modalId:e,modalStackStore:t}){return{subscribe:n=>t.subscribe((t=>{n(t.has(e))})),update(n){t.update((t=>{const r=t.has(e);return n(r)?t.withModalOnTop(e):r?t.without(e):t}))},set(n){n?t.update((t=>t.withModalOnTop(e))):t.update((t=>t.without(e)))}}}({modalId:t,modalStackStore:n}),this.isOnTop=ft(this.modalStackStore,(e=>e.isOnTop(this.modalId)))}open(){this.isOpen.set(!0)}close(){this.isOpen.set(!1)}}const fd=e=>({}),gd=e=>({}),hd=e=>({}),yd=e=>({});function vd(e){let t,n,r,o,s,i,a=(e[0]??"")+"";const l=e[6].title,c=g(l,e,e[7],yd);let u=e[1]&&bd(e);return{c(){t=F("div"),n=F("div"),c&&c.c(),r=V(),o=q(a),s=V(),u&&u.c(),B(n,"class","title"),B(t,"class","title-bar")},m(e,a){P(e,t,a),A(t,n),c&&c.m(n,null),A(n,r),A(n,o),A(t,s),u&&u.m(t,null),i=!0},p(e,n){c&&c.p&&(!i||128&n)&&v(c,l,e,e[7],i?y(l,e[7],n,hd):b(e[7]),yd),(!i||1&n)&&a!==(a=(e[0]??"")+"")&&X(o,a),e[1]?u?(u.p(e,n),2&n&&qe(u,1)):(u=bd(e),u.c(),qe(u,1),u.m(t,null)):u&&(Fe(),Ve(u,1,1,(()=>{u=null})),He())},i(e){i||(qe(c,e),qe(u),i=!0)},o(e){Ve(c,e),Ve(u),i=!1},d(e){e&&R(t),c&&c.d(e),u&&u.d()}}}function bd(e){let t,n;return t=new Ln({props:{appearance:"plain",class:"close-button",$$slots:{default:[wd]},$$scope:{ctx:e}}}),t.$on("click",e[4]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};128&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function wd(e){let t,n;const r=[pr];let o={};for(let s=0;s<r.length;s+=1)o=a(o,r[s]);return t=new Wr({props:o}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const o=0&n?et(r,[tt(pr)]):{};t.$set(o)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function xd(e){let t,n,r,o,s,i,a=(e[5].title||e[0]||e[1])&&vd(e);const l=e[6].default,c=g(l,e,e[7],null),u=e[6].footer,d=g(u,e,e[7],gd);return{c(){t=F("div"),a&&a.c(),n=V(),r=F("div"),c&&c.c(),o=V(),s=F("div"),d&&d.c(),B(r,"class","body"),B(s,"class","footer"),B(t,"class","window"),te(t,"can-scroll-body",e[2]),te(t,"has-body-padding",e[3])},m(e,l){P(e,t,l),a&&a.m(t,null),A(t,n),A(t,r),c&&c.m(r,null),A(t,o),A(t,s),d&&d.m(s,null),i=!0},p(e,[r]){e[5].title||e[0]||e[1]?a?(a.p(e,r),35&r&&qe(a,1)):(a=vd(e),a.c(),qe(a,1),a.m(t,n)):a&&(Fe(),Ve(a,1,1,(()=>{a=null})),He()),c&&c.p&&(!i||128&r)&&v(c,l,e,e[7],i?y(l,e[7],r,null):b(e[7]),null),d&&d.p&&(!i||128&r)&&v(d,u,e,e[7],i?y(u,e[7],r,fd):b(e[7]),gd),(!i||4&r)&&te(t,"can-scroll-body",e[2]),(!i||8&r)&&te(t,"has-body-padding",e[3])},i(e){i||(qe(a),qe(c,e),qe(d,e),i=!0)},o(e){Ve(a),Ve(c,e),Ve(d,e),i=!1},d(e){e&&R(t),a&&a.d(),c&&c.d(e),d&&d.d(e)}}}function Sd(e,t,n){let{$$slots:r={},$$scope:o}=t;const s=S(r),i=fe();let{title:a}=t,{hasCloseButton:l=!0}=t,{canScrollBody:c=!0}=t,{hasBodyPadding:u=!0}=t;return e.$$set=e=>{"title"in e&&n(0,a=e.title),"hasCloseButton"in e&&n(1,l=e.hasCloseButton),"canScrollBody"in e&&n(2,c=e.canScrollBody),"hasBodyPadding"in e&&n(3,u=e.hasBodyPadding),"$$scope"in e&&n(7,o=e.$$scope)},[a,l,c,u,function(){i("close")},s,r,o]}class Cd extends at{constructor(e){super(),it(this,e,Sd,xd,p,{title:0,hasCloseButton:1,canScrollBody:2,hasBodyPadding:3})}}const{window:kd}=Ge,Dd=e=>({}),Id=e=>({}),_d=e=>({}),Td=e=>({slot:"footer"});function Md(e){let t,n,r,o,s,i,a,l,c,u=e[4]&&Ed(e);return o=new Cd({props:{canScrollBody:e[5],hasCloseButton:e[6],$$slots:{footer:[Ld],title:[Ad],default:[Od]},$$scope:{ctx:e}}}),o.$on("close",e[7]),{c(){t=F("div"),u&&u.c(),n=V(),r=F("div"),rt(o.$$.fragment),B(r,"class","window-positioner"),te(r,"width-regular","regular"===e[3]),te(r,"width-medium","medium"===e[3]),te(r,"width-large","large"===e[3]),B(t,"class","modal"),B(t,"data-modal-id",e[1])},m(e,s){P(e,t,s),u&&u.m(t,null),A(t,n),A(t,r),ot(o,r,null),a=!0,l||(c=D(on.call(null,t)),l=!0)},p(e,s){e[4]?u?(u.p(e,s),16&s&&qe(u,1)):(u=Ed(e),u.c(),qe(u,1),u.m(t,n)):u&&(Fe(),Ve(u,1,1,(()=>{u=null})),He());const i={};32&s&&(i.canScrollBody=e[5]),64&s&&(i.hasCloseButton=e[6]),8196&s&&(i.$$scope={dirty:s,ctx:e}),o.$set(i),(!a||8&s)&&te(r,"width-regular","regular"===e[3]),(!a||8&s)&&te(r,"width-medium","medium"===e[3]),(!a||8&s)&&te(r,"width-large","large"===e[3]),(!a||2&s)&&B(t,"data-modal-id",e[1])},i(e){a||(qe(u),qe(o.$$.fragment,e),_e((()=>{i&&i.end(1),s=We(r,cl,{y:20,duration:150}),s.start()})),a=!0)},o(e){Ve(u),Ve(o.$$.fragment,e),s&&s.invalidate(),i=Ue(r,cl,{y:20,duration:150}),a=!1},d(e){e&&R(t),u&&u.d(),st(o),e&&i&&i.end(),l=!1,c()}}}function Ed(e){let t,n,r,o,i,a;return{c(){t=F("div"),B(t,"class","overlay")},m(n,r){P(n,t,r),o=!0,i||(a=W(t,"click",e[9]),i=!0)},p:s,i(e){o||(_e((()=>{r&&r.end(1),n=We(t,ll,{duration:150}),n.start()})),o=!0)},o(e){n&&n.invalidate(),r=Ue(t,ll,{duration:150}),o=!1},d(e){e&&R(t),e&&r&&r.end(),i=!1,a()}}}function Od(e){let t;const n=e[12].default,r=g(n,e,e[13],null);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||8192&o)&&v(r,n,e,e[13],t?y(n,e[13],o,null):b(e[13]),null)},i(e){t||(qe(r,e),t=!0)},o(e){Ve(r,e),t=!1},d(e){r&&r.d(e)}}}function Ad(e){let t,n,r,o=(e[2]??"")+"";const s=e[12].title,i=g(s,e,e[13],Id);return{c(){t=F("div"),i&&i.c(),n=q(o),B(t,"slot","title")},m(e,o){P(e,t,o),i&&i.m(t,null),A(t,n),r=!0},p(e,t){i&&i.p&&(!r||8192&t)&&v(i,s,e,e[13],r?y(s,e[13],t,Dd):b(e[13]),Id),(!r||4&t)&&o!==(o=(e[2]??"")+"")&&X(n,o)},i(e){r||(qe(i,e),r=!0)},o(e){Ve(i,e),r=!1},d(e){e&&R(t),i&&i.d(e)}}}function Ld(e){let t;const n=e[12].footer,r=g(n,e,e[13],Td);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||8192&o)&&v(r,n,e,e[13],t?y(n,e[13],o,_d):b(e[13]),Td)},i(e){t||(qe(r,e),t=!0)},o(e){Ve(r,e),t=!1},d(e){r&&r.d(e)}}}function Nd(e){let t,n,r,o,s=e[0]&&Md(e);return{c(){s&&s.c(),t=j()},m(i,a){s&&s.m(i,a),P(i,t,a),n=!0,r||(o=W(kd,"keydown",e[8]),r=!0)},p(e,[n]){e[0]?s?(s.p(e,n),1&n&&qe(s,1)):(s=Md(e),s.c(),qe(s,1),s.m(t.parentNode,t)):s&&(Fe(),Ve(s,1,1,(()=>{s=null})),He())},i(e){n||(qe(s),n=!0)},o(e){Ve(s),n=!1},d(e){s&&s.d(e),e&&R(t),r=!1,o()}}}function Pd(e,t,n){let r,o,s,{$$slots:i={},$$scope:a}=t;const l=fe();let{modalId:c}=t,{isOpen:u=!1}=t,{title:d}=t,{size:p="regular"}=t,{allowClose:$=!0}=t,{hasOverlay:m=!0}=t,{closeOn:f=["button"]}=t,{canScrollBody:g=!0}=t;function h(){n(0,u=!1)}return e.$$set=e=>{"modalId"in e&&n(1,c=e.modalId),"isOpen"in e&&n(0,u=e.isOpen),"title"in e&&n(2,d=e.title),"size"in e&&n(3,p=e.size),"allowClose"in e&&n(10,$=e.allowClose),"hasOverlay"in e&&n(4,m=e.hasOverlay),"closeOn"in e&&n(11,f=e.closeOn),"canScrollBody"in e&&n(5,g=e.canScrollBody),"$$scope"in e&&n(13,a=e.$$scope)},e.$$.update=()=>{3072&e.$$.dirty&&n(6,r=$&&f.includes("button")),3072&e.$$.dirty&&(o=$&&f.includes("esc")),3072&e.$$.dirty&&(s=$&&f.includes("overlay")),1&e.$$.dirty&&async function(e){await Ie(),l(e?"open":"close")}(u)},[u,c,d,p,m,g,r,h,function(e){"Escape"===e.key&&u&&o&&h()},function(){s&&h()},$,f,i,a]}class Rd extends at{constructor(e){super(),it(this,e,Pd,Nd,p,{modalId:1,isOpen:0,title:2,size:3,allowClose:10,hasOverlay:4,closeOn:11,canScrollBody:5})}}const zd=e=>({}),Fd=e=>({slot:"title"}),Hd=e=>({}),qd=e=>({slot:"footer"});function Vd(e){let t;const n=e[10].default,r=g(n,e,e[14],null);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||16384&o)&&v(r,n,e,e[14],t?y(n,e[14],o,null):b(e[14]),null)},i(e){t||(qe(r,e),t=!0)},o(e){Ve(r,e),t=!1},d(e){r&&r.d(e)}}}function jd(e){let t;const n=e[10].title,r=g(n,e,e[14],Fd);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||16384&o)&&v(r,n,e,e[14],t?y(n,e[14],o,zd):b(e[14]),Fd)},i(e){t||(qe(r,e),t=!0)},o(e){Ve(r,e),t=!1},d(e){r&&r.d(e)}}}function Wd(e){let t;const n=e[10].footer,r=g(n,e,e[14],qd);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||16384&o)&&v(r,n,e,e[14],t?y(n,e[14],o,Hd):b(e[14]),qd)},i(e){t||(qe(r,e),t=!0)},o(e){Ve(r,e),t=!1},d(e){r&&r.d(e)}}}function Ud(e){let t,n,r;function o(t){e[11](t)}let s={hasOverlay:e[9],title:e[1],size:e[2],allowClose:e[3]&&e[9],closeOn:e[4],canScrollBody:e[5],modalId:e[0].modalId,$$slots:{footer:[Wd],title:[jd],default:[Vd]},$$scope:{ctx:e}};return void 0!==e[8]&&(s.isOpen=e[8]),t=new Rd({props:s}),we.push((()=>nt(t,"isOpen",o))),t.$on("open",e[12]),t.$on("close",e[13]),{c(){rt(t.$$.fragment)},m(e,n){ot(t,e,n),r=!0},p(e,[r]){const o={};512&r&&(o.hasOverlay=e[9]),2&r&&(o.title=e[1]),4&r&&(o.size=e[2]),520&r&&(o.allowClose=e[3]&&e[9]),16&r&&(o.closeOn=e[4]),32&r&&(o.canScrollBody=e[5]),1&r&&(o.modalId=e[0].modalId),16384&r&&(o.$$scope={dirty:r,ctx:e}),!n&&256&r&&(n=!0,o.isOpen=e[8],Te((()=>n=!1))),t.$set(o)},i(e){r||(qe(t.$$.fragment,e),r=!0)},o(e){Ve(t.$$.fragment,e),r=!1},d(e){st(t,e)}}}function Yd(e,t,n){let r,o,i,a,l=s,c=s;e.$$.on_destroy.push((()=>l())),e.$$.on_destroy.push((()=>c()));let{$$slots:u={},$$scope:d}=t,{controller:p}=t,{title:m}=t,{size:f}=t,{allowClose:g=!0}=t,{closeOn:h=["button"]}=t,{canScrollBody:y=!0}=t;return e.$$set=e=>{"controller"in e&&n(0,p=e.controller),"title"in e&&n(1,m=e.title),"size"in e&&n(2,f=e.size),"allowClose"in e&&n(3,g=e.allowClose),"closeOn"in e&&n(4,h=e.closeOn),"canScrollBody"in e&&n(5,y=e.canScrollBody),"$$scope"in e&&n(14,d=e.$$scope)},e.$$.update=()=>{1&e.$$.dirty&&(n(7,({isOpen:r,isOnTop:o}=p),r,(n(6,o),c(),c=$(o,(e=>n(9,a=e))),o)),l(),l=$(r,(e=>n(8,i=e))))},[p,m,f,g,h,y,o,r,i,a,u,function(e){i=e,r.set(i)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},d]}class Bd extends at{constructor(e){super(),it(this,e,Yd,Ud,p,{controller:0,title:1,size:2,allowClose:3,closeOn:4,canScrollBody:5})}}function Kd(e){let t,n;return t=new No({props:{arg:e[4]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};16&n&&(r.arg=e[4]),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Gd(e){let t,n;return t=new No({props:{arg:e[5]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};32&n&&(r.arg=e[5]),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Xd(e){let t,n,r=e[5]&&Gd(e);return{c(){r&&r.c(),t=j()},m(e,o){r&&r.m(e,o),P(e,t,o),n=!0},p(e,n){e[5]?r?(r.p(e,n),32&n&&qe(r,1)):(r=Gd(e),r.c(),qe(r,1),r.m(t.parentNode,t)):r&&(Fe(),Ve(r,1,1,(()=>{r=null})),He())},i(e){n||(qe(r),n=!0)},o(e){Ve(r),n=!1},d(e){r&&r.d(e),e&&R(t)}}}function Jd(e){let t,n;return t=new ro({props:{slot:"footer",cancelButton:e[2],proceedButton:e[3],onCancel:e[10],onProceed:e[11],canProceed:e[9]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};4&n&&(r.cancelButton=e[2]),8&n&&(r.proceedButton=e[3]),512&n&&(r.canProceed=e[9]),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Zd(e){let t,n;return t=new Bd({props:{controller:e[1],allowClose:e[0],$$slots:{footer:[Jd],title:[Xd],default:[Kd]},$$scope:{ctx:e}}}),t.$on("close",e[12]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const r={};2&n&&(r.controller=e[1]),1&n&&(r.allowClose=e[0]),524860&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Qd(e,t,n){let r,o,i,a,l,c,u,d,p,m,f,g,h,y,v=s,b=s,w=s;e.$$.on_destroy.push((()=>v())),e.$$.on_destroy.push((()=>b())),e.$$.on_destroy.push((()=>w()));let{controller:x}=t,S=!0;return e.$$set=e=>{"controller"in e&&n(13,x=e.controller)},e.$$.update=()=>{8192&e.$$.dirty&&n(1,({modal:r,confirmationProps:o,resolve:i,canProceed:a}=x),r,(n(8,o),b(),b=$(o,(e=>n(14,h=e))),o),(n(7,i),v(),v=$(i,(e=>n(18,g=e))),i),(n(6,a),w(),w=$(a,(e=>n(9,y=e))),a)),16384&e.$$.dirty&&n(5,({title:l,body:c,proceedButton:u,cancelButton:d,onProceed:p,onSuccess:m,onError:f}=h),l,(n(4,c),n(14,h)),(n(3,u),n(14,h)),(n(2,d),n(14,h)))},[S,r,d,u,c,l,a,i,o,y,function(){g(!1),r.close()},async function(){try{n(0,S=!1),await p(),m(),g(!0),r.close()}catch(e){f(e),r.close()}finally{n(0,S=!0)}},function(){g(!1),n(0,S=!0)},x,h]}class ep extends at{constructor(e){super(),it(this,e,Qd,Zd,p,{controller:13})}}function tp(e){return{text:e,isMatch:!0}}function np(e){return{text:e,isMatch:!1}}function rp(e,t){if(0===e.length)return[];if(0===t.length)return[np(e)];const n=Kt(e),r=Kt(t),o=[];let s=0;for(;;){const i=n.indexOf(r,s);if(-1===i){s<n.length&&o.push(np(e.slice(s)));break}i>s&&o.push(np(e.substring(s,i))),o.push(tp(e.substring(i,i+t.length))),s=i+t.length}return o}function op(e){return e?"exactMatch":"noMatch"}function sp(e,t,n){if(null!=e&&""!==e)return n&&n(t)===e?"exactMatch":op(e===t||String(e)===String(t))}function ip(e){let t,n;const r=e[1].default,o=g(r,e,e[0],null);return{c(){t=F("span"),o&&o.c(),B(t,"class","match svelte-1hlowus")},m(e,r){P(e,t,r),o&&o.m(t,null),n=!0},p(e,[t]){o&&o.p&&(!n||1&t)&&v(o,r,e,e[0],n?y(r,e[0],t,null):b(e[0]),null)},i(e){n||(qe(o,e),n=!0)},o(e){Ve(o,e),n=!1},d(e){e&&R(t),o&&o.d(e)}}}function ap(e,t,n){let{$$slots:r={},$$scope:o}=t;return e.$$set=e=>{"$$scope"in e&&n(0,o=e.$$scope)},[o,r]}class lp extends at{constructor(e){super(),it(this,e,ap,ip,p,{})}}function cp(e,t,n){const r=e.slice();return r[3]=t[n],r}function up(e){let t,n=e[3].text+"";return{c(){t=q(n)},m(e,n){P(e,t,n)},p(e,r){1&r&&n!==(n=e[3].text+"")&&X(t,n)},i:s,o:s,d(e){e&&R(t)}}}function dp(e){let t,n,r;var o=e[1];function s(e){return{props:{$$slots:{default:[pp]},$$scope:{ctx:e}}}}return o&&(t=new o(s(e))),{c(){t&&rt(t.$$.fragment),n=j()},m(e,o){t&&ot(t,e,o),P(e,n,o),r=!0},p(e,r){const i={};if(65&r&&(i.$$scope={dirty:r,ctx:e}),o!==(o=e[1])){if(t){Fe();const e=t;Ve(e.$$.fragment,1,0,(()=>{st(e,1)})),He()}o?(t=new o(s(e)),rt(t.$$.fragment),qe(t.$$.fragment,1),ot(t,n.parentNode,n)):t=null}else o&&t.$set(i)},i(e){r||(t&&qe(t.$$.fragment,e),r=!0)},o(e){t&&Ve(t.$$.fragment,e),r=!1},d(e){e&&R(n),t&&st(t,e)}}}function pp(e){let t,n=e[3].text+"";return{c(){t=q(n)},m(e,n){P(e,t,n)},p(e,r){1&r&&n!==(n=e[3].text+"")&&X(t,n)},d(e){e&&R(t)}}}function $p(e){let t,n,r,o;const s=[dp,up],i=[];function a(e,t){return e[3].isMatch?0:1}return t=a(e),n=i[t]=s[t](e),{c(){n.c(),r=j()},m(e,n){i[t].m(e,n),P(e,r,n),o=!0},p(e,o){let l=t;t=a(e),t===l?i[t].p(e,o):(Fe(),Ve(i[l],1,1,(()=>{i[l]=null})),He(),n=i[t],n?n.p(e,o):(n=i[t]=s[t](e),n.c()),qe(n,1),n.m(r.parentNode,r))},i(e){o||(qe(n),o=!0)},o(e){Ve(n),o=!1},d(e){i[t].d(e),e&&R(r)}}}function mp(e){let t,n,r=e[0],o=[];for(let i=0;i<r.length;i+=1)o[i]=$p(cp(e,r,i));const s=e=>Ve(o[e],1,1,(()=>{o[e]=null}));return{c(){t=F("span");for(let e=0;e<o.length;e+=1)o[e].c();B(t,"class","match-highlighter")},m(e,r){P(e,t,r);for(let n=0;n<o.length;n+=1)o[n].m(t,null);n=!0},p(e,[n]){if(3&n){let i;for(r=e[0],i=0;i<r.length;i+=1){const s=cp(e,r,i);o[i]?(o[i].p(s,n),qe(o[i],1)):(o[i]=$p(s),o[i].c(),qe(o[i],1),o[i].m(t,null))}for(Fe(),i=r.length;i<o.length;i+=1)s(i);He()}},i(e){if(!n){for(let e=0;e<r.length;e+=1)qe(o[e]);n=!0}},o(e){o=o.filter(Boolean);for(let t=0;t<o.length;t+=1)Ve(o[t]);n=!1},d(e){e&&R(t),z(o,e)}}}function fp(e,t,n){let r,{matchParts:o}=t,{matchComponent:s}=t;return e.$$set=e=>{"matchParts"in e&&n(0,o=e.matchParts),"matchComponent"in e&&n(2,s=e.matchComponent)},e.$$.update=()=>{4&e.$$.dirty&&n(1,r=s??lp)},[o,r,s]}class gp extends at{constructor(e){super(),it(this,e,fp,mp,p,{matchParts:0,matchComponent:2})}}function hp(e){let t,n;return t=new gp({props:{matchParts:e[1],matchComponent:e[0]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const r={};2&n&&(r.matchParts=e[1]),1&n&&(r.matchComponent=e[0]),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function yp(e,t,n){let r,{text:o}=t,{substring:s=""}=t,{matchComponent:i}=t;return e.$$set=e=>{"text"in e&&n(2,o=e.text),"substring"in e&&n(3,s=e.substring),"matchComponent"in e&&n(0,i=e.matchComponent)},e.$$.update=()=>{12&e.$$.dirty&&n(1,r=rp(o,s))},[i,r,o,s]}class vp extends at{constructor(e){super(),it(this,e,yp,hp,p,{text:2,substring:3,matchComponent:0})}}function bp(e){let t;return{c(){t=F("div"),B(t,"class","menu-divider")},m(e,n){P(e,t,n)},p:s,i:s,o:s,d(e){e&&R(t)}}}class wp extends at{constructor(e){super(),it(this,e,null,bp,p,{})}}function xp(e){let t,n;const r=e[2].default,o=g(r,e,e[1],null);let s=[{class:"menu-heading"},e[0]],i={};for(let l=0;l<s.length;l+=1)i=a(i,s[l]);return{c(){t=F("div"),o&&o.c(),K(t,i)},m(e,r){P(e,t,r),o&&o.m(t,null),n=!0},p(e,[a]){o&&o.p&&(!n||2&a)&&v(o,r,e,e[1],n?y(r,e[1],a,null):b(e[1]),null),K(t,i=et(s,[{class:"menu-heading"},1&a&&e[0]]))},i(e){n||(qe(o,e),n=!0)},o(e){Ve(o,e),n=!1},d(e){e&&R(t),o&&o.d(e)}}}function Sp(e,t,n){const r=[];let o=x(t,r),{$$slots:s={},$$scope:i}=t;return e.$$set=e=>{t=a(a({},t),w(e)),n(0,o=x(t,r)),"$$scope"in e&&n(1,i=e.$$scope)},[o,i,s]}class Cp extends at{constructor(e){super(),it(this,e,Sp,xp,p,{})}}const kp=e=>({}),Dp=e=>({});function Ip(e){let t,n;const r=[e[0],{hasNotificationDot:e[1]}];let o={};for(let s=0;s<r.length;s+=1)o=a(o,r[s]);return t=new Wr({props:o}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const o=3&n?et(r,[1&n&&tt(e[0]),2&n&&{hasNotificationDot:e[1]}]):{};t.$set(o)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function _p(e){let t,n,r,o,s,i;const a=e[4].control,l=g(a,e,e[3],Dp);let c=e[0]&&Ip(e);const u=e[4].default,d=g(u,e,e[3],null);return{c(){t=F("div"),l&&l.c(),n=V(),r=F("div"),c&&c.c(),o=V(),s=F("div"),d&&d.c(),B(t,"class","control cell"),B(r,"class","icon cell"),B(s,"class","label cell")},m(e,a){P(e,t,a),l&&l.m(t,null),P(e,n,a),P(e,r,a),c&&c.m(r,null),P(e,o,a),P(e,s,a),d&&d.m(s,null),i=!0},p(e,[t]){l&&l.p&&(!i||8&t)&&v(l,a,e,e[3],i?y(a,e[3],t,kp):b(e[3]),Dp),e[0]?c?(c.p(e,t),1&t&&qe(c,1)):(c=Ip(e),c.c(),qe(c,1),c.m(r,null)):c&&(Fe(),Ve(c,1,1,(()=>{c=null})),He()),d&&d.p&&(!i||8&t)&&v(d,u,e,e[3],i?y(u,e[3],t,null):b(e[3]),null)},i(e){i||(qe(l,e),qe(c),qe(d,e),i=!0)},o(e){Ve(l,e),Ve(c),Ve(d,e),i=!1},d(e){e&&R(t),l&&l.d(e),e&&R(n),e&&R(r),c&&c.d(),e&&R(o),e&&R(s),d&&d.d(e)}}}function Tp(e,t,n){let r,{$$slots:o={},$$scope:s}=t;const i=S(o),a=hs(),l=mt(!1);f(e,l,(e=>n(5,r=e)));let{icon:c}=t,{hasNotificationDot:u=!1}=t;return a&&(pe((()=>a.hasControlColumn.registerInput(i.control))),pe((()=>a.hasIconColumn.registerInput(l)))),e.$$set=e=>{"icon"in e&&n(0,c=e.icon),"hasNotificationDot"in e&&n(1,u=e.hasNotificationDot),"$$scope"in e&&n(3,s=e.$$scope)},e.$$.update=()=>{1&e.$$.dirty&&k(l,r=!!c,r)},[c,u,l,s,o]}class Mp extends at{constructor(e){super(),it(this,e,Tp,_p,p,{icon:0,hasNotificationDot:1})}}function Ep(e){let t,n,r,o,s;const i=e[6].default,l=g(i,e,e[5],null);let c=[e[4],{class:n="menu-item "+e[3]},{role:"menuitem"}],u={};for(let d=0;d<c.length;d+=1)u=a(u,c[d]);return{c(){t=F(e[0]),l&&l.c(),K(t,u),te(t,"disabled",e[1]),te(t,"danger",e[2])},m(n,i){P(n,t,i),l&&l.m(t,null),r=!0,o||(s=W(t,"click",e[7]),o=!0)},p(e,o){l&&l.p&&(!r||32&o)&&v(l,i,e,e[5],r?y(i,e[5],o,null):b(e[5]),null),K(t,u=et(c,[16&o&&e[4],(!r||8&o&&n!==(n="menu-item "+e[3]))&&{class:n},{role:"menuitem"}])),te(t,"disabled",e[1]),te(t,"danger",e[2])},i(e){r||(qe(l,e),r=!0)},o(e){Ve(l,e),r=!1},d(e){e&&R(t),l&&l.d(e),o=!1,s()}}}function Op(e){let t,n,r=e[0],o=e[0]&&Ep(e);return{c(){o&&o.c(),t=j()},m(e,r){o&&o.m(e,r),P(e,t,r),n=!0},p(e,[n]){e[0]?r?p(r,e[0])?(o.d(1),o=Ep(e),o.c(),o.m(t.parentNode,t)):o.p(e,n):(o=Ep(e),o.c(),o.m(t.parentNode,t)):r&&(o.d(1),o=null),r=e[0]},i(e){n||(qe(o),n=!0)},o(e){Ve(o),n=!1},d(e){e&&R(t),o&&o.d(e)}}}function Ap(e,t,n){const r=["tag","disabled","danger","class"];let o=x(t,r),{$$slots:s={},$$scope:i}=t,{tag:l="div"}=t,{disabled:c=!1}=t,{danger:u=!1}=t,{class:d=""}=t;return e.$$set=e=>{t=a(a({},t),w(e)),n(4,o=x(t,r)),"tag"in e&&n(0,l=e.tag),"disabled"in e&&n(1,c=e.disabled),"danger"in e&&n(2,u=e.danger),"class"in e&&n(3,d=e.class),"$$scope"in e&&n(5,i=e.$$scope)},[l,c,u,d,o,i,s,function(t){ve.call(this,e,t)}]}class Lp extends at{constructor(e){super(),it(this,e,Ap,Op,p,{tag:0,disabled:1,danger:2,class:3})}}function Np(e){let t;const n=e[7].default,r=g(n,e,e[8],null);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||256&o)&&v(r,n,e,e[8],t?y(n,e[8],o,null):b(e[8]),null)},i(e){t||(qe(r,e),t=!0)},o(e){Ve(r,e),t=!1},d(e){r&&r.d(e)}}}function Pp(e){let t;return{c(){t=q(e[0])},m(e,n){P(e,t,n)},p(e,n){1&n&&X(t,e[0])},i:s,o:s,d(e){e&&R(t)}}}function Rp(e){let t,n,r,o;const s=[Pp,Np],i=[];function a(e,t){return e[0]?0:1}return t=a(e),n=i[t]=s[t](e),{c(){n.c(),r=j()},m(e,n){i[t].m(e,n),P(e,r,n),o=!0},p(e,o){let l=t;t=a(e),t===l?i[t].p(e,o):(Fe(),Ve(i[l],1,1,(()=>{i[l]=null})),He(),n=i[t],n?n.p(e,o):(n=i[t]=s[t](e),n.c()),qe(n,1),n.m(r.parentNode,r))},i(e){o||(qe(n),o=!0)},o(e){Ve(n),o=!1},d(e){i[t].d(e),e&&R(r)}}}function zp(e){let t,n;return t=new Mp({props:{icon:e[1],hasNotificationDot:e[4],$$slots:{default:[Rp]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.icon=e[1]),16&n&&(r.hasNotificationDot=e[4]),257&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Fp(e){let t,n;const r=[{tag:"button"},{class:"menu-item-button"},{disabled:e[2]},{danger:e[3]},e[6]];let o={$$slots:{default:[zp]},$$scope:{ctx:e}};for(let s=0;s<r.length;s+=1)o=a(o,r[s]);return t=new Lp({props:o}),t.$on("click",e[5]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const o=76&n?et(r,[r[0],r[1],4&n&&{disabled:e[2]},8&n&&{danger:e[3]},64&n&&tt(e[6])]):{};275&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Hp(e,t,n){const r=["label","icon","disabled","danger","hasNotificationDot"];let o=x(t,r),{$$slots:s={},$$scope:i}=t;const l=fe();let{label:c}=t,{icon:u}=t,{disabled:d=!1}=t,{danger:p=!1}=t,{hasNotificationDot:$=!1}=t;return e.$$set=e=>{t=a(a({},t),w(e)),n(6,o=x(t,r)),"label"in e&&n(0,c=e.label),"icon"in e&&n(1,u=e.icon),"disabled"in e&&n(2,d=e.disabled),"danger"in e&&n(3,p=e.danger),"hasNotificationDot"in e&&n(4,$=e.hasNotificationDot),"$$scope"in e&&n(8,i=e.$$scope)},[c,u,d,p,$,function(){d||l("click")},o,s,i]}class qp extends at{constructor(e){super(),it(this,e,Hp,Fp,p,{label:0,icon:1,disabled:2,danger:3,hasNotificationDot:4})}}function Vp(e){let t;const n=e[6].default,r=g(n,e,e[7],null);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||128&o)&&v(r,n,e,e[7],t?y(n,e[7],o,null):b(e[7]),null)},i(e){t||(qe(r,e),t=!0)},o(e){Ve(r,e),t=!1},d(e){r&&r.d(e)}}}function jp(e){let t,n;return t=new Mp({props:{icon:e[0],hasNotificationDot:e[2],$$slots:{default:[Vp]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.icon=e[0]),4&n&&(r.hasNotificationDot=e[2]),128&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Wp(e){let t,n;const r=[{tag:"a"},{class:"menu-item-link "+e[4]},{href:e[1]},{disabled:e[3]},e[5]];let o={$$slots:{default:[jp]},$$scope:{ctx:e}};for(let s=0;s<r.length;s+=1)o=a(o,r[s]);return t=new Lp({props:o}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const o=58&n?et(r,[r[0],16&n&&{class:"menu-item-link "+e[4]},2&n&&{href:e[1]},8&n&&{disabled:e[3]},32&n&&tt(e[5])]):{};133&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Up(e,t,n){const r=["icon","href","hasNotificationDot","disabled","class"];let o=x(t,r),{$$slots:s={},$$scope:i}=t,{icon:l}=t,{href:c}=t,{hasNotificationDot:u=!1}=t,{disabled:d=!1}=t,{class:p=""}=t;return e.$$set=e=>{t=a(a({},t),w(e)),n(5,o=x(t,r)),"icon"in e&&n(0,l=e.icon),"href"in e&&n(1,c=e.href),"hasNotificationDot"in e&&n(2,u=e.hasNotificationDot),"disabled"in e&&n(3,d=e.disabled),"class"in e&&n(4,p=e.class),"$$scope"in e&&n(7,i=e.$$scope)},[l,c,u,d,p,o,s,i]}class Yp extends at{constructor(e){super(),it(this,e,Up,Wp,p,{icon:0,href:1,hasNotificationDot:2,disabled:3,class:4})}}const Bp={backgroundColor:"var(--sky-500)",textColor:"var(--slate-800)",progressColor:"rgba(255, 255, 255, 0.6)",lifetime:6e3,hasProgress:!0,initialProgress:1,finalProgress:0,allowPause:!0,allowDismiss:!0,onShow:()=>{},onDismiss:()=>{}};class Kp{constructor({defaultProps:t}={defaultProps:{}}){e(this,"maxId",0),e(this,"defaultProps",void 0),e(this,"entriesMap",void 0),e(this,"entries",void 0),this.entriesMap=mt(new Map),this.defaultProps={...Bp,...t},this.entries=ft(this.entriesMap,(e=>[...e.values()]))}makeId(){return this.maxId+=1,this.maxId}show(e={}){const t={...this.defaultProps,...e},n=t.id??this.makeId(),r=zt(t.initialProgress,{duration:200,easing:i}),o={id:n,progress:r,dismiss:()=>this.dismiss(n)},s={id:n,props:t,controller:o};return this.entriesMap.update((e=>{const t=new Map(e);return t.set(n,s),t})),t.lifetime&&o.progress.set(t.finalProgress,{duration:t.lifetime}).then(o.dismiss),t.onShow(o),o}dismiss(e){this.entriesMap.update((t=>{const n=t.get(e);if(!n)return t;const r=new Map(t);return r.delete(e),n.props.onDismiss(),r}))}}function Gp(e){return"string"==typeof e?{title:e}:e}function Xp(e,{from:t,to:n},r={}){const o=getComputedStyle(e),s="none"===o.transform?"":o.transform,[i,a]=o.transformOrigin.split(" ").map(parseFloat),l=t.left+t.width*i/n.width-(n.left+i),c=t.top+t.height*a/n.height-(n.top+a),{delay:u=0,duration:p=(e=>120*Math.sqrt(e)),easing:$=Lt}=r;return{delay:u,duration:d(p)?p(Math.sqrt(l*l+c*c)):p,easing:$,css:(e,r)=>{const o=r*l,i=r*c,a=e+r*t.width/n.width,u=e+r*t.height/n.height;return`transform: ${s} translate(${o}px, ${i}px) scale(${a}, ${u});`}}}function Jp(e){let t,n,r;const o=[e[6]];let s={};for(let i=0;i<o.length;i+=1)s=a(s,o[i]);return n=new Wr({props:s}),{c(){t=F("div"),rt(n.$$.fragment),B(t,"class","icon")},m(e,o){P(e,t,o),ot(n,t,null),r=!0},p(e,t){const r=64&t?et(o,[tt(e[6])]):{};n.$set(r)},i(e){r||(qe(n.$$.fragment,e),r=!0)},o(e){Ve(n.$$.fragment,e),r=!1},d(e){e&&R(t),st(n)}}}function Zp(e){let t,n;return{c(){t=F("div"),n=q(e[14]),B(t,"class","title")},m(e,r){P(e,t,r),A(t,n)},p(e,t){16384&t&&X(n,e[14])},d(e){e&&R(t)}}}function Qp(e){let t,n,r,o,s;const i=[pr];let l={};for(let c=0;c<i.length;c+=1)l=a(l,i[c]);return n=new Wr({props:l}),{c(){t=F("div"),rt(n.$$.fragment),B(t,"class","close-button"),B(t,"role","button"),B(t,"tabindex","-1")},m(i,a){P(i,t,a),ot(n,t,null),r=!0,o||(s=W(t,"click",(function(){d(e[13])&&e[13].apply(this,arguments)})),o=!0)},p(t,r){e=t;const o=0&r?et(i,[tt(pr)]):{};n.$set(o)},i(e){r||(qe(n.$$.fragment,e),r=!0)},o(e){Ve(n.$$.fragment,e),r=!1},d(e){e&&R(t),st(n),o=!1,s()}}}function e$(e){let t,n,r,o;const s=[n$,t$],i=[];function a(e,t){return e[0].contentComponent?0:e[0].message?1:-1}return~(n=a(e))&&(r=i[n]=s[n](e)),{c(){t=F("div"),r&&r.c(),B(t,"class","message")},m(e,r){P(e,t,r),~n&&i[n].m(t,null),o=!0},p(e,o){let l=n;n=a(e),n===l?~n&&i[n].p(e,o):(r&&(Fe(),Ve(i[l],1,1,(()=>{i[l]=null})),He()),~n?(r=i[n],r?r.p(e,o):(r=i[n]=s[n](e),r.c()),qe(r,1),r.m(t,null)):r=null)},i(e){o||(qe(r),o=!0)},o(e){Ve(r),o=!1},d(e){e&&R(t),~n&&i[n].d()}}}function t$(e){let t;return{c(){t=q(e[16])},m(e,n){P(e,t,n)},p(e,n){65536&n&&X(t,e[16])},i:s,o:s,d(e){e&&R(t)}}}function n$(e){let t,n,r;const o=[e[15]];var s=e[0].contentComponent;function i(e){let t={};for(let n=0;n<o.length;n+=1)t=a(t,o[n]);return{props:t}}return s&&(t=new s(i())),{c(){t&&rt(t.$$.fragment),n=j()},m(e,o){t&&ot(t,e,o),P(e,n,o),r=!0},p(e,r){const a=32768&r?et(o,[tt(e[15])]):{};if(s!==(s=e[0].contentComponent)){if(t){Fe();const e=t;Ve(e.$$.fragment,1,0,(()=>{st(e,1)})),He()}s?(t=new s(i()),rt(t.$$.fragment),qe(t.$$.fragment,1),ot(t,n.parentNode,n)):t=null}else s&&t.$set(a)},i(e){r||(t&&qe(t.$$.fragment,e),r=!0)},o(e){t&&Ve(t.$$.fragment,e),r=!1},d(e){e&&R(n),t&&st(t,e)}}}function r$(e){let t;return{c(){t=F("progress"),t.value=e[17]},m(e,n){P(e,t,n)},p(e,n){131072&n&&(t.value=e[17])},d(e){e&&R(t)}}}function o$(e){let t,n,r,o,s,i,a,l,c,p=e[6]&&Jp(e),$=e[0].title&&Zp(e),m=e[0].allowDismiss&&Qp(e),f=(e[0].contentComponent||e[0].message)&&e$(e),g=e[0].hasProgress&&r$(e);return{c(){t=F("div"),n=F("div"),p&&p.c(),r=V(),$&&$.c(),o=V(),m&&m.c(),s=V(),f&&f.c(),i=V(),g&&g.c(),B(n,"class","header"),B(t,"class","toast-item"),B(t,"style",e[2])},m(u,h){P(u,t,h),A(t,n),p&&p.m(n,null),A(n,r),$&&$.m(n,null),A(n,o),m&&m.m(n,null),A(t,s),f&&f.m(t,null),A(t,i),g&&g.m(t,null),a=!0,l||(c=[W(t,"mouseenter",(function(){d(e[12])&&e[12].apply(this,arguments)})),W(t,"mouseleave",(function(){d(e[11])&&e[11].apply(this,arguments)}))],l=!0)},p(s,[l]){(e=s)[6]?p?(p.p(e,l),64&l&&qe(p,1)):(p=Jp(e),p.c(),qe(p,1),p.m(n,r)):p&&(Fe(),Ve(p,1,1,(()=>{p=null})),He()),e[0].title?$?$.p(e,l):($=Zp(e),$.c(),$.m(n,o)):$&&($.d(1),$=null),e[0].allowDismiss?m?(m.p(e,l),1&l&&qe(m,1)):(m=Qp(e),m.c(),qe(m,1),m.m(n,null)):m&&(Fe(),Ve(m,1,1,(()=>{m=null})),He()),e[0].contentComponent||e[0].message?f?(f.p(e,l),1&l&&qe(f,1)):(f=e$(e),f.c(),qe(f,1),f.m(t,i)):f&&(Fe(),Ve(f,1,1,(()=>{f=null})),He()),e[0].hasProgress?g?g.p(e,l):(g=r$(e),g.c(),g.m(t,null)):g&&(g.d(1),g=null),(!a||4&l)&&B(t,"style",e[2])},i(e){a||(qe(p),qe(m),qe(f),a=!0)},o(e){Ve(p),Ve(m),Ve(f),a=!1},d(e){e&&R(t),p&&p.d(),$&&$.d(),m&&m.d(),f&&f.d(),g&&g.d(),l=!1,u(c)}}}function s$(e,t,n){let r,o,i,a,l,c,u,d,p,m,f,g,h,y,v,b,w,x,S,C,k,D,I,_=s,T=s,M=s,E=s,O=s,A=s,L=s,N=s;e.$$.on_destroy.push((()=>_())),e.$$.on_destroy.push((()=>T())),e.$$.on_destroy.push((()=>M())),e.$$.on_destroy.push((()=>E())),e.$$.on_destroy.push((()=>O())),e.$$.on_destroy.push((()=>A())),e.$$.on_destroy.push((()=>L())),e.$$.on_destroy.push((()=>N()));let{entry:P}=t;return e.$$set=e=>{"entry"in e&&n(18,P=e.entry)},e.$$.update=()=>{262144&e.$$.dirty&&n(0,({props:r,controller:o}=P),r,(n(19,o),n(18,P))),524288&e.$$.dirty&&(n(1,({progress:i,dismiss:a}=o),i,(n(13,a),n(19,o),n(18,P))),N(),N=$(i,(e=>n(17,I=e)))),2&e.$$.dirty&&n(12,({pause:l,resume:c}=i),l,(n(11,c),n(1,i),n(19,o),n(18,P))),1&e.$$.dirty&&(n(10,u=Ft(r.title)),O(),O=$(u,(e=>n(14,C=e)))),1&e.$$.dirty&&(n(9,d=Ft(r.message)),L(),L=$(d,(e=>n(16,D=e)))),1&e.$$.dirty&&(n(8,p=Ft(r.contentComponentProps)),A(),A=$(p,(e=>n(15,k=e)))),1&e.$$.dirty&&(n(7,m=Ft(r.icon)),E(),E=$(m,(e=>n(23,S=e)))),8388608&e.$$.dirty&&n(6,f=S),1&e.$$.dirty&&(n(5,g=Ft(r.backgroundColor)),M(),M=$(g,(e=>n(22,x=e)))),1&e.$$.dirty&&(n(4,h=Ft(r.textColor)),T(),T=$(h,(e=>n(21,w=e)))),1&e.$$.dirty&&(n(3,y=Ft(r.progressColor)),_(),_=$(y,(e=>n(20,b=e)))),7340032&e.$$.dirty&&n(2,v=`\n    --toast-item-background-color: ${x};\n    --toast-item-text-color: ${w};\n    --toast-item-progress-color: ${b};\n  `)},[r,i,v,y,h,g,f,m,p,d,u,c,l,a,C,k,D,I,P,o,b,w,x,S]}class i$ extends at{constructor(e){super(),it(this,e,s$,o$,p,{entry:18})}}function a$(e,t,n){const r=e.slice();return r[4]=t[n],r}function l$(e,t){let n,r,o,l,c,u,d,p=s;const $=[t[3],{entry:t[4]}];var m=t[1];function f(e){let t={};for(let n=0;n<$.length;n+=1)t=a(t,$[n]);return{props:t}}return m&&(r=new m(f())),{key:e,first:null,c(){n=F("li"),r&&rt(r.$$.fragment),o=V(),this.first=n},m(e,t){P(e,n,t),r&&ot(r,n,null),A(n,o),d=!0},p(e,s){t=e;const i=12&s?et($,[8&s&&tt(t[3]),4&s&&{entry:t[4]}]):{};if(m!==(m=t[1])){if(r){Fe();const e=r;Ve(e.$$.fragment,1,0,(()=>{st(e,1)})),He()}m?(r=new m(f()),rt(r.$$.fragment),qe(r.$$.fragment,1),ot(r,n,o)):r=null}else m&&r.$set(i)},r(){u=n.getBoundingClientRect()},f(){!function(e){const t=getComputedStyle(e);if("absolute"!==t.position&&"fixed"!==t.position){const{width:n,height:r}=t,o=e.getBoundingClientRect();e.style.position="absolute",e.style.width=n,e.style.height=r,ce(e,o)}}(n),p(),ce(n,u)},a(){p(),p=function(e,t,n,r){if(!t)return s;const o=e.getBoundingClientRect();if(t.left===o.left&&t.right===o.right&&t.top===o.top&&t.bottom===o.bottom)return s;const{delay:a=0,duration:l=300,easing:c=i,start:u=_()+a,end:d=u+l,tick:p=s,css:$}=n(e,{from:t,to:o},r);let m,f=!0,g=!1;function h(){$&&le(e,m),f=!1}return O((e=>{if(!g&&e>=u&&(g=!0),g&&e>=d&&(p(1,0),h()),!f)return!1;if(g){const t=0+1*c((e-u)/l);p(t,1-t)}return!0})),$&&(m=ae(e,0,1,l,a,c,$)),a||(g=!0),p(0,1),h}(n,u,Xp,{duration:200})},i(e){d||(r&&qe(r.$$.fragment,e),_e((()=>{c&&c.end(1),l=We(n,cl,{x:256}),l.start()})),d=!0)},o(e){r&&Ve(r.$$.fragment,e),l&&l.invalidate(),c=Ue(n,ll,{}),d=!1},d(e){e&&R(n),r&&st(r),e&&c&&c.end()}}}function c$(e){let t,n,r=[],o=new Map,s=e[2];const i=e=>e[4].id;for(let a=0;a<s.length;a+=1){let t=a$(e,s,a),n=i(t);o.set(n,r[a]=l$(n,t))}return{c(){t=F("ul");for(let e=0;e<r.length;e+=1)r[e].c();B(t,"class","toast-presenter")},m(e,o){P(e,t,o);for(let n=0;n<r.length;n+=1)r[n].m(t,null);n=!0},p(e,[n]){if(14&n){s=e[2],Fe();for(let e=0;e<r.length;e+=1)r[e].r();r=Qe(r,n,i,1,e,s,o,t,Ze,l$,null,a$);for(let e=0;e<r.length;e+=1)r[e].a();He()}},i(e){if(!n){for(let e=0;e<s.length;e+=1)qe(r[e]);n=!0}},o(e){for(let t=0;t<r.length;t+=1)Ve(r[t]);n=!1},d(e){e&&R(t);for(let t=0;t<r.length;t+=1)r[t].d()}}}function u$(e,t,n){const r=["entries","toastItemComponent"];let o,i=x(t,r),l=s,c=()=>(l(),l=$(u,(e=>n(2,o=e))),u);e.$$.on_destroy.push((()=>l()));let{entries:u}=t;c();let{toastItemComponent:d=i$}=t;return e.$$set=e=>{t=a(a({},t),w(e)),n(3,i=x(t,r)),"entries"in e&&c(n(0,u=e.entries)),"toastItemComponent"in e&&n(1,d=e.toastItemComponent)},[u,d,o,i]}class d$ extends at{constructor(e){super(),it(this,e,u$,c$,p,{entries:0,toastItemComponent:1})}}function p$(e,t){const{cases:n}=t;return n[String(e)]??n.default??[]}function $$(e,t){return n=e,r=t.condition,o=t.value,("eq"===r?n===o:"neq"===r&&n!==o)?t.elements??[]:[];var n,r,o}function m$(e,t){const n=new Set;let r=[];if("input"===e.type||"static"===e.type)n.add(e.variable);else if("switch"===e.type){r=p$(t[e.variable],e)}else if("if"===e.type){r=$$(t[e.variable],e)}else"layout"!==e.type&&e.type||(r=e.elements);return r.forEach((e=>{m$(e,t).forEach((e=>n.add(e)))})),n}function f$(e){const t=new Set;let n=[];if("switch"===e.type){t.add(e.variable);const r=[];Object.keys(e.cases).forEach((t=>{r.push(...e.cases[t])})),n=r}else"if"===e.type?(t.add(e.variable),n=e.elements):"layout"!==e.type&&e.type||(n=e.elements);return n.forEach((e=>{f$(e).forEach((e=>t.add(e)))})),t}function g$(e,t,n){const r=f$(e.layout),o=new Map;function s(){const e={};return o.forEach(((t,n)=>{e[n]=m(t)})),e}Object.keys(e.variables)?.forEach((n=>{const r=mt(void 0!==t?.[n]?t[n]:e.variables[n].default);o.set(n,r)}));const i=function(){let t={},n=m$(e.layout,s());return $t(t,(i=>{const a=[...o].map((([o,a])=>a.subscribe((()=>{const a=s();r.has(o)&&(n=m$(e.layout,a)),t={},n.forEach((e=>{t[e]=a[e]})),i(t)}))));return()=>a.forEach((e=>e()))}))}(),a=ft(i,(t=>{const n={isValid:!0,failedChecks:{}};return Object.keys(t).forEach((r=>{const o=t[r],s=e.variables[r],i=s?.validation;if(s&&i){const{checks:e}=i;if(e.includes("isEmpty")){let e=null!=o;"string"===s.type&&(e=e&&""!==o),e||(n.failedChecks[r]||(n.failedChecks[r]=[]),n.failedChecks[r].push("isEmpty")),n.isValid=n.isValid&&e}}})),n}));return{...e,stores:o,values:i,validationStore:a,getValidationResult:function(){return m(a)},customComponents:n}}function h$(e,t,n){const r=e.slice();return r[7]=t[n],r}function y$(e){let t,n,r;const o=[e[5],{dataType:e[0]},{label:e[1]},{hasError:e[3].length>0}];function s(t){e[6](t)}let i={};for(let l=0;l<o.length;l+=1)i=a(i,o[l]);return void 0!==e[4]&&(i.value=e[4]),t=new au({props:i}),we.push((()=>nt(t,"value",s))),{c(){rt(t.$$.fragment)},m(e,n){ot(t,e,n),r=!0},p(e,r){const s=43&r?et(o,[32&r&&tt(e[5]),1&r&&{dataType:e[0]},2&r&&{label:e[1]},8&r&&{hasError:e[3].length>0}]):{};!n&&16&r&&(n=!0,s.value=e[4],Te((()=>n=!1))),t.$set(s)},i(e){r||(qe(t.$$.fragment,e),r=!0)},o(e){Ve(t.$$.fragment,e),r=!1},d(e){st(t,e)}}}function v$(e){let t,n=e[7]+"";return{c(){t=q(n)},m(e,n){P(e,t,n)},p(e,r){8&r&&n!==(n=e[7]+"")&&X(t,n)},d(e){e&&R(t)}}}function b$(e){let t;return{c(){t=q("* This is a required field")},m(e,n){P(e,t,n)},p:s,d(e){e&&R(t)}}}function w$(e,t){let n,r;function o(e,t){return"isEmpty"===e[7]?b$:v$}let s=o(t),i=s(t);return{key:e,first:null,c(){n=F("div"),i.c(),r=V(),B(n,"class","validation-error"),this.first=n},m(e,t){P(e,n,t),i.m(n,null),A(n,r)},p(e,a){s===(s=o(t=e))&&i?i.p(t,a):(i.d(1),i=s(t),i&&(i.c(),i.m(n,r)))},d(e){e&&R(n),i.d()}}}function x$(e){let t,n,r,o,s=[],i=new Map;n=new Io({props:{label:e[1],layout:"boolean"===e[0]?"inline-input-first":"stacked",$$slots:{default:[y$]},$$scope:{ctx:e}}});let a=e[3];const l=e=>e[7];for(let c=0;c<a.length;c+=1){let t=h$(e,a,c),n=l(t);i.set(n,s[c]=w$(n,t))}return{c(){t=F("div"),rt(n.$$.fragment),r=V();for(let e=0;e<s.length;e+=1)s[e].c();B(t,"class","form-element form-input")},m(e,i){P(e,t,i),ot(n,t,null),A(t,r);for(let n=0;n<s.length;n+=1)s[n].m(t,null);o=!0},p(e,[r]){const o={};2&r&&(o.label=e[1]),1&r&&(o.layout="boolean"===e[0]?"inline-input-first":"stacked"),1083&r&&(o.$$scope={dirty:r,ctx:e}),n.$set(o),8&r&&(a=e[3],s=Qe(s,r,l,1,e,a,i,t,Xe,w$,null,h$))},i(e){o||(qe(n.$$.fragment,e),o=!0)},o(e){Ve(n.$$.fragment,e),o=!1},d(e){e&&R(t),st(n);for(let t=0;t<s.length;t+=1)s[t].d()}}}function S$(e,t,n){const r=["type","label","store","validationErrors"];let o,i=x(t,r),l=s,c=()=>(l(),l=$(p,(e=>n(4,o=e))),p);e.$$.on_destroy.push((()=>l()));let{type:u}=t,{label:d}=t,{store:p}=t;c();let{validationErrors:m}=t;return e.$$set=e=>{t=a(a({},t),w(e)),n(5,i=x(t,r)),"type"in e&&n(0,u=e.type),"label"in e&&n(1,d=e.label),"store"in e&&c(n(2,p=e.store)),"validationErrors"in e&&n(3,m=e.validationErrors)},[u,d,p,m,o,i,function(e){o=e,p.set(o)}]}class C$ extends at{constructor(e){super(),it(this,e,S$,x$,p,{type:0,label:1,store:2,validationErrors:3})}}function k$(e,t,n){const r=e.slice();return r[4]=t[n],r}const D$=e=>({element:2&e}),I$=e=>({element:e[4]});function _$(e,t){let n,r;const o=t[3].default,s=g(o,t,t[2],I$);return{key:e,first:null,c(){n=j(),s&&s.c(),this.first=n},m(e,t){P(e,n,t),s&&s.m(e,t),r=!0},p(e,n){t=e,s&&s.p&&(!r||6&n)&&v(s,o,t,t[2],r?y(o,t[2],n,D$):b(t[2]),I$)},i(e){r||(qe(s,e),r=!0)},o(e){Ve(s,e),r=!1},d(e){e&&R(n),s&&s.d(e)}}}function T$(e){let t,n,r,o=[],s=new Map,i=e[1]||[];const a=e=>e[4];for(let l=0;l<i.length;l+=1){let t=k$(e,i,l),n=a(t);s.set(n,o[l]=_$(n,t))}return{c(){t=F("div");for(let e=0;e<o.length;e+=1)o[e].c();B(t,"class",n="form-element form-layout "+e[0])},m(e,n){P(e,t,n);for(let r=0;r<o.length;r+=1)o[r].m(t,null);r=!0},p(e,[l]){6&l&&(i=e[1]||[],Fe(),o=Qe(o,l,a,1,e,i,s,t,Je,_$,null,k$),He()),(!r||1&l&&n!==(n="form-element form-layout "+e[0]))&&B(t,"class",n)},i(e){if(!r){for(let e=0;e<i.length;e+=1)qe(o[e]);r=!0}},o(e){for(let t=0;t<o.length;t+=1)Ve(o[t]);r=!1},d(e){e&&R(t);for(let t=0;t<o.length;t+=1)o[t].d()}}}function M$(e,t,n){let{$$slots:r={},$$scope:o}=t,{orientation:s="vertical"}=t,{elements:i}=t;return e.$$set=e=>{"orientation"in e&&n(0,s=e.orientation),"elements"in e&&n(1,i=e.elements),"$$scope"in e&&n(2,o=e.$$scope)},[s,i,o,r]}class E$ extends at{constructor(e){super(),it(this,e,M$,T$,p,{orientation:0,elements:1})}}function O$(e,t,n){const r=e.slice();return r[6]=t[n],r}const A$=e=>({element:2&e}),L$=e=>({element:e[6]});function N$(e,t){let n,r;const o=t[5].default,s=g(o,t,t[4],L$);return{key:e,first:null,c(){n=j(),s&&s.c(),this.first=n},m(e,t){P(e,n,t),s&&s.m(e,t),r=!0},p(e,n){t=e,s&&s.p&&(!r||18&n)&&v(s,o,t,t[4],r?y(o,t[4],n,A$):b(t[4]),L$)},i(e){r||(qe(s,e),r=!0)},o(e){Ve(s,e),r=!1},d(e){e&&R(n),s&&s.d(e)}}}function P$(e){let t,n,r=[],o=new Map,s=e[1];const i=e=>e[6];for(let a=0;a<s.length;a+=1){let t=O$(e,s,a),n=i(t);o.set(n,r[a]=N$(n,t))}return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=j()},m(e,o){for(let t=0;t<r.length;t+=1)r[t].m(e,o);P(e,t,o),n=!0},p(e,[n]){18&n&&(s=e[1],Fe(),r=Qe(r,n,i,1,e,s,o,t.parentNode,Je,N$,t,O$),He())},i(e){if(!n){for(let e=0;e<s.length;e+=1)qe(r[e]);n=!0}},o(e){for(let t=0;t<r.length;t+=1)Ve(r[t]);n=!1},d(e){for(let t=0;t<r.length;t+=1)r[t].d(e);e&&R(t)}}}function R$(e,t,n){let r,o,i=s,a=()=>(i(),i=$(u,(e=>n(3,o=e))),u);e.$$.on_destroy.push((()=>i()));let{$$slots:l={},$$scope:c}=t,{store:u}=t;a();let{cases:d}=t;return e.$$set=e=>{"store"in e&&a(n(0,u=e.store)),"cases"in e&&n(2,d=e.cases),"$$scope"in e&&n(4,c=e.$$scope)},e.$$.update=()=>{12&e.$$.dirty&&n(1,r=p$(o,{cases:d}))},[u,r,d,o,c,l]}class z$ extends at{constructor(e){super(),it(this,e,R$,P$,p,{store:0,cases:2})}}function F$(e,t,n){const r=e.slice();return r[8]=t[n],r}const H$=e=>({element:2&e}),q$=e=>({element:e[8]});function V$(e,t){let n,r;const o=t[7].default,s=g(o,t,t[6],q$);return{key:e,first:null,c(){n=j(),s&&s.c(),this.first=n},m(e,t){P(e,n,t),s&&s.m(e,t),r=!0},p(e,n){t=e,s&&s.p&&(!r||66&n)&&v(s,o,t,t[6],r?y(o,t[6],n,H$):b(t[6]),q$)},i(e){r||(qe(s,e),r=!0)},o(e){Ve(s,e),r=!1},d(e){e&&R(n),s&&s.d(e)}}}function j$(e){let t,n,r=[],o=new Map,s=e[1];const i=e=>e[8];for(let a=0;a<s.length;a+=1){let t=F$(e,s,a),n=i(t);o.set(n,r[a]=V$(n,t))}return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=j()},m(e,o){for(let t=0;t<r.length;t+=1)r[t].m(e,o);P(e,t,o),n=!0},p(e,[n]){66&n&&(s=e[1],Fe(),r=Qe(r,n,i,1,e,s,o,t.parentNode,Je,V$,t,F$),He())},i(e){if(!n){for(let e=0;e<s.length;e+=1)qe(r[e]);n=!0}},o(e){for(let t=0;t<r.length;t+=1)Ve(r[t]);n=!1},d(e){for(let t=0;t<r.length;t+=1)r[t].d(e);e&&R(t)}}}function W$(e,t,n){let r,o,i=s,a=()=>(i(),i=$(u,(e=>n(5,o=e))),u);e.$$.on_destroy.push((()=>i()));let{$$slots:l={},$$scope:c}=t,{store:u}=t;a();let{condition:d="eq"}=t,{value:p}=t,{elements:m}=t;return e.$$set=e=>{"store"in e&&a(n(0,u=e.store)),"condition"in e&&n(2,d=e.condition),"value"in e&&n(3,p=e.value),"elements"in e&&n(4,m=e.elements),"$$scope"in e&&n(6,c=e.$$scope)},e.$$.update=()=>{60&e.$$.dirty&&n(1,r=$$(o,{condition:d,value:p,elements:m}))},[u,r,d,p,m,o,c,l]}class U$ extends at{constructor(e){super(),it(this,e,W$,j$,p,{store:0,condition:2,value:3,elements:4})}}function Y$(e){let t,n,r;const o=[e[1]??{},{store:e[3]},{stores:e[2]}];var s=e[4][e[0]];function i(e){let t={};for(let n=0;n<o.length;n+=1)t=a(t,o[n]);return{props:t}}return s&&(t=new s(i())),{c(){t&&rt(t.$$.fragment),n=j()},m(e,o){t&&ot(t,e,o),P(e,n,o),r=!0},p(e,r){const a=14&r?et(o,[2&r&&tt(e[1]??{}),8&r&&{store:e[3]},4&r&&{stores:e[2]}]):{};if(s!==(s=e[4][e[0]])){if(t){Fe();const e=t;Ve(e.$$.fragment,1,0,(()=>{st(e,1)})),He()}s?(t=new s(i()),rt(t.$$.fragment),qe(t.$$.fragment,1),ot(t,n.parentNode,n)):t=null}else s&&t.$set(a)},i(e){r||(t&&qe(t.$$.fragment,e),r=!0)},o(e){t&&Ve(t.$$.fragment,e),r=!1},d(e){e&&R(n),t&&st(t,e)}}}function B$(e){let t,n,r=e[4]?.[e[0]]&&Y$(e);return{c(){r&&r.c(),t=j()},m(e,o){r&&r.m(e,o),P(e,t,o),n=!0},p(e,[n]){e[4]?.[e[0]]?r?(r.p(e,n),17&n&&qe(r,1)):(r=Y$(e),r.c(),qe(r,1),r.m(t.parentNode,t)):r&&(Fe(),Ve(r,1,1,(()=>{r=null})),He())},i(e){n||(qe(r),n=!0)},o(e){Ve(r),n=!1},d(e){r&&r.d(e),e&&R(t)}}}function K$(e,t,n){let{componentId:r}=t,{props:o}=t,{stores:s}=t,{store:i}=t,{customComponents:a}=t;return e.$$set=e=>{"componentId"in e&&n(0,r=e.componentId),"props"in e&&n(1,o=e.props),"stores"in e&&n(2,s=e.stores),"store"in e&&n(3,i=e.store),"customComponents"in e&&n(4,a=e.customComponents)},[r,o,s,i,a]}class G$ extends at{constructor(e){super(),it(this,e,K$,B$,p,{componentId:0,props:1,stores:2,store:3,customComponents:4})}}function X$(e){let t,n;return t=new E$({props:{orientation:e[0].orientation,elements:e[0].elements,$$slots:{default:[tm,({element:e})=>({9:e}),({element:e})=>e?512:0]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.orientation=e[0].orientation),1&n&&(r.elements=e[0].elements),1792&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function J$(e){let t,n;const r=[{store:e[7]},e[0]];let o={$$slots:{default:[nm,({element:e})=>({9:e}),({element:e})=>e?512:0]},$$scope:{ctx:e}};for(let s=0;s<r.length;s+=1)o=a(o,r[s]);return t=new U$({props:o}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const o=129&n?et(r,[128&n&&{store:e[7]},1&n&&tt(e[0])]):{};1792&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Z$(e){let t,n;return t=new z$({props:{store:e[7],cases:e[0].cases,$$slots:{default:[rm,({element:e})=>({9:e}),({element:e})=>e?512:0]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};128&n&&(r.store=e[7]),1&n&&(r.cases=e[0].cases),1792&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Q$(e){let t,n;const r=[e[0],{customComponents:e[3]},{store:e[7]},{stores:e[1]}];let o={};for(let s=0;s<r.length;s+=1)o=a(o,r[s]);return t=new G$({props:o}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const o=139&n?et(r,[1&n&&tt(e[0]),8&n&&{customComponents:e[3]},128&n&&{store:e[7]},2&n&&{stores:e[1]}]):{};t.$set(o)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function em(e){let t,n,r=e[6]&&"custom"!==e[6]&&om(e);return{c(){r&&r.c(),t=j()},m(e,o){r&&r.m(e,o),P(e,t,o),n=!0},p(e,n){e[6]&&"custom"!==e[6]?r?(r.p(e,n),64&n&&qe(r,1)):(r=om(e),r.c(),qe(r,1),r.m(t.parentNode,t)):r&&(Fe(),Ve(r,1,1,(()=>{r=null})),He())},i(e){n||(qe(r),n=!0)},o(e){Ve(r),n=!1},d(e){r&&r.d(e),e&&R(t)}}}function tm(e){let t,n;const r=[e[8],{element:e[9]}];let o={};for(let s=0;s<r.length;s+=1)o=a(o,r[s]);return t=new am({props:o}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const o=768&n?et(r,[256&n&&tt(e[8]),512&n&&{element:e[9]}]):{};t.$set(o)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function nm(e){let t,n;const r=[e[8],{element:e[9]}];let o={};for(let s=0;s<r.length;s+=1)o=a(o,r[s]);return t=new am({props:o}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const o=768&n?et(r,[256&n&&tt(e[8]),512&n&&{element:e[9]}]):{};t.$set(o)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function rm(e){let t,n;const r=[e[8],{element:e[9]}];let o={};for(let s=0;s<r.length;s+=1)o=a(o,r[s]);return t=new am({props:o}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const o=768&n?et(r,[256&n&&tt(e[8]),512&n&&{element:e[9]}]):{};t.$set(o)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function om(e){let t,n;const r=[e[0],e[2][e[0].variable],{type:e[6]},{store:e[7]},{validationErrors:e[4].failedChecks[e[0].variable]||[]},{disabled:e[5]}];let o={};for(let s=0;s<r.length;s+=1)o=a(o,r[s]);return t=new C$({props:o}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const o=245&n?et(r,[1&n&&tt(e[0]),5&n&&tt(e[2][e[0].variable]),64&n&&{type:e[6]},128&n&&{store:e[7]},17&n&&{validationErrors:e[4].failedChecks[e[0].variable]||[]},32&n&&{disabled:e[5]}]):{};t.$set(o)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function sm(e){let t,n,r,o;const s=[em,Q$,Z$,J$,X$],i=[];function a(e,t){return"input"===e[0].type&&e[7]?0:"static"===e[0].type&&e[7]?1:"switch"===e[0].type&&e[7]?2:"if"===e[0].type&&e[7]?3:"layout"!==e[0].type&&e[0].type?-1:4}return~(t=a(e))&&(n=i[t]=s[t](e)),{c(){n&&n.c(),r=j()},m(e,n){~t&&i[t].m(e,n),P(e,r,n),o=!0},p(e,[o]){let l=t;t=a(e),t===l?~t&&i[t].p(e,o):(n&&(Fe(),Ve(i[l],1,1,(()=>{i[l]=null})),He()),~t?(n=i[t],n?n.p(e,o):(n=i[t]=s[t](e),n.c()),qe(n,1),n.m(r.parentNode,r)):n=null)},i(e){o||(qe(n),o=!0)},o(e){Ve(n),o=!1},d(e){~t&&i[t].d(e),e&&R(r)}}}function im(e,t,n){let r,o,{element:s}=t,{stores:i}=t,{variables:l}=t,{customComponents:c}=t,{validationResult:u}=t,{disabled:d=!1}=t;return e.$$set=e=>{n(8,t=a(a({},t),w(e))),"element"in e&&n(0,s=e.element),"stores"in e&&n(1,i=e.stores),"variables"in e&&n(2,l=e.variables),"customComponents"in e&&n(3,c=e.customComponents),"validationResult"in e&&n(4,u=e.validationResult),"disabled"in e&&n(5,d=e.disabled)},e.$$.update=()=>{3&e.$$.dirty&&n(7,r="variable"in s?i.get(s.variable):void 0),5&e.$$.dirty&&n(6,o="variable"in s?l[s.variable].type:void 0)},t=w(t),[s,i,l,c,u,d,o,r,t]}class am extends at{constructor(e){super(),it(this,e,im,sm,p,{element:0,stores:1,variables:2,customComponents:3,validationResult:4,disabled:5})}}function lm(e){let t,n,r,o,s,i;return r=new am({props:{stores:e[1].stores,variables:e[1].variables,element:e[1].layout,customComponents:e[1].customComponents,validationResult:e[3],disabled:e[0]}}),{c(){t=F("div"),n=F("form"),rt(r.$$.fragment),B(t,"class","form-builder")},m(a,l){P(a,t,l),A(t,n),ot(r,n,null),o=!0,s||(i=W(n,"submit",U(e[4])),s=!0)},p(e,[t]){const n={};2&t&&(n.stores=e[1].stores),2&t&&(n.variables=e[1].variables),2&t&&(n.element=e[1].layout),2&t&&(n.customComponents=e[1].customComponents),8&t&&(n.validationResult=e[3]),1&t&&(n.disabled=e[0]),r.$set(n)},i(e){o||(qe(r.$$.fragment,e),o=!0)},o(e){Ve(r.$$.fragment,e),o=!1},d(e){e&&R(t),st(r),s=!1,i()}}}function cm(e,t,n){let r,o,i=s;e.$$.on_destroy.push((()=>i()));const a=fe();let{disabled:l=!1}=t,{form:c}=t;return e.$$set=e=>{"disabled"in e&&n(0,l=e.disabled),"form"in e&&n(1,c=e.form)},e.$$.update=()=>{2&e.$$.dirty&&(n(2,r=c.validationStore),i(),i=$(r,(e=>n(3,o=e))))},[l,c,r,o,function(){return a("submit"),!1}]}class um extends at{constructor(e){super(),it(this,e,cm,lm,p,{disabled:0,form:1})}}function dm(e){return async function(e){await Ie(),e.closest(".window")?.querySelector(":scope > .footer")?.appendChild(e)}(e),{destroy:()=>e.parentElement?.removeChild(e)}}function pm(e){let t,n;const r=e[1].default,o=g(r,e,e[0],null);return{c(){t=F("span"),o&&o.c(),B(t,"class","identifier svelte-xmbz32")},m(e,r){P(e,t,r),o&&o.m(t,null),n=!0},p(e,[t]){o&&o.p&&(!n||1&t)&&v(o,r,e,e[0],n?y(r,e[0],t,null):b(e[0]),null)},i(e){n||(qe(o,e),n=!0)},o(e){Ve(o,e),n=!1},d(e){e&&R(t),o&&o.d(e)}}}function $m(e,t,n){let{$$slots:r={},$$scope:o}=t;return e.$$set=e=>{"$$scope"in e&&n(0,o=e.$$scope)},[o,r]}class mm extends at{constructor(e){super(),it(this,e,$m,pm,p,{})}}function fm(e){let t,n;return{c(){t=F("span"),n=q(e[1])},m(e,r){P(e,t,r),A(t,n)},p(e,t){2&t&&X(n,e[1])},d(e){e&&R(t)}}}function gm(e){let t;return{c(){t=q(e[0])},m(e,n){P(e,t,n)},p(e,n){1&n&&X(t,e[0])},d(e){e&&R(t)}}}function hm(e){let t,n;return{c(){t=F("span"),n=q(e[2])},m(e,r){P(e,t,r),A(t,n)},p(e,t){4&t&&X(n,e[2])},d(e){e&&R(t)}}}function ym(e){let t,n,r,o,s=e[1]&&fm(e);n=new mm({props:{$$slots:{default:[gm]},$$scope:{ctx:e}}});let i=e[2]&&hm(e);return{c(){s&&s.c(),t=j(),rt(n.$$.fragment),i&&i.c(),r=j()},m(e,a){s&&s.m(e,a),P(e,t,a),ot(n,e,a),i&&i.m(e,a),P(e,r,a),o=!0},p(e,[o]){e[1]?s?s.p(e,o):(s=fm(e),s.c(),s.m(t.parentNode,t)):s&&(s.d(1),s=null);const a={};9&o&&(a.$$scope={dirty:o,ctx:e}),n.$set(a),e[2]?i?i.p(e,o):(i=hm(e),i.c(),i.m(r.parentNode,r)):i&&(i.d(1),i=null)},i(e){o||(qe(n.$$.fragment,e),o=!0)},o(e){Ve(n.$$.fragment,e),o=!1},d(e){s&&s.d(e),e&&R(t),st(n,e),i&&i.d(e),e&&R(r)}}}function vm(e,t,n){let{identifier:r}=t,{pre:o}=t,{post:s}=t;return e.$$set=e=>{"identifier"in e&&n(0,r=e.identifier),"pre"in e&&n(1,o=e.pre),"post"in e&&n(2,s=e.post)},[r,o,s]}class bm extends at{constructor(e){super(),it(this,e,vm,ym,p,{identifier:0,pre:1,post:2})}}const wm={data:Wn},xm={data:{prefix:"fas",iconName:"plus",icon:[448,512,[10133,61543,"add"],"2b","M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32V224H48c-17.7 0-32 14.3-32 32s14.3 32 32 32H192V432c0 17.7 14.3 32 32 32s32-14.3 32-32V288H400c17.7 0 32-14.3 32-32s-14.3-32-32-32H256V80z"]}},Sm={data:{prefix:"fas",iconName:"user-plus",icon:[640,512,[],"f234","M352 128c0 70.7-57.3 128-128 128s-128-57.3-128-128S153.3 0 224 0s128 57.3 128 128zM0 482.3C0 383.8 79.8 304 178.3 304h91.4C368.2 304 448 383.8 448 482.3c0 16.4-13.3 29.7-29.7 29.7H29.7C13.3 512 0 498.7 0 482.3zM504 312V248H440c-13.3 0-24-10.7-24-24s10.7-24 24-24h64V136c0-13.3 10.7-24 24-24s24 10.7 24 24v64h64c13.3 0 24 10.7 24 24s-10.7 24-24 24H552v64c0 13.3-10.7 24-24 24s-24-10.7-24-24z"]}},Cm={data:{prefix:"fas",iconName:"copy",icon:[512,512,[],"f0c5","M224 0c-35.3 0-64 28.7-64 64V288c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V64c0-35.3-28.7-64-64-64H224zM64 160c-35.3 0-64 28.7-64 64V448c0 35.3 28.7 64 64 64H288c35.3 0 64-28.7 64-64V384H288v64H64V224h64V160H64z"]}},km={data:Nn},Dm={data:sr},Im={data:Rn},_m={data:qn},Tm={data:{prefix:"fas",iconName:"chevron-right",icon:[384,512,[9002],"f054","M342.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-192 192c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L274.7 256 105.4 86.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l192 192z"]}},Mm={data:Hn},Em={data:{prefix:"fas",iconName:"upload",icon:[512,512,[],"f093","M288 109.3V352c0 17.7-14.3 32-32 32s-32-14.3-32-32V109.3l-73.4 73.4c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3l128-128c12.5-12.5 32.8-12.5 45.3 0l128 128c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L288 109.3zM64 352H192c0 35.3 28.7 64 64 64s64-28.7 64-64H448c35.3 0 64 28.7 64 64v32c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V416c0-35.3 28.7-64 64-64zM432 456c13.3 0 24-10.7 24-24s-10.7-24-24-24s-24 10.7-24 24s10.7 24 24 24z"]}},Om={data:{prefix:"fas",iconName:"microscope",icon:[512,512,[128300],"f610","M168 32c0-17.7 14.3-32 32-32h16c17.7 0 32 14.3 32 32h8c17.7 0 32 14.3 32 32V288c0 17.7-14.3 32-32 32h-8c0 17.7-14.3 32-32 32H200c-17.7 0-32-14.3-32-32h-8c-17.7 0-32-14.3-32-32V64c0-17.7 14.3-32 32-32l8 0zM32 448H320c70.7 0 128-57.3 128-128s-57.3-128-128-128V128c106 0 192 86 192 192c0 49.2-18.5 94-48.9 128H480c17.7 0 32 14.3 32 32s-14.3 32-32 32H320 32c-17.7 0-32-14.3-32-32s14.3-32 32-32zm80-64H304c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16z"]}},Am={data:Jn},Lm={data:Qn},Nm={data:nr},Pm={data:nr},Rm={data:Fn},zm={data:{prefix:"fas",iconName:"arrow-right",icon:[448,512,[8594],"f061","M438.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L338.8 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l306.7 0L233.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l160-160z"]}},Fm={data:ir},Hm={data:Kn},qm={data:jn},Vm={data:{prefix:"fas",iconName:"filter-circle-xmark",icon:[576,512,[],"e17b","M3.9 22.9C10.5 8.9 24.5 0 40 0H472c15.5 0 29.5 8.9 36.1 22.9s4.6 30.5-5.2 42.5L396.4 195.6C316.2 212.1 256 283 256 368c0 27.4 6.3 53.4 17.5 76.5c-1.6-.8-3.2-1.8-4.7-2.9l-64-48c-8.1-6-12.8-15.5-12.8-25.6V288.9L9 65.3C-.7 53.4-2.8 36.8 3.9 22.9zM432 512c-79.5 0-144-64.5-144-144s64.5-144 144-144s144 64.5 144 144s-64.5 144-144 144zm59.3-180.7c6.2-6.2 6.2-16.4 0-22.6s-16.4-6.2-22.6 0L432 345.4l-36.7-36.7c-6.2-6.2-16.4-6.2-22.6 0s-6.2 16.4 0 22.6L409.4 368l-36.7 36.7c-6.2 6.2-6.2 16.4 0 22.6s16.4 6.2 22.6 0L432 390.6l36.7 36.7c6.2 6.2 16.4 6.2 22.6 0s6.2-16.4 0-22.6L454.6 368l36.7-36.7z"]}},jm={data:Bn},Wm={data:ar},Um={data:er},Ym={data:tr},Bm={data:Vn},Km={data:Zn},Gm={data:{prefix:"fas",iconName:"paste",icon:[512,512,["file-clipboard"],"f0ea","M160 0c-23.7 0-44.4 12.9-55.4 32H48C21.5 32 0 53.5 0 80V400c0 26.5 21.5 48 48 48H192V176c0-44.2 35.8-80 80-80h48V80c0-26.5-21.5-48-48-48H215.4C204.4 12.9 183.7 0 160 0zM272 128c-26.5 0-48 21.5-48 48V448v16c0 26.5 21.5 48 48 48H464c26.5 0 48-21.5 48-48V256H416c-17.7 0-32-14.3-32-32V128H320 272zM160 88c-13.3 0-24-10.7-24-24s10.7-24 24-24s24 10.7 24 24s-10.7 24-24 24zm256 40v96h96l-96-96z"]}},Xm={data:{prefix:"fas",iconName:"arrow-right-from-bracket",icon:[576,512,["sign-out"],"f08b","M534.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-128-128c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L434.7 224 224 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l210.7 0-73.4 73.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l128-128zM192 96c17.7 0 32-14.3 32-32s-14.3-32-32-32l-64 0c-53 0-96 43-96 96l0 256c0 53 43 96 96 96l64 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-64 0c-17.7 0-32-14.3-32-32l0-256c0-17.7 14.3-32 32-32l64 0z"]}},Jm={data:{prefix:"fas",iconName:"diagram-next",icon:[512,512,[],"e476","M512 160c0 35.3-28.7 64-64 64H280v64h46.1c21.4 0 32.1 25.9 17 41L273 399c-9.4 9.4-24.6 9.4-33.9 0L169 329c-15.1-15.1-4.4-41 17-41H232V224H64c-35.3 0-64-28.7-64-64V96C0 60.7 28.7 32 64 32H448c35.3 0 64 28.7 64 64v64zM448 416V352H365.3l.4-.4c18.4-18.4 20.4-43.7 11-63.6l71.3 0c35.3 0 64 28.7 64 64v64c0 35.3-28.7 64-64 64L64 480c-35.3 0-64-28.7-64-64V352c0-35.3 28.7-64 64-64l71.3 0c-9.4 19.9-7.4 45.2 11 63.6l.4 .4H64v64H210.7l5.7 5.7c21.9 21.9 57.3 21.9 79.2 0l5.7-5.7H448z"]}},Zm={data:{prefix:"fas",iconName:"wand-sparkles",icon:[512,512,[],"f72b","M464 6.1c9.5-8.5 24-8.1 33 .9l8 8c9 9 9.4 23.5 .9 33l-85.8 95.9c-2.6 2.9-4.1 6.7-4.1 10.7V176c0 8.8-7.2 16-16 16H384.2c-4.6 0-8.9 1.9-11.9 5.3L100.7 500.9C94.3 508 85.3 512 75.8 512c-8.8 0-17.3-3.5-23.5-9.8L9.7 459.7C3.5 453.4 0 445 0 436.2c0-9.5 4-18.5 11.1-24.8l111.6-99.8c3.4-3 5.3-7.4 5.3-11.9V272c0-8.8 7.2-16 16-16h34.6c3.9 0 7.7-1.5 10.7-4.1L464 6.1zM432 288c3.6 0 6.7 2.4 7.7 5.8l14.8 51.7 51.7 14.8c3.4 1 5.8 4.1 5.8 7.7s-2.4 6.7-5.8 7.7l-51.7 14.8-14.8 51.7c-1 3.4-4.1 5.8-7.7 5.8s-6.7-2.4-7.7-5.8l-14.8-51.7-51.7-14.8c-3.4-1-5.8-4.1-5.8-7.7s2.4-6.7 5.8-7.7l51.7-14.8 14.8-51.7c1-3.4 4.1-5.8 7.7-5.8zM87.7 69.8l14.8 51.7 51.7 14.8c3.4 1 5.8 4.1 5.8 7.7s-2.4 6.7-5.8 7.7l-51.7 14.8L87.7 218.2c-1 3.4-4.1 5.8-7.7 5.8s-6.7-2.4-7.7-5.8L57.5 166.5 5.8 151.7c-3.4-1-5.8-4.1-5.8-7.7s2.4-6.7 5.8-7.7l51.7-14.8L72.3 69.8c1-3.4 4.1-5.8 7.7-5.8s6.7 2.4 7.7 5.8zM224 0c3.7 0 6.9 2.5 7.8 6.1l6.8 27.3 27.3 6.8c3.6 .9 6.1 4.1 6.1 7.8s-2.5 6.9-6.1 7.8l-27.3 6.8-6.8 27.3c-.9 3.6-4.1 6.1-7.8 6.1s-6.9-2.5-7.8-6.1l-6.8-27.3-27.3-6.8c-3.6-.9-6.1-4.1-6.1-7.8s2.5-6.9 6.1-7.8l27.3-6.8 6.8-27.3c.9-3.6 4.1-6.1 7.8-6.1z"]}},Qm={data:{prefix:"fas",iconName:"share-from-square",icon:[576,512,[61509,"share-square"],"f14d","M384 24c0-9.6 5.7-18.2 14.5-22s19-2 26 4.6l144 136c4.8 4.5 7.5 10.8 7.5 17.4s-2.7 12.9-7.5 17.4l-144 136c-7 6.6-17.2 8.4-26 4.6s-14.5-12.5-14.5-22V224H352 337.5c-45 0-81.5 36.5-81.5 81.5c0 22.3 10.3 34.3 19.2 40.5c6.8 4.7 12.8 12 12.8 20.3c0 9.8-8 17.8-17.8 17.8h-2.5c-2.4 0-4.8-.4-7.1-1.4C242.8 374.8 160 333.4 160 240c0-79.5 64.5-144 144-144h80V24zM0 144C0 99.8 35.8 64 80 64H96c17.7 0 32 14.3 32 32s-14.3 32-32 32H80c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16H368c8.8 0 16-7.2 16-16V416c0-17.7 14.3-32 32-32s32 14.3 32 32v16c0 44.2-35.8 80-80 80H80c-44.2 0-80-35.8-80-80V144z"]}},ef={data:Kn},tf={data:or},nf={data:Yn},rf={data:{prefix:"fas",iconName:"key",icon:[512,512,[128273],"f084","M336 352c97.2 0 176-78.8 176-176S433.2 0 336 0S160 78.8 160 176c0 18.7 2.9 36.8 8.3 53.7L7 391c-4.5 4.5-7 10.6-7 17v80c0 13.3 10.7 24 24 24h80c13.3 0 24-10.7 24-24V448h40c13.3 0 24-10.7 24-24V384h40c6.4 0 12.5-2.5 17-7l33.3-33.3c16.9 5.4 35 8.3 53.7 8.3zm40-176c-22.1 0-40-17.9-40-40s17.9-40 40-40s40 17.9 40 40s-17.9 40-40 40z"]}},of={data:{prefix:"fas",iconName:"database",icon:[448,512,[],"f1c0","M448 80v48c0 44.2-100.3 80-224 80S0 172.2 0 128V80C0 35.8 100.3 0 224 0S448 35.8 448 80zM393.2 214.7c20.8-7.4 39.9-16.9 54.8-28.6V288c0 44.2-100.3 80-224 80S0 332.2 0 288V186.1c14.9 11.8 34 21.2 54.8 28.6C99.7 230.7 159.5 240 224 240s124.3-9.3 169.2-25.3zM0 346.1c14.9 11.8 34 21.2 54.8 28.6C99.7 390.7 159.5 400 224 400s124.3-9.3 169.2-25.3c20.8-7.4 39.9-16.9 54.8-28.6V432c0 44.2-100.3 80-224 80S0 476.2 0 432V346.1z"]}},sf={data:{icon:[24,24,[],"",["M16.3776 8.27091C16.538 7.86412 16.1358 7.46189 15.729 7.62233L10.1173 9.83557C9.98843 9.88639 9.88643 9.98839 9.8356 10.1173L7.62237 15.729C7.46193 16.1358 7.86415 16.538 8.27094 16.3776L13.8827 14.1643C14.0115 14.1135 14.1135 14.0115 14.1644 13.8826L16.3776 8.27091Z",{fillRule:"evenodd",clipRule:"evenodd",path:"M24 12C24 18.6274 18.6274 24 12 24C5.37258 24 0 18.6274 0 12C0 5.37258 5.37258 0 12 0C18.6274 0 24 5.37258 24 12ZM22.5 12C22.5 17.799 17.799 22.5 12 22.5C6.20101 22.5 1.5 17.799 1.5 12C1.5 6.20101 6.20101 1.5 12 1.5C17.799 1.5 22.5 6.20101 22.5 12Z"}]]}},af={data:Gn},lf={data:Wn},cf={data:{prefix:"fas",iconName:"list-ul",icon:[512,512,["list-dots"],"f0ca","M64 144c26.5 0 48-21.5 48-48s-21.5-48-48-48S16 69.5 16 96s21.5 48 48 48zM192 64c-17.7 0-32 14.3-32 32s14.3 32 32 32H480c17.7 0 32-14.3 32-32s-14.3-32-32-32H192zm0 160c-17.7 0-32 14.3-32 32s14.3 32 32 32H480c17.7 0 32-14.3 32-32s-14.3-32-32-32H192zm0 160c-17.7 0-32 14.3-32 32s14.3 32 32 32H480c17.7 0 32-14.3 32-32s-14.3-32-32-32H192zM64 464c26.5 0 48-21.5 48-48s-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48zm48-208c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48z"]}},uf={data:Xn},df={data:{icon:[18,18,[],"","m7.387 0.4182c-0.141 0.3522-0.3215 0.7703-0.5131 1.13-0.2127 0.3993-0.738 0.9245-1.138 1.137-0.3605 0.1918-0.7797 0.3725-1.133 0.5136-0.4214 0.1684-0.4214 0.4069 1.816e-4 0.5754 0.353 0.1412 0.7722 0.322 1.133 0.514 0.3993 0.2126 0.9246 0.7379 1.137 1.137 0.1918 0.3602 0.3724 0.779 0.5134 1.132 0.1685 0.4214 0.4071 0.4214 0.5757-1.3e-4 0.1412-0.3528 0.3219-0.7716 0.5138-1.132 0.2127-0.3993 0.7379-0.9246 1.137-1.137 0.3597-0.1917 0.7778-0.3723 1.13-0.5133 0.4213-0.1688 0.4212-0.4076-2.47e-4 -0.5764-0.3522-0.1411-0.7703-0.3217-1.13-0.5134-0.3993-0.2128-0.9245-0.738-1.137-1.137-0.1916-0.3596-0.3722-0.7774-0.5133-1.129-0.1688-0.4213-0.4076-0.4211-0.5763 3.506e-4zm-4.805 6.427c-0.1056 0.2639-0.2409 0.5772-0.3845 0.8467-0.1594 0.2992-0.553 0.6928-0.8524 0.8521-0.2701 0.1438-0.5842 0.2792-0.8487 0.3849-0.3158 0.1262-0.3157 0.3049 1.36e-4 0.4312 0.2645 0.1058 0.5787 0.2413 0.8488 0.3851 0.2992 0.1593 0.6928 0.553 0.8521 0.8523 0.1437 0.2699 0.279 0.5837 0.3847 0.848 0.1263 0.3158 0.305 0.3157 0.4314-9.7e-5 0.1058-0.2643 0.2412-0.5782 0.385-0.8482 0.1594-0.2992 0.553-0.6929 0.8522-0.8523 0.2695-0.1436 0.5828-0.279 0.8467-0.3847 0.3157-0.1265 0.3156-0.3055-1.838e-4 -0.432-0.2639-0.1057-0.5772-0.241-0.8467-0.3847-0.2992-0.1594-0.6928-0.553-0.8523-0.8523-0.1436-0.2694-0.2789-0.5826-0.3846-0.8464-0.1265-0.3157-0.3054-0.3156-0.4318 2.627e-4zm9.262 0.691c-0.2263 0.5653-0.516 1.236-0.8235 1.814-0.3414 0.6409-1.185 1.484-1.826 1.825-0.5786 0.3079-1.251 0.598-1.818 0.8244-0.6765 0.2703-0.6763 0.6531 2.913e-4 0.9236 0.5667 0.2266 1.24 0.5169 1.818 0.825 0.641 0.3413 1.484 1.184 1.825 1.826 0.3078 0.5782 0.5977 1.25 0.8241 1.817 0.2705 0.6764 0.6534 0.6763 0.9241-2.09e-4 0.2266-0.5662 0.5167-1.239 0.8247-1.817 0.3414-0.641 1.184-1.484 1.826-1.826 0.5774-0.3077 1.248-0.5976 1.814-0.824 0.6763-0.2709 0.6761-0.6543-3.95e-4 -0.9253-0.5653-0.2264-1.236-0.5163-1.814-0.824-0.6408-0.3415-1.484-1.185-1.826-1.826-0.3076-0.5772-0.5974-1.248-0.8238-1.813-0.2709-0.6762-0.6542-0.676-0.925 5.627e-4z"]}},pf={data:Pn},$f={data:rr},mf={data:{prefix:"fas",iconName:"gear",icon:[512,512,[9881,"cog"],"f013","M495.9 166.6c3.2 8.7 .5 18.4-6.4 24.6l-43.3 39.4c1.1 8.3 1.7 16.8 1.7 25.4s-.6 17.1-1.7 25.4l43.3 39.4c6.9 6.2 9.6 15.9 6.4 24.6c-4.4 11.9-9.7 23.3-15.8 34.3l-4.7 8.1c-6.6 11-14 21.4-22.1 31.2c-5.9 7.2-15.7 9.6-24.5 6.8l-55.7-17.7c-13.4 10.3-28.2 18.9-44 25.4l-12.5 57.1c-2 9.1-9 16.3-18.2 17.8c-13.8 2.3-28 3.5-42.5 3.5s-28.7-1.2-42.5-3.5c-9.2-1.5-16.2-8.7-18.2-17.8l-12.5-57.1c-15.8-6.5-30.6-15.1-44-25.4L83.1 425.9c-8.8 2.8-18.6 .3-24.5-6.8c-8.1-9.8-15.5-20.2-22.1-31.2l-4.7-8.1c-6.1-11-11.4-22.4-15.8-34.3c-3.2-8.7-.5-18.4 6.4-24.6l43.3-39.4C64.6 273.1 64 264.6 64 256s.6-17.1 1.7-25.4L22.4 191.2c-6.9-6.2-9.6-15.9-6.4-24.6c4.4-11.9 9.7-23.3 15.8-34.3l4.7-8.1c6.6-11 14-21.4 22.1-31.2c5.9-7.2 15.7-9.6 24.5-6.8l55.7 17.7c13.4-10.3 28.2-18.9 44-25.4l12.5-57.1c2-9.1 9-16.3 18.2-17.8C227.3 1.2 241.5 0 256 0s28.7 1.2 42.5 3.5c9.2 1.5 16.2 8.7 18.2 17.8l12.5 57.1c15.8 6.5 30.6 15.1 44 25.4l55.7-17.7c8.8-2.8 18.6-.3 24.5 6.8c8.1 9.8 15.5 20.2 22.1 31.2l4.7 8.1c6.1 11 11.4 22.4 15.8 34.3zM256 336c44.2 0 80-35.8 80-80s-35.8-80-80-80s-80 35.8-80 80s35.8 80 80 80z"]}},ff={data:{prefix:"fas",iconName:"star",icon:[576,512,[11088,61446],"f005","M316.9 18C311.6 7 300.4 0 288.1 0s-23.4 7-28.8 18L195 150.3 51.4 171.5c-12 1.8-22 10.2-25.7 21.7s-.7 24.2 7.9 32.7L137.8 329 113.2 474.7c-2 12 3 24.2 12.9 31.3s23 8 33.8 2.3l128.3-68.5 128.3 68.5c10.8 5.7 23.9 4.9 33.8-2.3s14.9-19.3 12.9-31.3L438.5 329 542.7 225.9c8.6-8.5 11.7-21.2 7.9-32.7s-13.7-19.9-25.7-21.7L381.2 150.3 316.9 18z"]}},gf={data:{prefix:"fas",iconName:"sort",icon:[320,512,["unsorted"],"f0dc","M137.4 41.4c12.5-12.5 32.8-12.5 45.3 0l128 128c9.2 9.2 11.9 22.9 6.9 34.9s-16.6 19.8-29.6 19.8H32c-12.9 0-24.6-7.8-29.6-19.8s-2.2-25.7 6.9-34.9l128-128zm0 429.3l-128-128c-9.2-9.2-11.9-22.9-6.9-34.9s16.6-19.8 29.6-19.8H288c12.9 0 24.6 7.8 29.6 19.8s2.2 25.7-6.9 34.9l-128 128c-12.5 12.5-32.8 12.5-45.3 0z"]}},hf={data:{icon:[16,16,[],"",{fillRule:"evenodd",clipRule:"evenodd",path:"M15 1C15.5523 1 16 1.44771 16 2V13.5644C16 14.1166 15.5523 14.5644 15 14.5644H1C0.447715 14.5644 0 14.1166 0 13.5644V2C0 1.44772 0.447715 1 1 1H15ZM14.6 6.76282V9.3349C14.5517 9.32236 14.501 9.31568 14.4488 9.31568L11.4861 9.31568V6.78197L14.449 6.78197C14.5012 6.78197 14.5518 6.77532 14.6 6.76282ZM5.83926 9.31569L10.2861 9.31569V6.78197L5.83926 6.78196V9.31569ZM4.63926 9.31569L1.4 9.31569V6.78196L4.63926 6.78196V9.31569ZM4.63926 10.5157V13.1644H1.4V10.5157L4.63926 10.5157ZM5.83926 13.1644V10.5157L10.2861 10.5157V13.1644H5.83926ZM11.4861 10.5157V13.1644H14.6V10.4965C14.5517 10.509 14.501 10.5157 14.4488 10.5157L11.4861 10.5157ZM14.6 5.60112V2.4H1.4V5.58196L14.449 5.58197C14.5012 5.58197 14.5518 5.58862 14.6 5.60112Z"}]}},yf={data:{prefix:"fas",iconName:"info",icon:[192,512,[],"f129","M144 80c0 26.5-21.5 48-48 48s-48-21.5-48-48s21.5-48 48-48s48 21.5 48 48zM0 224c0-17.7 14.3-32 32-32H96c17.7 0 32 14.3 32 32V448h32c17.7 0 32 14.3 32 32s-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H64V256H32c-17.7 0-32-14.3-32-32z"]}},vf={data:nr},bf={data:{prefix:"fas",iconName:"circle-info",icon:[512,512,["info-circle"],"f05a","M256 512c141.4 0 256-114.6 256-256S397.4 0 256 0S0 114.6 0 256S114.6 512 256 512zM216 336h24V272H216c-13.3 0-24-10.7-24-24s10.7-24 24-24h48c13.3 0 24 10.7 24 24v88h8c13.3 0 24 10.7 24 24s-10.7 24-24 24H216c-13.3 0-24-10.7-24-24s10.7-24 24-24zm40-144c-17.7 0-32-14.3-32-32s14.3-32 32-32s32 14.3 32 32s-14.3 32-32 32z"]}},wf={data:ir},xf={data:Fn},Sf={data:{prefix:"fas",iconName:"users",icon:[640,512,[],"f0c0","M144 160c-44.2 0-80-35.8-80-80S99.8 0 144 0s80 35.8 80 80s-35.8 80-80 80zm368 0c-44.2 0-80-35.8-80-80s35.8-80 80-80s80 35.8 80 80s-35.8 80-80 80zM0 298.7C0 239.8 47.8 192 106.7 192h42.7c15.9 0 31 3.5 44.6 9.7c-1.3 7.2-1.9 14.7-1.9 22.3c0 38.2 16.8 72.5 43.3 96c-.2 0-.4 0-.7 0H21.3C9.6 320 0 310.4 0 298.7zM405.3 320c-.2 0-.4 0-.7 0c26.6-23.5 43.3-57.8 43.3-96c0-7.6-.7-15-1.9-22.3c13.6-6.3 28.7-9.7 44.6-9.7h42.7C592.2 192 640 239.8 640 298.7c0 11.8-9.6 21.3-21.3 21.3H405.3zM416 224c0 53-43 96-96 96s-96-43-96-96s43-96 96-96s96 43 96 96zM128 485.3C128 411.7 187.7 352 261.3 352H378.7C452.3 352 512 411.7 512 485.3c0 14.7-11.9 26.7-26.7 26.7H154.7c-14.7 0-26.7-11.9-26.7-26.7z"]}},Cf={data:{prefix:"fas",iconName:"user-gear",icon:[640,512,["user-cog"],"f4fe","M224 256c-70.7 0-128-57.3-128-128S153.3 0 224 0s128 57.3 128 128s-57.3 128-128 128zm-45.7 48h91.4c11.8 0 23.4 1.2 34.5 3.3c-2.1 18.5 7.4 35.6 21.8 44.8c-16.6 10.6-26.7 31.6-20 53.3c4 12.9 9.4 25.5 16.4 37.6s15.2 23.1 24.4 33c15.7 16.9 39.6 18.4 57.2 8.7v.9c0 9.2 2.7 18.5 7.9 26.3H29.7C13.3 512 0 498.7 0 482.3C0 383.8 79.8 304 178.3 304zM436 218.2c0-7 4.5-13.3 11.3-14.8c10.5-2.4 21.5-3.7 32.7-3.7s22.2 1.3 32.7 3.7c6.8 1.5 11.3 7.8 11.3 14.8v30.6c7.9 3.4 15.4 7.7 22.3 12.8l24.9-14.3c6.1-3.5 13.7-2.7 18.5 2.4c7.6 8.1 14.3 17.2 20.1 27.2s10.3 20.4 13.5 31c2.1 6.7-1.1 13.7-7.2 17.2l-25 14.4c.4 4 .7 8.1 .7 12.3s-.2 8.2-.7 12.3l25 14.4c6.1 3.5 9.2 10.5 7.2 17.2c-3.3 10.6-7.8 21-13.5 31s-12.5 19.1-20.1 27.2c-4.8 5.1-12.5 5.9-18.5 2.4l-24.9-14.3c-6.9 5.1-14.3 9.4-22.3 12.8l0 30.6c0 7-4.5 13.3-11.3 14.8c-10.5 2.4-21.5 3.7-32.7 3.7s-22.2-1.3-32.7-3.7c-6.8-1.5-11.3-7.8-11.3-14.8V454.8c-8-3.4-15.6-7.7-22.5-12.9l-24.7 14.3c-6.1 3.5-13.7 2.7-18.5-2.4c-7.6-8.1-14.3-17.2-20.1-27.2s-10.3-20.4-13.5-31c-2.1-6.7 1.1-13.7 7.2-17.2l24.8-14.3c-.4-4.1-.7-8.2-.7-12.4s.2-8.3 .7-12.4L343.8 325c-6.1-3.5-9.2-10.5-7.2-17.2c3.3-10.6 7.7-21 13.5-31s12.5-19.1 20.1-27.2c4.8-5.1 12.4-5.9 18.5-2.4l24.8 14.3c6.9-5.1 14.5-9.4 22.5-12.9V218.2zm92.1 133.5c0-26.5-21.5-48-48.1-48s-48.1 21.5-48.1 48s21.5 48 48.1 48s48.1-21.5 48.1-48z"]}},kf={data:{prefix:"fas",iconName:"circle-arrow-right",icon:[512,512,["arrow-circle-right"],"f0a9","M0 256C0 397.4 114.6 512 256 512s256-114.6 256-256S397.4 0 256 0S0 114.6 0 256zM297 385c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l71-71L120 280c-13.3 0-24-10.7-24-24s10.7-24 24-24l214.1 0-71-71c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0L409 239c9.4 9.4 9.4 24.6 0 33.9L297 385z"]}},Df={data:{prefix:"fas",iconName:"circle-arrow-left",icon:[512,512,["arrow-circle-left"],"f0a8","M512 256C512 114.6 397.4 0 256 0S0 114.6 0 256S114.6 512 256 512s256-114.6 256-256zM215 127c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9l-71 71L392 232c13.3 0 24 10.7 24 24s-10.7 24-24 24l-214.1 0 71 71c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0L103 273c-9.4-9.4-9.4-24.6 0-33.9L215 127z"]}},If={data:{prefix:"fas",iconName:"slash",icon:[640,512,[],"f715","M5.1 9.2C13.3-1.2 28.4-3.1 38.8 5.1l592 464c10.4 8.2 12.3 23.3 4.1 33.7s-23.3 12.3-33.7 4.1L9.2 42.9C-1.2 34.7-3.1 19.6 5.1 9.2z"]}},_f={data:nr},Tf={data:{prefix:"fas",iconName:"lock",icon:[448,512,[128274],"f023","M144 144v48H304V144c0-44.2-35.8-80-80-80s-80 35.8-80 80zM80 192V144C80 64.5 144.5 0 224 0s144 64.5 144 144v48h16c35.3 0 64 28.7 64 64V448c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V256c0-35.3 28.7-64 64-64H80z"]}},Mf={data:zn},Ef={data:{prefix:"fas",iconName:"calendar-day",icon:[448,512,[],"f783","M128 0c17.7 0 32 14.3 32 32V64H288V32c0-17.7 14.3-32 32-32s32 14.3 32 32V64h48c26.5 0 48 21.5 48 48v48H0V112C0 85.5 21.5 64 48 64H96V32c0-17.7 14.3-32 32-32zM0 192H448V464c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V192zm80 64c-8.8 0-16 7.2-16 16v96c0 8.8 7.2 16 16 16h96c8.8 0 16-7.2 16-16V272c0-8.8-7.2-16-16-16H80z"]}},Of={data:{prefix:"fas",iconName:"calendar-week",icon:[448,512,[],"f784","M128 0c17.7 0 32 14.3 32 32V64H288V32c0-17.7 14.3-32 32-32s32 14.3 32 32V64h48c26.5 0 48 21.5 48 48v48H0V112C0 85.5 21.5 64 48 64H96V32c0-17.7 14.3-32 32-32zM0 192H448V464c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V192zm80 64c-8.8 0-16 7.2-16 16v64c0 8.8 7.2 16 16 16H368c8.8 0 16-7.2 16-16V272c0-8.8-7.2-16-16-16H80z"]}},Af={data:{prefix:"fas",iconName:"stopwatch",icon:[448,512,[9201],"f2f2","M176 0c-17.7 0-32 14.3-32 32s14.3 32 32 32h16V98.4C92.3 113.8 16 200 16 304c0 114.9 93.1 208 208 208s208-93.1 208-208c0-41.8-12.3-80.7-33.5-113.2l24.1-24.1c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L355.7 143c-28.1-23-62.2-38.8-99.7-44.6V64h16c17.7 0 32-14.3 32-32s-14.3-32-32-32H224 176zm72 192V320c0 13.3-10.7 24-24 24s-24-10.7-24-24V192c0-13.3 10.7-24 24-24s24 10.7 24 24z"]}},Lf={data:Jn},Nf={data:{prefix:"fas",iconName:"clone",icon:[512,512,[],"f24d","M0 448c0 35.3 28.7 64 64 64H288c35.3 0 64-28.7 64-64V384H224c-53 0-96-43-96-96V160H64c-35.3 0-64 28.7-64 64V448zm224-96H448c35.3 0 64-28.7 64-64V64c0-35.3-28.7-64-64-64H224c-35.3 0-64 28.7-64 64V288c0 35.3 28.7 64 64 64z"]}},Pf={data:{prefix:"fas",iconName:"shapes",icon:[512,512,["triangle-circle-square"],"f61f","M315.4 15.5C309.7 5.9 299.2 0 288 0s-21.7 5.9-27.4 15.5l-96 160c-5.9 9.9-6.1 22.2-.4 32.2s16.3 16.2 27.8 16.2H384c11.5 0 22.2-6.2 27.8-16.2s5.5-22.3-.4-32.2l-96-160zM288 312V456c0 22.1 17.9 40 40 40H472c22.1 0 40-17.9 40-40V312c0-22.1-17.9-40-40-40H328c-22.1 0-40 17.9-40 40zM128 512c70.7 0 128-57.3 128-128s-57.3-128-128-128S0 313.3 0 384s57.3 128 128 128z"]}},Rf={data:{prefix:"fas",iconName:"dollar-sign",icon:[320,512,[128178,61781,"dollar","usd"],"24","M160 0c17.7 0 32 14.3 32 32V67.7c1.6 .2 3.1 .4 4.7 .7c10.6 1.6 42.1 6.7 55.1 10c17.1 4.3 27.5 21.7 23.2 38.9s-21.7 27.5-38.9 23.2c-9.3-2.4-37.6-7-48.9-8.7c-32.1-4.8-59.6-2.4-78.5 4.9c-18.3 7-25.9 16.9-27.9 28c-1.9 10.7-.5 16.8 1.3 20.6c1.9 4 5.6 8.5 12.9 13.4c16.2 10.8 41.1 17.9 73.3 26.7l2.8 .8c28.4 7.7 63.2 17.2 89 34.3c14.1 9.4 27.3 22.1 35.5 39.7c8.3 17.8 10.1 37.8 6.3 59.1c-6.9 38-33.1 63.4-65.6 76.7c-13.7 5.6-28.6 9.2-44.4 11V480c0 17.7-14.3 32-32 32s-32-14.3-32-32V445.1c-.4-.1-.9-.1-1.3-.2l-.2 0 0 0c-24.4-3.8-64.5-14.3-91.5-26.3c-16.2-7.2-23.4-26.1-16.2-42.2s26.1-23.4 42.2-16.2c20.9 9.3 55.3 18.4 75.2 21.6c31.9 4.7 58.2 2 76-5.3c16.9-6.9 24.6-16.9 26.8-28.9c1.9-10.7 .5-16.8-1.3-20.6c-1.9-4-5.6-8.5-12.9-13.4c-16.2-10.8-41.1-17.9-73.3-26.7l-2.8-.8c-28.4-7.7-63.2-17.2-89-34.3c-14.1-9.4-27.3-22.1-35.5-39.7c-8.3-17.8-10.1-37.8-6.3-59.1C25 114.1 53 89.3 86 76.7c13-5 27.2-8.2 42-10V32c0-17.7 14.3-32 32-32z"]}},zf={data:{prefix:"fas",iconName:"hashtag",icon:[448,512,[62098],"23","M181.3 32.4c17.4 2.9 29.2 19.4 26.3 36.8L197.8 128h95.1l11.5-69.3c2.9-17.4 19.4-29.2 36.8-26.3s29.2 19.4 26.3 36.8L357.8 128H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H347.1L325.8 320H384c17.7 0 32 14.3 32 32s-14.3 32-32 32H315.1l-11.5 69.3c-2.9 17.4-19.4 29.2-36.8 26.3s-29.2-19.4-26.3-36.8l9.8-58.7H155.1l-11.5 69.3c-2.9 17.4-19.4 29.2-36.8 26.3s-29.2-19.4-26.3-36.8L90.2 384H32c-17.7 0-32-14.3-32-32s14.3-32 32-32h68.9l21.3-128H64c-17.7 0-32-14.3-32-32s14.3-32 32-32h68.9l11.5-69.3c2.9-17.4 19.4-29.2 36.8-26.3zM187.1 192L165.8 320h95.1l21.3-128H187.1z"]}},Ff={data:{prefix:"fas",iconName:"align-left",icon:[448,512,[],"f036","M288 64c0 17.7-14.3 32-32 32H32C14.3 96 0 81.7 0 64S14.3 32 32 32H256c17.7 0 32 14.3 32 32zm0 256c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H256c17.7 0 32 14.3 32 32zM0 192c0-17.7 14.3-32 32-32H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32c-17.7 0-32-14.3-32-32zM448 448c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H416c17.7 0 32 14.3 32 32z"]}},Hf={data:{prefix:"fas",iconName:"clock",icon:[512,512,[128339,"clock-four"],"f017","M256 512C114.6 512 0 397.4 0 256S114.6 0 256 0S512 114.6 512 256s-114.6 256-256 256zM232 120V256c0 8 4 15.5 10.7 20l96 64c11 7.4 25.9 4.4 33.3-6.7s4.4-25.9-6.7-33.3L280 243.2V120c0-13.3-10.7-24-24-24s-24 10.7-24 24z"]}},qf={data:{prefix:"fas",iconName:"question",icon:[320,512,[10067,10068,61736],"3f","M96 96c-17.7 0-32 14.3-32 32s-14.3 32-32 32s-32-14.3-32-32C0 75 43 32 96 32h97c70.1 0 127 56.9 127 127c0 52.4-32.2 99.4-81 118.4l-63 24.5 0 18.1c0 17.7-14.3 32-32 32s-32-14.3-32-32V301.9c0-26.4 16.2-50.1 40.8-59.6l63-24.5C240 208.3 256 185 256 159c0-34.8-28.2-63-63-63H96zm48 384c-22.1 0-40-17.9-40-40s17.9-40 40-40s40 17.9 40 40s-17.9 40-40 40z"]}},Vf={data:Hn},jf={data:{icon:[12,12,[],"","M4 0V1.33333H2V10.6667H4V12H0.666664V0H4ZM8 0H11.3333V12H8V10.6667H10V1.33333H8V0Z"]}},Wf=new class{constructor(){e(this,"stack",mt(new $d)),e(this,"isModalOpen",void 0),e(this,"maxId",0),this.isModalOpen=ft(this.stack,(e=>e.size>0))}getId(){return this.maxId+=1,this.maxId}getPropsForNewModal(){return{modalId:this.getId(),modalStackStore:this.stack}}spawnModalController(){return new md(this.getPropsForNewModal())}},Uf=function(e={}){const t=new Kp({defaultProps:e});function n(e={}){return t.show({icon:Cr,backgroundColor:"var(--red-100)",...Gp(e)})}return{entries:t.entries,info:function(e={}){return t.show(Gp({icon:xr,...Gp(e)}))},success:function(e={}){return t.show({icon:Dr,backgroundColor:"var(--green-100)",...Gp(e)})},error:n,fromError:function(e){return n(e instanceof Error?e.message:"Something went wrong.")},spinner:function(e={}){return t.show({icon:{...kr},lifetime:0,allowDismiss:!1,hasProgress:!1,...Gp(e)})},progress:function(e={}){return t.show({lifetime:0,allowDismiss:!1,initialProgress:0,...Gp(e)})}}}(),Yf=Wf.spawnModalController(),{confirm:Bf,confirmationController:Kf}=function({confirmationModal:e,defaultConfirmationProps:t}){const n={...dd,...t},r=new pd(e,n);return{confirm:async function(e){return new Promise((t=>{r.resolve.set(t),r.canProceed.set(!0),r.confirmationProps.set({...n,...e}),r.modal.open()}))},confirmationController:r}}({confirmationModal:Yf});function Gf(e){const t=e.identifierType,n=`Delete${t?" ":""}${t}`;return Bf({title:e.identifierName?{component:bm,props:{pre:`${n} `,identifier:e.identifierName,post:"?"}}:`${n}?`,body:"Are you sure you want to proceed?",proceedButton:{label:n,icon:km},onError:e=>Uf.error(`Unable to ${n}. ${e.message}`),...e})}class Xf{constructor(t){e(this,"onOpen",void 0),e(this,"onClose",void 0),e(this,"nestingLevel",void 0),e(this,"purpose",mt("dataEntry")),e(this,"isOpen",mt(!1)),e(this,"submit",(()=>{})),e(this,"cancel",(()=>{})),e(this,"tableId",mt(void 0)),e(this,"columnWithNestedSelectorOpen",mt(void 0)),this.onOpen=t.onOpen??(()=>{}),this.onClose=t.onClose??(()=>{}),this.nestingLevel=t.nestingLevel}open(){this.isOpen.set(!0),this.onOpen()}close(){this.submit=()=>{},this.cancel=()=>{},this.isOpen.set(!1),this.onClose()}acquireUserInput({tableId:e}){return this.tableId.set(e),this.purpose.set("dataEntry"),this.open(),new Promise((e=>{this.submit=t=>{e(t),this.close()},this.cancel=()=>{e(void 0),this.close()}}))}navigateToRecordPage({tableId:e}){this.tableId.set(e),this.purpose.set("navigation"),this.open(),this.cancel=()=>{this.close()}}}const Jf={};function Zf(e){ge(Jf,e)}function Qf(){return he(Jf)}function eg(e){const t=document.querySelector(e);if(t?.textContent)try{return JSON.parse(t.textContent)}catch(n){console.error(n)}}function tg(e){return eg(`#${e}`)}function ng(){return eg("#common-data")}function rg(e,t=!1){return(e=e.slice(e.startsWith("/#")?2:0,e.endsWith("/*")?-2:void 0)).startsWith("/")||(e="/"+e),"/"===e&&(e=""),t&&!e.endsWith("/")&&(e+="/"),e}function og(e,t){e=rg(e,!0),t=rg(t,!0);let n=[],r={},o=!0,s=e.split("/").map((e=>e.startsWith(":")?(n.push(e.slice(1)),"([^\\/]+)"):e)).join("\\/"),i=t.match(new RegExp(`^${s}$`));return i||(o=!1,i=t.match(new RegExp(`^${s}`))),i?(n.forEach(((e,t)=>r[e]=i[t+1])),{exact:o,params:r,part:i[0].slice(0,-1)}):null}function sg(e,t,n){if(""===n)return e;if("/"===n[0])return n;let r=e=>e.split("/").filter((e=>""!==e)),o=r(e);return"/"+(t?r(t):[]).map(((e,t)=>o[t])).join("/")+"/"+n}function ig(e,t,n,r){let o=[t,"data-"+t].reduce(((t,r)=>{let o=e.getAttribute(r);return n&&e.removeAttribute(r),null===o?t:o}),!1);return!r&&""===o||(o||r||!1)}function ag(e){let t=e.split("&").map((e=>e.split("="))).reduce(((e,t)=>{let n=t[0];if(!n)return e;let r=!(t.length>1)||t[t.length-1];return"string"==typeof r&&r.includes(",")&&(r=r.split(",")),void 0===e[n]?e[n]=[r]:e[n].push(r),e}),{});return Object.entries(t).reduce(((e,t)=>(e[t[0]]=t[1].length>1?t[1]:t[1][0],e)),{})}function lg(e,t){return e?t+e:""}function cg(e){throw new Error("[Tinro] "+e)}var ug,dg,pg,$g={HISTORY:1,HASH:2,MEMORY:3,OFF:4,run(e,t,n,r){return e===this.HISTORY?t&&t():e===this.HASH?n&&n():r&&r()},getDefault(){return window&&"srcdoc"!==window.location.pathname?this.HISTORY:this.MEMORY}},mg="",fg=function(){let e,t=$g.getDefault(),n=n=>e&&e(gg(t)),r=e=>{e&&(t=e),window.onhashchange=window.onpopstate=ug=null,t!==$g.OFF&&$g.run(t,(e=>window.onpopstate=n),(e=>window.onhashchange=n))&&n()},o=e=>{let n=Object.assign(gg(t),e);return n.path+lg(function(e){return Object.entries(e).map((([e,t])=>t?!0===t?e:`${e}=${Array.isArray(t)?t.join(","):t}`:null)).filter((e=>e)).join("&")}(n.query),"?")+lg(n.hash,"#")};return{mode:r,get:e=>gg(t),go(e,r){(function(e,t,n){!n&&(dg=pg);let r=e=>history[(n?"replace":"push")+"State"]({},"",e);$g.run(e,(e=>r(mg+t)),(e=>r(`#${t}`)),(e=>ug=t))})(t,e,r),n()},start(t){e=t,r()},stop(){e=null,r($g.OFF)},set(e){this.go(o(e),!e.path)},methods(){return function(e){let t=()=>e.get().query,n=t=>e.set({query:t}),r=e=>n(e(t())),o=t=>e.set({hash:t});return{hash:{get:()=>e.get().hash,set:o,clear:()=>o("")},query:{replace:n,clear:()=>n(""),get:e=>e?t()[e]:t(),set(e,t){r((n=>(n[e]=t,n)))},delete(e){r((t=>(t[e]&&delete t[e],t)))}}}}(this)},base:e=>mg=e}}();function gg(e){let t=window.location,n=$g.run(e,(e=>(mg?t.pathname.replace(mg,""):t.pathname)+t.search+t.hash),(e=>String(t.hash.slice(1)||"/")),(e=>ug||"/")),r=n.match(/^([^?#]+)(?:\?([^#]+))?(?:\#(.+))?$/);return pg=n,{url:n,from:dg,path:r[1]||"",query:ag(r[2]||""),hash:r[3]||""}}var hg=function(){let{subscribe:e}=mt(fg.get(),(e=>{fg.start(e);let t=function(e){let t=t=>{let n=t.target.closest("a[href]"),r=n&&ig(n,"target",!1,"_self"),o=n&&ig(n,"tinro-ignore"),s=t.ctrlKey||t.metaKey||t.altKey||t.shiftKey;if("_self"==r&&!o&&!s&&n){let r=n.getAttribute("href").replace(/^\/#/,"");/^\/\/|^#|^[a-zA-Z]+:/.test(r)||(t.preventDefault(),e(r.startsWith("/")?r:n.href.replace(window.location.origin,"")))}};return addEventListener("click",t),()=>removeEventListener("click",t)}(fg.go);return()=>{fg.stop(),t()}}));return{subscribe:e,goto:fg.go,params:vg,meta:xg,useHashNavigation:e=>fg.mode(e?$g.HASH:$g.HISTORY),mode:{hash:()=>fg.mode($g.HASH),history:()=>fg.mode($g.HISTORY),memory:()=>fg.mode($g.MEMORY)},base:fg.base,location:fg.methods()}}();function yg(e){let t,n,r,o,s=()=>{t=ig(e,"href").replace(/^\/#|[?#].*$|\/$/g,""),n=ig(e,"exact",!0),r=ig(e,"active-class",!0,"active")},i=()=>{let s=og(t,o);s&&(s.exact&&n||!n)?e.classList.add(r):e.classList.remove(r)};return s(),{destroy:hg.subscribe((e=>{o=e.path,i()})),update:()=>{s(),i()}}}function vg(){return he("tinro").meta.params}var bg="tinro",wg=Sg({pattern:"",matched:!0});function xg(){return ye(bg)?he(bg).meta:cg("meta() function must be run inside any `<Route>` child component only")}function Sg(e){let t={router:{},exact:!1,pattern:null,meta:null,parent:null,fallback:!1,redirect:!1,firstmatch:!1,breadcrumb:null,matched:!1,childs:new Set,activeChilds:new Set,fallbacks:new Set,async showFallbacks(){if(!this.fallback&&(await Ie(),this.childs.size>0&&0==this.activeChilds.size||0==this.childs.size&&this.fallbacks.size>0)){let e=this;for(;0==e.fallbacks.size;)if(e=e.parent,!e)return;e&&e.fallbacks.forEach((e=>{if(e.redirect){let t=sg("/",e.parent.pattern,e.redirect);hg.goto(t,!0)}else e.show()}))}},start(){this.router.un||(this.router.un=hg.subscribe((e=>{this.router.location=e,null!==this.pattern&&this.match()})))},match(){this.showFallbacks()}};return Object.assign(t,e),t.start(),t}const Cg=e=>({params:2&e,meta:4&e}),kg=e=>({params:e[1],meta:e[2]});function Dg(e){let t;const n=e[9].default,r=g(n,e,e[8],kg);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||262&o)&&v(r,n,e,e[8],t?y(n,e[8],o,Cg):b(e[8]),kg)},i(e){t||(qe(r,e),t=!0)},o(e){Ve(r,e),t=!1},d(e){r&&r.d(e)}}}function Ig(e){let t,n,r=e[0]&&Dg(e);return{c(){r&&r.c(),t=j()},m(e,o){r&&r.m(e,o),P(e,t,o),n=!0},p(e,[n]){e[0]?r?(r.p(e,n),1&n&&qe(r,1)):(r=Dg(e),r.c(),qe(r,1),r.m(t.parentNode,t)):r&&(Fe(),Ve(r,1,1,(()=>{r=null})),He())},i(e){n||(qe(r),n=!0)},o(e){Ve(r),n=!1},d(e){r&&r.d(e),e&&R(t)}}}function _g(e,t,n){let{$$slots:r={},$$scope:o}=t,{path:s="/*"}=t,{fallback:i=!1}=t,{redirect:a=!1}=t,{firstmatch:l=!1}=t,{breadcrumb:c=null}=t,u=!1,d={},p={};const $=function(e){let t=he(bg)||wg;(t.exact||t.fallback)&&cg(`${e.fallback?"<Route fallback>":`<Route path="${e.path}">`}  can't be inside ${t.fallback?"<Route fallback>":`<Route path="${t.path||"/"}"> with exact path`}`);let n=e.fallback?"fallbacks":"childs",r=mt({}),o=Sg({fallback:e.fallback,parent:t,update(e){o.exact=!e.path.endsWith("/*"),o.pattern=rg(`${o.parent.pattern||""}${e.path}`),o.redirect=e.redirect,o.firstmatch=e.firstmatch,o.breadcrumb=e.breadcrumb,o.match()},register:()=>(o.parent[n].add(o),async()=>{o.parent[n].delete(o),o.parent.activeChilds.delete(o),o.router.un&&o.router.un(),o.parent.match()}),show:()=>{e.onShow(),!o.fallback&&o.parent.activeChilds.add(o)},hide:()=>{e.onHide(),o.parent.activeChilds.delete(o)},match:async()=>{o.matched=!1;let{path:t,url:n,from:s,query:i}=o.router.location,a=og(o.pattern,t);if(!o.fallback&&a&&o.redirect&&(!o.exact||o.exact&&a.exact)){let e=sg(t,o.parent.pattern,o.redirect);return hg.goto(e,!0)}o.meta=a&&{from:s,url:n,query:i,match:a.part,pattern:o.pattern,breadcrumbs:o.parent.meta&&o.parent.meta.breadcrumbs.slice()||[],params:a.params,subscribe:r.subscribe},o.breadcrumb&&o.meta&&o.meta.breadcrumbs.push({name:o.breadcrumb,path:a.part}),r.set(o.meta),!a||o.fallback||!(!o.exact||o.exact&&a.exact)||o.parent.firstmatch&&o.parent.matched?o.hide():(e.onMeta(o.meta),o.parent.matched=!0,o.show()),a&&o.showFallbacks()}});return ge(bg,o),pe((()=>o.register())),o}({fallback:i,onShow(){n(0,u=!0)},onHide(){n(0,u=!1)},onMeta(e){n(2,p=e),n(1,d=p.params)}});return e.$$set=e=>{"path"in e&&n(3,s=e.path),"fallback"in e&&n(4,i=e.fallback),"redirect"in e&&n(5,a=e.redirect),"firstmatch"in e&&n(6,l=e.firstmatch),"breadcrumb"in e&&n(7,c=e.breadcrumb),"$$scope"in e&&n(8,o=e.$$scope)},e.$$.update=()=>{232&e.$$.dirty&&$.update({path:s,redirect:a,firstmatch:l,breadcrumb:c})},[u,d,p,s,i,a,l,c,o,r]}class Tg extends at{constructor(e){super(),it(this,e,_g,Ig,p,{path:3,fallback:4,redirect:5,firstmatch:6,breadcrumb:7})}}const Mg=Symbol("breadcrumb items store");function Eg(){return he(Mg)}function Og(e,t){let n=Array.from(e);return n=n.map((([e,n])=>[e,Array.from(n).filter((e=>function(e,t){const n=Kt(e.label),r=Kt(t);return n.includes(r)}(e,t)))])).filter((([,e])=>e.length>0)),new Map(n)}function Ag(e){return`/db/${e}/`}function Lg(e,t){return`${Ag(e)}${t}/`}function Ng(e,t){return`${Lg(e,t)}tables/`}function Pg(e,t){return`${Lg(e,t)}explorations/`}function Rg(e,t){return`${Lg(e,t)}import/`}const zg="inference";function Fg(e,t,n,r){const o=Rg(e,t),s=function(e){return new URLSearchParams({[zg]:JSON.stringify(e.useColumnTypeInference)}).toString()}(r);return`${o}${n}/?${s}`}function Hg(e,t){return`${Lg(e,t)}data-explorer/`}function qg(e,t,n){return`${Pg(e,t)}${n}/`}function Vg(e,t,n){return`${qg(e,t,n)}edit/`}function jg(e,t,n){return`${Ng(e,t)}${n}/`}function Wg(e,t,n,r){return`${jg(e,t,n)}${String(r)}`}const Ug="/profile/",Yg="/administration/",Bg=`${Yg}update/`,Kg=`${Yg}users/`,Gg=`${Yg}users/new/`;function Xg(e){return`${Kg}${e}/`}/*! js-cookie v3.0.1 | MIT */function Jg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}var Zg=function e(t,n){function r(e,r,o){if("undefined"!=typeof document){"number"==typeof(o=Jg({},n,o)).expires&&(o.expires=new Date(Date.now()+864e5*o.expires)),o.expires&&(o.expires=o.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var s="";for(var i in o)o[i]&&(s+="; "+i,!0!==o[i]&&(s+="="+o[i].split(";")[0]));return document.cookie=e+"="+t.write(r,e)+s}}return Object.create({set:r,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var n=document.cookie?document.cookie.split("; "):[],r={},o=0;o<n.length;o++){var s=n[o].split("="),i=s.slice(1).join("=");try{var a=decodeURIComponent(s[0]);if(r[a]=t.read(i,a),e===a)break}catch(l){}}return e?r[e]:r}},remove:function(e,t){r(e,"",Jg({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,Jg({},this.attributes,t))},withConverter:function(t){return e(Jg({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(n)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"});function Qg(e){if(_t(e,"code")){const{code:t}=e;if("string"==typeof t||"number"==typeof t)return t}}class eh extends Error{constructor(t){const n=function(e){return{message:Dl(e),code:Qg(e),field:Tt(e,"field")?e.field:void 0,detail:_t(e,"detail")?e.detail:void 0}}(t);super(n.message),e(this,"code",void 0),e(this,"field",void 0),e(this,"detail",void 0),this.name="ApiError",this.code=n.code,this.field=n.field,this.detail=n.detail}getSegregatedErrors(){return this.field?{commonErrors:[],fieldSpecificErrors:new dt([[this.field,[Dl(this)]]])}:{commonErrors:[Dl(this)],fieldSpecificErrors:new dt}}}class th extends Error{constructor(t){const n=(Array.isArray(t)?t:[t]).map((e=>new eh(e)));super(n.map((e=>e.message)).join(" ")),e(this,"errors",void 0),this.name="ApiMultiError",this.errors=n}getSegregatedErrors(){return this.errors.reduce(((e,t)=>{const n=t.getSegregatedErrors();return{commonErrors:[...e.commonErrors,...n.commonErrors],fieldSpecificErrors:e.fieldSpecificErrors.withEntries(n.fieldSpecificErrors,((e,t)=>[...e,...t]))}}),{commonErrors:[],fieldSpecificErrors:new dt})}}function nh(e){return e instanceof th?e.errors.map((e=>Dl(e))):[Dl(e)]}var rh=(e=>(e.Idle="idle",e.Loading="loading",e.Done="done",e.Error="error",e))(rh||{});const oh=["processing","failure","success"],sh=oh[0];function ih(e,t){for(const n of oh)if(e===n||t===n)return n;throw new Error("Invalid RequestStatus states.")}function ah(e){const t=Object.entries(e).map((([e,t])=>[e,"string"==typeof t?t:JSON.stringify(t)]));return new URLSearchParams(t).toString()}function lh(e,t){return t?`${e}?${ah(t)}`:e}const ch=new Set([200,201,204]);function uh(e,t,n){const r=new XMLHttpRequest;r.open(e,t),r.setRequestHeader("Content-Type","application/json");const o=Zg.get("csrftoken");o&&r.setRequestHeader("X-CSRFToken",o),n?r.send(JSON.stringify(n)):r.send();let s=!1;return new lt(((e,t)=>{r.addEventListener("load",(()=>{if(ch.has(r.status))e(function(e){if(204===e.status)return;const t=String(e.response);return 0!==t.trim().length?JSON.parse(String(t)):void 0}(r));else{if(401===r.status)return void window.location.reload();try{t(new th(JSON.parse(String(r.response))))}catch{const e=["When making an XHR request, the server responded with an","error, but the response body was not valid JSON."].join(" ");t(new Error(e))}}})),r.addEventListener("error",(()=>{t(new Error("An unexpected error has occurred"))})),r.addEventListener("abort",(()=>{s||t(new Error("Request was aborted"))}))}),(()=>{s=!0,r.abort()}))}function dh(e){return uh("GET",e)}function ph(e,t){return uh("POST",e,t)}function $h(e,t){return uh("PATCH",e,t)}function mh(e,t){return uh("DELETE",e,t)}const fh={list:function(){return dh("/api/db/v0/databases/?limit=500")}},gh=ng(),hh=mt(gh?.current_db??void 0),yh=mt({preload:!0,state:rh.Loading,data:gh?.databases??[]}),vh=ft([hh,yh],(([e,t])=>{const n=t.data;if(n?.length)return n?.find((t=>t.name===e))}));function bh(e){return async function(e){const t=await fetch(e,{mode:"cors"});if(t.ok)return await t.json()}(`https://api.github.com/repos/centerofci/mathesar${e}`)}const wh={fetchLatest:()=>bh("/releases/latest"),fetchByTagName:e=>bh(`/releases/tags/${e}`)};function xh(e){try{return JSON.parse(e)}catch(t){return}}function Sh(){return Date.now()}class Ch{constructor(t){e(this,"inputHash",""),e(this,"cacheKey",void 0),e(this,"value",void 0),e(this,"fetch",void 0),e(this,"timeToLiveMs",void 0),e(this,"serializeValue",JSON.stringify),e(this,"deserializeValue",xh),e(this,"writableLoading",mt(!1)),e(this,"loading",this.writableLoading),t.inputHash&&(this.inputHash=t.inputHash),this.value=mt(void 0),this.cacheKey=t.cacheKey,this.fetch=t.fetch,this.timeToLiveMs=t.timeToLiveMs,t.serialize&&(this.serializeValue=t.serialize),t.deserialize&&(this.deserializeValue=t.deserialize),this.cachedFetch()}serialize({inputHash:e,timestamp:t,value:n}){return JSON.stringify({inputHash:e,timestamp:t,value:this.serializeValue(n)})}deserialize(e){try{const t=JSON.parse(e),{inputHash:n,timestamp:r,value:o}=t;if("string"!=typeof n)return;if("number"!=typeof r)return;if("string"!=typeof o)return;const s=this.deserializeValue(o);if(void 0===s)return;return{inputHash:n,timestamp:r,value:s}}catch(t){return}}fetchFromCache(){const e=localStorage.getItem(this.cacheKey);if(null===e)return"no-cache-found";const t=this.deserialize(e);return void 0===t?"no-cache-found":Sh()-t.timestamp>this.timeToLiveMs?"cache-too-old":t.inputHash!==this.inputHash?"hash-change":(this.value.set(t),"cache-ok")}async forceFetch(){try{this.writableLoading.set(!0);const e=Sh(),t=await this.fetch(),{inputHash:n}=this;localStorage.setItem(this.cacheKey,this.serialize({inputHash:n,timestamp:e,value:t})),this.value.set({inputHash:n,timestamp:e,value:t})}finally{this.writableLoading.set(!1)}}async cachedFetch(){if("cache-ok"!==this.fetchFromCache())try{await this.forceFetch()}catch(e){}}subscribe(e){return this.value.subscribe(e)}}class kh{constructor(t){e(this,"store",void 0),e(this,"key",void 0),e(this,"defaultValue",void 0),e(this,"serialize",void 0),e(this,"deserialize",void 0),this.key=t.key,this.defaultValue=t.defaultValue,this.serialize=t.serialize??JSON.stringify,this.deserialize=t.deserialize??JSON.parse,this.store=mt(this.getLocalStorageValue())}getLocalStorageValue(){const e=localStorage.getItem(this.key);if(null===e)return this.defaultValue;try{return this.deserialize(e)}catch{return this.defaultValue}}setLocalStorageValue(e){localStorage.setItem(this.key,this.serialize(e))}subscribe(e,t){return this.store.subscribe(e,t)}set(e){this.store.set(e),this.setLocalStorageValue(e)}update(e){this.store.update((t=>{const n=e(t);return this.setLocalStorageValue(n),n}))}}const Dh="mathesar-release-data",Ih="data-explorer-left-sidebar-width",_h="data-explorer-right-sidebar-width",Th=new kh({key:"table-inspector-width",defaultValue:350}),Mh=new kh({key:Ih,defaultValue:400}),Eh=new kh({key:_h,defaultValue:350});function Oh(e){if(void 0!==e)return{id:e.id,tagName:e.tag_name,date:e.published_at,notesUrl:e.html_url}}function Ah(e){try{const[t,n,r]=e.split(".").map((e=>parseInt(e,10)));if(Number.isNaN(t)||Number.isNaN(n)||Number.isNaN(r))return;return 1e6*t+1e3*n+r}catch(t){return}}class Lh{constructor({current:t,latest:n}){e(this,"current",void 0),e(this,"latest",void 0),e(this,"upgradeStatus",void 0),this.current=t,this.latest=n,this.upgradeStatus=function(e,t){if(void 0===e||void 0===t)return;const n=Ah(e.tagName),r=Ah(t.tagName);return n&&r&&r>n?"upgradable":"up-to-date"}(t,n)}serialize(){return JSON.stringify({current:this.current,latest:this.latest})}static deserialize(e){try{const t=JSON.parse(e),{current:n,latest:r}=t;return new Lh({current:n,latest:r})}catch(t){return}}}function Nh(e){return new Ch({inputHash:e,cacheKey:Dh,timeToLiveMs:864e5,fetch:()=>async function(e){return new Lh({current:Oh(await wh.fetchByTagName(e)),latest:Oh(await wh.fetchLatest())})}(e),serialize:e=>e.serialize(),deserialize:e=>Lh.deserialize(e)})}const Ph=Symbol("ReleaseDataStore");function Rh(){return he(Ph)}const zh=ng(),Fh=mt(zh?.current_schema??void 0),Hh=new Map,qh=new Map;function Vh(e,t){const n=new Map;t.forEach((e=>{n.set(e.id,e)}));const r={state:rh.Done,data:n,error:void 0};let o=Hh.get(e);return o?o.set(r):(o=mt(r),Hh.set(e,o)),o}function jh(e,t){const n=Hh.get(e);n&&n.update((e=>(e.data?.set(t.id,t),{...e,data:new Map(e.data)})))}function Wh(e,t,n){const r=Hh.get(e.name);r&&r.update((e=>{const r=e.data.get(t.id);return r&&(r.num_tables+=n,e.data.set(t.id,r)),{...e,data:new Map(e.data)}}))}function Uh(e,t){const n=function(e){return[...Hh.values()].find((t=>m(t).data.has(e)))}(e);n&&n.update((n=>{const r=n.data.get(e);return r&&(r.num_queries+=t,n.data.set(e,r)),{...n,data:new Map(n.data)}}))}async function Yh(e){const t=Hh.get(e);if(t)try{t.update((e=>({...e,state:rh.Loading}))),qh.get(e)?.cancel();const n=dh(`/api/db/v0/schemas/?database=${e}&limit=500`);qh.set(e,n);const r=await n;return m(Vh(e,r?.results||[]))}catch(n){return void t.update((e=>({...e,state:rh.Error,error:n instanceof Error?n.message:"Error in fetching schemas"})))}else console.error(`DB Schemas store for db: ${e} not found.`)}let Bh=!0;async function Kh(e,t){await mh(`/api/db/v0/schemas/${t}/`),function(e,t){const n=Hh.get(e);n&&n.update((e=>(e.data?.delete(t),{...e,data:new Map(e.data)})))}(e,t)}const Gh=ft(hh,((e,t)=>{let n;if(e){const r=function(e){let t=Hh.get(e);return t?m(t).error&&Yh(e):(t=mt({state:rh.Loading,data:new Map}),Hh.set(e,t),Bh&&zh?.current_db===e?t=Vh(e,zh?.schemas||[]):Yh(e),Bh=!1),t}(e);n=r.subscribe((e=>{t(e)}))}else t({state:rh.Done,data:new Map});return()=>{n?.()}})),Xh=ft([Fh,Gh],(([e,t])=>e?t.data.get(e):void 0));function Jh(e){return"invalid"===e.type}function Zh(e){return{type:"invalid",errorMsg:e}}function Qh(e,t){return n=>e(n)?{type:"valid"}:Zh(t)}function ey(e,t){return n=>e(n)?Zh(t):{type:"valid"}}function ty(e){return null!=e&&""!==e&&(!Array.isArray(e)||0!==e.length)}function ny(e,t="This value already exists."){return ey((t=>function(e,t){return Array.isArray(e)?e.includes(t):e.has(t)}(e,t)),t)}function ry(e,t){return Qh((t=>!!t.match(e)),t)}const oy=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;function sy(e="The email address is invalid."){return Qh((e=>!!e.toLowerCase().match(oy)),e)}function iy(e){return e.field.isRequired&&!ty(e.value)}function ay(e,t){return n=>{const r=e.map((e=>n.find((t=>t.field===e))??{field:e,value:m(e)}));if(r.map(iy).some((e=>e)))return{outcome:{type:"valid"},fields:e};const o=r.map((e=>e.value));return{outcome:t(o),fields:e}}}function ly(e){let t=e[0];for(const n of e){if(n!==t)return!1;t=n}return!0}function cy(e,t){return function(e,t,n){return ay(e,Qh(t,n))}(e,ly,t)}function uy(e){let t,n,r;const o=[e[0]];let s={};for(let i=0;i<o.length;i+=1)s=a(s,o[i]);return n=new Wr({props:s}),{c(){t=F("span"),rt(n.$$.fragment),B(t,"class","icon svelte-n8w9ju")},m(e,o){P(e,t,o),ot(n,t,null),r=!0},p(e,t){const r=1&t?et(o,[tt(e[0])]):{};n.$set(r)},i(e){r||(qe(n.$$.fragment,e),r=!0)},o(e){Ve(n.$$.fragment,e),r=!1},d(e){e&&R(t),st(n)}}}function dy(e){let t,n,r,o,s=e[0]&&uy(e);const i=e[4].default,a=g(i,e,e[3],null);return{c(){t=F("div"),s&&s.c(),n=V(),r=F("div"),a&&a.c(),B(r,"class","content trim-child-margins"),B(t,"class","message-box svelte-n8w9ju"),B(t,"style",e[1]),te(t,"has-icon",!!e[0]),te(t,"full-width",e[2])},m(e,i){P(e,t,i),s&&s.m(t,null),A(t,n),A(t,r),a&&a.m(r,null),o=!0},p(e,[r]){e[0]?s?(s.p(e,r),1&r&&qe(s,1)):(s=uy(e),s.c(),qe(s,1),s.m(t,n)):s&&(Fe(),Ve(s,1,1,(()=>{s=null})),He()),a&&a.p&&(!o||8&r)&&v(a,i,e,e[3],o?y(i,e[3],r,null):b(e[3]),null),(!o||2&r)&&B(t,"style",e[1]),(!o||1&r)&&te(t,"has-icon",!!e[0]),(!o||4&r)&&te(t,"full-width",e[2])},i(e){o||(qe(s),qe(a,e),o=!0)},o(e){Ve(s),Ve(a,e),o=!1},d(e){e&&R(t),s&&s.d(),a&&a.d(e)}}}function py(e,t,n){let{$$slots:r={},$$scope:o}=t,{icon:s}=t,{style:i}=t,{fullWidth:a=!1}=t;return e.$$set=e=>{"icon"in e&&n(0,s=e.icon),"style"in e&&n(1,i=e.style),"fullWidth"in e&&n(2,a=e.fullWidth),"$$scope"in e&&n(3,o=e.$$scope)},[s,i,a,o,r]}class $y extends at{constructor(e){super(),it(this,e,py,dy,p,{icon:0,style:1,fullWidth:2})}}function my(e){let t;const n=e[1].default,r=g(n,e,e[2],null);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||4&o)&&v(r,n,e,e[2],t?y(n,e[2],o,null):b(e[2]),null)},i(e){t||(qe(r,e),t=!0)},o(e){Ve(r,e),t=!1},d(e){r&&r.d(e)}}}function fy(e){let t,n,r;const o=[{icon:Cr},e[0]];let s={$$slots:{default:[my]},$$scope:{ctx:e}};for(let i=0;i<o.length;i+=1)s=a(s,o[i]);return n=new $y({props:s}),{c(){t=F("div"),rt(n.$$.fragment),B(t,"class","error-box svelte-1mnk8w0")},m(e,o){P(e,t,o),ot(n,t,null),r=!0},p(e,[t]){const r=1&t?et(o,[0&t&&{icon:Cr},1&t&&tt(e[0])]):{};4&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(qe(n.$$.fragment,e),r=!0)},o(e){Ve(n.$$.fragment,e),r=!1},d(e){e&&R(t),st(n)}}}function gy(e,t,n){const r=[];let o=x(t,r),{$$slots:s={},$$scope:i}=t;return e.$$set=e=>{t=a(a({},t),w(e)),n(0,o=x(t,r)),"$$scope"in e&&n(2,i=e.$$scope)},[o,s,i]}class hy extends at{constructor(e){super(),it(this,e,gy,fy,p,{})}}function yy(e,t,n){const r=e.slice();return r[1]=t[n],r}function vy(e){let t,n;return t=new hy({props:{$$slots:{default:[Sy]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};17&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function by(e){let t,n=[],r=new Map,o=e[0];const s=e=>e[1];for(let i=0;i<o.length;i+=1){let t=yy(e,o,i),a=s(t);r.set(a,n[i]=xy(a,t))}return{c(){t=F("ul");for(let e=0;e<n.length;e+=1)n[e].c();B(t,"class","list svelte-h6g81w")},m(e,r){P(e,t,r);for(let o=0;o<n.length;o+=1)n[o].m(t,null)},p(e,i){1&i&&(o=e[0],n=Qe(n,i,s,1,e,o,r,t,Xe,xy,null,yy))},d(e){e&&R(t);for(let t=0;t<n.length;t+=1)n[t].d()}}}function wy(e){let t,n=e[0][0]+"";return{c(){t=q(n)},m(e,n){P(e,t,n)},p(e,r){1&r&&n!==(n=e[0][0]+"")&&X(t,n)},d(e){e&&R(t)}}}function xy(e,t){let n,r,o=t[1]+"";return{key:e,first:null,c(){n=F("li"),r=q(o),this.first=n},m(e,t){P(e,n,t),A(n,r)},p(e,n){t=e,1&n&&o!==(o=t[1]+"")&&X(r,o)},d(e){e&&R(n)}}}function Sy(e){let t;function n(e,t){return 1===e[0].length?wy:by}let r=n(e),o=r(e);return{c(){o.c(),t=j()},m(e,n){o.m(e,n),P(e,t,n)},p(e,s){r===(r=n(e))&&o?o.p(e,s):(o.d(1),o=r(e),o&&(o.c(),o.m(t.parentNode,t)))},d(e){o.d(e),e&&R(t)}}}function Cy(e){let t,n,r=e[0].length&&vy(e);return{c(){r&&r.c(),t=j()},m(e,o){r&&r.m(e,o),P(e,t,o),n=!0},p(e,[n]){e[0].length?r?(r.p(e,n),1&n&&qe(r,1)):(r=vy(e),r.c(),qe(r,1),r.m(t.parentNode,t)):r&&(Fe(),Ve(r,1,1,(()=>{r=null})),He())},i(e){n||(qe(r),n=!0)},o(e){Ve(r),n=!1},d(e){r&&r.d(e),e&&R(t)}}}function ky(e,t,n){let{errors:r}=t;return e.$$set=e=>{"errors"in e&&n(0,r=e.errors)},[r]}class Dy extends at{constructor(e){super(),it(this,e,ky,Cy,p,{errors:0})}}function Iy(e){let t,n,r;return n=new Dy({props:{errors:e[4]}}),{c(){t=F("div"),rt(n.$$.fragment),B(t,"class","field-errors svelte-1upnxsj"),te(t,"has-margin",e[0])},m(e,o){P(e,t,o),ot(n,t,null),r=!0},p(e,o){const s={};16&o&&(s.errors=e[4]),n.$set(s),(!r||1&o)&&te(t,"has-margin",e[0])},i(e){r||(qe(n.$$.fragment,e),r=!0)},o(e){Ve(n.$$.fragment,e),r=!1},d(e){e&&R(t),st(n)}}}function _y(e){let t,n,r=e[3]&&Iy(e);return{c(){r&&r.c(),t=j()},m(e,o){r&&r.m(e,o),P(e,t,o),n=!0},p(e,[n]){e[3]?r?(r.p(e,n),8&n&&qe(r,1)):(r=Iy(e),r.c(),qe(r,1),r.m(t.parentNode,t)):r&&(Fe(),Ve(r,1,1,(()=>{r=null})),He())},i(e){n||(qe(r),n=!0)},o(e){Ve(r),n=!1},d(e){r&&r.d(e),e&&R(t)}}}function Ty(e,t,n){let r,o,i,a,l=s,c=s;e.$$.on_destroy.push((()=>l())),e.$$.on_destroy.push((()=>c()));let{field:u}=t,{hasMargin:d=!0}=t;return e.$$set=e=>{"field"in e&&n(5,u=e.field),"hasMargin"in e&&n(0,d=e.hasMargin)},e.$$.update=()=>{32&e.$$.dirty&&(n(2,({errors:r,showsError:o}=u),r,(n(1,o),l(),l=$(o,(e=>n(3,i=e))),o)),c(),c=$(r,(e=>n(4,a=e))))},[d,o,r,i,a,u]}class My extends at{constructor(e){super(),it(this,e,Ty,_y,p,{field:5,hasMargin:0})}}function Ey(e){let t,n;const r=e[1].default,o=g(r,e,e[0],null);return{c(){t=F("span"),o&&o.c(),B(t,"class","field svelte-11cqsyc")},m(e,r){P(e,t,r),o&&o.m(t,null),n=!0},p(e,[t]){o&&o.p&&(!n||1&t)&&v(o,r,e,e[0],n?y(r,e[0],t,null):b(e[0]),null)},i(e){n||(qe(o,e),n=!0)},o(e){Ve(o,e),n=!1},d(e){e&&R(t),o&&o.d(e)}}}function Oy(e,t,n){let{$$slots:r={},$$scope:o}=t;return e.$$set=e=>{"$$scope"in e&&n(0,o=e.$$scope)},[o,r]}class Ay extends at{constructor(e){super(),it(this,e,Oy,Ey,p,{})}}const Ly=e=>({}),Ny=e=>({slot:"label"}),Py=e=>({}),Ry=e=>({slot:"help"});function zy(e){let t,n,r,o;const s=[{hasError:e[9]},{disabled:e[10]},e[6]];function i(t){e[15](t)}var l=e[7];function c(e){let t={$$slots:{default:[Hy]},$$scope:{ctx:e}};for(let n=0;n<s.length;n+=1)t=a(t,s[n]);return void 0!==e[8]&&(t.value=e[8]),{props:t}}return l&&(t=new l(c(e)),we.push((()=>nt(t,"value",i)))),{c(){t&&rt(t.$$.fragment),r=j()},m(e,n){t&&ot(t,e,n),P(e,r,n),o=!0},p(e,o){const a=1600&o?et(s,[512&o&&{hasError:e[9]},1024&o&&{disabled:e[10]},64&o&&tt(e[6])]):{};if(65536&o&&(a.$$scope={dirty:o,ctx:e}),!n&&256&o&&(n=!0,a.value=e[8],Te((()=>n=!1))),l!==(l=e[7])){if(t){Fe();const e=t;Ve(e.$$.fragment,1,0,(()=>{st(e,1)})),He()}l?(t=new l(c(e)),we.push((()=>nt(t,"value",i))),rt(t.$$.fragment),qe(t.$$.fragment,1),ot(t,r.parentNode,r)):t=null}else l&&t.$set(a)},i(e){o||(t&&qe(t.$$.fragment,e),o=!0)},o(e){t&&Ve(t.$$.fragment,e),o=!1},d(e){e&&R(r),t&&st(t,e)}}}function Fy(e){let t,n;return t=new Io({props:{label:e[1],layout:e[3],help:e[2],$$slots:{help:[jy],label:[Vy],default:[qy]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.label=e[1]),8&n&&(r.layout=e[3]),4&n&&(r.help=e[2]),67520&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Hy(e){let t;const n=e[13].default,r=g(n,e,e[16],null);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||65536&o)&&v(r,n,e,e[16],t?y(n,e[16],o,null):b(e[16]),null)},i(e){t||(qe(r,e),t=!0)},o(e){Ve(r,e),t=!1},d(e){r&&r.d(e)}}}function qy(e){let t,n,r,o;const s=[{hasError:e[9]},{disabled:e[10]},e[6]];function i(t){e[14](t)}var l=e[7];function c(e){let t={};for(let n=0;n<s.length;n+=1)t=a(t,s[n]);return void 0!==e[8]&&(t.value=e[8]),{props:t}}return l&&(t=new l(c(e)),we.push((()=>nt(t,"value",i)))),{c(){t&&rt(t.$$.fragment),r=j()},m(e,n){t&&ot(t,e,n),P(e,r,n),o=!0},p(e,o){const a=1600&o?et(s,[512&o&&{hasError:e[9]},1024&o&&{disabled:e[10]},64&o&&tt(e[6])]):{};if(!n&&256&o&&(n=!0,a.value=e[8],Te((()=>n=!1))),l!==(l=e[7])){if(t){Fe();const e=t;Ve(e.$$.fragment,1,0,(()=>{st(e,1)})),He()}l?(t=new l(c(e)),we.push((()=>nt(t,"value",i))),rt(t.$$.fragment),qe(t.$$.fragment,1),ot(t,r.parentNode,r)):t=null}else l&&t.$set(a)},i(e){o||(t&&qe(t.$$.fragment,e),o=!0)},o(e){t&&Ve(t.$$.fragment,e),o=!1},d(e){e&&R(r),t&&st(t,e)}}}function Vy(e){let t;const n=e[13].label,r=g(n,e,e[16],Ny);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||65536&o)&&v(r,n,e,e[16],t?y(n,e[16],o,Ly):b(e[16]),Ny)},i(e){t||(qe(r,e),t=!0)},o(e){Ve(r,e),t=!1},d(e){r&&r.d(e)}}}function jy(e){let t;const n=e[13].help,r=g(n,e,e[16],Ry);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||65536&o)&&v(r,n,e,e[16],t?y(n,e[16],o,Py):b(e[16]),Ry)},i(e){t||(qe(r,e),t=!0)},o(e){Ve(r,e),t=!1},d(e){r&&r.d(e)}}}function Wy(e){let t,n,r,o,s;const i=[Fy,zy],a=[];function l(e,t){return e[1]||e[11].label?0:1}return t=l(e),n=a[t]=i[t](e),o=new My({props:{field:e[0]}}),{c(){n.c(),r=V(),rt(o.$$.fragment)},m(e,n){a[t].m(e,n),P(e,r,n),ot(o,e,n),s=!0},p(e,s){let c=t;t=l(e),t===c?a[t].p(e,s):(Fe(),Ve(a[c],1,1,(()=>{a[c]=null})),He(),n=a[t],n?n.p(e,s):(n=a[t]=i[t](e),n.c()),qe(n,1),n.m(r.parentNode,r));const u={};1&s&&(u.field=e[0]),o.$set(u)},i(e){s||(qe(n),qe(o.$$.fragment,e),s=!0)},o(e){Ve(n),Ve(o.$$.fragment,e),s=!1},d(e){a[t].d(e),e&&R(r),st(o,e)}}}function Uy(e){let t,n;return t=new Ay({props:{$$slots:{default:[Wy]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const r={};69583&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Yy(e,t,n){let r,o,i,a,l,c,u,d=s,p=()=>(d(),d=$(v,(e=>n(8,l=e))),v),m=s,f=s;e.$$.on_destroy.push((()=>d())),e.$$.on_destroy.push((()=>m())),e.$$.on_destroy.push((()=>f()));let{$$slots:g={},$$scope:h}=t;const y=S(g);let{field:v}=t;p();let{input:b}=t,{label:w}=t,{help:x}=t,{layout:C}=t;return e.$$set=e=>{"field"in e&&p(n(0,v=e.field)),"input"in e&&n(12,b=e.input),"label"in e&&n(1,w=e.label),"help"in e&&n(2,x=e.help),"layout"in e&&n(3,C=e.layout),"$$scope"in e&&n(16,h=e.$$scope)},e.$$.update=()=>{4096&e.$$.dirty&&n(7,r=b?.component??di),4096&e.$$.dirty&&n(6,o=b?.props??{}),1&e.$$.dirty&&(n(5,({showsError:i,disabled:a}=v),i,(n(4,a),f(),f=$(a,(e=>n(10,u=e))),a)),m(),m=$(i,(e=>n(9,c=e))))},[v,w,x,C,a,i,o,r,l,c,u,y,b,g,function(e){l=e,v.set(l)},function(e){l=e,v.set(l)},h]}class By extends at{constructor(e){super(),it(this,e,Yy,Uy,p,{field:0,input:12,label:1,help:2,layout:3})}}function Ky(e){let t,n;const r=[{onProceed:e[9]},{canProceed:e[1]&&e[6]},{onCancel:e[3]},e[10]];let o={};for(let s=0;s<r.length;s+=1)o=a(o,r[s]);return t=new ro({props:o}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const o=1610&n?et(r,[512&n&&{onProceed:e[9]},66&n&&{canProceed:e[1]&&e[6]},8&n&&{onCancel:e[3]},1024&n&&tt(e[10])]):{};t.$set(o)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Gy(e){let t,n,r;return n=new Dy({props:{errors:e[5]}}),{c(){t=F("div"),rt(n.$$.fragment),B(t,"class","errors svelte-eylvex")},m(e,o){P(e,t,o),ot(n,t,null),r=!0},p(e,t){const r={};32&t&&(r.errors=e[5]),n.$set(r)},i(e){r||(qe(n.$$.fragment,e),r=!0)},o(e){Ve(n.$$.fragment,e),r=!1},d(e){e&&R(t),st(n)}}}function Xy(e){let t,n,r,o=(!e[2]||e[7])&&Ky(e),s=e[4]&&Gy(e);return{c(){t=F("div"),o&&o.c(),n=V(),s&&s.c(),B(t,"class","form-submit svelte-eylvex")},m(e,i){P(e,t,i),o&&o.m(t,null),A(t,n),s&&s.m(t,null),r=!0},p(e,[r]){!e[2]||e[7]?o?(o.p(e,r),132&r&&qe(o,1)):(o=Ky(e),o.c(),qe(o,1),o.m(t,n)):o&&(Fe(),Ve(o,1,1,(()=>{o=null})),He()),e[4]?s?(s.p(e,r),16&r&&qe(s,1)):(s=Gy(e),s.c(),qe(s,1),s.m(t,null)):s&&(Fe(),Ve(s,1,1,(()=>{s=null})),He())},i(e){r||(qe(o),qe(s),r=!0)},o(e){Ve(o),Ve(s),r=!1},d(e){e&&R(t),o&&o.d(),s&&s.d()}}}function Jy(e,t,n){let r,o,i,l;const c=["form","canProceed","initiallyHidden","onProceed","onCancel","getErrorMessages","catchErrors"];let u,d,p=x(t,c),m=s,f=()=>(m(),m=$(h,(e=>n(13,u=e))),h),g=s;e.$$.on_destroy.push((()=>m())),e.$$.on_destroy.push((()=>g()));let{form:h}=t;f();let{canProceed:y=!0}=t,{initiallyHidden:v=!1}=t,{onProceed:b=(()=>{})}=t,{onCancel:S=(()=>h.reset())}=t,{getErrorMessages:C=(e=>[Dl(e)])}=t,{catchErrors:k=!1}=t;return e.$$set=e=>{t=a(a({},t),w(e)),n(10,p=x(t,c)),"form"in e&&f(n(0,h=e.form)),"canProceed"in e&&n(1,y=e.canProceed),"initiallyHidden"in e&&n(2,v=e.initiallyHidden),"onProceed"in e&&n(11,b=e.onProceed),"onCancel"in e&&n(3,S=e.onCancel),"getErrorMessages"in e&&n(12,C=e.getErrorMessages),"catchErrors"in e&&n(4,k=e.catchErrors)},e.$$.update=()=>{1&e.$$.dirty&&(n(8,({requestStatus:r}=h),r),g(),g=$(r,(e=>n(14,d=e)))),8192&e.$$.dirty&&n(7,({hasChanges:o,canSubmit:i}=u),o,(n(6,i),n(13,u))),16384&e.$$.dirty&&n(5,l="failure"===d?.state?d.errors:[])},[h,y,v,S,k,l,i,o,r,async function(){h.clearServerErrors(),h.requestStatus.set({state:"processing"});const e=u.values;if(!k)return await b(e),void h.requestStatus.set(void 0);try{await b(e),h.requestStatus.set({state:"success"})}catch(t){h.requestStatus.set({state:"failure",errors:C(t)})}},p,b,C,u,d]}class Zy extends at{constructor(e){super(),it(this,e,Jy,Xy,p,{form:0,canProceed:1,initiallyHidden:2,onProceed:11,onCancel:3,getErrorMessages:12,catchErrors:4})}}const Qy=Symbol("comboErrors"),ev=Symbol("disabled");function tv(e){const t=mt(e.initialValue),n=mt([]),r=ft(t,(t=>t!==e.initialValue)),o=ft(t,(t=>(n.set([]),function({value:e,isRequired:t,validators:n}){if(!ty(e))return t?["Value cannot be empty."]:[];if(!n)return[];const r=e;return n.map((e=>e(r))).filter(Jh).map((({errorMsg:e})=>e))}({...e,value:t})))),s=mt([]),i=mt(!1),a=ft(s,(e=>e)),l=ft([o,a,n],(e=>e.flat())),c=ft(l,(e=>0===e.length)),u=ft([o,a],(e=>0===e.flat().length)),d=ft([r,o,a,n],(([e,t,n,r])=>!(!n.length&&!r.length)||!!e&&t.length>0));return{isRequired:e.isRequired,initialValue:e.initialValue,hasChanges:r,fieldErrors:o,[Qy]:s,[ev]:i,disabled:i,comboErrors:a,serverErrors:n,errors:l,isValid:c,canSubmit:u,showsError:d,subscribe:(e,n)=>t.subscribe(e,n),set(e){t.set(e)},update(e){t.update(e)},reset(){t.set(e.initialValue)}}}function nv(e,t=[]){return tv({initialValue:e,validators:t,isRequired:!1})}function rv(e,t=[]){return tv({initialValue:e,validators:t,isRequired:!0})}function ov(e,t){const n=new Map;t.forEach((t=>{const{outcome:r,fields:o}=t(e);o.forEach((e=>{const t=n.get(e)??[],o=function(e){return"valid"===e.type}(r)?[]:[r.errorMsg];n.set(e,[...t,...o])}))}));for(const[r,o]of n){const e=m(r[Qy]);JSON.stringify(e)!==JSON.stringify(o)&&r[Qy].set(o)}}function sv(e,t=[]){const n=Ht(Object.entries(e).map((([e,t])=>ft(t,(n=>({name:e,field:t,value:n})))))),r=ft(n,(e=>(ov(e,t),Object.fromEntries(e.map((({name:e,value:t})=>[e,t])))))),o=mt(void 0),s=ft(o,(e=>"processing"===e?.state)),i=ft(Ht(Object.values(e).map((e=>e.isValid))),(e=>e.every((e=>e)))),a=ft(Ht(Object.values(e).map((e=>e.canSubmit))),(e=>e.every((e=>e)))),l=ft(Ht(Object.values(e).map((e=>e.hasChanges))),(e=>e.some((e=>e))));function c(){o.update((e=>"failure"===e?.state?void 0:e)),Object.values(e).forEach((e=>{e.serverErrors.set([])}))}const u=function(e,t){let n=0,r=[];return{...e,subscribe:function(o){const s=e.subscribe(o);return n+=1,1===n&&(r=t.map((e=>e()))),()=>{s(),n-=1,0===n&&(r.forEach((e=>e())),r=[])}}}}(ft([r,i,a,l],(([e,t,n,r])=>({values:e,isValid:t,canSubmit:n,hasChanges:r}))),[()=>o.subscribe((t=>{Object.values(e).forEach((e=>{e[ev].set("processing"===t?.state)}))}))]);return{...u,fields:e,reset:function(){c(),Object.values(e).forEach((e=>{e.reset()}))},clearServerErrors:c,requestStatus:o,isSubmitting:s}}function iv(e){return!1===e.import_verified&&void 0!==e.data_files&&e.data_files.length>0}function av(e,t){const n=[...e.values()];let r=[];const{settings:o}=t;if(o){const{column_order:e}=o;e&&(r=e)}return n.forEach((e=>{r.includes(e.id)||r.push(e.id)})),r}function lv(e,t,n){return iv(n)?Fg(e,t,n.id,{useColumnTypeInference:!0}):jg(e,t,n.id)}const cv=ng(),uv=new Map,dv=new Map;function pv(e){return[...e].sort(((e,t)=>e.name.localeCompare(t.name)))}function $v(e,t){const n=new Map;t&&pv(t).forEach((e=>{n.set(e.id,e)}));const r={state:rh.Done,data:n,error:void 0};let o=uv.get(e);return o?o.set(r):(o=mt(r),uv.set(e,o)),o}async function mv(e){const t=uv.get(e);if(t)try{t.update((e=>({...e,state:rh.Loading}))),dv.get(e)?.cancel();const n=dh(`/api/db/v0/tables/?schema=${e}&limit=500`);dv.set(e,n);const r=(await n).results||[];return m($v(e,r))}catch(n){return void t.update((e=>({...e,state:rh.Error,error:n instanceof Error?n.message:"Error in fetching schemas"})))}else console.error(`Tables store for schema: ${e} not found.`)}let fv=!0;function gv(e){return[...uv.values()].find((t=>m(t).data.has(e)))}function hv(e,t){gv(e)?.update((n=>{const r={...n.data.get(e)??{},...t};n.data.set(e,r);const o=new Map;return pv([...n.data.values()]).forEach((e=>{o.set(e.id,e)})),{...n,data:o}}))}function yv(e,t,n){const r=mh(`/api/db/v0/tables/${n}/`);return new lt(((o,s)=>{r.then((r=>(Wh(e,t,-1),uv.get(t.id)?.update((e=>(e.data.delete(n),{...e,data:new Map(e.data)}))),o(r))),s)}),(()=>{r.cancel()}))}function vv(e,t,n){const r=ph("/api/db/v0/tables/",{schema:t.id,name:n.name,data_files:n.dataFiles});return new lt(((n,o)=>{r.then((r=>(Wh(e,t,1),uv.get(t.id)?.update((e=>{const t=new Map;return pv([...e.data.values(),r]).forEach((e=>{t.set(e.id,e)})),{...e,data:t}})),n(r))),o)}),(()=>{r.cancel()}))}function bv(e){return dh(`/api/db/v0/tables/${e}/`)}function wv(e){const t=gv(e);if(t){const n=m(t).data.get(e);if(n)return new lt((e=>{e(n)}))}const n=bv(e);return new lt(((e,t)=>{n.then((t=>{const n=uv.get(t.schema);return n&&n.update((e=>{const n=new Map;return pv([...e.data.values(),t]).forEach((e=>{n.set(e.id,e)})),{...e,data:n}})),e(t)}),t)}),(()=>{n.cancel()}))}function xv(e){return dh(`/api/db/v0/tables/${e}/type_suggestions/?columns_might_have_defaults=false`)}function Sv(e){const{columns:t,table:n}=e;return ph(`/api/db/v0/tables/${n.id}/previews/`,{columns:t})}const Cv=ft(Fh,((e,t)=>{let n;if(e){const r=function(e){let t=uv.get(e);return t?m(t).error&&mv(e):(t=mt({state:rh.Loading,data:new Map}),uv.set(e,t),fv&&cv?.current_schema===e?t=$v(e,cv?.tables??[]):mv(e),fv=!1),t}(e);n=r.subscribe((e=>{t(e)}))}else t({state:rh.Done,data:new Map});return()=>{n?.()}})),kv=ft(Cv,(e=>new Map([...e.data.values()].filter((e=>!iv(e))).map((e=>[e.id,e]))))),Dv=ft(Cv,(e=>{const t=new Set([...e.data.values()].map((e=>e.name)));return ey((e=>t.has(e)),"A table with that name already exists.")}));const Iv=mt(void 0),_v=ft([Iv,Cv],(([e,t])=>void 0===e?void 0:t.data.get(e)));function Tv(e,t=1){return dh(`/api/db/v0/tables/${e}/joinable_tables/?max_depth=${t}`)}async function Mv(e,t){const n=`/api/db/v0/tables/${e.id}/settings/${e.settings.id}/`;await $h(n,t),await mv(e.schema)}const Ev={list:function(){return dh("/api/ui/v0/users/")},get:function(e){return dh(`/api/ui/v0/users/${e}/`)},add:function(e){return ph("/api/ui/v0/users/",e)},delete:function(e){return mh(`/api/ui/v0/users/${e}/`)},update:function(e,t){return $h(`/api/ui/v0/users/${e}/`,t)},changePassword:function(e,t){return ph("/api/ui/v0/users/password_change/",{password:t,old_password:e})},resetPassword:function(e,t){return ph(`/api/ui/v0/users/${e}/password_reset/`,{password:t})},addDatabaseRole:function(e,t,n){return ph("/api/ui/v0/database_roles/",{user:e,database:t,role:n})},deleteDatabaseRole:function(e){return mh(`/api/ui/v0/database_roles/${e}/`)},addSchemaRole:function(e,t,n){return ph("/api/ui/v0/schema_roles/",{user:e,schema:t,role:n})},deleteSchemaRole:function(e){return mh(`/api/ui/v0/schema_roles/${e}/`)}},Ov=new Set(["canViewLinkedEntities"]),Av=new Set([...Ov,"canEditTableRecords","canEditMetadata"]);function Lv(e,t){return t.some((t=>function(e,t){switch(e){case"manager":return!0;case"editor":return Av.has(t);case"viewer":return Ov.has(t);default:throw new Il(e)}}(t,e)))}function Nv(e){switch(e){case"manager":return"Manager";case"editor":return"Editor";case"viewer":return"Viewer";default:throw new Il(e)}}function Pv(e){switch(e){case"manager":return"Manager Access";case"editor":return"Editor Access";case"viewer":return"Read-Only Access";default:throw new Il(e)}}const Rv={viewer:1,editor:2,manager:3};class zv{constructor(t){e(this,"id",void 0),e(this,"isSuperUser",void 0),e(this,"fullName",void 0),e(this,"email",void 0),e(this,"username",void 0),e(this,"databaseRoles",void 0),e(this,"schemaRoles",void 0),this.id=t.id,this.isSuperUser=t.is_superuser,this.databaseRoles=new Map(t.database_roles.map((e=>[e.database,e]))),this.schemaRoles=new Map(t.schema_roles.map((e=>[e.schema,e]))),this.fullName=t.full_name,this.email=t.email,this.username=t.username}hasPermission(e,t){if(this.isSuperUser)return!0;const{database:n,schema:r}=e;if(r&&!n)throw new Error("Schema needs to be accompanied by the database for permission checks");const o=[];if(r){const e=this.schemaRoles.get(r.id);e&&o.push(e.role)}if(n){const e=this.databaseRoles.get(n.id);e&&o.push(e.role)}return Lv(t,o)}getRoleForDb(e){return this.databaseRoles.get(e.id)}getRoleForSchema(e){return this.schemaRoles.get(e.id)}hasDirectDbAccess(e){return this.databaseRoles.has(e.id)}hasDbAccess(e){return this.hasDirectDbAccess(e)||this.isSuperUser}hasDirectSchemaAccess(e){return this.schemaRoles.has(e.id)}hasSchemaAccess(e,t){return this.hasDbAccess(e)||this.hasDirectSchemaAccess(t)}getDisplayName(){return this.username}getUser(){return{id:this.id,is_superuser:this.isSuperUser,username:this.username,database_roles:[...this.databaseRoles.values()],schema_roles:[...this.schemaRoles.values()],full_name:this.fullName,email:this.email}}with(e){return new zv({...this.getUser(),...e})}withNewDatabaseRole(e){return new zv({...this.getUser(),database_roles:[...this.databaseRoles.values(),e]})}withoutDatabaseRole(e){return new zv({...this.getUser(),database_roles:[...this.databaseRoles.values()].filter((t=>t.database!==e.database))})}withNewSchemaRole(e){return new zv({...this.getUser(),schema_roles:[...this.schemaRoles.values(),e]})}withoutSchemaRole(e){return new zv({...this.getUser(),schema_roles:[...this.schemaRoles.values()].filter((t=>t.schema!==e.schema))})}}class Fv extends zv{constructor(){super({id:0,is_superuser:!1,database_roles:[],schema_roles:[],username:"Anonymous",full_name:"Anonymous",email:null})}hasPermission(){return!1}}const Hv=Symbol("users list store");class qv{constructor(){e(this,"requestStatus",mt()),e(this,"users",mt([])),e(this,"count",mt(0)),e(this,"request",void 0),this.fetchUsers()}async fetchUsersSilently(){this.request?.cancel(),this.request=Ev.list();const e=await this.request;this.users.set(e.results.map((e=>new zv(e)))),this.count.set(e.count)}async fetchUsers(){try{this.requestStatus.set({state:"processing"}),await this.fetchUsersSilently(),this.requestStatus.set({state:"success"})}catch(e){this.requestStatus.set({state:"failure",errors:[Dl(e)]})}}async getUserDetails(e){const t=m(this.requestStatus);if("success"===t?.state)return m(this.users).find((t=>t.id===e));if("processing"===t?.state){const t=(await this.request)?.results.find((t=>t.id===e));if(t)return new zv(t)}}async delete(e){this.requestStatus.set({state:"processing"}),await Ev.delete(e),this.users.update((t=>t.filter((t=>t.id!==e)))),this.count.update((e=>e-1)),this.requestStatus.set({state:"success"}),this.fetchUsersSilently()}async addDatabaseRoleForUser(e,t,n){const r=await Ev.addDatabaseRole(e,t.id,n);this.users.update((t=>t.map((t=>t.id===e?t.withNewDatabaseRole(r):t)))),this.fetchUsersSilently()}async removeDatabaseAccessForUser(e,t){const n=m(this.users).find((t=>t.id===e))?.getRoleForDb(t);n&&(await Ev.deleteDatabaseRole(n.id),this.users.update((t=>t.map((t=>t.id===e?t.withoutDatabaseRole(n):t)))),this.fetchUsersSilently())}async addSchemaRoleForUser(e,t,n){const r=await Ev.addSchemaRole(e,t.id,n);this.users.update((t=>t.map((t=>t.id===e?t.withNewSchemaRole(r):t)))),this.fetchUsersSilently()}async removeSchemaAccessForUser(e,t){const n=m(this.users).find((t=>t.id===e))?.getRoleForSchema(t);n&&(await Ev.deleteSchemaRole(n.id),this.users.update((t=>t.map((t=>t.id===e?t.withoutSchemaRole(n):t)))),this.fetchUsersSilently())}getUsersWithAccessToDb(e){return ft(this.users,(t=>t.filter((t=>t.hasDbAccess(e)))))}getUsersWithoutAccessToDb(e){return ft(this.users,(t=>t.filter((t=>!t.hasDbAccess(e)))))}getNormalUsersWithDirectSchemaRole(e){return ft(this.users,(t=>t.filter((t=>!t.isSuperUser&&t.hasDirectSchemaAccess(e)))))}getNormalUsersWithoutDirectSchemaRole(e){return ft(this.users,(t=>t.filter((t=>!t.isSuperUser&&!t.hasDirectSchemaAccess(e)))))}getUsersWithAccessToSchema(e,t){return ft(this.users,(n=>n.filter((n=>n.hasSchemaAccess(e,t)))))}}function Vv(){return he(Hv)}function jv(){if(void 0!==Vv())throw Error("UsersStore context has already been set");const e=new qv;return ge(Hv,e),e}const Wv=Symbol("UserProfileStore");function Uv(){return he(Wv)}function Yv(e){if(void 0!==Uv())throw Error("User profile store context has already been set");const t=mt(e instanceof zv?e:new zv(e));return ge(Wv,t),t}function Bv(e,t,n){const r=e.slice();return r[5]=t[n],r}function Kv(e){let t,n,r=e[6],o=[];for(let i=0;i<r.length;i+=1)o[i]=Xv(Bv(e,r,i));const s=e=>Ve(o[e],1,1,(()=>{o[e]=null}));return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=j()},m(e,r){for(let t=0;t<o.length;t+=1)o[t].m(e,r);P(e,t,r),n=!0},p(e,n){if(64&n){let i;for(r=e[6],i=0;i<r.length;i+=1){const s=Bv(e,r,i);o[i]?(o[i].p(s,n),qe(o[i],1)):(o[i]=Xv(s),o[i].c(),qe(o[i],1),o[i].m(t.parentNode,t))}for(Fe(),i=r.length;i<o.length;i+=1)s(i);He()}},i(e){if(!n){for(let e=0;e<r.length;e+=1)qe(o[e]);n=!0}},o(e){o=o.filter(Boolean);for(let t=0;t<o.length;t+=1)Ve(o[t]);n=!1},d(e){z(o,e),e&&R(t)}}}function Gv(e){let t,n;return t=new Tr({}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p:s,i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Xv(e){let t,n;const r=[e[5],{size:"min(1em, 0.75em + 0.25rem)"}];let o={};for(let s=0;s<r.length;s+=1)o=a(o,r[s]);return t=new Wr({props:o}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const o=64&n?et(r,[tt(e[5]),r[1]]):{};t.$set(o)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Jv(e){let t;const n=e[7].default,r=g(n,e,e[9],null);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||512&o)&&v(r,n,e,e[9],t?y(n,e[9],o,null):b(e[9]),null)},i(e){t||(qe(r,e),t=!0)},o(e){Ve(r,e),t=!1},d(e){r&&r.d(e)}}}function Zv(e){let t;return{c(){t=q(e[0])},m(e,n){P(e,t,n)},p(e,n){1&n&&X(t,e[0])},i:s,o:s,d(e){e&&R(t)}}}function Qv(e){let t,n,r,o,s,i,a,l,c,u,d;const p=[Gv,Kv],$=[];function m(e,t){return e[1]?0:1}r=m(e),o=$[r]=p[r](e);const f=[Zv,Jv],g=[];function h(e,t){return e[0]?0:1}return a=h(e),l=g[a]=f[a](e),{c(){t=F("span"),n=F("span"),o.c(),s=q(""),i=F("span"),l.c(),B(n,"class","icon svelte-1byqy9q"),Z(n,"white-space","nowrap"),B(i,"class","name svelte-1byqy9q"),B(t,"class","name-with-icon svelte-1byqy9q"),te(t,"boxed",e[2]),te(t,"bold",e[4])},m(o,l){P(o,t,l),A(t,n),$[r].m(n,null),A(t,s),A(t,i),g[a].m(i,null),c=!0,u||(d=W(t,"click",e[8]),u=!0)},p(e,s){let u=r;r=m(e),r===u?$[r].p(e,s):(Fe(),Ve($[u],1,1,(()=>{$[u]=null})),He(),o=$[r],o?o.p(e,s):(o=$[r]=p[r](e),o.c()),qe(o,1),o.m(n,null));let d=a;a=h(e),a===d?g[a].p(e,s):(Fe(),Ve(g[d],1,1,(()=>{g[d]=null})),He(),l=g[a],l?l.p(e,s):(l=g[a]=f[a](e),l.c()),qe(l,1),l.m(i,null)),(!c||4&s)&&te(t,"boxed",e[2]),(!c||16&s)&&te(t,"bold",e[4])},i(e){c||(qe(o),qe(l),c=!0)},o(e){Ve(o),Ve(l),c=!1},d(e){e&&R(t),$[r].d(),g[a].d(),u=!1,d()}}}function eb(e){let t,n;return t=new kl({props:{passthrough:!e[3],$$slots:{default:[Qv]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const r={};8&n&&(r.passthrough=!e[3]),599&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function tb(e,t,n){let r,{$$slots:o={},$$scope:s}=t,{icon:i}=t,{name:a}=t,{isLoading:l=!1}=t,{iconHasBox:c=!1}=t,{truncate:u=!0}=t,{bold:d=!1}=t;return e.$$set=e=>{"icon"in e&&n(5,i=e.icon),"name"in e&&n(0,a=e.name),"isLoading"in e&&n(1,l=e.isLoading),"iconHasBox"in e&&n(2,c=e.iconHasBox),"truncate"in e&&n(3,u=e.truncate),"bold"in e&&n(4,d=e.bold),"$$scope"in e&&n(9,s=e.$$scope)},e.$$.update=()=>{32&e.$$.dirty&&n(6,r=Array.isArray(i)?i:[i])},[a,l,c,u,d,i,r,o,function(t){ve.call(this,e,t)},s]}class nb extends at{constructor(e){super(),it(this,e,tb,eb,p,{icon:5,name:0,isLoading:1,iconHasBox:2,truncate:3,bold:4})}}function rb(e){let t,n=e[0].name+"";return{c(){t=q(n)},m(e,n){P(e,t,n)},p(e,r){1&r&&n!==(n=e[0].name+"")&&X(t,n)},d(e){e&&R(t)}}}function ob(e){let t,n;return t=new nb({props:{icon:of,iconHasBox:e[1],$$slots:{default:[rb]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const r={};2&n&&(r.iconHasBox=e[1]),5&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function sb(e,t,n){let{database:r}=t,{iconHasBox:o=!1}=t;return e.$$set=e=>{"database"in e&&n(0,r=e.database),"iconHasBox"in e&&n(1,o=e.iconHasBox)},[r,o]}class ib extends at{constructor(e){super(),it(this,e,sb,ob,p,{database:0,iconHasBox:1})}}function ab(e){let t,n=e[0].name+"";return{c(){t=q(n)},m(e,n){P(e,t,n)},p(e,r){1&r&&n!==(n=e[0].name+"")&&X(t,n)},d(e){e&&R(t)}}}function lb(e){let t,n,r;return n=new nb({props:{icon:$f,iconHasBox:e[1],$$slots:{default:[ab]},$$scope:{ctx:e}}}),{c(){t=F("span"),rt(n.$$.fragment),B(t,"class","schema-name svelte-1a5ste4"),te(t,"is-locked",e[2])},m(e,o){P(e,t,o),ot(n,t,null),r=!0},p(e,[o]){const s={};2&o&&(s.iconHasBox=e[1]),9&o&&(s.$$scope={dirty:o,ctx:e}),n.$set(s),(!r||4&o)&&te(t,"is-locked",e[2])},i(e){r||(qe(n.$$.fragment,e),r=!0)},o(e){Ve(n.$$.fragment,e),r=!1},d(e){e&&R(t),st(n)}}}function cb(e,t,n){let r,{schema:o}=t,{iconHasBox:s=!1}=t;return e.$$set=e=>{"schema"in e&&n(0,o=e.schema),"iconHasBox"in e&&n(1,s=e.iconHasBox)},e.$$.update=()=>{1&e.$$.dirty&&n(2,r="public"===o.name)},[o,s,r]}class ub extends at{constructor(e){super(),it(this,e,cb,lb,p,{schema:0,iconHasBox:1})}}const db=e=>({tableName:1&e}),pb=e=>({tableName:e[0].name});function $b(e){let t;return{c(){t=q("*")},m(e,n){P(e,t,n)},d(e){e&&R(t)}}}function mb(e){let t,n,r;const o=e[4].default,s=g(o,e,e[5],pb),i=s||function(e){let t,n=e[0].name+"";return{c(){t=q(n)},m(e,n){P(e,t,n)},p(e,r){1&r&&n!==(n=e[0].name+"")&&X(t,n)},d(e){e&&R(t)}}}(e);let a=e[2]&&$b();return{c(){i&&i.c(),t=V(),a&&a.c(),n=j()},m(e,o){i&&i.m(e,o),P(e,t,o),a&&a.m(e,o),P(e,n,o),r=!0},p(e,t){s?s.p&&(!r||33&t)&&v(s,o,e,e[5],r?y(o,e[5],t,db):b(e[5]),pb):i&&i.p&&(!r||1&t)&&i.p(e,r?t:-1),e[2]?a||(a=$b(),a.c(),a.m(n.parentNode,n)):a&&(a.d(1),a=null)},i(e){r||(qe(i,e),r=!0)},o(e){Ve(i,e),r=!1},d(e){i&&i.d(e),e&&R(t),a&&a.d(e),e&&R(n)}}}function fb(e){let t,n;const r=[{icon:hf},{isLoading:e[1]},e[3]];let o={$$slots:{default:[mb]},$$scope:{ctx:e}};for(let s=0;s<r.length;s+=1)o=a(o,r[s]);return t=new nb({props:o}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const o=10&n?et(r,[0&n&&{icon:hf},2&n&&{isLoading:e[1]},8&n&&tt(e[3])]):{};37&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function gb(e,t,n){let r;const o=["table","isLoading"];let s=x(t,o),{$$slots:i={},$$scope:l}=t,{table:c}=t,{isLoading:u=!1}=t;return e.$$set=e=>{t=a(a({},t),w(e)),n(3,s=x(t,o)),"table"in e&&n(0,c=e.table),"isLoading"in e&&n(1,u=e.isLoading),"$$scope"in e&&n(5,l=e.$$scope)},e.$$.update=()=>{1&e.$$.dirty&&n(2,r=iv(c))},[c,u,r,s,i,l]}class hb extends at{constructor(e){super(),it(this,e,gb,fb,p,{table:0,isLoading:1})}}function yb(e){let t,n,r;const o=e[2].default,s=g(o,e,e[1],null);return{c(){t=F("span"),n=F("a"),s&&s.c(),B(n,"href",e[0]),B(n,"class","svelte-1az8rx5"),B(t,"class","breadcrumb-link svelte-1az8rx5")},m(e,o){P(e,t,o),A(t,n),s&&s.m(n,null),r=!0},p(e,[t]){s&&s.p&&(!r||2&t)&&v(s,o,e,e[1],r?y(o,e[1],t,null):b(e[1]),null),(!r||1&t)&&B(n,"href",e[0])},i(e){r||(qe(s,e),r=!0)},o(e){Ve(s,e),r=!1},d(e){e&&R(t),s&&s.d(e)}}}function vb(e,t,n){let{$$slots:r={},$$scope:o}=t,{href:s}=t;return e.$$set=e=>{"href"in e&&n(0,s=e.href),"$$scope"in e&&n(1,o=e.$$scope)},[s,o,r]}class bb extends at{constructor(e){super(),it(this,e,vb,yb,p,{href:0})}}const wb=new Set(["a","e","i","o","u"]);function xb(e){return wb.has(e[0]?.toLowerCase())?"an":"a"}function Sb(e){return e.length>1?e.replace(/s$/i,""):e}function Cb(e){return(e[0]?.toLocaleUpperCase()??"")+e.slice(1)}function kb(e){if("number"==typeof e)return e;if(e instanceof Array)return e.length;if("size"in e)return e.size;if("object"==typeof e&&"function"==typeof e[Symbol.iterator]){let t=0;for(const n of e)t+=1;return t}return 0}function Db(e,t="en-US"){return function(e,t="en-US"){return"object"==typeof Intl&&"function"==typeof Intl.PluralRules?new Intl.PluralRules(t).select(e):0===e?"zero":1===e?"one":2===e?"two":"many"}(kb(e),t)}function Ib(e,t){return{zero:t,one:e,two:t,few:t,many:t,other:t}}const _b={cells:Ib("cell","cells"),columns:Ib("column","columns"),explorations:Ib("exploration","explorations"),filters:Ib("filter","filters"),matches:Ib("match","matches"),records:Ib("record","records"),rows:Ib("row","rows"),results:Ib("result","results"),schemas:Ib("schema","schemas"),tables:Ib("table","tables"),times:Ib("time","times"),values:Ib("value","values")};function Tb(e,t="lower"){switch(t){case"title":return function(e){return e.split(" ").map(Cb).join(" ")}(e);case"sentence":return Cb(e);default:return e}}function Mb(e,t,n="lower"){return Tb(_b[t][Db(e)],n)}function Eb(e,t,{casing:n,countWhenZero:r="numeric",countWhenSingular:o="numeric"}={}){const s=kb(e),i=function(e,t,n){if(0===e){if("numeric"===t)return String(e);if("word"in t)return t.word;_l(t)}if(1===e){if("numeric"===n)return String(e);if("hidden"===n)return"";if("word"in n)return n.word;_l(n)}return String(e)}(s,r,o);return[i,Mb(s,t,n)].filter(Boolean).join(" ")}function Ob(e,t){const n=kb(e);return 1===n?"once":2===n?"twice":Eb(e,"times",{casing:t})}function Ab(e){let t,n,r,o,s;const i=[Wm];let l={};for(let c=0;c<i.length;c+=1)l=a(l,i[c]);return n=new Wr({props:l}),{c(){t=F("button"),rt(n.$$.fragment),B(t,"class","record-selector-navigation-button passthrough svelte-yoaubg"),B(t,"aria-label",e[0]),B(t,"title",e[0])},m(i,a){P(i,t,a),ot(n,t,null),r=!0,o||(s=W(t,"click",e[1]),o=!0)},p(e,[o]){const s=0&o?et(i,[tt(Wm)]):{};n.$set(s),(!r||1&o)&&B(t,"aria-label",e[0]),(!r||1&o)&&B(t,"title",e[0])},i(e){r||(qe(n.$$.fragment,e),r=!0)},o(e){Ve(n.$$.fragment,e),r=!1},d(e){e&&R(t),st(n),o=!1,s()}}}function Lb(e,t,n){let r,o,s;const i=Qf(),a=fe();let{table:l}=t;return e.$$set=e=>{"table"in e&&n(2,l=e.table)},e.$$.update=()=>{4&e.$$.dirty&&n(3,({id:r,name:o}=l),o),8&e.$$.dirty&&n(0,s=`Navigate to one ${o?`${o} `:""}record`)},[s,function(){i.navigateToRecordPage({tableId:r}),a("click")},l,o]}class Nb extends at{constructor(e){super(),it(this,e,Lb,Ab,p,{table:2})}}function Pb(e){let t,n;return t=new nb({props:{icon:e[4],$$slots:{default:[zb]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};16&n&&(r.icon=e[4]),138&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Rb(e){let t,n;return t=new hb({props:{table:e[0].table,$$slots:{default:[Fb,({tableName:e})=>({6:e}),({tableName:e})=>e?64:0]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.table=e[0].table),194&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function zb(e){let t,n;return t=new vp({props:{text:e[3],substring:e[1]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};8&n&&(r.text=e[3]),2&n&&(r.substring=e[1]),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Fb(e){let t,n;return t=new vp({props:{text:e[6],substring:e[1]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};64&n&&(r.text=e[6]),2&n&&(r.substring=e[1]),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Hb(e){let t,n,r;return n=new Nb({props:{table:e[0].table}}),n.$on("click",(function(){d(e[2])&&e[2].apply(this,arguments)})),{c(){t=F("div"),rt(n.$$.fragment),B(t,"class","record-selector svelte-1jdtdoc")},m(e,o){P(e,t,o),ot(n,t,null),r=!0},p(t,r){e=t;const o={};1&r&&(o.table=e[0].table),n.$set(o)},i(e){r||(qe(n.$$.fragment,e),r=!0)},o(e){Ve(n.$$.fragment,e),r=!1},d(e){e&&R(t),st(n)}}}function qb(e){let t,n,r,o,s,i,a,l,c,u;const p=[Rb,Pb],$=[];function m(e,t){return"table"in e[0]?0:1}r=m(e),o=$[r]=p[r](e);let f="table"===e[0].type&&Hb(e);return{c(){t=F("li"),n=F("a"),o.c(),s=V(),f&&f.c(),i=V(),a=F("div"),B(n,"href",e[5]),B(n,"class","svelte-1jdtdoc"),B(a,"class","hover-indicator svelte-1jdtdoc"),B(t,"class","breadcrumb-selector-row svelte-1jdtdoc"),te(t,"active",e[0].isActive())},m(o,p){P(o,t,p),A(t,n),$[r].m(n,null),A(t,s),f&&f.m(t,null),A(t,i),A(t,a),l=!0,c||(u=W(n,"click",(function(){d(e[2])&&e[2].apply(this,arguments)})),c=!0)},p(s,[a]){let c=r;r=m(e=s),r===c?$[r].p(e,a):(Fe(),Ve($[c],1,1,(()=>{$[c]=null})),He(),o=$[r],o?o.p(e,a):(o=$[r]=p[r](e),o.c()),qe(o,1),o.m(n,null)),(!l||32&a)&&B(n,"href",e[5]),"table"===e[0].type?f?(f.p(e,a),1&a&&qe(f,1)):(f=Hb(e),f.c(),qe(f,1),f.m(t,i)):f&&(Fe(),Ve(f,1,1,(()=>{f=null})),He()),(!l||1&a)&&te(t,"active",e[0].isActive())},i(e){l||(qe(o),qe(f),l=!0)},o(e){Ve(o),Ve(f),l=!1},d(e){e&&R(t),$[r].d(),f&&f.d(),c=!1,u()}}}function Vb(e,t,n){let r,o,s,{entry:i}=t,{filterString:a=""}=t,{closeSelector:l}=t;return e.$$set=e=>{"entry"in e&&n(0,i=e.entry),"filterString"in e&&n(1,a=e.filterString),"closeSelector"in e&&n(2,l=e.closeSelector)},e.$$.update=()=>{1&e.$$.dirty&&n(5,({href:r,icon:o,label:s}=i),r,(n(4,o),n(0,i)),(n(3,s),n(0,i)))},[i,a,l,s,o,r]}class jb extends at{constructor(e){super(),it(this,e,Vb,qb,p,{entry:0,filterString:1,closeSelector:2})}}function Wb(e,t,n){const r=e.slice();return r[13]=t[n][0],r[14]=t[n][1],r}function Ub(e,t,n){const r=e.slice();return r[17]=t[n],r}function Yb(e){let t,n,r;const o=[Tm];let s={};for(let i=0;i<o.length;i+=1)s=a(s,o[i]);return n=new Wr({props:s}),{c(){t=F("span"),rt(n.$$.fragment),B(t,"class","trigger svelte-xg52ws")},m(e,o){P(e,t,o),ot(n,t,null),r=!0},p(e,t){const r=0&t?et(o,[tt(Tm)]):{};n.$set(r)},i(e){r||(qe(n.$$.fragment,e),r=!0)},o(e){Ve(n.$$.fragment,e),r=!1},d(e){e&&R(t),st(n)}}}function Bb(e){let t,n=e[2].length>0&&Kb(e);return{c(){n&&n.c(),t=j()},m(e,r){n&&n.m(e,r),P(e,t,r)},p(e,r){e[2].length>0?n?n.p(e,r):(n=Kb(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(e){n&&n.d(e),e&&R(t)}}}function Kb(e){let t,n,r,o,s;return{c(){t=F("div"),n=q("No matches for "),r=F("b"),o=q(e[2]),s=V(),B(t,"class","section-name svelte-xg52ws")},m(e,i){P(e,t,i),A(t,n),A(t,r),A(r,o),A(t,s)},p(e,t){4&t&&X(o,e[2])},d(e){e&&R(t)}}}function Gb(e){let t,n,r,o,s,i=[],a=new Map;function l(e,t){return 0===e[2]?.length?Jb:Xb}let c=l(e),u=c(e),d=e[14];const p=e=>e[17].href;for(let $=0;$<d.length;$+=1){let t=Ub(e,d,$),n=p(t);a.set(n,i[$]=Zb(n,t))}return{c(){t=F("div"),u.c(),n=V(),r=F("ul");for(let e=0;e<i.length;e+=1)i[e].c();o=V(),B(t,"class","section-name svelte-xg52ws"),B(r,"class","items svelte-xg52ws")},m(e,a){P(e,t,a),u.m(t,null),P(e,n,a),P(e,r,a);for(let t=0;t<i.length;t+=1)i[t].m(r,null);A(r,o),s=!0},p(e,n){c===(c=l(e))&&u?u.p(e,n):(u.d(1),u=c(e),u&&(u.c(),u.m(t,null))),38&n&&(d=e[14],Fe(),i=Qe(i,n,p,1,e,d,a,r,Je,Zb,o,Ub),He())},i(e){if(!s){for(let e=0;e<d.length;e+=1)qe(i[e]);s=!0}},o(e){for(let t=0;t<i.length;t+=1)Ve(i[t]);s=!1},d(e){e&&R(t),u.d(),e&&R(n),e&&R(r);for(let t=0;t<i.length;t+=1)i[t].d()}}}function Xb(e){let t,n,r,o,s,i,a=Eb(e[14],"matches")+"",l=e[5].size>1?`in ${e[13]}`:"";return{c(){t=q(a),n=q("\n                for\n                "),r=F("b"),o=q(e[2]),s=V(),i=q(l)},m(e,a){P(e,t,a),P(e,n,a),P(e,r,a),A(r,o),P(e,s,a),P(e,i,a)},p(e,n){32&n&&a!==(a=Eb(e[14],"matches")+"")&&X(t,a),4&n&&X(o,e[2]),32&n&&l!==(l=e[5].size>1?`in ${e[13]}`:"")&&X(i,l)},d(e){e&&R(t),e&&R(n),e&&R(r),e&&R(s),e&&R(i)}}}function Jb(e){let t,n=e[13]+"";return{c(){t=q(n)},m(e,n){P(e,t,n)},p(e,r){32&r&&n!==(n=e[13]+"")&&X(t,n)},d(e){e&&R(t)}}}function Zb(e,t){let n,r,o;return r=new jb({props:{entry:t[17],filterString:t[2],closeSelector:t[11]}}),{key:e,first:null,c(){n=j(),rt(r.$$.fragment),this.first=n},m(e,t){P(e,n,t),ot(r,e,t),o=!0},p(e,n){t=e;const o={};32&n&&(o.entry=t[17]),4&n&&(o.filterString=t[2]),2&n&&(o.closeSelector=t[11]),r.$set(o)},i(e){o||(qe(r.$$.fragment,e),o=!0)},o(e){Ve(r.$$.fragment,e),o=!1},d(e){e&&R(n),st(r,e)}}}function Qb(e,t){let n,r,o,s=t[14].length>0&&Gb(t);return{key:e,first:null,c(){n=j(),s&&s.c(),r=j(),this.first=n},m(e,t){P(e,n,t),s&&s.m(e,t),P(e,r,t),o=!0},p(e,n){(t=e)[14].length>0?s?(s.p(t,n),32&n&&qe(s,1)):(s=Gb(t),s.c(),qe(s,1),s.m(r.parentNode,r)):s&&(Fe(),Ve(s,1,1,(()=>{s=null})),He())},i(e){o||(qe(s),o=!0)},o(e){Ve(s),o=!1},d(e){e&&R(n),s&&s.d(e),e&&R(r)}}}function ew(e){let t,n,r,o,s,i,a,l,c=[],u=new Map;function d(t){e[9](t)}function p(t){e[10](t)}let $={prefixIcon:gr};void 0!==e[2]&&($.value=e[2]),void 0!==e[3]&&($.element=e[3]),r=new vl({props:$}),we.push((()=>nt(r,"value",d))),we.push((()=>nt(r,"element",p)));let m=[...e[5]];const f=e=>e[13];for(let h=0;h<m.length;h+=1){let t=Wb(e,m,h),n=f(t);u.set(n,c[h]=Qb(n,t))}let g=null;return m.length||(g=Bb(e)),{c(){t=F("div"),n=F("div"),rt(r.$$.fragment),i=V(),a=F("div");for(let e=0;e<c.length;e+=1)c[e].c();g&&g.c(),B(n,"class","search"),B(a,"class","results svelte-xg52ws"),B(t,"class","entity-switcher-content svelte-xg52ws")},m(e,o){P(e,t,o),A(t,n),ot(r,n,null),A(t,i),A(t,a);for(let t=0;t<c.length;t+=1)c[t].m(a,null);g&&g.m(a,null),l=!0},p(e,t){const n={};!o&&4&t&&(o=!0,n.value=e[2],Te((()=>o=!1))),!s&&8&t&&(s=!0,n.element=e[3],Te((()=>s=!1))),r.$set(n),38&t&&(m=[...e[5]],Fe(),c=Qe(c,t,f,1,e,m,u,a,Je,Qb,null,Wb),He(),!m.length&&g?g.p(e,t):m.length?g&&(g.d(1),g=null):(g=Bb(e),g.c(),g.m(a,null)))},i(e){if(!l){qe(r.$$.fragment,e);for(let e=0;e<m.length;e+=1)qe(c[e]);l=!0}},o(e){Ve(r.$$.fragment,e);for(let t=0;t<c.length;t+=1)Ve(c[t]);l=!1},d(e){e&&R(t),st(r);for(let t=0;t<c.length;t+=1)c[t].d();g&&g.d()}}}function tw(e){let t,n,r,o,s,i,a;function l(t){e[7](t)}let c={"aria-label":e[0],title:e[0],appearance:"ghost",class:"padding-zero",$$slots:{default:[Yb]},$$scope:{ctx:e}};function u(t){e[12](t)}void 0!==e[4]&&(c.element=e[4]),n=new Ln({props:c}),we.push((()=>nt(n,"element",l))),n.$on("click",e[8]);let d={trigger:e[4],class:"breadcrumb-selector-dropdown",$$slots:{default:[ew]},$$scope:{ctx:e}};return void 0!==e[1]&&(d.isOpen=e[1]),s=new qs({props:d}),we.push((()=>nt(s,"isOpen",u))),{c(){t=F("div"),rt(n.$$.fragment),o=V(),rt(s.$$.fragment),B(t,"class","entity-switcher svelte-xg52ws"),te(t,"is-open",e[1])},m(e,r){P(e,t,r),ot(n,t,null),A(t,o),ot(s,t,null),a=!0},p(e,[o]){const l={};1&o&&(l["aria-label"]=e[0]),1&o&&(l.title=e[0]),1048576&o&&(l.$$scope={dirty:o,ctx:e}),!r&&16&o&&(r=!0,l.element=e[4],Te((()=>r=!1))),n.$set(l);const c={};16&o&&(c.trigger=e[4]),1048622&o&&(c.$$scope={dirty:o,ctx:e}),!i&&2&o&&(i=!0,c.isOpen=e[1],Te((()=>i=!1))),s.$set(c),(!a||2&o)&&te(t,"is-open",e[1])},i(e){a||(qe(n.$$.fragment,e),qe(s.$$.fragment,e),a=!0)},o(e){Ve(n.$$.fragment,e),Ve(s.$$.fragment,e),a=!1},d(e){e&&R(t),st(n),st(s)}}}function nw(e,t,n){let r,o,s,i,{data:a}=t,{triggerLabel:l}=t,c=!1;return e.$$set=e=>{"data"in e&&n(6,a=e.data),"triggerLabel"in e&&n(0,l=e.triggerLabel)},e.$$.update=()=>{10&e.$$.dirty&&(c?i?.focus():n(2,s="")),68&e.$$.dirty&&n(5,r=s?Og(a,s):a)},[l,c,s,i,o,r,a,function(e){o=e,n(4,o)},()=>{n(1,c=!c)},function(e){s=e,n(2,s),n(1,c),n(3,i)},function(e){i=e,n(3,i)},()=>{n(1,c=!1)},function(e){c=e,n(1,c)}]}class rw extends at{constructor(e){super(),it(this,e,nw,tw,p,{data:6,triggerLabel:0})}}function ow(e){let t,n;return t=new rw({props:{data:new Map([["Databases",e[0].map(e[1])]]),triggerLabel:"Choose a Database"}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const r={};1&n&&(r.data=new Map([["Databases",e[0].map(e[1])]])),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function sw(e,t,n){let r,o,s;return f(e,yh,(e=>n(2,o=e))),f(e,hh,(e=>n(3,s=e))),e.$$.update=()=>{4&e.$$.dirty&&n(0,r=[...o.data.values()])},[r,function(e){return{type:"simple",label:e.name,href:Ag(e.name),icon:of,isActive:()=>e.name===s}},o]}class iw extends at{constructor(e){super(),it(this,e,sw,ow,p,{})}}class aw{constructor(t,n){e(this,"maxEntries",5),e(this,"cache",void 0),this.maxEntries=t,this.cache=new Map(n??[])}set(e,t){this.cache.delete(e),this.cache.set(e,t),this.cache.size>this.maxEntries&&this.cache.delete([...this.cache.keys()][0])}get(e){return this.cache.get(e)}}class lw{constructor(t){e(this,"slug",void 0),e(this,"queryParams",void 0),this.slug=t.slug,this.queryParams={"shared-link-uuid":t.slug}}getQueryParams(){return this.queryParams}}const cw=ng(),uw=new aw(3),dw=new Map;function pw(e,t){const n=new Map;t&&function(e){return[...e].sort(((e,t)=>e.name?.localeCompare(t.name)))}(t).forEach((e=>{n.set(e.id,e)}));const r={schemaId:e,requestStatus:{state:"success"},data:n};let o=uw.get(e);return o?o.set(r):(o=mt(r),uw.set(e,o)),o}async function $w(e){const t=uw.get(e);if(t)try{t.update((e=>({...e,requestStatus:{state:"processing"}}))),dw.get(e)?.cancel();const n=dh(`/api/db/v0/queries/?schema=${e}&limit=500`);dw.set(e,n);const r=(await n).results||[];return m(pw(e,r))}catch(n){return void t.update((e=>({...e,requestStatus:{state:"failure",errors:[n instanceof Error?n.message:"Error in fetching schemas"]}})))}else console.error(`Queries store for schema: ${e} not found.`)}let mw=!0;function fw(e){let t=uw.get(e);return t?"failure"===m(t).requestStatus.state&&$w(e):(t=mt({schemaId:e,requestStatus:{state:"processing"},data:new Map}),uw.set(e,t),mw&&cw?.current_schema===e?t=pw(e,cw?.queries??[]):$w(e),mw=!1),t}const gw=ft(Fh,((e,t)=>{let n;if(e){const r=fw(e);n=r.subscribe((e=>{t(e)}))}else t({requestStatus:{state:"success"},data:new Map});return()=>{n?.()}}));function hw(e){const t=uh("PUT",`/api/db/v0/queries/${e.id}/`,e);return t.then((t=>{const n=m(Fh);if(n){const r=fw(n);m(r).data.set(e.id,t),pw(n,[...m(r).data.values()])}})),t}function yw(e){const t=mh(`/api/db/v0/queries/${e}/`);return t.then((()=>{const t=function(e){return[...uw.cache.values()].find((t=>m(t).data.has(e)))}(e);t&&(t.update((t=>(t.data.delete(e),{...t,data:new Map(t.data)}))),Uh(m(t).schemaId,-1))})),t}function vw(e){let t,n;return t=new rw({props:{data:e[0],triggerLabel:"Choose a Table or Exploration"}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const r={};1&n&&(r.data=e[0]),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function bw(e,t,n){let r,o,s,i,a,l,c;f(e,gw,(e=>n(6,i=e))),f(e,Cv,(e=>n(7,a=e))),f(e,Iv,(e=>n(9,c=e)));let{database:u}=t,{schema:d}=t;function p(e){return{type:"table",table:e,label:e.name,href:lv(u.name,d.id,e),icon:hf,isActive:()=>e.id===c}}const $=xg();function m(e){return{type:"simple",label:e.name,href:qg(u.name,d.id,e.id),icon:hf,isActive(){const t=qg(u.name,d.id,e.id);return l.url.startsWith(t)}}}return f(e,$,(e=>n(8,l=e))),e.$$set=e=>{"database"in e&&n(2,u=e.database),"schema"in e&&n(3,d=e.schema)},e.$$.update=()=>{128&e.$$.dirty&&n(5,r=[...a.data.values()]),64&e.$$.dirty&&n(4,o=[...i.data.values()]),48&e.$$.dirty&&n(0,s=new Map([["Tables",r.map(p)],["Explorations",o.map(m)]]))},[s,$,u,d,o,r,i,a]}class ww extends at{constructor(e){super(),it(this,e,bw,vw,p,{database:2,schema:3})}}function xw(e){let t,n;return t=new rw({props:{data:new Map([["Schemas",e[0].map(e[1])]]),triggerLabel:"Choose a Schema"}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const r={};1&n&&(r.data=new Map([["Schemas",e[0].map(e[1])]])),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Sw(e,t,n){let r,o,s;f(e,Gh,(e=>n(3,o=e))),f(e,Fh,(e=>n(4,s=e)));let{database:i}=t;return e.$$set=e=>{"database"in e&&n(2,i=e.database)},e.$$.update=()=>{8&e.$$.dirty&&n(0,r=[...o.data.values()])},[r,function(e){return{type:"simple",label:e.name,href:Lg(i.name,e.id),icon:$f,isActive:()=>e.id===s}},i,o]}class Cw extends at{constructor(e){super(),it(this,e,Sw,xw,p,{database:2})}}function kw(e){let t,n,r;return{c(){t=H("svg"),n=H("path"),r=H("path"),B(n,"class","outer svelte-1b88tpd"),B(n,"d","m18.35 0.09207c-1.152 7.807e-4 -2.635 0.3131-3.622 0.9921-0.9901 0.6812-0.5287 2.056 0.2266 2.585-1.007-0.2522-2.018-0.4122-2.988-0.4354-0.9699-0.02324-1.955 0.09245-2.821 0.4453-0.9198 0.3747-1.584 0.9451-1.962 1.716-0.3939 0.8021-0.4815 1.588-0.5129 2.392-0.8075 0.3468-2.145 0.8722-3.33 1.642-1.223 0.7943-2.502 1.987-2.871 3.777-0.2947 1.431-0.2396 3.742-0.03579 5.901 0.2055 2.176 0.6011 4.429 0.8927 5.336 0.298 0.9275 0.7092 1.372 1.443 1.392 1.074 0.02812 3.09-0.0077 3.575-0.01988 0.6369-0.01594 1.171-0.3577 1.431-0.7137 0.1977-0.2703 0.2631-0.5034 0.2883-0.9563 0.03325-0.599 0.2443-1.166 0.4016-1.718 0.4652 0.1986 1.167 0.1588 1.594-0.06362 0.03306 0.2464 0.08158 0.4963 0.1133 0.7436 0.1104 0.8597 0.3894 1.596 0.8112 2.235 0.1707 0.2586 0.6014 0.5661 1.187 0.5626v4e-3c2.139 0 4.277-3.08e-4 5.402 0 1.125 3.08e-4 1.283 9.62e-4 1.439-0.01391 0.9502-0.1075 1.289-0.5873 1.408-1.227 0.04104-0.2213-0.02173-0.6675-0.08748-0.8668-0.6462-1.671-1.305-3.309-1.441-5.09 0.4409-0.6919 0.8857-1.357 1.362-1.952 0.9547-1.193 1.948-2.208 2.505-3.002 0.3073-0.4385 0.1635-0.9533 0.1014-1.143 0.3457-0.2108 0.6778-0.4329 0.9364-0.7296 1.418-1.626 2.166-3.836 1.869-5.813-0.2771-1.846-1.04-3.11-2.326-4.193-1.611-1.357-3.126-1.787-4.988-1.785zm-0.4473 3.223c0.3671-6.552e-4 0.7317 0.04784 1.064 0.1471 0.4283 0.1281 0.7191 0.3172 0.8867 0.5109 0.1472 0.1702 0.2445 0.3894 0.2227 0.7316-1e-3 0.01566-0.0044 0.04149-0.01591 0.07754l-0.02982 0.09344-0.0676 0.09145c-0.02096 0.02825-0.04497 0.05756-0.07357 0.08549l-0.1233 0.1193-0.163 0.05169c-0.07692 0.0237-0.1726 0.03753-0.2883 0.02982h-2e-3c-0.1386-0.00996-0.3246-0.05301-0.5586-0.171h-2e-3c-0.9602-0.4858-2.021-0.9094-3.104-1.229 0.1707-0.00439 0.3584-0.0453 0.5527-0.1491h2e-3c0.4721-0.2529 1.088-0.3886 1.7-0.3897z"),B(r,"class","inner svelte-1b88tpd"),B(r,"d","m18.16 1.303c-0.97 0.03351-1.92 0.2781-2.71 0.7774-0.1753 0.1107 0.08091 0.6012 0.1829 0.5467 2.117-1.134 5.836-0.4821 5.668 2.155-0.0078 0.122-0.03177 0.2472-0.07157 0.3718 0.1697 0.03181 0.3368 0.06151 0.4931 0.05964 0.3673-0.0044 0.3792 0.5654-0.01198 0.5587-0.2708-0.00467-0.5129-0.03452-0.7595-0.07754-0.05986 0.0807-0.1288 0.1582-0.2028 0.2306 0.2214 0.06347 0.4212 0.1466 0.5964 0.2207 0.4015 0.1698 0.1072 0.7515-0.2485 0.6064-0.3522-0.1437-0.7434-0.2657-1.127-0.3618-0.2215 0.06824-0.4682 0.09971-0.7336 0.08151-0.3168-0.02215-0.6613-0.115-1.028-0.3002-1.934-0.9788-4.268-1.67-6.247-1.718-0.8814-0.021-1.687 0.08674-2.348 0.3559-1.355 0.552-1.648 1.574-1.722 2.827 0.1192 2.325 0.7394 3.941 1.596 4.986 0.6159 0.7511 1.356 1.207 2.117 1.422 0.7604 0.214 1.544 0.1881 2.249-0.02386 0.7359-0.2217 1.364-0.6598 1.819-1.211 0.3022-0.3661 0.8429 0.0763 0.5607 0.4354-0.533 0.6782-1.299 1.19-2.173 1.453-0.8265 0.249-1.749 0.2779-2.644 0.02585-0.894-0.2516-1.759-0.7823-2.475-1.656-0.8527-1.04-1.491-2.17-1.702-4.193-1.727 0.7486-5.022 1.93-5.567 4.577-0.51 2.476 0.1425 8.616 0.9702 11.05 0.02791 0.08224 0.1255 0.1104 0.2127 0.1113l3.437-0.01988c0.0566 7e-3 0.5772-0.0935 0.5467-0.3797-0.06438-0.6058 0.774-3.644 1.264-3.525 0.2822 0.06861 0.5672 0.8384 1.36 0.5984 0.8521-0.2582 0.9309-1.268 1.37-1.529 0.2796-0.1663 0.2146 0.1532 0.2604 0.6799 0.07441 0.86 0.3329 4.275 1.084 4.247h3.408c0.1622-4.07e-4 0.3114-0.05755 0.4274-0.1551 0.1151-0.0971 0.197-0.2353 0.2247-0.3956 0.2825-1.624 0.759-4.55 1.435-5.752l0.1272-0.2207c0.89-1.515 2.067-2.865 3.455-4.459 0.126-0.1445 0.3013-0.3629 0.4255-0.5189 0.08432-0.106 0.03431-0.2439-0.08151-0.2843-0.4965-0.1731-0.9139-0.3079-1.159-0.5189-0.02616-0.02219-0.03608-0.05598-0.02783-0.08947 0.0085-0.03318 0.03202-0.05629 0.06561-0.06363 2.26-0.4751 3.081-1.652 3.674-3.298 0.3251-0.9019 0.4278-1.814 0.3082-2.694-0.1189-0.8752-0.457-1.724-1.012-2.505-0.2803-0.3944-0.5855-0.7282-0.9086-1.008-1.088-0.9415-2.763-1.475-4.38-1.42zm-0.07953 6.09c0.2647-0.00889 0.5301 0.1034 0.7098 0.3261 0.3024 0.3746-0.4219 0.2323-0.7952 0.5328-0.373 0.3004-0.2544 0.9296-0.5567 0.5547-0.3025-0.3749-0.2437-0.9222 0.1292-1.223 0.1516-0.122 0.3319-0.1848 0.5129-0.1909zm-0.2843 12.33c-0.3926 0.8752-0.5883 3.463-0.7793 4.561-0.02677 0.1549-0.06552 0.2731-0.1372 0.4036h1.722c0.4474 0.0027 0.7397-0.0078 0.5766-0.503-0.3803-1.154-1.199-3.049-1.382-4.461z"),B(t,"width","1em"),B(t,"height","1em"),B(t,"viewBox","0 0 26 26")},m(e,o){P(e,t,o),A(t,n),A(t,r)},p:s,i:s,o:s,d(e){e&&R(t)}}}class Dw extends at{constructor(e){super(),it(this,e,null,kw,p,{})}}function Iw(e){let t,n,r,o,s;return n=new Dw({}),{c(){t=F("a"),rt(n.$$.fragment),r=V(),o=F("div"),o.textContent="Mathesar",B(o,"class","mathesar svelte-1t4pomd"),B(t,"href",e[1]),B(t,"class","home-link svelte-1t4pomd"),te(t,"has-responsive-abridgement",e[0])},m(e,i){P(e,t,i),ot(n,t,null),A(t,r),A(t,o),s=!0},p(e,[n]){(!s||2&n)&&B(t,"href",e[1]),(!s||1&n)&&te(t,"has-responsive-abridgement",e[0])},i(e){s||(qe(n.$$.fragment,e),s=!0)},o(e){Ve(n.$$.fragment,e),s=!1},d(e){e&&R(t),st(n)}}}function _w(e,t,n){let{hasResponsiveAbridgement:r=!1}=t,{href:o}=t;return e.$$set=e=>{"hasResponsiveAbridgement"in e&&n(0,r=e.hasResponsiveAbridgement),"href"in e&&n(1,o=e.href)},[r,o]}class Tw extends at{constructor(e){super(),it(this,e,_w,Iw,p,{hasResponsiveAbridgement:0,href:1})}}function Mw(e){let t,n,r,o,s;const i=[gr];let l={};for(let d=0;d<i.length;d+=1)l=a(l,i[d]);n=new Wr({props:l});const c=[Tm,{class:"expand-right-icon"}];let u={};for(let d=0;d<c.length;d+=1)u=a(u,c[d]);return o=new Wr({props:u}),{c(){t=F("span"),rt(n.$$.fragment),r=V(),rt(o.$$.fragment),B(t,"class","trigger svelte-1q8ggx2")},m(e,i){P(e,t,i),ot(n,t,null),A(t,r),ot(o,t,null),s=!0},p(e,t){const r=0&t?et(i,[tt(gr)]):{};n.$set(r);const s=0&t?et(c,[tt(Tm),c[1]]):{};o.$set(s)},i(e){s||(qe(n.$$.fragment,e),qe(o.$$.fragment,e),s=!0)},o(e){Ve(n.$$.fragment,e),Ve(o.$$.fragment,e),s=!1},d(e){e&&R(t),st(n),st(o)}}}function Ew(e){let t,n;return t=new Ln({props:{appearance:"ghost",class:"padding-zero",$$slots:{default:[Mw]},$$scope:{ctx:e}}}),t.$on("click",e[0]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const r={};8&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Ow(e,t,n){const r=Qf();let{table:o}=t;return e.$$set=e=>{"table"in e&&n(1,o=e.table)},[function(){r.navigateToRecordPage({tableId:o.id})},o]}class Aw extends at{constructor(e){super(),it(this,e,Ow,Ew,p,{table:1})}}function Lw(e){let t,n,r;const o=[If];let s={};for(let i=0;i<o.length;i+=1)s=a(s,o[i]);return n=new Wr({props:s}),{c(){t=F("span"),rt(n.$$.fragment),B(t,"class","page-separator svelte-1gvj87j")},m(e,o){P(e,t,o),ot(n,t,null),r=!0},p(e,[t]){const r=0&t?et(o,[tt(If)]):{};n.$set(r)},i(e){r||(qe(n.$$.fragment,e),r=!0)},o(e){Ve(n.$$.fragment,e),r=!1},d(e){e&&R(t),st(n)}}}class Nw extends at{constructor(e){super(),it(this,e,null,Lw,p,{})}}const Pw=new Map([["&","&amp;"],["<","&lt;"],[">","&gt;"],["'","&#39;"],['"',"&quot;"]]),Rw=new RegExp(`[${[...Pw.keys()].join("")}]`,"g");function zw(e){return Pw.get(e)??""}const Fw=/\{[0-9_a-z]+\}/g,Hw=new RegExp("","g");function qw(e){return void 0===e?"":null===e?"":"string"==typeof e?e:JSON.stringify(e)}function Vw(e,t){return e.replace(Fw,(function(e){return t.get(e.slice(1,-1))??e}))}function jw(e){const t=Object.entries(e);return new dt(t.map((([e,t])=>[e,qw(t)])))}function Ww(e){const t=Object.entries(e.data);return new dt(t.map((([t,n])=>[t,Vw(e.template,jw(n))])))}function Uw(e,t){return e.withEntries(t)}function Yw(e){return new dt(e.map((e=>[String(e.column),Ww(e)])))}function Bw(e,t){return e.withEntries(t,Uw)}function Kw(e,t=qw){return new dt([...e].map((([e,n])=>[String(e),t(n)])))}function Gw({template:e,inputData:t,transitiveData:n}){return Vw(e,{get:function(e){const r=t.get(e);if(void 0===r)return;const o=n.get(e);return void 0===o?r:o.get(r)??r}})}function Xw(e){return function(e){return e.replace(Rw,zw)}(e).replace(Hw,'<span class="postgres-keyword">NULL</span>')}function Jw(e){let t,n,r=Xw(e[0])+"";return{c(){t=new re(!1),n=j(),t.a=n},m(e,o){t.m(r,e,o),P(e,n,o)},p(e,[n]){1&n&&r!==(r=Xw(e[0])+"")&&t.p(r)},i:s,o:s,d(e){e&&R(n),e&&t.d()}}}function Zw(e,t,n){let{recordSummary:r}=t;return e.$$set=e=>{"recordSummary"in e&&n(0,r=e.recordSummary)},[r]}class Qw extends at{constructor(e){super(),it(this,e,Zw,Jw,p,{recordSummary:0})}}function ex(e){let t,n,r,o,s;return t=new Nw({}),o=new bb({props:{href:e[0].href,$$slots:{default:[cx]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment),n=V(),r=F("div"),rt(o.$$.fragment),B(r,"class","breadcrumb-item truncate svelte-56k5nq")},m(e,i){ot(t,e,i),P(e,n,i),P(e,r,i),ot(o,r,null),s=!0},p(e,t){const n={};1&t&&(n.href=e[0].href),5&t&&(n.$$scope={dirty:t,ctx:e}),o.$set(n)},i(e){s||(qe(t.$$.fragment,e),qe(o.$$.fragment,e),s=!0)},o(e){Ve(t.$$.fragment,e),Ve(o.$$.fragment,e),s=!1},d(e){st(t,e),e&&R(n),e&&R(r),st(o)}}}function tx(e){let t,n,r,o,s;return t=new ww({props:{database:e[0].database,schema:e[0].schema}}),o=new bb({props:{href:qg(e[0].database.name,e[0].schema.id,e[0].query.id),$$slots:{default:[dx]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment),n=V(),r=F("div"),rt(o.$$.fragment),B(r,"class","breadcrumb-item truncate svelte-56k5nq")},m(e,i){ot(t,e,i),P(e,n,i),P(e,r,i),ot(o,r,null),s=!0},p(e,n){const r={};1&n&&(r.database=e[0].database),1&n&&(r.schema=e[0].schema),t.$set(r);const s={};1&n&&(s.href=qg(e[0].database.name,e[0].schema.id,e[0].query.id)),5&n&&(s.$$scope={dirty:n,ctx:e}),o.$set(s)},i(e){s||(qe(t.$$.fragment,e),qe(o.$$.fragment,e),s=!0)},o(e){Ve(t.$$.fragment,e),Ve(o.$$.fragment,e),s=!1},d(e){st(t,e),e&&R(n),e&&R(r),st(o)}}}function nx(e){let t,n,r;return n=new bb({props:{href:Wg(e[0].database.name,e[0].schema.id,e[0].table.id,e[0].record.pk),$$slots:{default:[$x]},$$scope:{ctx:e}}}),{c(){t=F("div"),rt(n.$$.fragment),B(t,"class","breadcrumb-item truncate svelte-56k5nq")},m(e,o){P(e,t,o),ot(n,t,null),r=!0},p(e,t){const r={};1&t&&(r.href=Wg(e[0].database.name,e[0].schema.id,e[0].table.id,e[0].record.pk)),5&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(qe(n.$$.fragment,e),r=!0)},o(e){Ve(n.$$.fragment,e),r=!1},d(e){e&&R(t),st(n)}}}function rx(e){let t,n,r,o,s,i,a;return t=new ww({props:{database:e[0].database,schema:e[0].schema}}),o=new bb({props:{href:lv(e[0].database.name,e[0].schema.id,e[0].table),$$slots:{default:[mx]},$$scope:{ctx:e}}}),i=new Aw({props:{table:e[0].table}}),{c(){rt(t.$$.fragment),n=V(),r=F("div"),rt(o.$$.fragment),s=V(),rt(i.$$.fragment),B(r,"class","breadcrumb-item truncate svelte-56k5nq")},m(e,l){ot(t,e,l),P(e,n,l),P(e,r,l),ot(o,r,null),P(e,s,l),ot(i,e,l),a=!0},p(e,n){const r={};1&n&&(r.database=e[0].database),1&n&&(r.schema=e[0].schema),t.$set(r);const s={};1&n&&(s.href=lv(e[0].database.name,e[0].schema.id,e[0].table)),5&n&&(s.$$scope={dirty:n,ctx:e}),o.$set(s);const a={};1&n&&(a.table=e[0].table),i.$set(a)},i(e){a||(qe(t.$$.fragment,e),qe(o.$$.fragment,e),qe(i.$$.fragment,e),a=!0)},o(e){Ve(t.$$.fragment,e),Ve(o.$$.fragment,e),Ve(i.$$.fragment,e),a=!1},d(e){st(t,e),e&&R(n),e&&R(r),st(o),e&&R(s),st(i,e)}}}function ox(e){let t,n,r,o,s;return t=new Cw({props:{database:e[0].database}}),o=new bb({props:{href:Lg(e[0].database.name,e[0].schema.id),$$slots:{default:[fx]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment),n=V(),r=F("div"),rt(o.$$.fragment),B(r,"class","breadcrumb-item truncate svelte-56k5nq")},m(e,i){ot(t,e,i),P(e,n,i),P(e,r,i),ot(o,r,null),s=!0},p(e,n){const r={};1&n&&(r.database=e[0].database),t.$set(r);const s={};1&n&&(s.href=Lg(e[0].database.name,e[0].schema.id)),5&n&&(s.$$scope={dirty:n,ctx:e}),o.$set(s)},i(e){s||(qe(t.$$.fragment,e),qe(o.$$.fragment,e),s=!0)},o(e){Ve(t.$$.fragment,e),Ve(o.$$.fragment,e),s=!1},d(e){st(t,e),e&&R(n),e&&R(r),st(o)}}}function sx(e){let t,n,r,o,s,i,a,l;return n=new Tw({props:{href:Ag(e[0].database.name),hasResponsiveAbridgement:e[1]}}),o=new iw({}),a=new bb({props:{href:Ag(e[0].database.name),$$slots:{default:[gx]},$$scope:{ctx:e}}}),{c(){t=F("div"),rt(n.$$.fragment),r=V(),rt(o.$$.fragment),s=V(),i=F("div"),rt(a.$$.fragment),B(t,"class","breadcrumb-item svelte-56k5nq"),B(i,"class","breadcrumb-item truncate svelte-56k5nq")},m(e,c){P(e,t,c),ot(n,t,null),P(e,r,c),ot(o,e,c),P(e,s,c),P(e,i,c),ot(a,i,null),l=!0},p(e,t){const r={};1&t&&(r.href=Ag(e[0].database.name)),2&t&&(r.hasResponsiveAbridgement=e[1]),n.$set(r);const o={};1&t&&(o.href=Ag(e[0].database.name)),5&t&&(o.$$scope={dirty:t,ctx:e}),a.$set(o)},i(e){l||(qe(n.$$.fragment,e),qe(o.$$.fragment,e),qe(a.$$.fragment,e),l=!0)},o(e){Ve(n.$$.fragment,e),Ve(o.$$.fragment,e),Ve(a.$$.fragment,e),l=!1},d(e){e&&R(t),st(n),e&&R(r),st(o,e),e&&R(s),e&&R(i),st(a)}}}function ix(e){let t,n;return t=new No({props:{arg:e[0].label}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.arg=e[0].label),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function ax(e){let t,n;return t=new nb({props:{icon:e[0].icon,$$slots:{default:[lx]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.icon=e[0].icon),5&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function lx(e){let t,n;return t=new No({props:{arg:e[0].label}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.arg=e[0].label),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function cx(e){let t,n,r,o;const s=[ax,ix],i=[];function a(e,t){return e[0].icon?0:1}return t=a(e),n=i[t]=s[t](e),{c(){n.c(),r=j()},m(e,n){i[t].m(e,n),P(e,r,n),o=!0},p(e,o){let l=t;t=a(e),t===l?i[t].p(e,o):(Fe(),Ve(i[l],1,1,(()=>{i[l]=null})),He(),n=i[t],n?n.p(e,o):(n=i[t]=s[t](e),n.c()),qe(n,1),n.m(r.parentNode,r))},i(e){o||(qe(n),o=!0)},o(e){Ve(n),o=!1},d(e){i[t].d(e),e&&R(r)}}}function ux(e){let t,n=e[0].query.name+"";return{c(){t=q(n)},m(e,n){P(e,t,n)},p(e,r){1&r&&n!==(n=e[0].query.name+"")&&X(t,n)},d(e){e&&R(t)}}}function dx(e){let t,n;return t=new nb({props:{icon:sf,$$slots:{default:[ux]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};5&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function px(e){let t,n;return t=new Qw({props:{recordSummary:e[0].record.summary}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.recordSummary=e[0].record.summary),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function $x(e){let t,n;return t=new nb({props:{icon:pf,$$slots:{default:[px]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};5&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function mx(e){let t,n;return t=new hb({props:{table:e[0].table}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.table=e[0].table),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function fx(e){let t,n;return t=new ub({props:{schema:e[0].schema}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.schema=e[0].schema),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function gx(e){let t,n;return t=new ib({props:{database:e[0].database}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.database=e[0].database),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function hx(e){let t,n,r,o;const s=[sx,ox,rx,nx,tx,ex],i=[];function a(e,t){return"database"===e[0].type?0:"schema"===e[0].type?1:"table"===e[0].type?2:"record"===e[0].type?3:"exploration"===e[0].type?4:"simple"===e[0].type?5:-1}return~(t=a(e))&&(n=i[t]=s[t](e)),{c(){n&&n.c(),r=j()},m(e,n){~t&&i[t].m(e,n),P(e,r,n),o=!0},p(e,[o]){let l=t;t=a(e),t===l?~t&&i[t].p(e,o):(n&&(Fe(),Ve(i[l],1,1,(()=>{i[l]=null})),He()),~t?(n=i[t],n?n.p(e,o):(n=i[t]=s[t](e),n.c()),qe(n,1),n.m(r.parentNode,r)):n=null)},i(e){o||(qe(n),o=!0)},o(e){Ve(n),o=!1},d(e){~t&&i[t].d(e),e&&R(r)}}}function yx(e,t,n){let{item:r}=t,{hasResponsiveAbridgement:o=!1}=t;return e.$$set=e=>{"item"in e&&n(0,r=e.item),"hasResponsiveAbridgement"in e&&n(1,o=e.hasResponsiveAbridgement)},[r,o]}class vx extends at{constructor(e){super(),it(this,e,yx,hx,p,{item:0,hasResponsiveAbridgement:1})}}function bx(e,t,n){const r=e.slice();return r[4]=t[n],r}function wx(e){let t,n;return t=new Tw({props:{href:"/"}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function xx(e){let t,n;return t=new vx({props:{item:e[4],hasResponsiveAbridgement:e[1]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.item=e[4]),2&n&&(r.hasResponsiveAbridgement=e[1]),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Sx(e){let t,n,r,o=e[2]&&wx(),s=e[0],i=[];for(let l=0;l<s.length;l+=1)i[l]=xx(bx(e,s,l));const a=e=>Ve(i[e],1,1,(()=>{i[e]=null}));return{c(){t=F("div"),o&&o.c(),n=V();for(let e=0;e<i.length;e+=1)i[e].c();B(t,"class","breadcrumb svelte-cheun3")},m(e,s){P(e,t,s),o&&o.m(t,null),A(t,n);for(let n=0;n<i.length;n+=1)i[n].m(t,null);r=!0},p(e,[r]){if(e[2]?o?4&r&&qe(o,1):(o=wx(),o.c(),qe(o,1),o.m(t,n)):o&&(Fe(),Ve(o,1,1,(()=>{o=null})),He()),3&r){let n;for(s=e[0],n=0;n<s.length;n+=1){const o=bx(e,s,n);i[n]?(i[n].p(o,r),qe(i[n],1)):(i[n]=xx(o),i[n].c(),qe(i[n],1),i[n].m(t,null))}for(Fe(),n=s.length;n<i.length;n+=1)a(n);He()}},i(e){if(!r){qe(o);for(let e=0;e<s.length;e+=1)qe(i[e]);r=!0}},o(e){Ve(o),i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)Ve(i[t]);r=!1},d(e){e&&R(t),o&&o.d(),z(i,e)}}}function Cx(e,t,n){let r,o,s;const i=Eg();return f(e,i,(e=>n(0,s=e))),e.$$.update=()=>{1&e.$$.dirty&&n(2,r=s.every((e=>"database"!==e.type))),1&e.$$.dirty&&n(1,o=s.length>2)},[s,o,r,i]}class kx extends at{constructor(e){super(),it(this,e,Cx,Sx,p,{})}}function Dx(e){let t,n,r,o=e[0]&&e[1]&&Ix(e),s=e[2]&&Lx(e);return{c(){t=F("div"),o&&o.c(),n=V(),s&&s.c(),B(t,"class","right svelte-3vwngg")},m(e,i){P(e,t,i),o&&o.m(t,null),A(t,n),s&&s.m(t,null),r=!0},p(e,r){e[0]&&e[1]?o?(o.p(e,r),3&r&&qe(o,1)):(o=Ix(e),o.c(),qe(o,1),o.m(t,n)):o&&(Fe(),Ve(o,1,1,(()=>{o=null})),He()),e[2]?s?(s.p(e,r),4&r&&qe(s,1)):(s=Lx(e),s.c(),qe(s,1),s.m(t,null)):s&&(Fe(),Ve(s,1,1,(()=>{s=null})),He())},i(e){r||(qe(o),qe(s),r=!0)},o(e){Ve(o),Ve(s),r=!1},d(e){e&&R(t),o&&o.d(),s&&s.d()}}}function Ix(e){let t,n;return t=new xc({props:{triggerAppearance:"ghost",size:"small",closeOnInnerClick:!0,icon:e[3]?kr:void 0,$$slots:{trigger:[Ax],default:[Ox]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};8&n&&(r.icon=e[3]?kr:void 0),16451&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function _x(e){let t,n,r,o;return t=new qp({props:{icon:xm,$$slots:{default:[Tx]},$$scope:{ctx:e}}}),t.$on("click",e[9]),r=new Yp({props:{icon:xm,href:Rg(e[1].name,e[0].id),$$slots:{default:[Mx]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment),n=V(),rt(r.$$.fragment)},m(e,s){ot(t,e,s),P(e,n,s),ot(r,e,s),o=!0},p(e,n){const o={};16384&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o);const s={};3&n&&(s.href=Rg(e[1].name,e[0].id)),16384&n&&(s.$$scope={dirty:n,ctx:e}),r.$set(s)},i(e){o||(qe(t.$$.fragment,e),qe(r.$$.fragment,e),o=!0)},o(e){Ve(t.$$.fragment,e),Ve(r.$$.fragment,e),o=!1},d(e){st(t,e),e&&R(n),st(r,e)}}}function Tx(e){let t;return{c(){t=q("New Table from Scratch")},m(e,n){P(e,t,n)},d(e){e&&R(t)}}}function Mx(e){let t;return{c(){t=q("New Table from Data Import")},m(e,n){P(e,t,n)},d(e){e&&R(t)}}}function Ex(e){let t;return{c(){t=q("Open Data Explorer")},m(e,n){P(e,t,n)},d(e){e&&R(t)}}}function Ox(e){let t,n,r,o=e[6]&&_x(e);return n=new Yp({props:{icon:sf,href:Hg(e[1].name,e[0].id),$$slots:{default:[Ex]},$$scope:{ctx:e}}}),{c(){o&&o.c(),t=V(),rt(n.$$.fragment)},m(e,s){o&&o.m(e,s),P(e,t,s),ot(n,e,s),r=!0},p(e,r){e[6]?o?(o.p(e,r),64&r&&qe(o,1)):(o=_x(e),o.c(),qe(o,1),o.m(t.parentNode,t)):o&&(Fe(),Ve(o,1,1,(()=>{o=null})),He());const s={};3&r&&(s.href=Hg(e[1].name,e[0].id)),16384&r&&(s.$$scope={dirty:r,ctx:e}),n.$set(s)},i(e){r||(qe(o),qe(n.$$.fragment,e),r=!0)},o(e){Ve(o),Ve(n.$$.fragment,e),r=!1},d(e){o&&o.d(e),e&&R(t),st(n,e)}}}function Ax(e){let t,n,r,o,s,i;const l=[ff];let c={};for(let u=0;u<l.length;u+=1)c=a(c,l[u]);return r=new Wr({props:c}),{c(){t=F("span"),n=F("span"),rt(r.$$.fragment),o=V(),s=F("span"),s.textContent="Shortcuts",B(n,"class","icon svelte-3vwngg"),B(s,"class","text svelte-3vwngg"),B(t,"slot","trigger"),B(t,"class","shortcuts svelte-3vwngg")},m(e,a){P(e,t,a),A(t,n),ot(r,n,null),A(t,o),A(t,s),i=!0},p(e,t){const n=0&t?et(l,[tt(ff)]):{};r.$set(n)},i(e){i||(qe(r.$$.fragment,e),i=!0)},o(e){Ve(r.$$.fragment,e),i=!1},d(e){e&&R(t),st(r)}}}function Lx(e){let t,n;return t=new xc({props:{triggerAppearance:"ghost",size:"small",closeOnInnerClick:!0,menuStyle:"--spacing-x: 0.3em;",$$slots:{trigger:[Wx],default:[jx]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};16422&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Nx(e){let t,n,r,o,s,i;return t=new Cp({props:{$$slots:{default:[Px]},$$scope:{ctx:e}}}),r=new Yp({props:{icon:of,href:Ag(e[1].name),$$slots:{default:[Rx]},$$scope:{ctx:e}}}),s=new wp({}),{c(){rt(t.$$.fragment),n=V(),rt(r.$$.fragment),o=V(),rt(s.$$.fragment)},m(e,a){ot(t,e,a),P(e,n,a),ot(r,e,a),P(e,o,a),ot(s,e,a),i=!0},p(e,n){const o={};16384&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o);const s={};2&n&&(s.href=Ag(e[1].name)),16386&n&&(s.$$scope={dirty:n,ctx:e}),r.$set(s)},i(e){i||(qe(t.$$.fragment,e),qe(r.$$.fragment,e),qe(s.$$.fragment,e),i=!0)},o(e){Ve(t.$$.fragment,e),Ve(r.$$.fragment,e),Ve(s.$$.fragment,e),i=!1},d(e){st(t,e),e&&R(n),st(r,e),e&&R(o),st(s,e)}}}function Px(e){let t;return{c(){t=q("Database")},m(e,n){P(e,t,n)},d(e){e&&R(t)}}}function Rx(e){let t,n=e[1].name+"";return{c(){t=q(n)},m(e,n){P(e,t,n)},p(e,r){2&r&&n!==(n=e[1].name+"")&&X(t,n)},d(e){e&&R(t)}}}function zx(e){let t;return{c(){t=q("Signed in as")},m(e,n){P(e,t,n)},d(e){e&&R(t)}}}function Fx(e){let t,n=e[2].getDisplayName()+"";return{c(){t=q(n)},m(e,n){P(e,t,n)},p(e,r){4&r&&n!==(n=e[2].getDisplayName()+"")&&X(t,n)},d(e){e&&R(t)}}}function Hx(e){let t,n;return t=new Yp({props:{icon:mf,href:Yg,hasNotificationDot:e[5],$$slots:{default:[qx]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};32&n&&(r.hasNotificationDot=e[5]),16384&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function qx(e){let t;return{c(){t=q("Administration")},m(e,n){P(e,t,n)},d(e){e&&R(t)}}}function Vx(e){let t;return{c(){t=q("Log Out")},m(e,n){P(e,t,n)},d(e){e&&R(t)}}}function jx(e){let t,n,r,o,s,i,a,l,c,u,d=e[1]&&Nx(e);n=new Cp({props:{$$slots:{default:[zx]},$$scope:{ctx:e}}}),o=new Yp({props:{icon:xf,href:Ug,$$slots:{default:[Fx]},$$scope:{ctx:e}}}),i=new wp({});let p=e[2].isSuperUser&&Hx(e);return c=new Yp({props:{icon:Xm,href:"/auth/logout/","tinro-ignore":!0,$$slots:{default:[Vx]},$$scope:{ctx:e}}}),{c(){d&&d.c(),t=V(),rt(n.$$.fragment),r=V(),rt(o.$$.fragment),s=V(),rt(i.$$.fragment),a=V(),p&&p.c(),l=V(),rt(c.$$.fragment)},m(e,$){d&&d.m(e,$),P(e,t,$),ot(n,e,$),P(e,r,$),ot(o,e,$),P(e,s,$),ot(i,e,$),P(e,a,$),p&&p.m(e,$),P(e,l,$),ot(c,e,$),u=!0},p(e,r){e[1]?d?(d.p(e,r),2&r&&qe(d,1)):(d=Nx(e),d.c(),qe(d,1),d.m(t.parentNode,t)):d&&(Fe(),Ve(d,1,1,(()=>{d=null})),He());const s={};16384&r&&(s.$$scope={dirty:r,ctx:e}),n.$set(s);const i={};16388&r&&(i.$$scope={dirty:r,ctx:e}),o.$set(i),e[2].isSuperUser?p?(p.p(e,r),4&r&&qe(p,1)):(p=Hx(e),p.c(),qe(p,1),p.m(l.parentNode,l)):p&&(Fe(),Ve(p,1,1,(()=>{p=null})),He());const a={};16384&r&&(a.$$scope={dirty:r,ctx:e}),c.$set(a)},i(e){u||(qe(d),qe(n.$$.fragment,e),qe(o.$$.fragment,e),qe(i.$$.fragment,e),qe(p),qe(c.$$.fragment,e),u=!0)},o(e){Ve(d),Ve(n.$$.fragment,e),Ve(o.$$.fragment,e),Ve(i.$$.fragment,e),Ve(p),Ve(c.$$.fragment,e),u=!1},d(e){d&&d.d(e),e&&R(t),st(n,e),e&&R(r),st(o,e),e&&R(s),st(i,e),e&&R(a),p&&p.d(e),e&&R(l),st(c,e)}}}function Wx(e){let t,n,r;const o=[mf,{hasNotificationDot:e[5]}];let s={};for(let i=0;i<o.length;i+=1)s=a(s,o[i]);return n=new Wr({props:s}),{c(){t=F("div"),rt(n.$$.fragment),B(t,"class","user-switcher svelte-3vwngg"),B(t,"slot","trigger")},m(e,o){P(e,t,o),ot(n,t,null),r=!0},p(e,t){const r=32&t?et(o,[0&t&&tt(mf),32&t&&{hasNotificationDot:e[5]}]):{};n.$set(r)},i(e){r||(qe(n.$$.fragment,e),r=!0)},o(e){Ve(n.$$.fragment,e),r=!1},d(e){e&&R(t),st(n)}}}function Ux(e){let t,n,r,o,s;r=new kx({});let i=e[4]&&Dx(e);return{c(){t=F("header"),n=F("div"),rt(r.$$.fragment),o=V(),i&&i.c(),B(n,"class","left svelte-3vwngg"),B(t,"class","app-header svelte-3vwngg")},m(e,a){P(e,t,a),A(t,n),ot(r,n,null),A(t,o),i&&i.m(t,null),s=!0},p(e,[n]){e[4]?i?(i.p(e,n),16&n&&qe(i,1)):(i=Dx(e),i.c(),qe(i,1),i.m(t,null)):i&&(Fe(),Ve(i,1,1,(()=>{i=null})),He())},i(e){s||(qe(r.$$.fragment,e),qe(i),s=!0)},o(e){Ve(r.$$.fragment,e),Ve(i),s=!1},d(e){e&&R(t),st(r),i&&i.d()}}}function Yx(e,t,n){let r,o,s,i,a,l,c,u,d;f(e,Xh,(e=>n(11,u=e))),f(e,vh,(e=>n(12,d=e)));const p=ng(),$=Uv();f(e,$,(e=>n(2,c=e)));const m=Rh();f(e,m,(e=>n(10,l=e)));let g=!1;return e.$$.update=()=>{4096&e.$$.dirty&&n(1,r=d),2048&e.$$.dirty&&n(0,o=u),7&e.$$.dirty&&n(6,s=c?.hasPermission({database:r,schema:o},"canExecuteDDL")),1024&e.$$.dirty&&n(5,i="upgradable"===l?.value?.upgradeStatus)},n(4,a="normal"===p?.routing_context),[o,r,c,g,a,i,s,$,m,async function(){if(!o||!r)return;n(3,g=!0);const e=await vv(r,o,{});n(3,g=!1),hg.goto(jg(r.name,o.id,e.id),!1)},l,u,d]}class Bx extends at{constructor(e){super(),it(this,e,Yx,Ux,p,{})}}function Kx(e){let t,n,r,o,s,i,l,c,u,d,p,$,m,f,g;s=new ni({props:{$$slots:{default:[Gx]},$$scope:{ctx:e}}});const h=[Am];let y={};for(let w=0;w<h.length;w+=1)y=a(y,h[w]);u=new Wr({props:y});const v=[Mm];let b={};for(let w=0;w<v.length;w+=1)b=a(b,v[w]);return m=new Wr({props:b}),{c(){t=F("div"),n=F("div"),r=F("i"),r.textContent="Mathesar is in demo mode.",o=V(),rt(s.$$.fragment),i=V(),l=F("div"),c=F("a"),rt(u.$$.fragment),d=q("\n        Join Email List"),p=V(),$=F("a"),rt(m.$$.fragment),f=q("\n        Mathesar.org"),B(n,"class","side left svelte-1xbleub"),B(c,"href","https://mathesar.org/mailing-list.html"),B(c,"target","_blank"),B(c,"class","svelte-1xbleub"),B($,"href","http://mathesar.org"),B($,"target","_blank"),B($,"class","svelte-1xbleub"),B(l,"class","side right svelte-1xbleub"),B(t,"class","demo-banner svelte-1xbleub")},m(e,a){P(e,t,a),A(t,n),A(n,r),A(n,o),ot(s,n,null),A(t,i),A(t,l),A(l,c),ot(u,c,null),A(c,d),A(l,p),A(l,$),ot(m,$,null),A($,f),g=!0},p(e,t){const n={};4&t&&(n.$$scope={dirty:t,ctx:e}),s.$set(n);const r=0&t?et(h,[tt(Am)]):{};u.$set(r);const o=0&t?et(v,[tt(Mm)]):{};m.$set(o)},i(e){g||(qe(s.$$.fragment,e),qe(u.$$.fragment,e),qe(m.$$.fragment,e),g=!0)},o(e){Ve(s.$$.fragment,e),Ve(u.$$.fragment,e),Ve(m.$$.fragment,e),g=!1},d(e){e&&R(t),st(s),st(u),st(m)}}}function Gx(e){let t;return{c(){t=q("Each session has its own copy of demo data. Data will be deleted\n        regularly.")},m(e,n){P(e,t,n)},d(e){e&&R(t)}}}function Xx(e){let t,n,r=e[0]&&Kx(e);return{c(){r&&r.c(),t=j()},m(e,o){r&&r.m(e,o),P(e,t,o),n=!0},p(e,[n]){e[0]?r?(r.p(e,n),1&n&&qe(r,1)):(r=Kx(e),r.c(),qe(r,1),r.m(t.parentNode,t)):r&&(Fe(),Ve(r,1,1,(()=>{r=null})),He())},i(e){n||(qe(r),n=!0)},o(e){Ve(r),n=!1},d(e){r&&r.d(e),e&&R(t)}}}function Jx(e,t,n){let r;return n(0,r=!!ng()?.live_demo_mode),[r]}class Zx extends at{constructor(e){super(),it(this,e,Jx,Xx,p,{})}}const Qx=e=>({}),eS=e=>({});function tS(e){let t,n,r,o,s,i,a,l,c;r=new Zx({}),s=new Bx({});const u=e[5]["secondary-header"],d=g(u,e,e[4],eS),p=e[5].default,$=g(p,e,e[4],null);return{c(){t=F("div"),n=F("div"),rt(r.$$.fragment),o=V(),rt(s.$$.fragment),i=V(),d&&d.c(),a=V(),l=F("main"),$&&$.c(),B(n,"class","app-layout-header svelte-ld3foe"),B(l,"class","app-layout-content svelte-ld3foe"),te(l,"restrict-width",e[1]),B(t,"class","app-layout svelte-ld3foe"),B(t,"style",e[2]),te(t,"fit-viewport",e[0])},m(e,u){P(e,t,u),A(t,n),ot(r,n,null),A(n,o),ot(s,n,null),A(t,i),d&&d.m(t,null),A(t,a),A(t,l),$&&$.m(l,null),c=!0},p(e,[n]){d&&d.p&&(!c||16&n)&&v(d,u,e,e[4],c?y(u,e[4],n,Qx):b(e[4]),eS),$&&$.p&&(!c||16&n)&&v($,p,e,e[4],c?y(p,e[4],n,null):b(e[4]),null),(!c||2&n)&&te(l,"restrict-width",e[1]),(!c||4&n)&&B(t,"style",e[2]),(!c||1&n)&&te(t,"fit-viewport",e[0])},i(e){c||(qe(r.$$.fragment,e),qe(s.$$.fragment,e),qe(d,e),qe($,e),c=!0)},o(e){Ve(r.$$.fragment,e),Ve(s.$$.fragment,e),Ve(d,e),Ve($,e),c=!1},d(e){e&&R(t),st(r),st(s),d&&d.d(e),$&&$.d(e)}}}function nS(e,t,n){let r,{$$slots:o={},$$scope:s}=t,{fitViewport:i=!1}=t,{restrictWidth:a=!1}=t,{cssVariables:l}=t;return e.$$set=e=>{"fitViewport"in e&&n(0,i=e.fitViewport),"restrictWidth"in e&&n(1,a=e.restrictWidth),"cssVariables"in e&&n(3,l=e.cssVariables),"$$scope"in e&&n(4,s=e.$$scope)},e.$$.update=()=>{8&e.$$.dirty&&n(2,r=l?Jt(l):void 0)},[i,a,r,l,s,o]}class rS extends at{constructor(e){super(),it(this,e,nS,tS,p,{fitViewport:0,restrictWidth:1,cssVariables:3})}}function oS(e){let t,n;return t=new pn({props:{appearance:"primary",href:"/",$$slots:{default:[sS]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function sS(e){let t;return{c(){t=q("Go to homepage")},m(e,n){P(e,t,n)},d(e){e&&R(t)}}}function iS(e){let t,n,r,o,s,i;const a=e[1].default,l=g(a,e,e[2],null);let c=e[0]&&oS(e);return{c(){t=F("div"),n=F("h1"),n.textContent="Error",r=V(),o=F("div"),l&&l.c(),s=V(),c&&c.c(),B(t,"class","error-page-container svelte-1tmy8xu")},m(e,a){P(e,t,a),A(t,n),A(t,r),A(t,o),l&&l.m(o,null),A(t,s),c&&c.m(t,null),i=!0},p(e,n){l&&l.p&&(!i||4&n)&&v(l,a,e,e[2],i?y(a,e[2],n,null):b(e[2]),null),e[0]?c?1&n&&qe(c,1):(c=oS(e),c.c(),qe(c,1),c.m(t,null)):c&&(Fe(),Ve(c,1,1,(()=>{c=null})),He())},i(e){i||(qe(l,e),qe(c),i=!0)},o(e){Ve(l,e),Ve(c),i=!1},d(e){e&&R(t),l&&l.d(e),c&&c.d()}}}function aS(e){let t,n;return t=new rS({props:{$$slots:{default:[iS]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const r={};5&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function lS(e,t,n){let{$$slots:r={},$$scope:o}=t,{showGoToRoot:s=!0}=t;return e.$$set=e=>{"showGoToRoot"in e&&n(0,s=e.showGoToRoot),"$$scope"in e&&n(2,o=e.$$scope)},[s,r,o]}class cS extends at{constructor(e){super(),it(this,e,lS,aS,p,{showGoToRoot:0})}}function uS(e,t,n){const r=fe();let{meta:o}=t;return pe((()=>{if(o?.subscribe){const e=o.subscribe((e=>{e&&r("load",e)}));return()=>{e(),r("unload")}}return r("load"),()=>{r("unload")}})),e.$$set=e=>{"meta"in e&&n(0,o=e.meta)},[o]}class dS extends at{constructor(e){super(),it(this,e,uS,null,p,{meta:0})}}const pS=e=>({}),$S=e=>({});function mS(e){let t,n,r,o,s;const i=e[3].sidebar,a=g(i,e,e[2],$S),l=e[3].default,c=g(l,e,e[2],null);return{c(){t=F("div"),n=F("aside"),a&&a.c(),r=V(),o=F("main"),c&&c.c(),B(n,"class","svelte-18prej4"),B(o,"class","svelte-18prej4"),B(t,"class","page-sidebar-layout svelte-18prej4"),B(t,"style",e[0])},m(e,i){P(e,t,i),A(t,n),a&&a.m(n,null),A(t,r),A(t,o),c&&c.m(o,null),s=!0},p(e,[n]){a&&a.p&&(!s||4&n)&&v(a,i,e,e[2],s?y(i,e[2],n,pS):b(e[2]),$S),c&&c.p&&(!s||4&n)&&v(c,l,e,e[2],s?y(l,e[2],n,null):b(e[2]),null),(!s||1&n)&&B(t,"style",e[0])},i(e){s||(qe(a,e),qe(c,e),s=!0)},o(e){Ve(a,e),Ve(c,e),s=!1},d(e){e&&R(t),a&&a.d(e),c&&c.d(e)}}}function fS(e,t,n){let r,{$$slots:o={},$$scope:s}=t,{cssVariables:i}=t;return e.$$set=e=>{"cssVariables"in e&&n(1,i=e.cssVariables),"$$scope"in e&&n(2,s=e.$$scope)},e.$$.update=()=>{2&e.$$.dirty&&n(0,r=i?Jt(i):void 0)},[r,i,s,o]}class gS extends at{constructor(e){super(),it(this,e,fS,mS,p,{cssVariables:1})}}function hS(e){return function(e){const t=m(Xh),n=[...e];return t&&n.push(t.name),n.push("Mathesar"),n.join(" | ")}([e])}function yS(e){let t,n;const r=e[3].default,o=g(r,e,e[2],null);return{c(){t=F("a"),o&&o.c(),B(t,"href",e[0]),B(t,"target","_blank")},m(e,r){P(e,t,r),o&&o.m(t,null),n=!0},p(e,[s]){o&&o.p&&(!n||4&s)&&v(o,r,e,e[2],n?y(r,e[2],s,null):b(e[2]),null),(!n||1&s)&&B(t,"href",e[0])},i(e){n||(qe(o,e),n=!0)},o(e){Ve(o,e),n=!1},d(e){e&&R(t),o&&o.d(e)}}}function vS(e,t,n){let r,{$$slots:o={},$$scope:s}=t,{path:i}=t;return e.$$set=e=>{"path"in e&&n(1,i=e.path),"$$scope"in e&&n(2,s=e.$$scope)},e.$$.update=()=>{2&e.$$.dirty&&n(0,r=`https://docs.mathesar.org${i}`)},[r,i,s,o]}class bS extends at{constructor(e){super(),it(this,e,vS,yS,p,{path:1})}}function wS(e,t,n){const r=e.slice();return r[2]=t[n],r}function xS(e){let t,n;return{c(){t=F("code"),t.textContent="MATHESAR_DATABASES",n=q(" variable")},m(e,r){P(e,t,r),P(e,n,r)},p:s,d(e){e&&R(t),e&&R(n)}}}function SS(e){let t,n,r,o;return n=new bS({props:{path:"/configuration/env-variables/#mathesar_databases",$$slots:{default:[xS]},$$scope:{ctx:e}}}),{c(){t=q("To add or remove databases, modify the\n          "),rt(n.$$.fragment),r=q("\n          in your configuration file and restart Mathesar.")},m(e,s){P(e,t,s),ot(n,e,s),P(e,r,s),o=!0},p(e,t){const r={};32&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){o||(qe(n.$$.fragment,e),o=!0)},o(e){Ve(n.$$.fragment,e),o=!1},d(e){e&&R(t),st(n,e),e&&R(r)}}}function CS(e){let t,n,r,o,s,i,a,l,c=e[1].data.length+"";return a=new ni({props:{$$slots:{default:[SS]},$$scope:{ctx:e}}}),{c(){t=F("span"),n=q("All Databases ("),r=q(c),o=q(")"),s=V(),i=F("span"),rt(a.$$.fragment),B(t,"class","title svelte-1qbtrvk"),B(i,"class","help svelte-1qbtrvk")},m(e,c){P(e,t,c),A(t,n),A(t,r),A(t,o),P(e,s,c),P(e,i,c),ot(a,i,null),l=!0},p(e,t){(!l||2&t)&&c!==(c=e[1].data.length+"")&&X(r,c);const n={};32&t&&(n.$$scope={dirty:t,ctx:e}),a.$set(n)},i(e){l||(qe(a.$$.fragment,e),l=!0)},o(e){Ve(a.$$.fragment,e),l=!1},d(e){e&&R(t),e&&R(s),e&&R(i),st(a)}}}function kS(e){let t,n,r;return t=new ib({props:{database:e[2],iconHasBox:!0}}),{c(){rt(t.$$.fragment),n=V()},m(e,o){ot(t,e,o),P(e,n,o),r=!0},p(e,n){const r={};2&n&&(r.database=e[2]),t.$set(r)},i(e){r||(qe(t.$$.fragment,e),r=!0)},o(e){Ve(t.$$.fragment,e),r=!1},d(e){st(t,e),e&&R(n)}}}function DS(e,t){let n,r,o;return r=new Yp({props:{href:Ag(t[2].name),class:t[0].id===t[2].id?"active":"",$$slots:{default:[kS]},$$scope:{ctx:t}}}),{key:e,first:null,c(){n=j(),rt(r.$$.fragment),this.first=n},m(e,t){P(e,n,t),ot(r,e,t),o=!0},p(e,n){t=e;const o={};2&n&&(o.href=Ag(t[2].name)),3&n&&(o.class=t[0].id===t[2].id?"active":""),34&n&&(o.$$scope={dirty:n,ctx:t}),r.$set(o)},i(e){o||(qe(r.$$.fragment,e),o=!0)},o(e){Ve(r.$$.fragment,e),o=!1},d(e){e&&R(n),st(r,e)}}}function IS(e){let t,n,r,o,s=[],i=new Map;t=new Cp({props:{style:"display:flex;align-items:center;margin-bottom:var(--size-super-ultra-small)",$$slots:{default:[CS]},$$scope:{ctx:e}}});let a=e[1].data;const l=e=>e[2].name;for(let c=0;c<a.length;c+=1){let t=wS(e,a,c),n=l(t);i.set(n,s[c]=DS(n,t))}return{c(){rt(t.$$.fragment),n=V();for(let e=0;e<s.length;e+=1)s[e].c();r=j()},m(e,i){ot(t,e,i),P(e,n,i);for(let t=0;t<s.length;t+=1)s[t].m(e,i);P(e,r,i),o=!0},p(e,n){const o={};34&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o),3&n&&(a=e[1].data,Fe(),s=Qe(s,n,l,1,e,a,i,r.parentNode,Je,DS,r,wS),He())},i(e){if(!o){qe(t.$$.fragment,e);for(let e=0;e<a.length;e+=1)qe(s[e]);o=!0}},o(e){Ve(t.$$.fragment,e);for(let t=0;t<s.length;t+=1)Ve(s[t]);o=!1},d(e){st(t,e),e&&R(n);for(let t=0;t<s.length;t+=1)s[t].d(e);e&&R(r)}}}function _S(e){let t,n,r;return n=new ws({props:{$$slots:{default:[IS]},$$scope:{ctx:e}}}),{c(){t=F("div"),rt(n.$$.fragment),B(t,"class","database-list svelte-1qbtrvk")},m(e,o){P(e,t,o),ot(n,t,null),r=!0},p(e,[t]){const r={};35&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(qe(n.$$.fragment,e),r=!0)},o(e){Ve(n.$$.fragment,e),r=!1},d(e){e&&R(t),st(n)}}}function TS(e,t,n){let r;f(e,yh,(e=>n(1,r=e)));let{database:o}=t;return e.$$set=e=>{"database"in e&&n(0,o=e.database)},[o,r]}class MS extends at{constructor(e){super(),it(this,e,TS,_S,p,{database:0})}}const ES={reflect:()=>ph("/api/ui/v0/reflect/",{})},OS=e=>({}),AS=e=>({}),LS=e=>({}),NS=e=>({});function PS(e){let t,n;return{c(){t=F("span"),n=q(e[1]),B(t,"class","entity-type svelte-172pybh")},m(e,r){P(e,t,r),A(t,n)},p(e,t){2&t&&X(n,e[1])},d(e){e&&R(t)}}}function RS(e){let t,n,r,o,s,i,l,c,u,d,p,$,m,f;const h=[e[0],{size:"2em"}];let w={};for(let g=0;g<h.length;g+=1)w=a(w,h[g]);i=new Wr({props:w});let x=e[1]&&PS(e);const S=e[4].action,C=g(S,e,e[3],NS),k=e[4].bottom,D=g(k,e,e[3],AS);return{c(){t=F("div"),n=F("div"),r=F("div"),o=F("div"),s=F("div"),rt(i.$$.fragment),l=V(),c=F("div"),x&&x.c(),u=V(),d=F("span"),p=q(e[2]),$=V(),C&&C.c(),m=V(),D&&D.c(),B(s,"class","entity-icon svelte-172pybh"),B(d,"class","entity-name svelte-172pybh"),B(c,"class","left-meta-container svelte-172pybh"),B(o,"class","entity-container svelte-172pybh"),B(r,"class","left"),B(n,"class","top svelte-172pybh"),B(t,"class","container svelte-172pybh")},m(e,a){P(e,t,a),A(t,n),A(n,r),A(r,o),A(o,s),ot(i,s,null),A(o,l),A(o,c),x&&x.m(c,null),A(c,u),A(c,d),A(d,p),A(n,$),C&&C.m(n,null),A(t,m),D&&D.m(t,null),f=!0},p(e,[t]){const n=1&t?et(h,[tt(e[0]),h[1]]):{};i.$set(n),e[1]?x?x.p(e,t):(x=PS(e),x.c(),x.m(c,u)):x&&(x.d(1),x=null),(!f||4&t)&&X(p,e[2]),C&&C.p&&(!f||8&t)&&v(C,S,e,e[3],f?y(S,e[3],t,LS):b(e[3]),NS),D&&D.p&&(!f||8&t)&&v(D,k,e,e[3],f?y(k,e[3],t,OS):b(e[3]),AS)},i(e){f||(qe(i.$$.fragment,e),qe(C,e),qe(D,e),f=!0)},o(e){Ve(i.$$.fragment,e),Ve(C,e),Ve(D,e),f=!1},d(e){e&&R(t),st(i),x&&x.d(),C&&C.d(e),D&&D.d(e)}}}function zS(e,t,n){let{$$slots:r={},$$scope:o}=t,{icon:s}=t,{type:i}=t,{name:a}=t;return e.$$set=e=>{"icon"in e&&n(0,s=e.icon),"type"in e&&n(1,i=e.type),"name"in e&&n(2,a=e.name),"$$scope"in e&&n(3,o=e.$$scope)},[s,i,a,o,r]}class FS extends at{constructor(e){super(),it(this,e,zS,RS,p,{icon:0,type:1,name:2})}}const HS=e=>({}),qS=e=>({slot:"action"}),VS=e=>({}),jS=e=>({slot:"bottom"});function WS(e){let t;const n=e[3].action,r=g(n,e,e[4],qS);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||16&o)&&v(r,n,e,e[4],t?y(n,e[4],o,HS):b(e[4]),qS)},i(e){t||(qe(r,e),t=!0)},o(e){Ve(r,e),t=!1},d(e){r&&r.d(e)}}}function US(e){let t;const n=e[3].bottom,r=g(n,e,e[4],jS);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||16&o)&&v(r,n,e,e[4],t?y(n,e[4],o,VS):b(e[4]),jS)},i(e){t||(qe(r,e),t=!0)},o(e){Ve(r,e),t=!1},d(e){r&&r.d(e)}}}function YS(e){let t,n,r,o,s;const i=[e[0]];let l={$$slots:{bottom:[US],action:[WS]},$$scope:{ctx:e}};for(let c=0;c<i.length;c+=1)l=a(l,i[c]);return o=new FS({props:l}),{c(){t=F("div"),n=F("div"),r=F("div"),rt(o.$$.fragment),B(r,"class","page-title-and-meta-container"),B(n,"class","content svelte-1ah9c17"),te(n,"restrict-width",e[1]),B(t,"class","container svelte-1ah9c17"),te(t,"theme-dark","dark"===e[2]),te(t,"theme-light","light"===e[2])},m(e,i){P(e,t,i),A(t,n),A(n,r),ot(o,r,null),s=!0},p(e,[r]){const a=1&r?et(i,[tt(e[0])]):{};16&r&&(a.$$scope={dirty:r,ctx:e}),o.$set(a),(!s||2&r)&&te(n,"restrict-width",e[1]),(!s||4&r)&&te(t,"theme-dark","dark"===e[2]),(!s||4&r)&&te(t,"theme-light","light"===e[2])},i(e){s||(qe(o.$$.fragment,e),s=!0)},o(e){Ve(o.$$.fragment,e),s=!1},d(e){e&&R(t),st(o)}}}function BS(e,t,n){let{$$slots:r={},$$scope:o}=t,{pageTitleAndMetaProps:s}=t,{restrictWidth:i=!0}=t,{theme:a}=t;return e.$$set=e=>{"pageTitleAndMetaProps"in e&&n(0,s=e.pageTitleAndMetaProps),"restrictWidth"in e&&n(1,i=e.restrictWidth),"theme"in e&&n(2,a=e.theme),"$$scope"in e&&n(4,o=e.$$scope)},[s,i,a,r,o]}class KS extends at{constructor(e){super(),it(this,e,BS,YS,p,{pageTitleAndMetaProps:0,restrictWidth:1,theme:2})}}const GS=e=>({}),XS=e=>({}),JS=e=>({}),ZS=e=>({});function QS(e){let t,n,r,o;const s=e[3].resultInfo,i=g(s,e,e[5],XS);return r=new Ln({props:{appearance:"secondary",$$slots:{default:[eC]},$$scope:{ctx:e}}}),r.$on("click",e[2]),{c(){t=F("div"),i&&i.c(),n=V(),rt(r.$$.fragment),B(t,"class","search-results-info svelte-13vmmh3")},m(e,s){P(e,t,s),i&&i.m(t,null),A(t,n),ot(r,t,null),o=!0},p(e,t){i&&i.p&&(!o||32&t)&&v(i,s,e,e[5],o?y(s,e[5],t,GS):b(e[5]),XS);const n={};32&t&&(n.$$scope={dirty:t,ctx:e}),r.$set(n)},i(e){o||(qe(i,e),qe(r.$$.fragment,e),o=!0)},o(e){Ve(i,e),Ve(r.$$.fragment,e),o=!1},d(e){e&&R(t),i&&i.d(e),st(r)}}}function eC(e){let t;return{c(){t=q("Clear")},m(e,n){P(e,t,n)},d(e){e&&R(t)}}}function tC(e){let t,n,r,o,s,i,a,l;function c(t){e[4](t)}let u={placeholder:e[1],prefixIcon:gr};void 0!==e[0]&&(u.value=e[0]),o=new vl({props:u}),we.push((()=>nt(o,"value",c)));const d=e[3].action,p=g(d,e,e[5],ZS);let $=e[0]&&QS(e);return{c(){t=F("div"),n=F("div"),r=F("div"),rt(o.$$.fragment),i=V(),p&&p.c(),a=V(),$&&$.c(),B(r,"class","search-container svelte-13vmmh3"),B(n,"class","actions-container svelte-13vmmh3"),B(t,"class","container svelte-13vmmh3")},m(e,s){P(e,t,s),A(t,n),A(n,r),ot(o,r,null),A(n,i),p&&p.m(n,null),A(t,a),$&&$.m(t,null),l=!0},p(e,[n]){const r={};2&n&&(r.placeholder=e[1]),!s&&1&n&&(s=!0,r.value=e[0],Te((()=>s=!1))),o.$set(r),p&&p.p&&(!l||32&n)&&v(p,d,e,e[5],l?y(d,e[5],n,JS):b(e[5]),ZS),e[0]?$?($.p(e,n),1&n&&qe($,1)):($=QS(e),$.c(),qe($,1),$.m(t,null)):$&&(Fe(),Ve($,1,1,(()=>{$=null})),He())},i(e){l||(qe(o.$$.fragment,e),qe(p,e),qe($),l=!0)},o(e){Ve(o.$$.fragment,e),Ve(p,e),Ve($),l=!1},d(e){e&&R(t),st(o),p&&p.d(e),$&&$.d()}}}function nC(e,t,n){let{$$slots:r={},$$scope:o}=t;const s=fe();let{searchQuery:i}=t,{placeholder:a}=t;return e.$$set=e=>{"searchQuery"in e&&n(0,i=e.searchQuery),"placeholder"in e&&n(1,a=e.placeholder),"$$scope"in e&&n(5,o=e.$$scope)},[i,a,function(){s("clear")},r,function(e){i=e,n(0,i)},o]}class rC extends at{constructor(e){super(),it(this,e,nC,tC,p,{searchQuery:0,placeholder:1})}}const oC=e=>({}),sC=e=>({}),iC=e=>({}),aC=e=>({slot:"action"}),lC=e=>({}),cC=e=>({slot:"resultInfo"});function uC(e){let t;const n=e[2].action,r=g(n,e,e[5],aC);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||32&o)&&v(r,n,e,e[5],t?y(n,e[5],o,iC):b(e[5]),aC)},i(e){t||(qe(r,e),t=!0)},o(e){Ve(r,e),t=!1},d(e){r&&r.d(e)}}}function dC(e){let t;const n=e[2].resultInfo,r=g(n,e,e[5],cC);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||32&o)&&v(r,n,e,e[5],t?y(n,e[5],o,lC):b(e[5]),cC)},i(e){t||(qe(r,e),t=!0)},o(e){Ve(r,e),t=!1},d(e){r&&r.d(e)}}}function pC(e){let t,n,r,o,s;function i(t){e[3](t)}let a={placeholder:e[1],$$slots:{resultInfo:[dC],action:[uC]},$$scope:{ctx:e}};void 0!==e[0]&&(a.searchQuery=e[0]),n=new rC({props:a}),we.push((()=>nt(n,"searchQuery",i))),n.$on("clear",e[4]);const l=e[2].content,c=g(l,e,e[5],sC);return{c(){t=F("div"),rt(n.$$.fragment),o=V(),c&&c.c(),B(t,"class","container svelte-1nta9n6")},m(e,r){P(e,t,r),ot(n,t,null),A(t,o),c&&c.m(t,null),s=!0},p(e,[t]){const o={};2&t&&(o.placeholder=e[1]),32&t&&(o.$$scope={dirty:t,ctx:e}),!r&&1&t&&(r=!0,o.searchQuery=e[0],Te((()=>r=!1))),n.$set(o),c&&c.p&&(!s||32&t)&&v(c,l,e,e[5],s?y(l,e[5],t,oC):b(e[5]),sC)},i(e){s||(qe(n.$$.fragment,e),qe(c,e),s=!0)},o(e){Ve(n.$$.fragment,e),Ve(c,e),s=!1},d(e){e&&R(t),st(n),c&&c.d(e)}}}function $C(e,t,n){let{$$slots:r={},$$scope:o}=t,{searchPlaceholder:s}=t,{searchQuery:i}=t;return e.$$set=e=>{"searchPlaceholder"in e&&n(1,s=e.searchPlaceholder),"searchQuery"in e&&n(0,i=e.searchQuery),"$$scope"in e&&n(5,o=e.$$scope)},[i,s,r,function(e){i=e,n(0,i)},function(t){ve.call(this,e,t)},o]}class mC extends at{constructor(e){super(),it(this,e,$C,pC,p,{searchPlaceholder:1,searchQuery:0})}}const fC=e=>({}),gC=e=>({}),hC=e=>({initialName:128&e}),yC=e=>({slot:"title",initialName:e[7]});function vC(e){let t,n,r=e[4].join(" ")+"";return{c(){t=F("p"),n=q(r),B(t,"class","error svelte-1komobi")},m(e,r){P(e,t,r),A(t,n)},p(e,t){16&t&&r!==(r=e[4].join(" ")+"")&&X(n,r)},d(e){e&&R(t)}}}function bC(e){let t,n,r,o,s,i;function a(t){e[19](t)}function l(t){e[20](t)}let c={"aria-label":"name",disabled:e[5],placeholder:"Name",id:"name"};void 0!==e[3]&&(c.value=e[3]),void 0!==e[6]&&(c.element=e[6]),t=new di({props:c}),we.push((()=>nt(t,"value",a))),we.push((()=>nt(t,"element",l))),t.$on("input",e[21]);let u=e[9]&&e[4].length&&vC(e);return{c(){rt(t.$$.fragment),o=V(),u&&u.c(),s=j()},m(e,n){ot(t,e,n),P(e,o,n),u&&u.m(e,n),P(e,s,n),i=!0},p(e,o){const i={};32&o&&(i.disabled=e[5]),!n&&8&o&&(n=!0,i.value=e[3],Te((()=>n=!1))),!r&&64&o&&(r=!0,i.element=e[6],Te((()=>r=!1))),t.$set(i),e[9]&&e[4].length?u?u.p(e,o):(u=vC(e),u.c(),u.m(s.parentNode,s)):u&&(u.d(1),u=null)},i(e){i||(qe(t.$$.fragment,e),i=!0)},o(e){Ve(t.$$.fragment,e),i=!1},d(e){st(t,e),e&&R(o),u&&u.d(e),e&&R(s)}}}function wC(e){let t,n,r;return n=new Io({props:{label:"Description",layout:"stacked",$$slots:{default:[xC]},$$scope:{ctx:e}}}),{c(){t=F("div"),rt(n.$$.fragment),B(t,"class","input-container svelte-1komobi")},m(e,o){P(e,t,o),ot(n,t,null),r=!0},p(e,t){const r={};8388896&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(qe(n.$$.fragment,e),r=!0)},o(e){Ve(n.$$.fragment,e),r=!1},d(e){e&&R(t),st(n)}}}function xC(e){let t,n,r;function o(t){e[22](t)}let s={"aria-label":"description",disabled:e[5],placeholder:"Description"};return void 0!==e[8]&&(s.value=e[8]),t=new gl({props:s}),we.push((()=>nt(t,"value",o))),{c(){rt(t.$$.fragment)},m(e,n){ot(t,e,n),r=!0},p(e,r){const o={};32&r&&(o.disabled=e[5]),!n&&256&r&&(n=!0,o.value=e[8],Te((()=>n=!1))),t.$set(o)},i(e){r||(qe(t.$$.fragment,e),r=!0)},o(e){Ve(t.$$.fragment,e),r=!1},d(e){st(t,e)}}}function SC(e){let t,n,r,o,s,i;const a=e[17].helpText,l=g(a,e,e[23],gC);o=new Io({props:{label:"Name",layout:"stacked",$$slots:{default:[bC]},$$scope:{ctx:e}}});let c=!e[2]&&wC(e);return{c(){t=F("div"),l&&l.c(),n=V(),r=F("div"),rt(o.$$.fragment),s=V(),c&&c.c(),B(r,"class","input-container svelte-1komobi"),B(t,"class","form-container svelte-1komobi")},m(e,a){P(e,t,a),l&&l.m(t,null),A(t,n),A(t,r),ot(o,r,null),A(t,s),c&&c.m(t,null),i=!0},p(e,n){l&&l.p&&(!i||8388608&n)&&v(l,a,e,e[23],i?y(a,e[23],n,fC):b(e[23]),gC);const r={};8389240&n&&(r.$$scope={dirty:n,ctx:e}),o.$set(r),e[2]?c&&(Fe(),Ve(c,1,1,(()=>{c=null})),He()):c?(c.p(e,n),4&n&&qe(c,1)):(c=wC(e),c.c(),qe(c,1),c.m(t,null))},i(e){i||(qe(l,e),qe(o.$$.fragment,e),qe(c),i=!0)},o(e){Ve(l,e),Ve(o.$$.fragment,e),Ve(c),i=!1},d(e){e&&R(t),l&&l.d(e),st(o),c&&c.d()}}}function CC(e){let t;const n=e[17].title,r=g(n,e,e[23],yC);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||8388736&o)&&v(r,n,e,e[23],t?y(n,e[23],o,hC):b(e[23]),yC)},i(e){t||(qe(r,e),t=!0)},o(e){Ve(r,e),t=!1},d(e){r&&r.d(e)}}}function kC(e){let t,n;return t=new ro({props:{proceedButton:{label:e[0]},onCancel:e[18],onProceed:e[12],canProceed:e[10],slot:"footer"}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.proceedButton={label:e[0]}),2&n&&(r.onCancel=e[18]),1024&n&&(r.canProceed=e[10]),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function DC(e){let t,n;return t=new Bd({props:{controller:e[1],allowClose:!e[5],closeOn:["button","esc","overlay"],$$slots:{footer:[kC],title:[CC],default:[SC]},$$scope:{ctx:e}}}),t.$on("open",e[11]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const r={};2&n&&(r.controller=e[1]),32&n&&(r.allowClose=!e[5]),8390655&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function IC(e,t,n){let r,o,s,{$$slots:i={},$$scope:a}=t,{saveButtonLabel:l="Save"}=t,{controller:c}=t,{getNameValidationErrors:u}=t,{getInitialName:d=(()=>"")}=t,{getInitialDescription:p=(()=>"")}=t,{save:$}=t,{hideDescription:m=!1}=t,f=!1,g="",h="",y="",v=!1;return e.$$set=e=>{"saveButtonLabel"in e&&n(0,l=e.saveButtonLabel),"controller"in e&&n(1,c=e.controller),"getNameValidationErrors"in e&&n(13,u=e.getNameValidationErrors),"getInitialName"in e&&n(14,d=e.getInitialName),"getInitialDescription"in e&&n(15,p=e.getInitialDescription),"save"in e&&n(16,$=e.save),"hideDescription"in e&&n(2,m=e.hideDescription),"$$scope"in e&&n(23,a=e.$$scope)},e.$$.update=()=>{8200&e.$$.dirty&&n(4,r=u(h)),16&e.$$.dirty&&n(10,o=!r.length)},[l,c,m,h,r,f,s,g,y,v,o,async function(){n(7,g=d()),n(3,h=g),n(8,y=p()),n(9,v=!1),s&&(await Ie(),s.focus(),s.setSelectionRange(0,s.value.length))},async function(){try{n(5,f=!0),await $(h,y),c.close()}catch(e){Uf.fromError(e)}finally{n(5,f=!1)}},u,d,p,$,i,()=>{c.close()},function(e){h=e,n(3,h)},function(e){s=e,n(6,s)},()=>{n(9,v=!0)},function(e){y=e,n(8,y)},a]}class _C extends at{constructor(e){super(),it(this,e,IC,DC,p,{saveButtonLabel:0,controller:1,getNameValidationErrors:13,getInitialName:14,getInitialDescription:15,save:16,hideDescription:2})}}function TC(e){let t;const n=e[1].default,r=g(n,e,e[2],null);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||4&o)&&v(r,n,e,e[2],t?y(n,e[2],o,null):b(e[2]),null)},i(e){t||(qe(r,e),t=!0)},o(e){Ve(r,e),t=!1},d(e){r&&r.d(e)}}}function MC(e){let t,n,r;const o=[{icon:xr},e[0]];let s={$$slots:{default:[TC]},$$scope:{ctx:e}};for(let i=0;i<o.length;i+=1)s=a(s,o[i]);return n=new $y({props:s}),{c(){t=F("div"),rt(n.$$.fragment),B(t,"class","info-box svelte-1imv3fg")},m(e,o){P(e,t,o),ot(n,t,null),r=!0},p(e,[t]){const r=1&t?et(o,[0&t&&{icon:xr},1&t&&tt(e[0])]):{};4&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(qe(n.$$.fragment,e),r=!0)},o(e){Ve(n.$$.fragment,e),r=!1},d(e){e&&R(t),st(n)}}}function EC(e,t,n){const r=[];let o=x(t,r),{$$slots:s={},$$scope:i}=t;return e.$$set=e=>{t=a(a({},t),w(e)),n(0,o=x(t,r)),"$$scope"in e&&n(2,i=e.$$scope)},[o,s,i]}class OC extends at{constructor(e){super(),it(this,e,EC,MC,p,{})}}function AC(e){let t,n;return t=new OC({props:{$$slots:{default:[LC]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function LC(e){let t;return{c(){t=q('Name your schema to reflect its purpose. For example, your personal\n        financial schema may be called "Personal Finances" and your movie\n        collection "Movies." Add a description to your schema to remember what\n        it\'s for.')},m(e,n){P(e,t,n)},d(e){e&&R(t)}}}function NC(e){let t,n,r=!e[1]&&AC(e);return{c(){r&&r.c(),t=j()},m(e,o){r&&r.m(e,o),P(e,t,o),n=!0},p(e,n){e[1]?r&&(Fe(),Ve(r,1,1,(()=>{r=null})),He()):r?2&n&&qe(r,1):(r=AC(e),r.c(),qe(r,1),r.m(t.parentNode,t))},i(e){n||(qe(r),n=!0)},o(e){Ve(r),n=!1},d(e){r&&r.d(e),e&&R(t)}}}function PC(e){let t;return{c(){t=q("Create Schema")},m(e,n){P(e,t,n)},p:s,i:s,o:s,d(e){e&&R(t)}}}function RC(e){let t,n,r,o;return n=new mm({props:{$$slots:{default:[zC]},$$scope:{ctx:e}}}),{c(){t=q("Rename "),rt(n.$$.fragment),r=q(" Schema")},m(e,s){P(e,t,s),ot(n,e,s),P(e,r,s),o=!0},p(e,t){const r={};1536&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){o||(qe(n.$$.fragment,e),o=!0)},o(e){Ve(n.$$.fragment,e),o=!1},d(e){e&&R(t),st(n,e),e&&R(r)}}}function zC(e){let t,n=e[9]+"";return{c(){t=q(n)},m(e,n){P(e,t,n)},p(e,r){512&r&&n!==(n=e[9]+"")&&X(t,n)},d(e){e&&R(t)}}}function FC(e){let t,n,r,o;const s=[RC,PC],i=[];function a(e,t){return e[1]?0:1}return n=a(e),r=i[n]=s[n](e),{c(){t=F("span"),r.c(),B(t,"slot","title")},m(e,r){P(e,t,r),i[n].m(t,null),o=!0},p(e,o){let l=n;n=a(e),n===l?i[n].p(e,o):(Fe(),Ve(i[l],1,1,(()=>{i[l]=null})),He(),r=i[n],r?r.p(e,o):(r=i[n]=s[n](e),r.c()),qe(r,1),r.m(t,null))},i(e){o||(qe(r),o=!0)},o(e){Ve(r),o=!1},d(e){e&&R(t),i[n].d()}}}function HC(e){let t,n;return t=new _C({props:{controller:e[0],save:e[3],getNameValidationErrors:e[2],getInitialName:e[5],getInitialDescription:e[6],saveButtonLabel:e[1]?"Save":"Create New Schema",$$slots:{title:[FC,({initialName:e})=>({9:e}),({initialName:e})=>e?512:0],helpText:[NC]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const r={};1&n&&(r.controller=e[0]),2&n&&(r.getInitialName=e[5]),2&n&&(r.getInitialDescription=e[6]),2&n&&(r.saveButtonLabel=e[1]?"Save":"Create New Schema"),1538&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function qC(e,t,n){let r;f(e,Gh,(e=>n(7,r=e)));let{database:o}=t,{controller:s}=t,{schema:i}=t;return e.$$set=e=>{"database"in e&&n(4,o=e.database),"controller"in e&&n(0,s=e.controller),"schema"in e&&n(1,i=e.schema)},[s,i,function(e){return e.trim()?function(e){return(!i||e.trim()!==i.name)&&Array.from(r?.data||[]).some((([,t])=>t.name.toLowerCase().trim()===e.trim()))}(e)?["A schema with that name already exists."]:[]:["Name cannot be empty."]},async function(e,t){try{i?await async function(e,t){const n=`/api/db/v0/schemas/${t.id}/`,r=await $h(n,{name:t.name,description:t.description});return jh(e,r),r}(o.name,{...i,name:e,description:t}):await async function(e,t,n){const r=await ph("/api/db/v0/schemas/",{name:t,description:n,database:e});return jh(e,r),r}(o.name,e,t)}catch(n){Uf.fromError(n)}},o,()=>i?.name??"",()=>i?.description??""]}class VC extends at{constructor(e){super(),it(this,e,qC,HC,p,{database:4,controller:0,schema:1})}}function jC(e){let t,n,r;const o=[e[2],{options:e[1]},{getLabel:WC}];function s(t){e[3](t)}let i={};for(let l=0;l<o.length;l+=1)i=a(i,o[l]);return void 0!==e[0]&&(i.value=e[0]),t=new Hc({props:i}),we.push((()=>nt(t,"value",s))),{c(){rt(t.$$.fragment)},m(e,n){ot(t,e,n),r=!0},p(e,[r]){const s=6&r?et(o,[4&r&&tt(e[2]),2&r&&{options:e[1]},0&r&&{getLabel:WC}]):{};!n&&1&r&&(n=!0,s.value=e[0],Te((()=>n=!1))),t.$set(s)},i(e){r||(qe(t.$$.fragment,e),r=!0)},o(e){Ve(t.$$.fragment,e),r=!1},d(e){st(t,e)}}}function WC(e){return void 0===e?"":"standard"===e?"Standard":"Admin"}function UC(e,t,n){const r=["value"];let o=x(t,r);let{value:s}=t;return e.$$set=e=>{t=a(a({},t),w(e)),n(2,o=x(t,r)),"value"in e&&n(0,s=e.value)},[s,["standard","admin"],o,function(e){s=e,n(0,s)}]}class YC extends at{constructor(e){super(),it(this,e,UC,jC,p,{value:0})}}function BC(e){let t,n;const r=e[2].default,o=g(r,e,e[1],null);return{c(){t=F("div"),o&&o.c(),B(t,"class","input-row svelte-13nb3a2"),Z(t,"display","contents")},m(e,r){P(e,t,r),o&&o.m(t,null),n=!0},p(e,t){o&&o.p&&(!n||2&t)&&v(o,r,e,e[1],n?y(r,e[1],t,null):b(e[1]),null)},i(e){n||(qe(o,e),n=!0)},o(e){Ve(o,e),n=!1},d(e){e&&R(t),o&&o.d(e)}}}function KC(e){let t;const n=e[2].default,r=g(n,e,e[1],null);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||2&o)&&v(r,n,e,e[1],t?y(n,e[1],o,null):b(e[1]),null)},i(e){t||(qe(r,e),t=!0)},o(e){Ve(r,e),t=!1},d(e){r&&r.d(e)}}}function GC(e){let t,n,r,o;const s=[KC,BC],i=[];function a(e,t){return e[0]?0:1}return t=a(e),n=i[t]=s[t](e),{c(){n.c(),r=j()},m(e,n){i[t].m(e,n),P(e,r,n),o=!0},p(e,[o]){let l=t;t=a(e),t===l?i[t].p(e,o):(Fe(),Ve(i[l],1,1,(()=>{i[l]=null})),He(),n=i[t],n?n.p(e,o):(n=i[t]=s[t](e),n.c()),qe(n,1),n.m(r.parentNode,r))},i(e){o||(qe(n),o=!0)},o(e){Ve(n),o=!1},d(e){i[t].d(e),e&&R(r)}}}function XC(e,t,n){let{$$slots:r={},$$scope:o}=t,{bypass:s=!1}=t;return e.$$set=e=>{"bypass"in e&&n(0,s=e.bypass),"$$scope"in e&&n(1,o=e.$$scope)},[s,o,r]}class JC extends at{constructor(e){super(),it(this,e,XC,GC,p,{bypass:0})}}function ZC(e){let t;return{c(){t=q(e[0])},m(e,n){P(e,t,n)},p(e,n){1&n&&X(t,e[0])},d(e){e&&R(t)}}}function QC(e){let t,n;return{c(){t=F("div"),n=q(e[1]),B(t,"class","help")},m(e,r){P(e,t,r),A(t,n)},p(e,t){2&t&&X(n,e[1])},d(e){e&&R(t)}}}function ek(e){let t,n,r,o,s,i,a,l;n=new vo({props:{controller:e[5],$$slots:{default:[ZC]},$$scope:{ctx:e}}}),i=new By({props:{field:e[2],input:e[3]}});let c=e[1]&&QC(e);return{c(){t=F("div"),rt(n.$$.fragment),r=V(),o=F("div"),s=F("div"),rt(i.$$.fragment),a=V(),c&&c.c(),B(t,"class","left cell svelte-15lk73a"),B(s,"class","input"),B(o,"class","right cell")},m(e,u){P(e,t,u),ot(n,t,null),P(e,r,u),P(e,o,u),A(o,s),ot(i,s,null),A(o,a),c&&c.m(o,null),l=!0},p(e,t){const r={};65&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r);const s={};4&t&&(s.field=e[2]),8&t&&(s.input=e[3]),i.$set(s),e[1]?c?c.p(e,t):(c=QC(e),c.c(),c.m(o,null)):c&&(c.d(1),c=null)},i(e){l||(qe(n.$$.fragment,e),qe(i.$$.fragment,e),l=!0)},o(e){Ve(n.$$.fragment,e),Ve(i.$$.fragment,e),l=!1},d(e){e&&R(t),st(n),e&&R(r),e&&R(o),st(i),c&&c.d()}}}function tk(e){let t,n;return t=new JC({props:{bypass:e[4],$$slots:{default:[ek]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const r={};16&n&&(r.bypass=e[4]),79&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function nk(e,t,n){const r=new oo;let{label:o}=t,{help:s}=t,{field:i}=t,{input:a}=t,{bypassRow:l=!1}=t;return e.$$set=e=>{"label"in e&&n(0,o=e.label),"help"in e&&n(1,s=e.help),"field"in e&&n(2,i=e.field),"input"in e&&n(3,a=e.input),"bypassRow"in e&&n(4,l=e.bypassRow)},io(r),[o,s,i,a,l,r]}class rk extends at{constructor(e){super(),it(this,e,nk,tk,p,{label:0,help:1,field:2,input:3,bypassRow:4})}}function ok(e){let t,n;return t=new rk({props:{label:"Password *",field:e[9],input:{component:Ua,props:{autocomplete:e[1]?"new-password":"on"}}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.input={component:Ua,props:{autocomplete:e[1]?"new-password":"on"}}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function sk(e){let t,n,r,o,s,i,a,l,c,u,d,p,$;n=new rk({props:{label:"Display Name",field:e[5],input:{component:di}}}),o=new rk({props:{label:"Email",field:e[3],input:{component:di}}}),i=new rk({props:{label:"Username *",field:e[4],input:{component:di,props:{autocomplete:e[1]?"new-username":"on"}}}});let m=e[1]&&ok(e);return c=new rk({props:{label:"Role *",field:e[2],input:{component:YC,props:{disabled:e[7]}}}}),p=new Zy({props:{form:e[6],catchErrors:!0,onProceed:e[10],proceedButton:{label:"Save",icon:jm},cancelButton:{label:"Discard Changes",icon:Km},getErrorMessages:e[11],initiallyHidden:!!e[0],hasCancelButton:!!e[0]}}),{c(){t=F("div"),rt(n.$$.fragment),r=V(),rt(o.$$.fragment),s=V(),rt(i.$$.fragment),a=V(),m&&m.c(),l=V(),rt(c.$$.fragment),u=V(),d=F("div"),rt(p.$$.fragment),B(t,"class","user-details-form svelte-u50wk0"),B(d,"class","submit-section svelte-u50wk0")},m(e,f){P(e,t,f),ot(n,t,null),A(t,r),ot(o,t,null),A(t,s),ot(i,t,null),A(t,a),m&&m.m(t,null),A(t,l),ot(c,t,null),P(e,u,f),P(e,d,f),ot(p,d,null),$=!0},p(e,[r]){const s={};32&r&&(s.field=e[5]),n.$set(s);const a={};8&r&&(a.field=e[3]),o.$set(a);const u={};16&r&&(u.field=e[4]),2&r&&(u.input={component:di,props:{autocomplete:e[1]?"new-username":"on"}}),i.$set(u),e[1]?m?(m.p(e,r),2&r&&qe(m,1)):(m=ok(e),m.c(),qe(m,1),m.m(t,l)):m&&(Fe(),Ve(m,1,1,(()=>{m=null})),He());const d={};4&r&&(d.field=e[2]),128&r&&(d.input={component:YC,props:{disabled:e[7]}}),c.$set(d);const $={};64&r&&($.form=e[6]),1&r&&($.initiallyHidden=!!e[0]),1&r&&($.hasCancelButton=!!e[0]),p.$set($)},i(e){$||(qe(n.$$.fragment,e),qe(o.$$.fragment,e),qe(i.$$.fragment,e),qe(m),qe(c.$$.fragment,e),qe(p.$$.fragment,e),$=!0)},o(e){Ve(n.$$.fragment,e),Ve(o.$$.fragment,e),Ve(i.$$.fragment,e),Ve(m),Ve(c.$$.fragment,e),Ve(p.$$.fragment,e),$=!1},d(e){e&&R(t),st(n),st(o),st(i),m&&m.d(),st(c),e&&R(u),e&&R(d),st(p)}}}function ik(e,t,n){let r,o,i,a,l,c,u,d,p,m,g,h=s;e.$$.on_destroy.push((()=>h()));const y=fe(),v=Uv();f(e,v,(e=>n(14,g=e)));let{user:b}=t;const w=rv("");return e.$$set=e=>{"user"in e&&n(0,b=e.user)},e.$$.update=()=>{var t,s;16384&e.$$.dirty&&n(13,r=g),8193&e.$$.dirty&&n(7,o=r&&r.id===b?.id),1&e.$$.dirty&&n(1,i=void 0===b),1&e.$$.dirty&&n(5,a=nv(b?.full_name??"")),1&e.$$.dirty&&n(4,l=rv(b?.username??"",[(t=150,s="Username cannot be longer than 150 characters.",Qh((e=>e.length<=t),s??`Value cannot be longer than ${t} characters.`)),ry(/^[A-Za-z0-9_@.+-]*$/,"Username can only contain alphanumeric characters, _, @, +, ., and -.")])),1&e.$$.dirty&&n(3,c=nv(b?.email??"",[sy()])),1&e.$$.dirty&&n(2,u=rv(b?.is_superuser?"admin":"user")),1&e.$$.dirty&&w.reset(),62&e.$$.dirty&&n(12,d=(()=>{const e={fullName:a,username:l,email:c,userType:u};return i?{...e,password:w}:e})()),4096&e.$$.dirty&&(n(6,p=sv(d)),h(),h=$(p,(e=>n(15,m=e))))},[b,i,u,c,l,a,p,o,v,w,async function(){const e=m.values,t={full_name:e.fullName,username:e.username,email:e.email,is_superuser:"admin"===e.userType};if(!i||!_t(e,"password")){if(b)return await Ev.update(b.id,t),o&&v&&v.update((e=>e.with(t))),void y("update");throw new Error("Unable to update user")}{const n=await Ev.add({...t,password:e.password});y("create",n)}},function(e){const{commonErrors:t,fieldSpecificErrors:n}=function(e,t){if(e instanceof th||e instanceof eh){const{commonErrors:n,fieldSpecificErrors:r}=e.getSegregatedErrors();return t?{commonErrors:n,fieldSpecificErrors:new dt([...r.entries()].map((([e,n])=>[t[e]??e,n])))}:{commonErrors:n,fieldSpecificErrors:r}}return{commonErrors:[Dl(e)],fieldSpecificErrors:new dt}}(e,{user_name:"username",is_superuser:"userType"});for(const[r,o]of n){const e=p.fields[r];e?e.serverErrors.set(o):t.push(...o)}return t},d,r,g]}class ak extends at{constructor(e){super(),it(this,e,ik,sk,p,{user:0})}}function lk(e){let t;const n=e[1].default,r=g(n,e,e[2],null);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||4&o)&&v(r,n,e,e[2],t?y(n,e[2],o,null):b(e[2]),null)},i(e){t||(qe(r,e),t=!0)},o(e){Ve(r,e),t=!1},d(e){r&&r.d(e)}}}function ck(e){let t,n,r;const o=[e[0],{icon:Sr}];let s={$$slots:{default:[lk]},$$scope:{ctx:e}};for(let i=0;i<o.length;i+=1)s=a(s,o[i]);return n=new $y({props:s}),{c(){t=F("div"),rt(n.$$.fragment),B(t,"class","warning-box svelte-1p8cm9u")},m(e,o){P(e,t,o),ot(n,t,null),r=!0},p(e,[t]){const r=1&t?et(o,[1&t&&tt(e[0]),0&t&&{icon:Sr}]):{};4&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(qe(n.$$.fragment,e),r=!0)},o(e){Ve(n.$$.fragment,e),r=!1},d(e){e&&R(t),st(n)}}}function uk(e,t,n){const r=[];let o=x(t,r),{$$slots:s={},$$scope:i}=t;return e.$$set=e=>{t=a(a({},t),w(e)),n(0,o=x(t,r)),"$$scope"in e&&n(2,i=e.$$scope)},[o,s,i]}class dk extends at{constructor(e){super(),it(this,e,uk,ck,p,{})}}function pk(e){let t,n,r;return n=new dk({props:{fullWidth:!0,$$slots:{default:[fk]},$$scope:{ctx:e}}}),{c(){t=F("div"),rt(n.$$.fragment),B(t,"class","password-change-warning svelte-153pjf4")},m(e,o){P(e,t,o),ot(n,t,null),r=!0},p(e,t){const r={};65537&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(qe(n.$$.fragment,e),r=!0)},o(e){Ve(n.$$.fragment,e),r=!1},d(e){e&&R(t),st(n)}}}function $k(e){let t;return{c(){t=q("Resetting the password will prompt the user to change their password\n          on their next login.")},m(e,n){P(e,t,n)},d(e){e&&R(t)}}}function mk(e){let t;return{c(){t=q("You'll be redirected to the login page once you change your password.")},m(e,n){P(e,t,n)},d(e){e&&R(t)}}}function fk(e){let t;function n(e,t){return e[0]?mk:$k}let r=n(e),o=r(e);return{c(){o.c(),t=j()},m(e,n){o.m(e,n),P(e,t,n)},p(e,s){r!==(r=n(e))&&(o.d(1),o=r(e),o&&(o.c(),o.m(t.parentNode,t)))},d(e){o.d(e),e&&R(t)}}}function gk(e){let t,n;return t=new JC({props:{$$slots:{default:[vk]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};65540&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function hk(e){let t,n,r,o=e[0]&&bk(e);return n=new JC({props:{$$slots:{default:[xk]},$$scope:{ctx:e}}}),{c(){o&&o.c(),t=V(),rt(n.$$.fragment)},m(e,s){o&&o.m(e,s),P(e,t,s),ot(n,e,s),r=!0},p(e,r){e[0]?o?(o.p(e,r),1&r&&qe(o,1)):(o=bk(e),o.c(),qe(o,1),o.m(t.parentNode,t)):o&&(Fe(),Ve(o,1,1,(()=>{o=null})),He());const s={};65536&r&&(s.$$scope={dirty:r,ctx:e}),n.$set(s)},i(e){r||(qe(o),qe(n.$$.fragment,e),r=!0)},o(e){Ve(o),Ve(n.$$.fragment,e),r=!1},d(e){o&&o.d(e),e&&R(t),st(n,e)}}}function yk(e){let t;return{c(){t=q("Change Password")},m(e,n){P(e,t,n)},d(e){e&&R(t)}}}function vk(e){let t,n,r,o,s;return t=new rk({props:{label:"Password",field:e[7],input:{component:Ua,props:{disabled:!0}},bypassRow:!0}}),o=new Ln({props:{appearance:"secondary",$$slots:{default:[yk]},$$scope:{ctx:e}}}),o.$on("click",e[13]),{c(){rt(t.$$.fragment),n=V(),r=F("div"),rt(o.$$.fragment),B(r,"class","change-password-button cell svelte-153pjf4")},m(e,i){ot(t,e,i),P(e,n,i),P(e,r,i),ot(o,r,null),s=!0},p(e,t){const n={};65536&t&&(n.$$scope={dirty:t,ctx:e}),o.$set(n)},i(e){s||(qe(t.$$.fragment,e),qe(o.$$.fragment,e),s=!0)},o(e){Ve(t.$$.fragment,e),Ve(o.$$.fragment,e),s=!1},d(e){st(t,e),e&&R(n),e&&R(r),st(o)}}}function bk(e){let t,n;return t=new JC({props:{$$slots:{default:[wk]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};65536&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function wk(e){let t,n,r,o,i,a;return t=new rk({props:{label:"Old Password *",field:e[4],input:{component:Ua},bypassRow:!0}}),{c(){rt(t.$$.fragment),n=V(),r=F("div"),o=V(),i=F("div")},m(e,s){ot(t,e,s),P(e,n,s),P(e,r,s),P(e,o,s),P(e,i,s),a=!0},p:s,i(e){a||(qe(t.$$.fragment,e),a=!0)},o(e){Ve(t.$$.fragment,e),a=!1},d(e){st(t,e),e&&R(n),e&&R(r),e&&R(o),e&&R(i)}}}function xk(e){let t,n,r,o;return t=new rk({props:{label:"New Password *",field:e[5],input:{component:Ua,props:{autocomplete:"new-password"}},bypassRow:!0}}),r=new rk({props:{label:"Confirm Password *",field:e[6],input:{component:Ua,props:{autocomplete:"new-password"}},bypassRow:!0}}),{c(){rt(t.$$.fragment),n=V(),rt(r.$$.fragment)},m(e,s){ot(t,e,s),P(e,n,s),ot(r,e,s),o=!0},p:s,i(e){o||(qe(t.$$.fragment,e),qe(r.$$.fragment,e),o=!0)},o(e){Ve(t.$$.fragment,e),Ve(r.$$.fragment,e),o=!1},d(e){st(t,e),e&&R(n),st(r,e)}}}function Sk(e){let t,n,r;return n=new Zy({props:{form:e[1],catchErrors:!0,onProceed:e[8],onCancel:e[14],proceedButton:{label:"Save",icon:jm},cancelButton:{label:"Cancel"}}}),{c(){t=F("div"),rt(n.$$.fragment),B(t,"class","submit-section svelte-153pjf4")},m(e,o){P(e,t,o),ot(n,t,null),r=!0},p(e,t){const r={};2&t&&(r.form=e[1]),4&t&&(r.onCancel=e[14]),n.$set(r)},i(e){r||(qe(n.$$.fragment,e),r=!0)},o(e){Ve(n.$$.fragment,e),r=!1},d(e){e&&R(t),st(n)}}}function Ck(e){let t,n,r,o,s,i,a,l=e[2]&&pk(e);const c=[hk,gk],u=[];function d(e,t){return e[2]?0:1}o=d(e),s=u[o]=c[o](e);let p=e[2]&&Sk(e);return{c(){t=F("div"),l&&l.c(),n=V(),r=F("div"),s.c(),i=V(),p&&p.c(),B(r,"class","password-inputs svelte-153pjf4"),B(t,"class","password-change-form svelte-153pjf4")},m(e,s){P(e,t,s),l&&l.m(t,null),A(t,n),A(t,r),u[o].m(r,null),A(t,i),p&&p.m(t,null),a=!0},p(e,[i]){e[2]?l?(l.p(e,i),4&i&&qe(l,1)):(l=pk(e),l.c(),qe(l,1),l.m(t,n)):l&&(Fe(),Ve(l,1,1,(()=>{l=null})),He());let a=o;o=d(e),o===a?u[o].p(e,i):(Fe(),Ve(u[a],1,1,(()=>{u[a]=null})),He(),s=u[o],s?s.p(e,i):(s=u[o]=c[o](e),s.c()),qe(s,1),s.m(r,null)),e[2]?p?(p.p(e,i),4&i&&qe(p,1)):(p=Sk(e),p.c(),qe(p,1),p.m(t,null)):p&&(Fe(),Ve(p,1,1,(()=>{p=null})),He())},i(e){a||(qe(l),qe(s),qe(p),a=!0)},o(e){Ve(l),Ve(s),Ve(p),a=!1},d(e){e&&R(t),l&&l.d(),u[o].d(),p&&p.d()}}}function kk(e,t,n){let r,o,i,a,l,c,u=s;e.$$.on_destroy.push((()=>u()));const d=Uv();f(e,d,(e=>n(12,c=e)));let{userId:p}=t;const m=rv(""),g=rv(""),h=rv(""),y=nv("***************");let v=!1;return e.$$set=e=>{"userId"in e&&n(9,p=e.userId)},e.$$.update=()=>{4096&e.$$.dirty&&n(11,r=c),2560&e.$$.dirty&&n(0,o=r?.id===p),1&e.$$.dirty&&n(10,i=(()=>{const e={password:g,confirmPassword:h};return o?{...e,oldPassword:m}:e})()),1024&e.$$.dirty&&(n(1,a=sv(i,[cy([g,h],"Passwords do not match")])),u(),u=$(a,(e=>n(15,l=e)))),514&e.$$.dirty&&(n(2,v=!1),a.reset())},[o,a,v,d,m,g,h,y,async function(){const e=l.values;o&&_t(e,"oldPassword")?(await Ev.changePassword(e.oldPassword,e.password),window.location.reload()):(await Ev.resetPassword(p,e.password),n(2,v=!1))},p,i,r,c,()=>{n(2,v=!0)},()=>{n(2,v=!1)}]}class Dk extends at{constructor(e){super(),it(this,e,kk,Ck,p,{userId:9})}}function Ik(e,t,n){const r=e.slice();r[16]=t[n][0],r[17]=t[n][1],r[21]=n;const o=r[4]&&r[3]!==r[16];r[18]=o;const s=r[4]&&0===r[21]||!r[4];return r[19]=s,r}function _k(e){let t,n,r=e[0].fullName+"";return{c(){t=F("span"),n=q(r)},m(e,r){P(e,t,r),A(t,n)},p(e,t){1&t&&r!==(r=e[0].fullName+"")&&X(n,r)},d(e){e&&R(t)}}}function Tk(e){let t;return{c(){t=F("span"),B(t,"class","divider svelte-q2wxdp")},m(e,n){P(e,t,n)},d(e){e&&R(t)}}}function Mk(e){let t,n,r=e[0].email+"";return{c(){t=F("span"),n=q(r)},m(e,r){P(e,t,r),A(t,n)},p(e,t){1&t&&r!==(r=e[0].email+"")&&X(n,r)},d(e){e&&R(t)}}}function Ek(e){let t,n=Pv(e[17])+"";return{c(){t=q(n)},m(e,n){P(e,t,n)},p(e,r){2&r&&n!==(n=Pv(e[17])+"")&&X(t,n)},d(e){e&&R(t)}}}function Ok(e){let t;return{c(){t=q("Admin Access")},m(e,n){P(e,t,n)},p:s,d(e){e&&R(t)}}}function Ak(e){let t,n,r,o,s=e[7](e[16],e[18])+"";return r=new ni({props:{$$slots:{default:[Lk]},$$scope:{ctx:e}}}),{c(){t=q(s),n=V(),rt(r.$$.fragment)},m(e,s){P(e,t,s),P(e,n,s),ot(r,e,s),o=!0},p(e,n){(!o||26&n)&&s!==(s=e[7](e[16],e[18])+"")&&X(t,s);const i={};4194330&n&&(i.$$scope={dirty:n,ctx:e}),r.$set(i)},i(e){o||(qe(r.$$.fragment,e),o=!0)},o(e){Ve(r.$$.fragment,e),o=!1},d(e){e&&R(t),e&&R(n),st(r,e)}}}function Lk(e){let t,n=e[8](e[16],e[18])+"";return{c(){t=q(n)},m(e,n){P(e,t,n)},p(e,r){26&r&&n!==(n=e[8](e[16],e[18])+"")&&X(t,n)},d(e){e&&R(t)}}}function Nk(e){let t,n,r,o,s,i,a=Nv(e[17])+"";const l=[zk,Rk],c=[];function u(e,t){return"database"===e[16]?0:"schema"===e[16]?1:-1}return~(t=u(e))&&(n=c[t]=l[t](e)),{c(){n&&n.c(),r=V(),o=F("span"),s=q(a)},m(e,n){~t&&c[t].m(e,n),P(e,r,n),P(e,o,n),A(o,s),i=!0},p(e,o){let d=t;t=u(e),t===d?~t&&c[t].p(e,o):(n&&(Fe(),Ve(c[d],1,1,(()=>{c[d]=null})),He()),~t?(n=c[t],n?n.p(e,o):(n=c[t]=l[t](e),n.c()),qe(n,1),n.m(r.parentNode,r)):n=null),(!i||2&o)&&a!==(a=Nv(e[17])+"")&&X(s,a)},i(e){i||(qe(n),i=!0)},o(e){Ve(n),i=!1},d(e){~t&&c[t].d(e),e&&R(r),e&&R(o)}}}function Pk(e){let t,n,r,o;const s=[xf,{size:"0.8em"}];let i={};for(let l=0;l<s.length;l+=1)i=a(i,s[l]);return t=new Wr({props:i}),{c(){rt(t.$$.fragment),n=V(),r=F("span"),r.textContent="Admin"},m(e,s){ot(t,e,s),P(e,n,s),P(e,r,s),o=!0},p(e,n){const r=0&n?et(s,[tt(xf),s[1]]):{};t.$set(r)},i(e){o||(qe(t.$$.fragment,e),o=!0)},o(e){Ve(t.$$.fragment,e),o=!1},d(e){st(t,e),e&&R(n),e&&R(r)}}}function Rk(e){let t,n;const r=[$f,{size:"0.8em"}];let o={};for(let s=0;s<r.length;s+=1)o=a(o,r[s]);return t=new Wr({props:o}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const o=0&n?et(r,[tt($f),r[1]]):{};t.$set(o)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function zk(e){let t,n;const r=[of,{size:"0.8em"}];let o={};for(let s=0;s<r.length;s+=1)o=a(o,r[s]);return t=new Wr({props:o}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const o=0&n?et(r,[tt(of),r[1]]):{};t.$set(o)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Fk(e){let t,n,r,o;const s=[Pk,Nk],i=[];function a(e,t){return"admin"===e[16]?0:1}return t=a(e),n=i[t]=s[t](e),{c(){n.c(),r=j()},m(e,n){i[t].m(e,n),P(e,r,n),o=!0},p(e,o){let l=t;t=a(e),t===l?i[t].p(e,o):(Fe(),Ve(i[l],1,1,(()=>{i[l]=null})),He(),n=i[t],n?n.p(e,o):(n=i[t]=s[t](e),n.c()),qe(n,1),n.m(r.parentNode,r))},i(e){o||(qe(n),o=!0)},o(e){Ve(n),o=!1},d(e){i[t].d(e),e&&R(r)}}}function Hk(e){let t,n;return t=new Jr({props:{onClick:e[5],label:"",icon:{...km,size:"0.75em"},appearance:"outline-primary"}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p:s,i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function qk(e){let t,n;return t=new Gs({props:{$$slots:{content:[Wk],trigger:[jk]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};4194306&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Vk(e){let t,n;const r=[km,{size:"0.75em"}];let o={};for(let s=0;s<r.length;s+=1)o=a(o,r[s]);return t=new Wr({props:o}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const o=0&n?et(r,[tt(km),r[1]]):{};t.$set(o)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function jk(e){let t,n;return t=new Ln({props:{slot:"trigger",disabled:!0,$$slots:{default:[Vk]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};4194304&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Wk(e){let t,n,r=e[9](e[16])+"";return{c(){t=F("span"),n=q(r),B(t,"slot","content")},m(e,r){P(e,t,r),A(t,n)},p(e,t){2&t&&r!==(r=e[9](e[16])+"")&&X(n,r)},d(e){e&&R(t)}}}function Uk(e,t){let n,r,o,s,i,a,l,c,u,d,p,$,m,f;function g(e,t){return"admin"===e[16]?Ok:Ek}let h=g(t),y=h(t),v=t[4]&&"admin"!==t[16]&&Ak(t);l=new es({props:{background:"var(--slate-200)",display:"inline-flex",$$slots:{default:[Fk]},$$scope:{ctx:t}}});const b=[qk,Hk],w=[];function x(e,t){return 6&t&&(d=null),null==d&&(d=!("admin"!==e[16]&&!e[6](e[16])&&!e[2])),d?0:1}return p=x(t,-1),$=w[p]=b[p](t),{key:e,first:null,c(){n=F("div"),r=F("div"),o=F("div"),y.c(),s=V(),v&&v.c(),i=V(),a=F("div"),rt(l.$$.fragment),c=V(),u=F("div"),$.c(),m=V(),B(r,"class","cell access-level svelte-q2wxdp"),te(r,"disabled",t[18]),te(r,"has-border",t[19]),B(a,"class","cell access-level-chip svelte-q2wxdp"),te(a,"disabled",t[18]),te(a,"has-border",t[19]),B(u,"class","cell svelte-q2wxdp"),te(u,"has-border",t[19]),B(n,"class","access-wrapper svelte-q2wxdp"),this.first=n},m(e,t){P(e,n,t),A(n,r),A(r,o),y.m(o,null),A(o,s),v&&v.m(o,null),A(n,i),A(n,a),ot(l,a,null),A(n,c),A(n,u),w[p].m(u,null),A(n,m),f=!0},p(e,n){h===(h=g(t=e))&&y?y.p(t,n):(y.d(1),y=h(t),y&&(y.c(),y.m(o,s))),t[4]&&"admin"!==t[16]?v?(v.p(t,n),18&n&&qe(v,1)):(v=Ak(t),v.c(),qe(v,1),v.m(o,null)):v&&(Fe(),Ve(v,1,1,(()=>{v=null})),He()),(!f||26&n)&&te(r,"disabled",t[18]),(!f||18&n)&&te(r,"has-border",t[19]);const i={};4194306&n&&(i.$$scope={dirty:n,ctx:t}),l.$set(i),(!f||26&n)&&te(a,"disabled",t[18]),(!f||18&n)&&te(a,"has-border",t[19]);let c=p;p=x(t,n),p===c?w[p].p(t,n):(Fe(),Ve(w[c],1,1,(()=>{w[c]=null})),He(),$=w[p],$?$.p(t,n):($=w[p]=b[p](t),$.c()),qe($,1),$.m(u,null)),(!f||18&n)&&te(u,"has-border",t[19])},i(e){f||(qe(v),qe(l.$$.fragment,e),qe($),f=!0)},o(e){Ve(v),Ve(l.$$.fragment,e),Ve($),f=!1},d(e){e&&R(n),y.d(),v&&v.d(),st(l),w[p].d()}}}function Yk(e){let t,n,r,o,s,i,a,l,c,u,d,p=e[0].username+"",$=`span ${e[1].length}`,m=[],f=new Map,g=e[0].fullName&&_k(e),h=e[0].fullName&&e[0].email&&Tk(),y=e[0].email&&Mk(e),v=e[1];const b=e=>`${e[16]}-${e[17]}`;for(let w=0;w<v.length;w+=1){let t=Ik(e,v,w),n=b(t);f.set(n,m[w]=Uk(n,t))}return{c(){t=F("div"),n=F("div"),r=F("div"),o=F("div"),s=q(p),i=V(),a=F("div"),g&&g.c(),l=V(),h&&h.c(),c=V(),y&&y.c(),u=V();for(let e=0;e<m.length;e+=1)m[e].c();B(o,"class","name svelte-q2wxdp"),B(a,"class","info svelte-q2wxdp"),B(r,"class","name-and-info svelte-q2wxdp"),B(n,"class","cell has-border svelte-q2wxdp"),Z(n,"grid-row",$,!1),B(t,"class","wrapper svelte-q2wxdp")},m(e,p){P(e,t,p),A(t,n),A(n,r),A(r,o),A(o,s),A(r,i),A(r,a),g&&g.m(a,null),A(a,l),h&&h.m(a,null),A(a,c),y&&y.m(a,null),A(t,u);for(let n=0;n<m.length;n+=1)m[n].m(t,null);d=!0},p(e,[r]){(!d||1&r)&&p!==(p=e[0].username+"")&&X(s,p),e[0].fullName?g?g.p(e,r):(g=_k(e),g.c(),g.m(a,l)):g&&(g.d(1),g=null),e[0].fullName&&e[0].email?h||(h=Tk(),h.c(),h.m(a,c)):h&&(h.d(1),h=null),e[0].email?y?y.p(e,r):(y=Mk(e),y.c(),y.m(a,null)):y&&(y.d(1),y=null),2&r&&$!==($=`span ${e[1].length}`)&&Z(n,"grid-row",$,!1),1022&r&&(v=e[1],Fe(),m=Qe(m,r,b,1,e,v,f,t,Je,Uk,null,Ik),He())},i(e){if(!d){for(let e=0;e<v.length;e+=1)qe(m[e]);d=!0}},o(e){for(let t=0;t<m.length;t+=1)Ve(m[t]);d=!1},d(e){e&&R(t),g&&g.d(),h&&h.d(),y&&y.d();for(let t=0;t<m.length;t+=1)m[t].d()}}}function Bk(e,t,n){let r,o,s,i,a,l,{userProfile:c}=t,{userModel:u}=t,{accessControlObject:d}=t,{getUserRoles:p}=t,{removeAccessForUser:$}=t;function m(e){return d!==e}return e.$$set=e=>{"userProfile"in e&&n(10,c=e.userProfile),"userModel"in e&&n(0,u=e.userModel),"accessControlObject"in e&&n(11,d=e.accessControlObject),"getUserRoles"in e&&n(12,p=e.getUserRoles),"removeAccessForUser"in e&&n(13,$=e.removeAccessForUser)},e.$$.update=()=>{4097&e.$$.dirty&&n(14,r=p(u)),16384&e.$$.dirty&&n(15,o=r&&r.size>0?[...r.entries()]:[]),32769&e.$$.dirty&&n(1,s=u.isSuperUser?[["admin","manager"]]:o),2&e.$$.dirty&&n(4,i=s.length>1),16384&e.$$.dirty&&n(3,a=r?function(e){const t=e.get("schema"),n=e.get("database");return t&&n?Rv[t]>Rv[n]?"schema":"database":t?"schema":"database"}(r):void 0),1025&e.$$.dirty&&n(2,l=c?.id===u.id)},[u,s,l,a,i,async function(){await $(u)},m,function(e,t){const n=[];return m(e)&&n.push("Inherited"),t&&n.push("Overridden"),n.length>0?`(${n.join(", ")})`:""},function(e,t){const n="database"===e?"schema":"database",r=m(e);return r&&t?`This access level is inherited from the ${e} permissions\n        and is overridden by the ${n} permissions.`:r?`This access level is inherited from the ${e} permissions.`:t?`This access level is overridden by the ${n} permissions.`:`This access level overrides the ${n} permissions.`},function(e){return"admin"===e?"Individual permissions cannot be modified for users with Admin access.":l?"You cannot modify your own access levels. Please contact an administrator.":m(e)?"This access level is inherited and cannot be removed from this panel.":"This access level cannot be removed."},c,d,p,$,r,o]}class Kk extends at{constructor(e){super(),it(this,e,Bk,Yk,p,{userProfile:10,userModel:0,accessControlObject:11,getUserRoles:12,removeAccessForUser:13})}}function Gk(e,t,n){const r=e.slice();return r[21]=t[n],r}function Xk(e){let t,n;return t=new Ln({props:{appearance:"secondary",$$slots:{default:[Jk]},$$scope:{ctx:e}}}),t.$on("click",e[17]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};33554432&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Jk(e){let t,n,r,o;const s=[xm];let i={};for(let l=0;l<s.length;l+=1)i=a(i,s[l]);return t=new Wr({props:i}),{c(){rt(t.$$.fragment),n=V(),r=F("span"),r.textContent="Add"},m(e,s){ot(t,e,s),P(e,n,s),P(e,r,s),o=!0},p(e,n){const r=0&n?et(s,[tt(xm)]):{};t.$set(r)},i(e){o||(qe(t.$$.fragment,e),o=!0)},o(e){Ve(t.$$.fragment,e),o=!1},d(e){st(t,e),e&&R(n),e&&R(r)}}}function Zk(e){let t,n,r,o,s,i,a,l,c,u;r=new Io({props:{label:"User",layout:"stacked",$$slots:{default:[rD]},$$scope:{ctx:e}}}),s=new Io({props:{label:"Permission",layout:"stacked",$$slots:{default:[oD]},$$scope:{ctx:e}}}),l=new Jr({props:{disabled:!e[4]||e[6],onClick:e[13],icon:xm,label:"Add",appearance:"secondary"}});let d=e[8]&&sD(e);return{c(){t=F("div"),n=F("div"),rt(r.$$.fragment),o=V(),rt(s.$$.fragment),i=V(),a=F("div"),rt(l.$$.fragment),c=V(),d&&d.c(),B(a,"class","add-button svelte-v15h0w"),B(n,"class","add-user-form svelte-v15h0w"),B(t,"class","add-user svelte-v15h0w")},m(e,p){P(e,t,p),A(t,n),ot(r,n,null),A(n,o),ot(s,n,null),A(n,i),A(n,a),ot(l,a,null),A(t,c),d&&d.m(t,null),u=!0},p(e,n){const o={};33555536&n&&(o.$$scope={dirty:n,ctx:e}),r.$set(o);const i={};33555008&n&&(i.$$scope={dirty:n,ctx:e}),s.$set(i);const a={};80&n&&(a.disabled=!e[4]||e[6]),l.$set(a),e[8]?d?(d.p(e,n),256&n&&qe(d,1)):(d=sD(e),d.c(),qe(d,1),d.m(t,null)):d&&(Fe(),Ve(d,1,1,(()=>{d=null})),He())},i(e){u||(qe(r.$$.fragment,e),qe(s.$$.fragment,e),qe(l.$$.fragment,e),qe(d),u=!0)},o(e){Ve(r.$$.fragment,e),Ve(s.$$.fragment,e),Ve(l.$$.fragment,e),Ve(d),u=!1},d(e){e&&R(t),st(r),st(s),st(l),d&&d.d()}}}function Qk(e){let t;return{c(){t=F("span"),t.textContent="Select User",B(t,"class","placeholder svelte-v15h0w")},m(e,n){P(e,t,n)},p:s,d(e){e&&R(t)}}}function eD(e){let t,n=e[24].username+"";return{c(){t=q(n)},m(e,n){P(e,t,n)},p(e,r){16777216&r&&n!==(n=e[24].username+"")&&X(t,n)},d(e){e&&R(t)}}}function tD(e){let t;function n(e,t){return e[24]?eD:Qk}let r=n(e),o=r(e);return{c(){o.c(),t=j()},m(e,n){o.m(e,n),P(e,t,n)},p(e,s){r===(r=n(e))&&o?o.p(e,s):(o.d(1),o=r(e),o&&(o.c(),o.m(t.parentNode,t)))},d(e){o.d(e),e&&R(t)}}}function nD(e){let t;return{c(){t=F("div"),t.textContent="No users found",B(t,"class","no-users svelte-v15h0w"),B(t,"slot","empty")},m(e,n){P(e,t,n)},p:s,d(e){e&&R(t)}}}function rD(e){let t,n,r;function o(t){e[18](t)}let s={autoSelect:"none",options:e[10],disabled:e[6],$$slots:{empty:[nD,({option:e})=>({24:e}),({option:e})=>e?16777216:0],default:[tD,({option:e})=>({24:e}),({option:e})=>e?16777216:0]},$$scope:{ctx:e}};return void 0!==e[4]&&(s.value=e[4]),t=new Hc({props:s}),we.push((()=>nt(t,"value",o))),{c(){rt(t.$$.fragment)},m(e,n){ot(t,e,n),r=!0},p(e,r){const o={};1024&r&&(o.options=e[10]),64&r&&(o.disabled=e[6]),50331648&r&&(o.$$scope={dirty:r,ctx:e}),!n&&16&r&&(n=!0,o.value=e[4],Te((()=>n=!1))),t.$set(o)},i(e){r||(qe(t.$$.fragment,e),r=!0)},o(e){Ve(t.$$.fragment,e),r=!1},d(e){st(t,e)}}}function oD(e){let t,n,r;function o(t){e[20](t)}let s={options:e[11],getLabel:e[19],disabled:e[6]};return void 0!==e[9]&&(s.value=e[9]),t=new Hc({props:s}),we.push((()=>nt(t,"value",o))),{c(){rt(t.$$.fragment)},m(e,n){ot(t,e,n),r=!0},p(e,r){const o={};64&r&&(o.disabled=e[6]),!n&&512&r&&(n=!0,o.value=e[9],Te((()=>n=!1))),t.$set(o)},i(e){r||(qe(t.$$.fragment,e),r=!0)},o(e){Ve(t.$$.fragment,e),r=!1},d(e){st(t,e)}}}function sD(e){let t,n;return t=new hy({props:{$$slots:{default:[iD]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};33554688&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function iD(e){let t;return{c(){t=q(e[8])},m(e,n){P(e,t,n)},p(e,n){256&n&&X(t,e[8])},d(e){e&&R(t)}}}function aD(e){let t,n;return t=new ni({props:{$$slots:{default:[lD]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function lD(e){let t;return{c(){t=q("If a user has different access levels on the database and the schema,\n        the access level of schema will take precedence.")},m(e,n){P(e,t,n)},d(e){e&&R(t)}}}function cD(e,t){let n,r,o;return r=new Kk({props:{userProfile:t[5],getUserRoles:t[3],userModel:t[21],accessControlObject:t[2],removeAccessForUser:t[1]}}),{key:e,first:null,c(){n=j(),rt(r.$$.fragment),this.first=n},m(e,t){P(e,n,t),ot(r,e,t),o=!0},p(e,n){t=e;const o={};32&n&&(o.userProfile=t[5]),8&n&&(o.getUserRoles=t[3]),1&n&&(o.userModel=t[21]),4&n&&(o.accessControlObject=t[2]),2&n&&(o.removeAccessForUser=t[1]),r.$set(o)},i(e){o||(qe(r.$$.fragment,e),o=!0)},o(e){Ve(r.$$.fragment,e),o=!1},d(e){e&&R(n),st(r,e)}}}function uD(e){let t,n,r,o,s,i,a,l,c,u,d=[],p=new Map,$=!e[7]&&Xk(e),m=e[7]&&Zk(e),f="schema"===e[2]&&aD(e),g=e[0];const h=e=>e[21].id;for(let y=0;y<g.length;y+=1){let t=Gk(e,g,y),n=h(t);p.set(n,d[y]=cD(n,t))}return{c(){t=F("div"),$&&$.c(),n=V(),m&&m.c(),r=V(),o=F("div"),s=F("div"),i=F("span"),i.textContent="Users with access",a=V(),f&&f.c(),l=V(),c=F("div");for(let e=0;e<d.length;e+=1)d[e].c();B(s,"class","header svelte-v15h0w"),B(c,"class","list svelte-v15h0w"),B(o,"class","users-with-access svelte-v15h0w")},m(e,p){P(e,t,p),$&&$.m(t,null),A(t,n),m&&m.m(t,null),P(e,r,p),P(e,o,p),A(o,s),A(s,i),A(s,a),f&&f.m(s,null),A(o,l),A(o,c);for(let t=0;t<d.length;t+=1)d[t].m(c,null);u=!0},p(e,[r]){e[7]?$&&(Fe(),Ve($,1,1,(()=>{$=null})),He()):$?($.p(e,r),128&r&&qe($,1)):($=Xk(e),$.c(),qe($,1),$.m(t,n)),e[7]?m?(m.p(e,r),128&r&&qe(m,1)):(m=Zk(e),m.c(),qe(m,1),m.m(t,null)):m&&(Fe(),Ve(m,1,1,(()=>{m=null})),He()),"schema"===e[2]?f?4&r&&qe(f,1):(f=aD(e),f.c(),qe(f,1),f.m(s,null)):f&&(Fe(),Ve(f,1,1,(()=>{f=null})),He()),47&r&&(g=e[0],Fe(),d=Qe(d,r,h,1,e,g,p,c,Je,cD,null,Gk),He())},i(e){if(!u){qe($),qe(m),qe(f);for(let e=0;e<g.length;e+=1)qe(d[e]);u=!0}},o(e){Ve($),Ve(m),Ve(f);for(let t=0;t<d.length;t+=1)Ve(d[t]);u=!1},d(e){e&&R(t),$&&$.d(),m&&m.d(),e&&R(r),e&&R(o),f&&f.d();for(let t=0;t<d.length;t+=1)d[t].d()}}}function dD(e,t,n){let r,o,s;const i=Uv();f(e,i,(e=>n(16,s=e)));let a,l,{usersWithAccess:c}=t,{usersWithoutAccess:u}=t,{addAccessForUser:d}=t,{removeAccessForUser:p}=t,{accessControlObject:$}=t,{getUserRoles:m}=t,g=!1,h=!1,y="viewer";return e.$$set=e=>{"usersWithAccess"in e&&n(0,c=e.usersWithAccess),"usersWithoutAccess"in e&&n(14,u=e.usersWithoutAccess),"addAccessForUser"in e&&n(15,d=e.addAccessForUser),"removeAccessForUser"in e&&n(1,p=e.removeAccessForUser),"accessControlObject"in e&&n(2,$=e.accessControlObject),"getUserRoles"in e&&n(3,m=e.getUserRoles)},e.$$.update=()=>{65536&e.$$.dirty&&n(5,r=s),16416&e.$$.dirty&&n(10,o=u.filter((e=>e.id!==r?.id)))},[c,p,$,m,l,r,g,h,a,y,o,["viewer","editor","manager"],i,async function(){if(n(8,a=void 0),l)try{n(6,g=!0),await d(l,y),n(4,l=void 0)}catch(e){n(8,a=Dl(e))}finally{n(6,g=!1)}},u,d,s,()=>{n(7,h=!0),n(8,a=void 0)},function(e){l=e,n(4,l)},e=>e?Nv(e):"Select Permission",function(e){y=e,n(9,y)}]}class pD extends at{constructor(e){super(),it(this,e,dD,uD,p,{usersWithAccess:0,usersWithoutAccess:14,addAccessForUser:15,removeAccessForUser:1,accessControlObject:2,getUserRoles:3})}}function $D(e){const t=e.isSuperUser?"admin":"standard",n=function(e){switch(e){case"admin":return"Admin";case"standard":return"Standard";default:throw new Il(e)}}(t);return{icon:e.isSuperUser?Cf:xf,type:t,displayName:n}}function mD(e){let t,n;return t=new hy({props:{$$slots:{default:[hD]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};4112&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function fD(e){let t;return{c(){t=F("div"),t.textContent="Loading"},m(e,n){P(e,t,n)},p:s,i:s,o:s,d(e){e&&R(t)}}}function gD(e){let t,n;return t=new pD({props:{accessControlObject:"database",usersWithAccess:e[5],usersWithoutAccess:e[6],addAccessForUser:e[8],removeAccessForUser:e[9],getUserRoles:e[10]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};32&n&&(r.usersWithAccess=e[5]),64&n&&(r.usersWithoutAccess=e[6]),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function hD(e){let t,n=e[4].errors.join(", ")+"";return{c(){t=q(n)},m(e,n){P(e,t,n)},p(e,r){16&r&&n!==(n=e[4].errors.join(", ")+"")&&X(t,n)},d(e){e&&R(t)}}}function yD(e){let t,n,r,o;const s=[gD,fD,mD],i=[];function a(e,t){return"success"===e[4]?.state?0:"processing"===e[4]?.state?1:"failure"===e[4]?.state?2:-1}return~(t=a(e))&&(n=i[t]=s[t](e)),{c(){n&&n.c(),r=j()},m(e,n){~t&&i[t].m(e,n),P(e,r,n),o=!0},p(e,o){let l=t;t=a(e),t===l?~t&&i[t].p(e,o):(n&&(Fe(),Ve(i[l],1,1,(()=>{i[l]=null})),He()),~t?(n=i[t],n?n.p(e,o):(n=i[t]=s[t](e),n.c()),qe(n,1),n.m(r.parentNode,r)):n=null)},i(e){o||(qe(n),o=!0)},o(e){Ve(n),o=!1},d(e){~t&&i[t].d(e),e&&R(r)}}}function vD(e){let t,n=e[1].name+"";return{c(){t=q(n)},m(e,n){P(e,t,n)},p(e,r){2&r&&n!==(n=e[1].name+"")&&X(t,n)},d(e){e&&R(t)}}}function bD(e){let t,n,r,o;return n=new mm({props:{$$slots:{default:[vD]},$$scope:{ctx:e}}}),{c(){t=q("Manage "),rt(n.$$.fragment),r=q(" Database Access")},m(e,s){P(e,t,s),ot(n,e,s),P(e,r,s),o=!0},p(e,t){const r={};4098&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){o||(qe(n.$$.fragment,e),o=!0)},o(e){Ve(n.$$.fragment,e),o=!1},d(e){e&&R(t),st(n,e),e&&R(r)}}}function wD(e){let t,n;return t=new Bd({props:{controller:e[0],closeOn:["button","esc","overlay"],$$slots:{title:[bD],default:[yD]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const r={};1&n&&(r.controller=e[0]),4210&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function xD(e,t,n){let r,o,i,a,l,c=s,u=s;e.$$.on_destroy.push((()=>c())),e.$$.on_destroy.push((()=>u()));let{controller:d}=t,{database:p}=t;const m=jv(),{requestStatus:g}=m;return f(e,g,(e=>n(4,i=e))),e.$$set=e=>{"controller"in e&&n(0,d=e.controller),"database"in e&&n(1,p=e.database)},e.$$.update=()=>{2&e.$$.dirty&&(n(3,r=m.getUsersWithoutAccessToDb(p)),u(),u=$(r,(e=>n(6,l=e)))),2&e.$$.dirty&&(n(2,o=m.getUsersWithAccessToDb(p)),c(),c=$(o,(e=>n(5,a=e))))},[d,p,o,r,i,a,l,g,async function(e,t){await m.addDatabaseRoleForUser(e.id,p,t)},async function(e){await m.removeDatabaseAccessForUser(e.id,p)},function(e){const t=e.getRoleForDb(p);return t?new Map([["database",t.role]]):void 0}]}class SD extends at{constructor(e){super(),it(this,e,xD,wD,p,{controller:0,database:1})}}function CD(e){let t,n,r,o,i,a,l,c,u=Eb(e[0].num_tables,"tables")+"",d=Eb(e[0].num_queries,"explorations")+"";return{c(){t=F("div"),n=F("p"),r=q(u),o=V(),i=F("span"),a=V(),l=F("p"),c=q(d),B(n,"class","constituent svelte-1ybc0rc"),B(i,"class","divider svelte-1ybc0rc"),B(l,"class","constituent svelte-1ybc0rc"),B(t,"class","container svelte-1ybc0rc")},m(e,s){P(e,t,s),A(t,n),A(n,r),A(t,o),A(t,i),A(t,a),A(t,l),A(l,c)},p(e,[t]){1&t&&u!==(u=Eb(e[0].num_tables,"tables")+"")&&X(r,u),1&t&&d!==(d=Eb(e[0].num_queries,"explorations")+"")&&X(c,d)},i:s,o:s,d(e){e&&R(t)}}}function kD(e,t,n){let{schema:r}=t;return e.$$set=e=>{"schema"in e&&n(0,r=e.schema)},[r]}class DD extends at{constructor(e){super(),it(this,e,kD,CD,p,{schema:0})}}function ID(e){let t,n,r;return n=new xc({props:{showArrow:!1,triggerAppearance:"plain",preferredPlacement:"bottom-end",icon:Lm,menuStyle:"--spacing-y:0.8em;",$$slots:{default:[ED]},$$scope:{ctx:e}}}),{c(){t=F("div"),rt(n.$$.fragment),B(t,"class","menu-trigger svelte-q51nhu")},m(e,o){P(e,t,o),ot(n,t,null),r=!0},p(e,t){const r={};32768&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(qe(n.$$.fragment,e),r=!0)},o(e){Ve(n.$$.fragment,e),r=!1},d(e){e&&R(t),st(n)}}}function _D(e){let t,n,r;const o=[Tf];let s={};for(let i=0;i<o.length;i+=1)s=a(s,o[i]);return n=new Wr({props:s}),{c(){t=F("div"),rt(n.$$.fragment),B(t,"class","lock svelte-q51nhu")},m(e,o){P(e,t,o),ot(n,t,null),r=!0},p(e,t){const r=0&t?et(o,[tt(Tf)]):{};n.$set(r)},i(e){r||(qe(n.$$.fragment,e),r=!0)},o(e){Ve(n.$$.fragment,e),r=!1},d(e){e&&R(t),st(n)}}}function TD(e){let t;return{c(){t=q("Edit Schema")},m(e,n){P(e,t,n)},d(e){e&&R(t)}}}function MD(e){let t;return{c(){t=q("Delete Schema")},m(e,n){P(e,t,n)},d(e){e&&R(t)}}}function ED(e){let t,n,r,o,s,i;return t=new qp({props:{icon:Im,$$slots:{default:[TD]},$$scope:{ctx:e}}}),t.$on("click",e[9]),r=new wp({}),s=new qp({props:{danger:!0,icon:km,$$slots:{default:[MD]},$$scope:{ctx:e}}}),s.$on("click",e[10]),{c(){rt(t.$$.fragment),n=V(),rt(r.$$.fragment),o=V(),rt(s.$$.fragment)},m(e,a){ot(t,e,a),P(e,n,a),ot(r,e,a),P(e,o,a),ot(s,e,a),i=!0},p(e,n){const r={};32768&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r);const o={};32768&n&&(o.$$scope={dirty:n,ctx:e}),s.$set(o)},i(e){i||(qe(t.$$.fragment,e),qe(r.$$.fragment,e),qe(s.$$.fragment,e),i=!0)},o(e){Ve(t.$$.fragment,e),Ve(r.$$.fragment,e),Ve(s.$$.fragment,e),i=!1},d(e){st(t,e),e&&R(n),st(r,e),e&&R(o),st(s,e)}}}function OD(e){let t,n,r,o=e[0].description+"";return{c(){t=F("p"),n=q(o),B(t,"class","description svelte-q51nhu"),B(t,"title",r=e[0].description)},m(e,r){P(e,t,r),A(t,n)},p(e,s){1&s&&o!==(o=e[0].description+"")&&X(n,o),1&s&&r!==(r=e[0].description)&&B(t,"title",r)},d(e){e&&R(t)}}}function AD(e){let t,n;return t=new OC({props:{$$slots:{default:[LD]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function LD(e){let t;return{c(){t=q('Every PostgreSQL database includes the "public" schema. This protected\n      schema can be read by anybody who accesses the database.')},m(e,n){P(e,t,n)},d(e){e&&R(t)}}}function ND(e){let t,n,r,o,s,i,a,l,c,d,p,$,m,f,g,h,y;o=new ub({props:{schema:e[0],iconHasBox:!0}});const v=[_D,ID],b=[];function w(e,t){return e[4]?0:e[1]?1:-1}~(i=w(e))&&(a=b[i]=v[i](e));let x=e[0].description&&OD(e);d=new DD({props:{schema:e[0]}});let S=e[5]&&AD(e);return{c(){t=F("div"),n=F("div"),r=F("div"),rt(o.$$.fragment),s=V(),a&&a.c(),l=V(),x&&x.c(),c=V(),rt(d.$$.fragment),p=V(),S&&S.c(),$=V(),m=F("a"),B(r,"class","name svelte-q51nhu"),B(n,"class","title-and-meta svelte-q51nhu"),B(m,"href",e[6]),B(m,"class","hyperlink-overlay svelte-q51nhu"),B(m,"aria-label",f=e[0].name),B(t,"class","schema-row svelte-q51nhu"),te(t,"hover",e[2]),te(t,"focus",e[3]),te(t,"is-locked",e[4])},m(a,u){P(a,t,u),A(t,n),A(n,r),ot(o,r,null),A(n,s),~i&&b[i].m(n,null),A(t,l),x&&x.m(t,null),A(t,c),ot(d,t,null),A(t,p),S&&S.m(t,null),A(t,$),A(t,m),g=!0,h||(y=[W(m,"mouseenter",e[11]),W(m,"mouseleave",e[12]),W(m,"focusin",e[13]),W(m,"focusout",e[14])],h=!0)},p(e,[r]){const s={};1&r&&(s.schema=e[0]),o.$set(s);let l=i;i=w(e),i===l?~i&&b[i].p(e,r):(a&&(Fe(),Ve(b[l],1,1,(()=>{b[l]=null})),He()),~i?(a=b[i],a?a.p(e,r):(a=b[i]=v[i](e),a.c()),qe(a,1),a.m(n,null)):a=null),e[0].description?x?x.p(e,r):(x=OD(e),x.c(),x.m(t,c)):x&&(x.d(1),x=null);const u={};1&r&&(u.schema=e[0]),d.$set(u),e[5]?S?32&r&&qe(S,1):(S=AD(e),S.c(),qe(S,1),S.m(t,$)):S&&(Fe(),Ve(S,1,1,(()=>{S=null})),He()),(!g||64&r)&&B(m,"href",e[6]),(!g||1&r&&f!==(f=e[0].name))&&B(m,"aria-label",f),(!g||4&r)&&te(t,"hover",e[2]),(!g||8&r)&&te(t,"focus",e[3]),(!g||16&r)&&te(t,"is-locked",e[4])},i(e){g||(qe(o.$$.fragment,e),qe(a),qe(d.$$.fragment,e),qe(S),g=!0)},o(e){Ve(o.$$.fragment,e),Ve(a),Ve(d.$$.fragment,e),Ve(S),g=!1},d(e){e&&R(t),st(o),~i&&b[i].d(),x&&x.d(),st(d),S&&S.d(),h=!1,u(y)}}}function PD(e,t,n){let r,o,s;const i=fe();let{database:a}=t,{schema:l}=t,{canExecuteDDL:c=!0}=t,u=!1,d=!1;return e.$$set=e=>{"database"in e&&n(8,a=e.database),"schema"in e&&n(0,l=e.schema),"canExecuteDDL"in e&&n(1,c=e.canExecuteDDL)},e.$$.update=()=>{257&e.$$.dirty&&n(6,r=Lg(a.name,l.id)),1&e.$$.dirty&&n(5,o="public"===l.name),1&e.$$.dirty&&n(4,s="public"===l.name)},[l,c,u,d,s,o,r,i,a,()=>i("edit"),()=>i("delete"),()=>{n(2,u=!0)},()=>{n(2,u=!1)},()=>{n(3,d=!0)},()=>{n(3,d=!1)}]}class RD extends at{constructor(e){super(),it(this,e,PD,ND,p,{database:8,schema:0,canExecuteDDL:1})}}const zD=["All objects in this schema will be deleted permanently, including (but not limited to) tables and views. Some of these objects may not be visible in the Mathesar UI.","Are you sure you want to proceed?"];function FD(e,t,n){const r=e.slice();return r[23]=t[n],r}function HD(e){let t,n,r,o,s=e[7]&&qD(e);return r=new xc({props:{showArrow:!1,triggerAppearance:"plain",label:"",closeOnInnerClick:!1,icon:Lm,preferredPlacement:"bottom-end",menuStyle:"--spacing-y:0.8em;",$$slots:{default:[UD]},$$scope:{ctx:e}}}),{c(){t=F("div"),s&&s.c(),n=V(),rt(r.$$.fragment)},m(e,i){P(e,t,i),s&&s.m(t,null),A(t,n),ot(r,t,null),o=!0},p(e,o){e[7]?s?(s.p(e,o),128&o&&qe(s,1)):(s=qD(e),s.c(),qe(s,1),s.m(t,n)):s&&(Fe(),Ve(s,1,1,(()=>{s=null})),He());const i={};67108896&o&&(i.$$scope={dirty:o,ctx:e}),r.$set(i)},i(e){o||(qe(s),qe(r.$$.fragment,e),o=!0)},o(e){Ve(s),Ve(r.$$.fragment,e),o=!1},d(e){e&&R(t),s&&s.d(),st(r)}}}function qD(e){let t,n;return t=new Ln({props:{appearance:"secondary",$$slots:{default:[VD]},$$scope:{ctx:e}}}),t.$on("click",e[15]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};67108864&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function VD(e){let t,n,r,o;const s=[Rm];let i={};for(let l=0;l<s.length;l+=1)i=a(i,s[l]);return t=new Wr({props:i}),{c(){rt(t.$$.fragment),n=V(),r=F("span"),r.textContent="Manage Access"},m(e,s){ot(t,e,s),P(e,n,s),P(e,r,s),o=!0},p(e,n){const r=0&n?et(s,[tt(Rm)]):{};t.$set(r)},i(e){o||(qe(t.$$.fragment,e),o=!0)},o(e){Ve(t.$$.fragment,e),o=!1},d(e){st(t,e),e&&R(n),e&&R(r)}}}function jD(e){let t,n,r;return{c(){t=F("p"),t.textContent="If you make structural changes to the database outside\n                  Mathesar (e.g. using another tool to add a schema, table, or\n                  column), those changes will not be reflected in Mathesar until\n                  you manually sync them with this button.",n=V(),r=F("p"),r.innerHTML="External changes to data (e.g. adding or editing\n                  <em>rows</em>) will be automatically reflected without\n                  clicking this button."},m(e,o){P(e,t,o),P(e,n,o),P(e,r,o)},p:s,d(e){e&&R(t),e&&R(n),e&&R(r)}}}function WD(e){let t,n,r,o;return r=new ni({props:{$$slots:{default:[jD]},$$scope:{ctx:e}}}),{c(){t=F("div"),n=q("Sync External Changes\n              "),rt(r.$$.fragment),B(t,"class","reflect")},m(e,s){P(e,t,s),A(t,n),ot(r,t,null),o=!0},p(e,t){const n={};67108864&t&&(n.$$scope={dirty:t,ctx:e}),r.$set(n)},i(e){o||(qe(r.$$.fragment,e),o=!0)},o(e){Ve(r.$$.fragment,e),o=!1},d(e){e&&R(t),st(r)}}}function UD(e){let t,n;return t=new qp({props:{icon:{...qm,spin:e[5]},disabled:e[5],$$slots:{default:[WD]},$$scope:{ctx:e}}}),t.$on("click",e[17]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};32&n&&(r.icon={...qm,spin:e[5]}),32&n&&(r.disabled=e[5]),67108864&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function YD(e){let t,n,r=(e[8]||e[7])&&HD(e);return{c(){r&&r.c(),t=j()},m(e,o){r&&r.m(e,o),P(e,t,o),n=!0},p(e,n){e[8]||e[7]?r?(r.p(e,n),384&n&&qe(r,1)):(r=HD(e),r.c(),qe(r,1),r.m(t.parentNode,t)):r&&(Fe(),Ve(r,1,1,(()=>{r=null})),He())},i(e){n||(qe(r),n=!0)},o(e){Ve(r),n=!1},d(e){r&&r.d(e),e&&R(t)}}}function BD(e){let t,n;return t=new Ln({props:{appearance:"primary",$$slots:{default:[KD]},$$scope:{ctx:e}}}),t.$on("click",e[12]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};67108864&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function KD(e){let t,n,r,o;const s=[xm];let i={};for(let l=0;l<s.length;l+=1)i=a(i,s[l]);return t=new Wr({props:i}),{c(){rt(t.$$.fragment),n=V(),r=F("span"),r.textContent="Create Schema"},m(e,s){ot(t,e,s),P(e,n,s),P(e,r,s),o=!0},p(e,n){const r=0&n?et(s,[tt(xm)]):{};t.$set(r)},i(e){o||(qe(t.$$.fragment,e),o=!0)},o(e){Ve(t.$$.fragment,e),o=!1},d(e){st(t,e),e&&R(n),e&&R(r)}}}function GD(e){let t,n,r=e[8]&&BD(e);return{c(){r&&r.c(),t=j()},m(e,o){r&&r.m(e,o),P(e,t,o),n=!0},p(e,n){e[8]?r?(r.p(e,n),256&n&&qe(r,1)):(r=BD(e),r.c(),qe(r,1),r.m(t.parentNode,t)):r&&(Fe(),Ve(r,1,1,(()=>{r=null})),He())},i(e){n||(qe(r),n=!0)},o(e){Ve(r),n=!1},d(e){r&&r.d(e),e&&R(t)}}}function XD(e){let t,n,r,o,s,i=Eb(e[6],"results")+"";return{c(){t=F("p"),n=q(i),r=q("\n      for all schemas matching\n      "),o=F("strong"),s=q(e[1]),B(t,"slot","resultInfo")},m(e,i){P(e,t,i),A(t,n),A(t,r),A(t,o),A(o,s)},p(e,t){64&t&&i!==(i=Eb(e[6],"results")+"")&&X(n,i),2&t&&X(s,e[1])},d(e){e&&R(t)}}}function JD(e,t){let n,r,o,s;return r=new RD({props:{database:t[0],schema:t[23],canExecuteDDL:t[3]?.hasPermission({database:t[0],schema:t[23]},"canExecuteDDL")}}),r.$on("edit",(function(){return t[20](t[23])})),r.$on("delete",(function(){return t[21](t[23])})),{key:e,first:null,c(){n=F("li"),rt(r.$$.fragment),o=V(),B(n,"class","schema-list-item svelte-ujdzkl"),this.first=n},m(e,t){P(e,n,t),ot(r,n,null),A(n,o),s=!0},p(e,n){t=e;const o={};1&n&&(o.database=t[0]),64&n&&(o.schema=t[23]),73&n&&(o.canExecuteDDL=t[3]?.hasPermission({database:t[0],schema:t[23]},"canExecuteDDL")),r.$set(o)},i(e){s||(qe(r.$$.fragment,e),s=!0)},o(e){Ve(r.$$.fragment,e),s=!1},d(e){e&&R(n),st(r)}}}function ZD(e){let t,n,r=[],o=new Map,s=e[6];const i=e=>e[23].id;for(let a=0;a<s.length;a+=1){let t=FD(e,s,a),n=i(t);o.set(n,r[a]=JD(n,t))}return{c(){t=F("ul");for(let e=0;e<r.length;e+=1)r[e].c();B(t,"class","schema-list svelte-ujdzkl"),B(t,"slot","content")},m(e,o){P(e,t,o);for(let n=0;n<r.length;n+=1)r[n].m(t,null);n=!0},p(e,n){24649&n&&(s=e[6],Fe(),r=Qe(r,n,i,1,e,s,o,t,Je,JD,null,FD),He())},i(e){if(!n){for(let e=0;e<s.length;e+=1)qe(r[e]);n=!0}},o(e){for(let t=0;t<r.length;t+=1)Ve(r[t]);n=!1},d(e){e&&R(t);for(let t=0;t<r.length;t+=1)r[t].d()}}}function QD(e){let t,n,r,o,s,i,a,l,c,u,d,p,$,m,f,g,h=e[2].size+"";function y(t){e[22](t)}t=new KS({props:{pageTitleAndMetaProps:{name:e[0].name,type:"database",icon:of},$$slots:{action:[YD]},$$scope:{ctx:e}}});let v={searchPlaceholder:"Search Schemas",$$slots:{content:[ZD],resultInfo:[XD],action:[GD]},$$scope:{ctx:e}};return void 0!==e[1]&&(v.searchQuery=e[1]),u=new mC({props:v}),we.push((()=>nt(u,"searchQuery",y))),u.$on("clear",e[16]),$=new VC({props:{controller:e[9],database:e[0],schema:e[4]}}),f=new SD({props:{controller:e[10],database:e[0]}}),{c(){rt(t.$$.fragment),n=V(),r=F("div"),o=F("div"),s=F("h2"),i=q("Schemas ("),a=q(h),l=q(")"),c=V(),rt(u.$$.fragment),p=V(),rt($.$$.fragment),m=V(),rt(f.$$.fragment),B(s,"class","schema-list-title svelte-ujdzkl"),B(o,"class","schema-list-title-container svelte-ujdzkl"),B(r,"class","schema-list-wrapper svelte-ujdzkl")},m(e,d){ot(t,e,d),P(e,n,d),P(e,r,d),A(r,o),A(o,s),A(s,i),A(s,a),A(s,l),A(r,c),ot(u,r,null),P(e,p,d),ot($,e,d),P(e,m,d),ot(f,e,d),g=!0},p(e,[n]){const r={};1&n&&(r.pageTitleAndMetaProps={name:e[0].name,type:"database",icon:of}),67109280&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r),(!g||4&n)&&h!==(h=e[2].size+"")&&X(a,h);const o={};67109195&n&&(o.$$scope={dirty:n,ctx:e}),!d&&2&n&&(d=!0,o.searchQuery=e[1],Te((()=>d=!1))),u.$set(o);const s={};1&n&&(s.database=e[0]),16&n&&(s.schema=e[4]),$.$set(s);const i={};1&n&&(i.database=e[0]),f.$set(i)},i(e){g||(qe(t.$$.fragment,e),qe(u.$$.fragment,e),qe($.$$.fragment,e),qe(f.$$.fragment,e),g=!0)},o(e){Ve(t.$$.fragment,e),Ve(u.$$.fragment,e),Ve($.$$.fragment,e),Ve(f.$$.fragment,e),g=!1},d(e){st(t,e),e&&R(n),e&&R(r),st(u),e&&R(p),st($,e),e&&R(m),st(f,e)}}}function eI(e,t,n){let r,o,s,i,a,l,c;f(e,Gh,(e=>n(18,l=e)));const u=Wf.spawnModalController(),d=Wf.spawnModalController(),p=Uv();f(e,p,(e=>n(19,c=e)));let $,{database:m}=t,g="",h=!1;function y(e){n(4,$=e),u.open()}function v(e){Gf({identifierType:"Schema",identifierName:e.name,body:zD,onProceed:async()=>{var t;await Kh(m.name,e.id),t=e.id,uv.delete(t)}})}return e.$$set=e=>{"database"in e&&n(0,m=e.database)},e.$$.update=()=>{524288&e.$$.dirty&&n(3,r=c),262144&e.$$.dirty&&n(2,o=l.data),9&e.$$.dirty&&n(8,s=r?.hasPermission({database:m},"canExecuteDDL")),9&e.$$.dirty&&n(7,i=r?.hasPermission({database:m},"canEditPermissions")),6&e.$$.dirty&&n(6,a=function(e,t){const n=[];return e.forEach((e=>{e.name?.toLowerCase().includes(t.toLowerCase())&&n.push(e)})),n}(o,g))},[m,g,o,r,$,h,a,i,s,u,d,p,function(){n(4,$=void 0),u.open()},y,v,function(){d.open()},function(){n(1,g="")},async function(){try{n(5,h=!0),await ES.reflect(),window.location.reload()}catch(e){Uf.fromError(e)}finally{n(5,h=!1)}},l,c,e=>y(e),e=>v(e),function(e){g=e,n(1,g)}]}class tI extends at{constructor(e){super(),it(this,e,eI,QD,p,{database:0})}}function nI(e){let t,n;return t=new tI({props:{database:e[0]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.database=e[0]),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function rI(e){let t,n,r=e[0].id,o=nI(e);return{c(){o.c(),t=j()},m(e,r){o.m(e,r),P(e,t,r),n=!0},p(e,n){1&n&&p(r,r=e[0].id)?(Fe(),Ve(o,1,1,s),He(),o=nI(e),o.c(),qe(o,1),o.m(t.parentNode,t)):o.p(e,n)},i(e){n||(qe(o),n=!0)},o(e){Ve(o),n=!1},d(e){e&&R(t),o.d(e)}}}function oI(e){let t,n;return t=new MS({props:{database:e[0],slot:"sidebar"}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.database=e[0]),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function sI(e){let t,n;return t=new gS({props:{$$slots:{sidebar:[oI],default:[rI]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};3&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function iI(e){let t,n,r,o;return document.title=t=hS(e[0].name),r=new rS({props:{restrictWidth:!0,cssVariables:{"--layout-background-color":"var(--sand-100)","--max-layout-width":"var(--max-layout-width-console-pages)","--PageLayoutWithSidebar__gap":"var(--size-ultra-large)","--AppSecondaryHeader__padding":"var(--size-x-large) 0"},$$slots:{default:[sI]},$$scope:{ctx:e}}}),{c(){n=V(),rt(r.$$.fragment)},m(e,t){P(e,n,t),ot(r,e,t),o=!0},p(e,[n]){(!o||1&n)&&t!==(t=hS(e[0].name))&&(document.title=t);const s={};3&n&&(s.$$scope={dirty:n,ctx:e}),r.$set(s)},i(e){o||(qe(r.$$.fragment,e),o=!0)},o(e){Ve(r.$$.fragment,e),o=!1},d(e){e&&R(n),st(r,e)}}}function aI(e,t,n){let{database:r}=t;return e.$$set=e=>{"database"in e&&n(0,r=e.database)},[r]}class lI extends at{constructor(e){super(),it(this,e,aI,iI,p,{database:0})}}function cI(e,t,n){let r,{item:o}=t;const s=Eg();let i;function a(e){k(s,r=r.filter((e=>e!==i)),r),k(s,r=[...r,e],r),i=o}return f(e,s,(e=>n(3,r=e))),me((function(){k(s,r=r.filter((e=>e!==o)),r)})),e.$$set=e=>{"item"in e&&n(1,o=e.item)},e.$$.update=()=>{2&e.$$.dirty&&a(o)},[s,o]}class uI extends at{constructor(e){super(),it(this,e,cI,null,p,{item:1})}}const dI=e=>({}),pI=e=>({});function $I(e){let t,n;const r=e[3].action,o=g(r,e,e[2],pI);return{c(){t=F("div"),o&&o.c(),B(t,"class","action-container svelte-1fewhnt")},m(e,r){P(e,t,r),o&&o.m(t,null),n=!0},p(e,t){o&&o.p&&(!n||4&t)&&v(o,r,e,e[2],n?y(r,e[2],t,dI):b(e[2]),pI)},i(e){n||(qe(o,e),n=!0)},o(e){Ve(o,e),n=!1},d(e){e&&R(t),o&&o.d(e)}}}function mI(e){let t,n,r,o,s,i=e[1].action&&$I(e);return{c(){t=F("div"),n=F("span"),r=q(e[0]),o=V(),i&&i.c(),B(n,"class","title svelte-1fewhnt"),B(t,"class","container svelte-1fewhnt")},m(e,a){P(e,t,a),A(t,n),A(n,r),A(t,o),i&&i.m(t,null),s=!0},p(e,[n]){(!s||1&n)&&X(r,e[0]),e[1].action?i?(i.p(e,n),2&n&&qe(i,1)):(i=$I(e),i.c(),qe(i,1),i.m(t,null)):i&&(Fe(),Ve(i,1,1,(()=>{i=null})),He())},i(e){s||(qe(i),s=!0)},o(e){Ve(i),s=!1},d(e){e&&R(t),i&&i.d()}}}function fI(e,t,n){let{$$slots:r={},$$scope:o}=t;const s=S(r);let{title:i}=t;return e.$$set=e=>{"title"in e&&n(0,i=e.title),"$$scope"in e&&n(2,o=e.$$scope)},[i,s,o,r]}class gI extends at{constructor(e){super(),it(this,e,fI,mI,p,{title:0})}}function hI(e){let t,n,r,o,s;const i=[e[0]];let l={};for(let d=0;d<i.length;d+=1)l=a(l,i[d]);r=new Wr({props:l});const c=e[2].default,u=g(c,e,e[1],null);return{c(){t=F("div"),n=F("div"),rt(r.$$.fragment),o=V(),u&&u.c(),B(n,"class","empty-entity svelte-99ol3q"),B(t,"class","container svelte-99ol3q")},m(e,i){P(e,t,i),A(t,n),ot(r,n,null),A(n,o),u&&u.m(n,null),s=!0},p(e,[t]){const n=1&t?et(i,[tt(e[0])]):{};r.$set(n),u&&u.p&&(!s||2&t)&&v(u,c,e,e[1],s?y(c,e[1],t,null):b(e[1]),null)},i(e){s||(qe(r.$$.fragment,e),qe(u,e),s=!0)},o(e){Ve(r.$$.fragment,e),Ve(u,e),s=!1},d(e){e&&R(t),st(r),u&&u.d(e)}}}function yI(e,t,n){let{$$slots:r={},$$scope:o}=t,{icon:s}=t;return e.$$set=e=>{"icon"in e&&n(0,s=e.icon),"$$scope"in e&&n(1,o=e.$$scope)},[s,o,r]}class vI extends at{constructor(e){super(),it(this,e,yI,hI,p,{icon:0})}}function bI(e){let t,n,r;return n=new hb({props:{table:{name:"Select Table"}}}),{c(){t=F("span"),rt(n.$$.fragment),B(t,"class","placeholder svelte-jwojwi")},m(e,o){P(e,t,o),ot(n,t,null),r=!0},p:s,i(e){r||(qe(n.$$.fragment,e),r=!0)},o(e){Ve(n.$$.fragment,e),r=!1},d(e){e&&R(t),st(n)}}}function wI(e){let t,n;return t=new hb({props:{table:e[7]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};128&n&&(r.table=e[7]),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function xI(e){let t,n,r,o;const s=[wI,bI],i=[];function a(e,t){return e[7]?0:e[1]?-1:1}return~(t=a(e))&&(n=i[t]=s[t](e)),{c(){n&&n.c(),r=j()},m(e,n){~t&&i[t].m(e,n),P(e,r,n),o=!0},p(e,o){let l=t;t=a(e),t===l?~t&&i[t].p(e,o):(n&&(Fe(),Ve(i[l],1,1,(()=>{i[l]=null})),He()),~t?(n=i[t],n?n.p(e,o):(n=i[t]=s[t](e),n.c()),qe(n,1),n.m(r.parentNode,r)):n=null)},i(e){o||(qe(n),o=!0)},o(e){Ve(n),o=!1},d(e){~t&&i[t].d(e),e&&R(r)}}}function SI(e){let t,n,r;function o(t){e[5](t)}let s={options:e[3],valuesAreEqual:CI,autoSelect:e[2],$$slots:{default:[xI,({option:e})=>({7:e}),({option:e})=>e?128:0]},$$scope:{ctx:e}};return void 0!==e[0]&&(s.value=e[0]),t=new Hc({props:s}),we.push((()=>nt(t,"value",o))),t.$on("change",e[6]),{c(){rt(t.$$.fragment)},m(e,n){ot(t,e,n),r=!0},p(e,[r]){const o={};8&r&&(o.options=e[3]),4&r&&(o.autoSelect=e[2]),386&r&&(o.$$scope={dirty:r,ctx:e}),!n&&1&r&&(n=!0,o.value=e[0],Te((()=>n=!1))),t.$set(o)},i(e){r||(qe(t.$$.fragment,e),r=!0)},o(e){Ve(t.$$.fragment,e),r=!1},d(e){st(t,e)}}}const CI=(e,t)=>e?.id===t?.id;function kI(e,t,n){let r,{tables:o}=t,{value:s}=t,{prependBlank:i=!1}=t,{autoSelect:a="first"}=t;return e.$$set=e=>{"tables"in e&&n(4,o=e.tables),"value"in e&&n(0,s=e.value),"prependBlank"in e&&n(1,i=e.prependBlank),"autoSelect"in e&&n(2,a=e.autoSelect)},e.$$.update=()=>{18&e.$$.dirty&&n(3,r=i?[void 0,...o]:o)},[s,i,a,r,o,function(e){s=e,n(0,s)},function(t){ve.call(this,e,t)}]}class DI extends at{constructor(e){super(),it(this,e,kI,SI,p,{tables:4,value:0,prependBlank:1,autoSelect:2})}}function II(e){let t,n,r;function o(t){e[5](t)}let s={tables:e[3],prependBlank:e[1],autoSelect:e[2]};return void 0!==e[0]&&(s.value=e[0]),t=new DI({props:s}),we.push((()=>nt(t,"value",o))),t.$on("change",e[6]),{c(){rt(t.$$.fragment)},m(e,n){ot(t,e,n),r=!0},p(e,[r]){const o={};8&r&&(o.tables=e[3]),2&r&&(o.prependBlank=e[1]),4&r&&(o.autoSelect=e[2]),!n&&1&r&&(n=!0,o.value=e[0],Te((()=>n=!1))),t.$set(o)},i(e){r||(qe(t.$$.fragment,e),r=!0)},o(e){Ve(t.$$.fragment,e),r=!1},d(e){st(t,e)}}}function _I(e,t,n){let r,o;f(e,kv,(e=>n(4,o=e)));let{value:s}=t,{prependBlank:i=!1}=t,{autoSelect:a="first"}=t;return e.$$set=e=>{"value"in e&&n(0,s=e.value),"prependBlank"in e&&n(1,i=e.prependBlank),"autoSelect"in e&&n(2,a=e.autoSelect)},e.$$.update=()=>{16&e.$$.dirty&&n(3,r=[...o.values()])},[s,i,a,r,o,function(e){s=e,n(0,s)},function(t){ve.call(this,e,t)}]}class TI extends at{constructor(e){super(),it(this,e,_I,II,p,{value:0,prependBlank:1,autoSelect:2})}}function MI(e){let t,n;const r=[Sr];let o={};for(let s=0;s<r.length;s+=1)o=a(o,r[s]);return t=new Wr({props:o}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const o=0&n?et(r,[tt(Sr)]):{};t.$set(o)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function EI(e){let t,n;const r=[Cr];let o={};for(let s=0;s<r.length;s+=1)o=a(o,r[s]);return t=new Wr({props:o}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const o=0&n?et(r,[tt(Cr)]):{};t.$set(o)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function OI(e){let t,n;const r=[Dr];let o={};for(let s=0;s<r.length;s+=1)o=a(o,r[s]);return t=new Wr({props:o}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const o=0&n?et(r,[tt(Dr)]):{};t.$set(o)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function AI(e){let t,n;return t=new Tr({}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p:s,i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function LI(e){let t,n,r,o,s,i,a,l,c,u=(e[1][e[0]]??"")+"";const d=[AI,OI,EI,MI],p=[];function $(e,t){return"processing"===e[0]?0:"success"===e[0]?1:"failure"===e[0]?2:3}return r=$(e),o=p[r]=d[r](e),{c(){t=F("span"),n=F("span"),o.c(),s=V(),i=F("span"),a=q(u),B(n,"class","icon svelte-yh5co2"),B(t,"class",l="status-indicator "+e[0]+" "+e[2]+" svelte-yh5co2")},m(e,o){P(e,t,o),A(t,n),p[r].m(n,null),A(t,s),A(t,i),A(i,a),c=!0},p(e,[s]){let i=r;r=$(e),r===i?p[r].p(e,s):(Fe(),Ve(p[i],1,1,(()=>{p[i]=null})),He(),o=p[r],o?o.p(e,s):(o=p[r]=d[r](e),o.c()),qe(o,1),o.m(n,null)),(!c||3&s)&&u!==(u=(e[1][e[0]]??"")+"")&&X(a,u),(!c||5&s&&l!==(l="status-indicator "+e[0]+" "+e[2]+" svelte-yh5co2"))&&B(t,"class",l)},i(e){c||(qe(o),c=!0)},o(e){Ve(o),c=!1},d(e){e&&R(t),p[r].d()}}}function NI(e,t,n){let{state:r}=t,{messages:o}=t,{class:s=""}=t;return e.$$set=e=>{"state"in e&&n(0,r=e.state),"messages"in e&&n(1,o=e.messages),"class"in e&&n(2,s=e.class)},[r,o,s]}class PI extends at{constructor(e){super(),it(this,e,NI,LI,p,{state:0,messages:1,class:2})}}function RI(e){let t,n,r,o;return n=new PI({props:{state:e[1],messages:{processing:"Saving Changes",failure:"Unable to save changes",warning:"Unsaved Changes",success:"All Changes Saved"}}}),{c(){t=F("span"),rt(n.$$.fragment),B(t,"class","modification-status-indicator svelte-jrwjrw")},m(e,r){P(e,t,r),ot(n,t,null),o=!0},p(t,r){e=t;const o={};2&r&&(o.state=e[1]),n.$set(o)},i(e){o||(qe(n.$$.fragment,e),r&&r.end(1),o=!0)},o(s){Ve(n.$$.fragment,s),s&&(r=Ue(t,ll,{duration:e[0]})),o=!1},d(e){e&&R(t),st(n),e&&r&&r.end()}}}function zI(e){let t,n,r=e[1]&&RI(e);return{c(){r&&r.c(),t=j()},m(e,o){r&&r.m(e,o),P(e,t,o),n=!0},p(e,[n]){e[1]?r?(r.p(e,n),2&n&&qe(r,1)):(r=RI(e),r.c(),qe(r,1),r.m(t.parentNode,t)):r&&(Fe(),Ve(r,1,1,(()=>{r=null})),He())},i(e){n||(qe(r),n=!0)},o(e){Ve(r),n=!1},d(e){r&&r.d(e),e&&R(t)}}}function FI(e,t,n){let r,o,s,{requestState:i}=t,{hasChanges:a=!1}=t,l=0;function c(){n(0,l=1e3),n(4,o=void 0)}return me((()=>{window.clearTimeout(s)})),e.$$set=e=>{"requestState"in e&&n(2,i=e.requestState),"hasChanges"in e&&n(3,a=e.hasChanges)},e.$$.update=()=>{var t;4&e.$$.dirty&&(t=i,window.clearTimeout(s),s=void 0,n(0,l=0),n(4,o=t),"success"===o&&(s=window.setTimeout(c,5e3))),8&e.$$.dirty&&(a||"failure"!==o||n(4,o=void 0)),24&e.$$.dirty&&n(1,r="processing"===o?"processing":a&&"failure"===o?"failure":a?"warning":"success"===o?"success":void 0)},[l,r,i,a,o]}class HI extends at{constructor(e){super(),it(this,e,FI,zI,p,{requestState:2,hasChanges:3})}}const qI=e=>({}),VI=e=>({});function jI(e){let t,n,r,o,s,i,l,c,u;const d=[e[0].icon,{class:"block"}];let p={};for(let m=0;m<d.length;m+=1)p=a(p,d[m]);r=new Wr({props:p}),l=new kl({props:{$$slots:{default:[WI]},$$scope:{ctx:e}}});let $=e[0].description&&UI(e);return{c(){t=F("div"),n=F("div"),rt(r.$$.fragment),o=V(),s=F("div"),i=F("h1"),rt(l.$$.fragment),c=V(),$&&$.c(),B(n,"class","icon svelte-cjmx4e"),B(i,"class","name svelte-cjmx4e"),B(s,"class","text svelte-cjmx4e"),B(t,"class","heading svelte-cjmx4e")},m(e,a){P(e,t,a),A(t,n),ot(r,n,null),A(t,o),A(t,s),A(s,i),ot(l,i,null),A(s,c),$&&$.m(s,null),u=!0},p(e,t){const n=1&t?et(d,[tt(e[0].icon),d[1]]):{};r.$set(n);const o={};9&t&&(o.$$scope={dirty:t,ctx:e}),l.$set(o),e[0].description?$?($.p(e,t),1&t&&qe($,1)):($=UI(e),$.c(),qe($,1),$.m(s,null)):$&&(Fe(),Ve($,1,1,(()=>{$=null})),He())},i(e){u||(qe(r.$$.fragment,e),qe(l.$$.fragment,e),qe($),u=!0)},o(e){Ve(r.$$.fragment,e),Ve(l.$$.fragment,e),Ve($),u=!1},d(e){e&&R(t),st(r),st(l),$&&$.d()}}}function WI(e){let t,n=e[0].name+"";return{c(){t=q(n)},m(e,n){P(e,t,n)},p(e,r){1&r&&n!==(n=e[0].name+"")&&X(t,n)},d(e){e&&R(t)}}}function UI(e){let t,n,r;return n=new kl({props:{$$slots:{default:[YI]},$$scope:{ctx:e}}}),{c(){t=F("div"),rt(n.$$.fragment),B(t,"class","description svelte-cjmx4e")},m(e,o){P(e,t,o),ot(n,t,null),r=!0},p(e,t){const r={};9&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(qe(n.$$.fragment,e),r=!0)},o(e){Ve(n.$$.fragment,e),r=!1},d(e){e&&R(t),st(n)}}}function YI(e){let t,n=e[0].description+"";return{c(){t=q(n)},m(e,n){P(e,t,n)},p(e,r){1&r&&n!==(n=e[0].description+"")&&X(t,n)},d(e){e&&R(t)}}}function BI(e){let t,n;const r=e[2].default,o=g(r,e,e[3],null);return{c(){t=F("div"),o&&o.c(),B(t,"class","actions-left svelte-cjmx4e")},m(e,r){P(e,t,r),o&&o.m(t,null),n=!0},p(e,t){o&&o.p&&(!n||8&t)&&v(o,r,e,e[3],n?y(r,e[3],t,null):b(e[3]),null)},i(e){n||(qe(o,e),n=!0)},o(e){Ve(o,e),n=!1},d(e){e&&R(t),o&&o.d(e)}}}function KI(e){let t,n;const r=e[2]["actions-right"],o=g(r,e,e[3],VI);return{c(){t=F("div"),o&&o.c(),B(t,"class","actions-right svelte-cjmx4e")},m(e,r){P(e,t,r),o&&o.m(t,null),n=!0},p(e,t){o&&o.p&&(!n||8&t)&&v(o,r,e,e[3],n?y(r,e[3],t,qI):b(e[3]),VI)},i(e){n||(qe(o,e),n=!0)},o(e){Ve(o,e),n=!1},d(e){e&&R(t),o&&o.d(e)}}}function GI(e){let t,n,r,o,s,i=e[0]&&jI(e),a=e[1].default&&BI(e),l=e[1]["actions-right"]&&KI(e);return{c(){t=F("div"),i&&i.c(),n=V(),r=F("div"),a&&a.c(),o=V(),l&&l.c(),B(r,"class","actions svelte-cjmx4e"),te(r,"has-right-actions",e[1]["actions-right"]),B(t,"class","entity-page-header svelte-cjmx4e")},m(e,c){P(e,t,c),i&&i.m(t,null),A(t,n),A(t,r),a&&a.m(r,null),A(r,o),l&&l.m(r,null),s=!0},p(e,[c]){e[0]?i?(i.p(e,c),1&c&&qe(i,1)):(i=jI(e),i.c(),qe(i,1),i.m(t,n)):i&&(Fe(),Ve(i,1,1,(()=>{i=null})),He()),e[1].default?a?(a.p(e,c),2&c&&qe(a,1)):(a=BI(e),a.c(),qe(a,1),a.m(r,o)):a&&(Fe(),Ve(a,1,1,(()=>{a=null})),He()),e[1]["actions-right"]?l?(l.p(e,c),2&c&&qe(l,1)):(l=KI(e),l.c(),qe(l,1),l.m(r,null)):l&&(Fe(),Ve(l,1,1,(()=>{l=null})),He()),(!s||2&c)&&te(r,"has-right-actions",e[1]["actions-right"])},i(e){s||(qe(i),qe(a),qe(l),s=!0)},o(e){Ve(i),Ve(a),Ve(l),s=!1},d(e){e&&R(t),i&&i.d(),a&&a.d(),l&&l.d()}}}function XI(e,t,n){let{$$slots:r={},$$scope:o}=t;const s=S(r);let{title:i}=t;return e.$$set=e=>{"title"in e&&n(0,i=e.title),"$$scope"in e&&n(3,o=e.$$scope)},[i,s,r,o]}class JI extends at{constructor(e){super(),it(this,e,XI,GI,p,{title:0})}}function ZI(e){let t,n,r,o;return t=new TI({props:{autoSelect:"none",value:e[8]}}),t.$on("change",e[25]),r=new ni({props:{$$slots:{default:[e_]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment),n=V(),rt(r.$$.fragment)},m(e,s){ot(t,e,s),P(e,n,s),ot(r,e,s),o=!0},p(e,n){const o={};256&n[0]&&(o.value=e[8]),t.$set(o);const s={};1&n[1]&&(s.$$scope={dirty:n,ctx:e}),r.$set(s)},i(e){o||(qe(t.$$.fragment,e),qe(r.$$.fragment,e),o=!0)},o(e){Ve(t.$$.fragment,e),Ve(r.$$.fragment,e),o=!1},d(e){st(t,e),e&&R(n),st(r,e)}}}function QI(e){let t,n,r,o;return t=new hb({props:{table:e[8]}}),r=new ni({props:{$$slots:{default:[t_]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment),n=V(),rt(r.$$.fragment)},m(e,s){ot(t,e,s),P(e,n,s),ot(r,e,s),o=!0},p(e,n){const o={};256&n[0]&&(o.table=e[8]),t.$set(o);const s={};1&n[1]&&(s.$$scope={dirty:n,ctx:e}),r.$set(s)},i(e){o||(qe(t.$$.fragment,e),qe(r.$$.fragment,e),o=!0)},o(e){Ve(t.$$.fragment,e),Ve(r.$$.fragment,e),o=!1},d(e){st(t,e),e&&R(n),st(r,e)}}}function e_(e){let t;return{c(){t=q("The base table determines the columns that are available for\n            exploration.")},m(e,n){P(e,t,n)},d(e){e&&R(t)}}}function t_(e){let t;return{c(){t=q("The base table is the table that is being explored and determines\n            the columns that are available for exploration.")},m(e,n){P(e,t,n)},d(e){e&&R(t)}}}function n_(e){let t,n;return t=new Ln({props:{appearance:"secondary",$$slots:{default:[r_]},$$scope:{ctx:e}}}),t.$on("click",e[26]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function r_(e){let t;return{c(){t=q("Start Over")},m(e,n){P(e,t,n)},d(e){e&&R(t)}}}function o_(e){let t,n;return t=new HI({props:{requestState:e[4].saveState?.state,hasChanges:e[12]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};16&n[0]&&(r.requestState=e[4].saveState?.state),4096&n[0]&&(r.hasChanges=e[12]),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function s_(e){let t,n,r,o,s,i,a,l,c,u,d=e[7]?"Based on":"Exploring from";const p=[QI,ZI],$=[];function m(e,t){return e[8]?0:1}i=m(e),a=$[i]=p[i](e);let f=!e[7]&&e[8]&&n_(e),g=e[7]&&o_(e);return{c(){t=F("div"),n=F("div"),r=q(d),o=V(),s=F("div"),a.c(),l=V(),f&&f.c(),c=V(),g&&g.c(),B(n,"class","detail svelte-15jmytk"),B(s,"class","base-table-holder svelte-15jmytk"),te(s,"table-selected",e[8]),B(t,"class","detail-wrapper svelte-15jmytk")},m(e,a){P(e,t,a),A(t,n),A(n,r),A(t,o),A(t,s),$[i].m(s,null),A(t,l),f&&f.m(t,null),A(t,c),g&&g.m(t,null),u=!0},p(e,n){(!u||128&n[0])&&d!==(d=e[7]?"Based on":"Exploring from")&&X(r,d);let o=i;i=m(e),i===o?$[i].p(e,n):(Fe(),Ve($[o],1,1,(()=>{$[o]=null})),He(),a=$[i],a?a.p(e,n):(a=$[i]=p[i](e),a.c()),qe(a,1),a.m(s,null)),(!u||256&n[0])&&te(s,"table-selected",e[8]),!e[7]&&e[8]?f?(f.p(e,n),384&n[0]&&qe(f,1)):(f=n_(e),f.c(),qe(f,1),f.m(t,c)):f&&(Fe(),Ve(f,1,1,(()=>{f=null})),He()),e[7]?g?(g.p(e,n),128&n[0]&&qe(g,1)):(g=o_(e),g.c(),qe(g,1),g.m(t,null)):g&&(Fe(),Ve(g,1,1,(()=>{g=null})),He())},i(e){u||(qe(a),qe(f),qe(g),u=!0)},o(e){Ve(a),Ve(f),Ve(g),u=!1},d(e){e&&R(t),$[i].d(),f&&f.d(),g&&g.d()}}}function i_(e){let t,n,r,o,s,i=e[2]&&a_(e);return n=new si({props:{$$slots:{default:[f_]},$$scope:{ctx:e}}}),o=new Ln({props:{appearance:"secondary",disabled:e[6],$$slots:{default:[g_]},$$scope:{ctx:e}}}),o.$on("click",e[24]),{c(){i&&i.c(),t=V(),rt(n.$$.fragment),r=V(),rt(o.$$.fragment)},m(e,a){i&&i.m(e,a),P(e,t,a),ot(n,e,a),P(e,r,a),ot(o,e,a),s=!0},p(e,r){e[2]?i?(i.p(e,r),4&r[0]&&qe(i,1)):(i=a_(e),i.c(),qe(i,1),i.m(t.parentNode,t)):i&&(Fe(),Ve(i,1,1,(()=>{i=null})),He());const s={};18&r[0]|1&r[1]&&(s.$$scope={dirty:r,ctx:e}),n.$set(s);const a={};64&r[0]&&(a.disabled=e[6]),1&r[1]&&(a.$$scope={dirty:r,ctx:e}),o.$set(a)},i(e){s||(qe(i),qe(n.$$.fragment,e),qe(o.$$.fragment,e),s=!0)},o(e){Ve(i),Ve(n.$$.fragment,e),Ve(o.$$.fragment,e),s=!1},d(e){i&&i.d(e),e&&R(t),st(n,e),e&&R(r),st(o,e)}}}function a_(e){let t,n;return t=new si({props:{$$slots:{default:[p_]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};232&n[0]|1&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function l_(e){let t,n;return t=new xc({props:{triggerAppearance:"primary",placements:["bottom-end"],closeOnInnerClick:!0,icon:{...$r,size:"0.8em"},showArrow:!1,$$slots:{default:[d_]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function c_(e){let t;return{c(){t=q("Save")},m(e,n){P(e,t,n)},d(e){e&&R(t)}}}function u_(e){let t;return{c(){t=q("Save and Close")},m(e,n){P(e,t,n)},d(e){e&&R(t)}}}function d_(e){let t,n,r,o;return t=new qp({props:{$$slots:{default:[c_]},$$scope:{ctx:e}}}),t.$on("click",e[16]),r=new qp({props:{$$slots:{default:[u_]},$$scope:{ctx:e}}}),r.$on("click",e[17]),{c(){rt(t.$$.fragment),n=V(),rt(r.$$.fragment)},m(e,s){ot(t,e,s),P(e,n,s),ot(r,e,s),o=!0},p(e,n){const o={};1&n[1]&&(o.$$scope={dirty:n,ctx:e}),t.$set(o);const s={};1&n[1]&&(s.$$scope={dirty:n,ctx:e}),r.$set(s)},i(e){o||(qe(t.$$.fragment,e),qe(r.$$.fragment,e),o=!0)},o(e){Ve(t.$$.fragment,e),Ve(r.$$.fragment,e),o=!1},d(e){st(t,e),e&&R(n),st(r,e)}}}function p_(e){let t,n,r,o;t=new Jr({props:{label:"processing"===e[5]?"Saving":"Save",disabled:!e[3].base_table||e[6]||"processing"===e[5],onClick:e[19]}});let s=e[7]&&l_(e);return{c(){rt(t.$$.fragment),n=V(),s&&s.c(),r=j()},m(e,i){ot(t,e,i),P(e,n,i),s&&s.m(e,i),P(e,r,i),o=!0},p(e,n){const o={};32&n[0]&&(o.label="processing"===e[5]?"Saving":"Save"),104&n[0]&&(o.disabled=!e[3].base_table||e[6]||"processing"===e[5]),t.$set(o),e[7]?s?(s.p(e,n),128&n[0]&&qe(s,1)):(s=l_(e),s.c(),qe(s,1),s.m(r.parentNode,r)):s&&(Fe(),Ve(s,1,1,(()=>{s=null})),He())},i(e){o||(qe(t.$$.fragment,e),qe(s),o=!0)},o(e){Ve(t.$$.fragment,e),Ve(s),o=!1},d(e){st(t,e),e&&R(n),s&&s.d(e),e&&R(r)}}}function $_(e){let t,n,r,o;const s=[Km,{size:"0.8rem"}];let i={};for(let l=0;l<s.length;l+=1)i=a(i,s[l]);return t=new Wr({props:i}),{c(){rt(t.$$.fragment),n=V(),r=F("span"),r.textContent="Undo"},m(e,s){ot(t,e,s),P(e,n,s),P(e,r,s),o=!0},p(e,n){const r=0&n?et(s,[tt(Km),s[1]]):{};t.$set(r)},i(e){o||(qe(t.$$.fragment,e),o=!0)},o(e){Ve(t.$$.fragment,e),o=!1},d(e){st(t,e),e&&R(n),e&&R(r)}}}function m_(e){let t,n,r,o;const s=[Hm,{size:"0.8rem"}];let i={};for(let l=0;l<s.length;l+=1)i=a(i,s[l]);return t=new Wr({props:i}),{c(){rt(t.$$.fragment),n=V(),r=F("span"),r.textContent="Redo"},m(e,s){ot(t,e,s),P(e,n,s),P(e,r,s),o=!0},p(e,n){const r=0&n?et(s,[tt(Hm),s[1]]):{};t.$set(r)},i(e){o||(qe(t.$$.fragment,e),o=!0)},o(e){Ve(t.$$.fragment,e),o=!1},d(e){st(t,e),e&&R(n),e&&R(r)}}}function f_(e){let t,n,r,o;return t=new Ln({props:{appearance:"secondary",disabled:!e[4].isUndoPossible,$$slots:{default:[$_]},$$scope:{ctx:e}}}),t.$on("click",e[22]),r=new Ln({props:{appearance:"secondary",disabled:!e[4].isRedoPossible,$$slots:{default:[m_]},$$scope:{ctx:e}}}),r.$on("click",e[23]),{c(){rt(t.$$.fragment),n=V(),rt(r.$$.fragment)},m(e,s){ot(t,e,s),P(e,n,s),ot(r,e,s),o=!0},p(e,n){const o={};16&n[0]&&(o.disabled=!e[4].isUndoPossible),1&n[1]&&(o.$$scope={dirty:n,ctx:e}),t.$set(o);const s={};16&n[0]&&(s.disabled=!e[4].isRedoPossible),1&n[1]&&(s.$$scope={dirty:n,ctx:e}),r.$set(s)},i(e){o||(qe(t.$$.fragment,e),qe(r.$$.fragment,e),o=!0)},o(e){Ve(t.$$.fragment,e),Ve(r.$$.fragment,e),o=!1},d(e){st(t,e),e&&R(n),st(r,e)}}}function g_(e){let t,n,r,o;const s=[yf,{size:"0.8rem"}];let i={};for(let l=0;l<s.length;l+=1)i=a(i,s[l]);return t=new Wr({props:i}),{c(){rt(t.$$.fragment),n=V(),r=F("span"),r.textContent="Inspector"},m(e,s){ot(t,e,s),P(e,n,s),P(e,r,s),o=!0},p(e,n){const r=0&n?et(s,[tt(yf),s[1]]):{};t.$set(r)},i(e){o||(qe(t.$$.fragment,e),o=!0)},o(e){Ve(t.$$.fragment,e),o=!1},d(e){st(t,e),e&&R(n),e&&R(r)}}}function h_(e){let t,n,r=e[8]&&i_(e);return{c(){r&&r.c(),t=j()},m(e,o){r&&r.m(e,o),P(e,t,o),n=!0},p(e,n){e[8]?r?(r.p(e,n),256&n[0]&&qe(r,1)):(r=i_(e),r.c(),qe(r,1),r.m(t.parentNode,t)):r&&(Fe(),Ve(r,1,1,(()=>{r=null})),He())},i(e){n||(qe(r),n=!0)},o(e){Ve(r),n=!1},d(e){r&&r.d(e),e&&R(t)}}}function y_(e){let t;return{c(){t=F("span"),t.textContent="Save Exploration",B(t,"slot","title")},m(e,n){P(e,t,n)},p:s,d(e){e&&R(t)}}}function v_(e){let t,n,r,o,s;return n=new JI({props:{title:e[7]?{name:e[3].name??"",description:e[3].description,icon:sf}:void 0,$$slots:{"actions-right":[h_],default:[s_]},$$scope:{ctx:e}}}),o=new _C({props:{controller:e[13],save:e[18],getNameValidationErrors:e[15],getInitialName:e[27],getInitialDescription:e[28],$$slots:{title:[y_]},$$scope:{ctx:e}}}),{c(){t=F("div"),rt(n.$$.fragment),r=V(),rt(o.$$.fragment),B(t,"class","actions-pane")},m(e,i){P(e,t,i),ot(n,t,null),P(e,r,i),ot(o,e,i),s=!0},p(e,t){const r={};136&t[0]&&(r.title=e[7]?{name:e[3].name??"",description:e[3].description,icon:sf}:void 0),4607&t[0]|1&t[1]&&(r.$$scope={dirty:t,ctx:e}),n.$set(r);const s={};8&t[0]&&(s.getInitialName=e[27]),8&t[0]&&(s.getInitialDescription=e[28]),1&t[1]&&(s.$$scope={dirty:t,ctx:e}),o.$set(s)},i(e){s||(qe(n.$$.fragment,e),qe(o.$$.fragment,e),s=!0)},o(e){Ve(n.$$.fragment,e),Ve(o.$$.fragment,e),s=!1},d(e){e&&R(t),st(n),e&&R(r),st(o,e)}}}function b_(e,t,n){let r,o,i,a,l,c,u,d,p,m,g,h,y=s,v=s,b=s;f(e,gw,(e=>n(29,p=e))),f(e,Cv,(e=>n(21,g=e))),e.$$.on_destroy.push((()=>y())),e.$$.on_destroy.push((()=>v())),e.$$.on_destroy.push((()=>b()));const w=fe(),x=Wf.spawnModalController();let{queryManager:S}=t,{linkCollapsibleOpenState:C={}}=t,{isInspectorOpen:k}=t,{canEditMetadata:D}=t;function I(e){S.update((t=>t.withBaseTable(e?e.id:void 0))),S.clearSelection(),n(20,C={})}async function _(){try{return await S.save(),{success:!0}}catch(e){return Uf.fromError(e),{success:!1}}}return e.$$set=e=>{"queryManager"in e&&n(1,S=e.queryManager),"linkCollapsibleOpenState"in e&&n(20,C=e.linkCollapsibleOpenState),"isInspectorOpen"in e&&n(0,k=e.isInspectorOpen),"canEditMetadata"in e&&n(2,D=e.canEditMetadata)},e.$$.update=()=>{2&e.$$.dirty[0]&&(n(11,({query:r,state:o,queryHasUnsavedChanges:i}=S),r,(n(10,o),v(),v=$(o,(e=>n(4,m=e))),o),(n(9,i),b(),b=$(i,(e=>n(12,h=e))),i)),y(),y=$(r,(e=>n(3,d=e)))),2097160&e.$$.dirty[0]&&n(8,a=d.base_table?g.data.get(d.base_table):void 0),8&e.$$.dirty[0]&&n(7,l=d.isSaved()),8&e.$$.dirty[0]&&n(6,c=0===d.initial_columns.length),16&e.$$.dirty[0]&&n(5,u=m.saveState?.state)},[k,S,D,d,m,u,c,l,a,i,o,r,h,x,I,function(e){const t=e.trim();return t?Array.from(p.data??[]).some((([,e])=>e.name.toLowerCase().trim()===t))?["An exploration with that name already exists."]:[]:["Name cannot be empty."]},_,async function(){const{success:e}=await _();e&&w("close")},async function(e,t){try{await S.update((n=>n.withName(e).model.withDescription(t))),await _()}catch(n){Uf.fromError(n)}},async function(){d.isSaved()?await _():x.open()},C,g,()=>S.undo(),()=>S.redo(),()=>{n(0,k=!k)},e=>I(e.detail),()=>I(void 0),()=>d.name??"",()=>d.description??""]}class w_ extends at{constructor(e){super(),it(this,e,b_,v_,p,{queryManager:1,linkCollapsibleOpenState:20,isInspectorOpen:0,canEditMetadata:2},null,[-1,-1])}}function x_(e,t){if(!t.has(e))return e;const[n,r]=function(e,t="_"){let n;const r=`${t}\\d{1,15}$`;return[e.replace(new RegExp(r),(e=>(n=parseInt(e.slice(1),10),""))),n]}(e);let o=(r??0)+1;function s(){return`${n}_${o}`}let i=s();for(;t.has(i);)o+=1,i=s();return i}function S_(e){let t,n;const r=e[1].default,o=g(r,e,e[0],null);return{c(){t=F("div"),o&&o.c(),B(t,"class","form svelte-1enxz59")},m(e,r){P(e,t,r),o&&o.m(t,null),n=!0},p(e,[t]){o&&o.p&&(!n||1&t)&&v(o,r,e,e[0],n?y(r,e[0],t,null):b(e[0]),null)},i(e){n||(qe(o,e),n=!0)},o(e){Ve(o,e),n=!1},d(e){e&&R(t),o&&o.d(e)}}}function C_(e,t,n){let{$$slots:r={},$$scope:o}=t;return e.$$set=e=>{"$$scope"in e&&n(0,o=e.$$scope)},[o,r]}class k_ extends at{constructor(e){super(),it(this,e,C_,S_,p,{})}}function D_(e,t,n){const r=e.slice();return r[3]=t[n],r}function I_(e){let t;function n(e,t){return 1===e[0].length?T_:__}let r=n(e),o=r(e);return{c(){t=F("div"),o.c(),B(t,"class","errors svelte-1e85mvz")},m(e,n){P(e,t,n),o.m(t,null)},p(e,s){r===(r=n(e))&&o?o.p(e,s):(o.d(1),o=r(e),o&&(o.c(),o.m(t,null)))},d(e){e&&R(t),o.d()}}}function __(e){let t,n=e[0],r=[];for(let o=0;o<n.length;o+=1)r[o]=M_(D_(e,n,o));return{c(){t=F("ul");for(let e=0;e<r.length;e+=1)r[e].c();B(t,"class","svelte-1e85mvz")},m(e,n){P(e,t,n);for(let o=0;o<r.length;o+=1)r[o].m(t,null)},p(e,o){if(1&o){let s;for(n=e[0],s=0;s<n.length;s+=1){const i=D_(e,n,s);r[s]?r[s].p(i,o):(r[s]=M_(i),r[s].c(),r[s].m(t,null))}for(;s<r.length;s+=1)r[s].d(1);r.length=n.length}},d(e){e&&R(t),z(r,e)}}}function T_(e){let t,n=e[0][0]+"";return{c(){t=q(n)},m(e,n){P(e,t,n)},p(e,r){1&r&&n!==(n=e[0][0]+"")&&X(t,n)},d(e){e&&R(t)}}}function M_(e){let t,n,r=e[3]+"";return{c(){t=F("li"),n=q(r)},m(e,r){P(e,t,r),A(t,n)},p(e,t){1&t&&r!==(r=e[3]+"")&&X(n,r)},d(e){e&&R(t)}}}function E_(e){let t,n,r;const o=e[2].default,s=g(o,e,e[1],null);let i=e[0].length&&I_(e);return{c(){t=F("div"),s&&s.c(),n=V(),i&&i.c(),B(t,"class","form-field")},m(e,o){P(e,t,o),s&&s.m(t,null),A(t,n),i&&i.m(t,null),r=!0},p(e,[n]){s&&s.p&&(!r||2&n)&&v(s,o,e,e[1],r?y(o,e[1],n,null):b(e[1]),null),e[0].length?i?i.p(e,n):(i=I_(e),i.c(),i.m(t,null)):i&&(i.d(1),i=null)},i(e){r||(qe(s,e),r=!0)},o(e){Ve(s,e),r=!1},d(e){e&&R(t),s&&s.d(e),i&&i.d()}}}function O_(e,t,n){let{$$slots:r={},$$scope:o}=t,{errors:s=[]}=t;return e.$$set=e=>{"errors"in e&&n(0,s=e.errors),"$$scope"in e&&n(1,o=e.$$scope)},[s,o,r]}class A_ extends at{constructor(e){super(),it(this,e,O_,E_,p,{errors:0})}}const L_={Boolean:"boolean",Date:"date",Time:"time",DateTime:"datetime",Duration:"duration",Email:"email",Money:"money",Number:"number",Text:"text",Uri:"uri",JsonArray:"jsonlist",JsonObject:"map",Array:"array",Other:"other"},N_="character varying",P_="character",R_="text",z_={variables:{restrictFieldSize:{type:"boolean",default:!1},length:{type:"integer",default:255,validation:{checks:["isEmpty"]}}},layout:{orientation:"vertical",elements:[{type:"input",variable:"restrictFieldSize",label:"Set a maximum length"},{type:"if",variable:"restrictFieldSize",condition:"eq",value:!0,elements:[{type:"input",variable:"length",label:"Field Size Limit"}]}]}};function F_(e,t){const n=function(e,t){if(e.restrictFieldSize){const{length:n}=e;return("string"==typeof n||"number"==typeof n)&&("string"==typeof n?parseInt(n,10):n)>255?N_:t===P_?P_:N_}return R_}(e,t),r={};return n!==P_&&n!==N_||(r.length=e.length),{dbType:n,typeOptions:r}}function H_(e,t){switch(e){case P_:case N_:return{length:t?.length??null,restrictFieldSize:!0};default:return{restrictFieldSize:!1}}}const q_={getIcon:()=>({...Ff,label:"Text"}),defaultDbType:N_,cellInfo:{type:"string",config:{multiLine:!0},conditionalConfig:{[P_]:{multiLine:!1}}},getDbConfig:()=>({form:z_,determineDbTypeAndOptions:F_,constructDbFormValuesFromTypeOptions:H_})},V_="decimal",j_="numeric",W_="integer",U_="smallint",Y_="bigint",B_="real",K_="double precision",G_={variables:{numberType:{type:"string",enum:["Integer","Decimal","Float"],default:"Decimal"},integerDataSize:{type:"string",enum:["default","bigInt","smallInt"],default:"default"},decimalPlaces:{type:"integer",default:null},maxDigits:{type:"integer",default:null},floatingPointType:{type:"string",enum:["real","doublePrecision"],default:"real"}},layout:{orientation:"vertical",elements:[{type:"input",variable:"numberType",label:"Number Type"},{type:"switch",variable:"numberType",cases:{Integer:[{type:"input",variable:"integerDataSize",label:"Integer Data Size",interfaceType:"select",options:{default:{label:"Default (4 bytes)"},bigInt:{label:"Big Integer (8 bytes)"},smallInt:{label:"Small Integer (2 bytes)"}}}],Decimal:[{type:"layout",orientation:"horizontal",elements:[{type:"input",variable:"decimalPlaces",label:"Decimal Places"},{type:"input",variable:"maxDigits",label:"Max Digits"}]}],Float:[{type:"input",variable:"floatingPointType",label:"Floating Point Type",interfaceType:"select",options:{real:{label:"Real (6 digits)"},doublePrecision:{label:"Double Precision (15 digits)"}}}]}}]}};function X_(e,t){const n=function(e,t){switch(e.numberType){case"Integer":switch(e.integerDataSize){case"smallInt":return U_;case"bigInt":return Y_;default:return W_}case"Float":return"real"===e.floatingPointType?B_:K_;default:return t===V_?V_:j_}}(e,t),r={};return n!==V_&&n!==j_||(null!==e.maxDigits&&(r.precision=e.maxDigits),null!==e.decimalPlaces&&(r.scale=e.decimalPlaces)),{dbType:n,typeOptions:r}}function J_(e,t){switch(e){case U_:return{numberType:"Integer",integerDataSize:"smallInt"};case Y_:return{numberType:"Integer",integerDataSize:"bigInt"};case B_:return{numberType:"Float",floatingPointType:"real"};case K_:return{numberType:"Float",floatingPointType:"doublePrecision"};case W_:return{numberType:"Integer",integerDataSize:"default"};default:return{numberType:"Decimal",maxDigits:t?.precision??null,decimalPlaces:t?.scale??null}}}const Z_={variables:{decimalPlaces:{type:"integer",default:null},useGrouping:{type:"string",enum:["true","false"],default:"false"},numberFormat:{type:"string",enum:["none","english","german","french","hindi","swiss"],default:"none"}},layout:{orientation:"vertical",elements:[{type:"input",variable:"decimalPlaces",label:"Decimal Places"},{type:"input",variable:"useGrouping",label:"Digit Grouping",options:{true:{label:"On"},false:{label:"Off"}}},{type:"input",variable:"numberFormat",label:"Format",options:{none:{label:"Use browser locale"},english:{label:"1,234,567.89"},german:{label:"1.234.567,89"},french:{label:"1 234 567,89"},hindi:{label:"12,34,567.89"},swiss:{label:"1'234'567.89"}}}]}};function Q_(e){const t=e.decimalPlaces;return{number_format:"none"===e.numberFormat?void 0:e.numberFormat,use_grouping:e.useGrouping??"false",minimum_fraction_digits:t??void 0,maximum_fraction_digits:t??void 0}}function eT(e,t){return null===e&&null===t?null:null===e?t:null===t?e:Math.max(e,t)}function tT(e){const t=e,n=eT(t?.minimum_fraction_digits??null,t?.maximum_fraction_digits??null);return{numberFormat:t?.number_format??"none",useGrouping:t?.use_grouping??"false",decimalPlaces:n}}const nT={getIcon:()=>({...zf,label:"Number"}),cellInfo:{type:"number",conditionalConfig:{[V_]:{floatAllowanceStrategy:"scale-based"},[j_]:{floatAllowanceStrategy:"scale-based"},[W_]:{floatAllowanceStrategy:"never"},[U_]:{floatAllowanceStrategy:"never"},[Y_]:{floatAllowanceStrategy:"never"},[B_]:{floatAllowanceStrategy:"always"},[K_]:{floatAllowanceStrategy:"always"}}},defaultDbType:j_,getDbConfig:()=>({form:G_,determineDbTypeAndOptions:X_,constructDbFormValuesFromTypeOptions:J_}),getDisplayConfig:()=>({form:Z_,determineDisplayOptions:Q_,constructDisplayFormValuesFromDisplayOptions:tT})},rT={variables:{currencySymbol:{type:"string",default:"$"},currencySymbolLocation:{type:"string",enum:["after-minus","end-with-space"],default:"after-minus"},numberFormat:{type:"string",enum:["none","english","german","french","hindi","swiss"],default:"none"},decimalPlaces:{type:"integer",default:null},useGrouping:{type:"string",enum:["true","false"],default:"true"}},layout:{orientation:"vertical",elements:[{type:"input",variable:"currencySymbol",label:"Currency Symbol"},{type:"input",variable:"currencySymbolLocation",label:"Currency Symbol Location",options:{"after-minus":{label:"Start"},"end-with-space":{label:"End"}}},{type:"input",variable:"decimalPlaces",label:"Decimal Places"},{type:"input",variable:"useGrouping",label:"Digit Grouping",options:{true:{label:"On"},false:{label:"Off"}}},{type:"input",variable:"numberFormat",label:"Number Format",options:{none:{label:"Use browser locale"},english:{label:"1,234,567.89"},german:{label:"1.234.567,89"},french:{label:"1 234 567,89"},hindi:{label:"12,34,567.89"},swiss:{label:"1'234'567.89"}}}]}};function oT(e){const t=e;return{currency_symbol:t.currencySymbol,currency_symbol_location:t.currencySymbolLocation,number_format:"none"===t.numberFormat?null:t.numberFormat,use_grouping:t.useGrouping,minimum_fraction_digits:t.decimalPlaces??void 0,maximum_fraction_digits:t.decimalPlaces??void 0}}function sT(e){const t=e,n=eT(t?.minimum_fraction_digits??null,t?.maximum_fraction_digits??null);return{numberFormat:t?.number_format??"none",currencySymbol:t?.currency_symbol??"",decimalPlaces:n,currencySymbolLocation:t?.currency_symbol_location??"after-minus",useGrouping:t?.use_grouping??"true"}}const iT={getIcon:()=>Rf,cellInfo:{type:"money"},defaultDbType:"MATHESAR_TYPES.MATHESAR_MONEY",getDisplayConfig:()=>({form:rT,determineDisplayOptions:oT,constructDisplayFormValuesFromDisplayOptions:sT})},aT={getIcon:()=>({...Lf,label:"Email"}),defaultDbType:"mathesar_types.email",cellInfo:{type:"string"}},lT={variables:{displayAs:{type:"string",enum:["checkbox","dropdown"],default:"checkbox"},useCustomLabels:{type:"boolean",default:!1},trueLabel:{type:"string",default:"true",validation:{checks:["isEmpty"]}},falseLabel:{type:"string",default:"false",validation:{checks:["isEmpty"]}}},layout:{orientation:"vertical",elements:[{type:"input",variable:"displayAs",label:"Display as",options:{checkbox:{label:"Checkbox"},dropdown:{label:"Dropdown"}}},{type:"if",variable:"displayAs",condition:"eq",value:"dropdown",elements:[{type:"input",variable:"useCustomLabels",label:"Use Custom Labels"},{type:"if",variable:"useCustomLabels",condition:"eq",value:!0,elements:[{type:"input",variable:"trueLabel",label:"Label for TRUE"},{type:"input",variable:"falseLabel",label:"Label for FALSE"}]}]}]}};function cT(e){const t={input:e.displayAs};return"dropdown"===e.displayAs&&e.useCustomLabels&&(t.custom_labels={TRUE:e.trueLabel,FALSE:e.falseLabel}),t}function uT(e){const t=e,n={displayAs:t?.input??"checkbox"};return"object"==typeof t?.custom_labels&&null!==t.custom_labels&&(n.useCustomLabels=!0,n.trueLabel=t.custom_labels.TRUE,n.falseLabel=t.custom_labels.FALSE),n}const dT={getIcon:()=>({...Mf,label:"Boolean"}),cellInfo:{type:"boolean"},getDisplayConfig:()=>({form:lT,determineDisplayOptions:cT,constructDisplayFormValuesFromDisplayOptions:uT})},pT={getIcon:()=>Vf,defaultDbType:"mathesar_types.uri",cellInfo:{type:"uri"}},$T=["d","h","m","s","ms"],mT={max:"m",min:"s"},fT={d:"D",h:"HH",m:"mm",s:"ss",ms:"SSS"};class gT{constructor(t){e(this,"min",void 0),e(this,"max",void 0),this.min=t?.min??mT.min,this.max=t?.max??mT.max}getUnitsInRange(){return $T.slice($T.indexOf(this.max),$T.indexOf(this.min)+1)}getHigherUnit(e){const t=$T[$T.indexOf(e)-1];return t?$T.indexOf(t)<$T.indexOf(this.max)?null:t:null}getFormattingString(){const e=this.getUnitsInRange().map((e=>fT[e]));return 1===e.length?e[0]:e[e.length-1]===fT.ms?[e.slice(0,e.length-1).join(":"),e[e.length-1]].join("."):e.join(":")}static getAllUnits(){return $T}static getDefaults(){return mT}}const hT=/^((\.?\d+)|(\d+(\.\d+)?))$/;const yT={ms:{convert:e=>e.asMilliseconds(),unitName:"milliseconds",decimalCorrection:0},s:{convert:e=>e.asSeconds(),unitName:"seconds"},m:{convert:e=>e.asMinutes(),unitName:"minutes"},h:{convert:e=>e.asHours(),unitName:"hours"},d:{convert:e=>e.asDays(),unitName:"days"}};class vT{constructor(t){e(this,"specification",void 0),this.specification=t}parse(e){const t=function(e,t){let n=e.getUnitsInRange();"ms"===n[n.length-1]&&(n=n.slice(0,n.length-1));let r=t.trim();if(""===r)return null;":"===r[0]&&(r=`0${r}`);const o=r[r.length-1];if(":"!==o&&"."!==o||(r=`${r}0`),r.split(":").length>n.length)throw new Error("Duration exceeds specified unit range");const s=r.split(":").map((e=>{let t=e;t.length>1&&"."===t[t.length-1]&&(t=`${t}0`);const n=parseFloat(t);if(Number.isNaN(n)||!hT.test(t))throw new Error("Unable to parse duration");return n})).slice(-n.length),i=n.slice(-s.length),a={};return i.forEach(((e,t)=>{a[e]=s[t]??0})),vt.duration({years:0,months:0,days:a.d??0,hours:a.h??0,minutes:a.m??0,seconds:a.s??0}).toISOString()}(this.specification,e);return{value:t,intermediateDisplay:e}}format(e){return function(e,t){const n={},r=vt.duration(e),o=t.getUnitsInRange().reverse();if(0===o.length)throw new Error("Invalid duration specification");let s=yT[o[0]],i=s.convert(r);for(const a of o){const e=t.getHigherUnit(a);let r=0;if(e){const t=yT[e];r=Math.floor(t.convert(vt.duration(i,s.unitName))),i-=s.convert(vt.duration(r,t.unitName))}n[s.unitName]=parseFloat(i.toFixed(s.decimalCorrection??3)),e&&(i=r,s=yT[e])}return vt.duration(n).format(t.getFormattingString())}(e,this.specification)}}const bT=gT.getDefaults(),wT={variables:{durationConfig:{type:"custom",default:{max:bT.max,min:bT.min}}},layout:{orientation:"vertical",elements:[{type:"static",variable:"durationConfig",componentId:"duration-config-menu"}]}};function xT(e){return{...e.durationConfig,show_units:!1}}function ST(e){const t=e;return{durationConfig:{max:t?.max??bT.max,min:t?.min??bT.min}}}const CT={getIcon:()=>({...Af,label:"Duration"}),cellInfo:{type:"duration"},getDisplayConfig:()=>({form:wT,determineDisplayOptions:xT,constructDisplayFormValuesFromDisplayOptions:ST})};function kT(e,t,n){const r=[];return e.forEach((e=>{t.forEach((t=>{r.push(n(e,t))}))})),r}const DT={none:new Date("1999-12-25T00:00").toLocaleDateString().replace("25","DD").replace("12","MM").replace("1999","YYYY"),us:"MM/DD/YYYY",eu:"DD/MM/YYYY",friendly:"D MMM YYYY",iso:"YYYY-MM-DD"},IT=new Map([["us",["M/D/YYYY","M/D/YY"]],["eu",["D/M/YYYY","D/M/YY"]],["friendly",["D MMM YY"]]]),_T={"24hr":"HH:mm","24hrLong":"HH:mm:ss","12hr":"hh:mm a","12hrLong":"hh:mm:ss a"},TT=["hh:mm:ss a","HH:mm:ss","hh:mm a","HH:mm"],MT=[...TT,...kT(TT,[" Z",".Z","Z"],((e,t)=>`${e}${t}`))];class ET{constructor(t){e(this,"type",void 0),e(this,"isTimeZoneType",void 0),e(this,"dateFormat",void 0),e(this,"timeFormat",void 0),this.type=t?.type??"timestamp",this.dateFormat=t?.dateFormat??"none",this.timeFormat=t?.timeFormat??"24hr",this.isTimeZoneType="timeWithTZ"===this.type||"timestampWithTZ"===this.type}getFormattingString(){switch(this.type){case"date":return DT[this.dateFormat];case"time":case"timeWithTZ":return _T[this.timeFormat];default:return`${DT[this.dateFormat]} ${_T[this.timeFormat]}`}}getCommonFormattingStrings(){const e=[DT[this.dateFormat],...IT.get(this.dateFormat)??[]];return"date"===this.type?IT.get(this.dateFormat)??[]:"time"===this.type?TT:"timeWithTZ"===this.type?MT:"timestamp"===this.type?kT(e,TT,((e,t)=>`${e} ${t}`)):"timestampWithTZ"===this.type?kT(e,MT,((e,t)=>`${e} ${t}`)):[]}getCanonicalFormattingStrings(){const e=["YYYY-MM-DD"],t=[...e,"YYYY-MM-DD [AD]","YYYY-MM-DD [BC]"],n=["HH:mm:ss"],r=["HH:mm:ss.Z","HH:mm:ss Z","HH:mm:ss.ZZ","HH:mm:ss ZZ"],o=kT(e,n,((e,t)=>`${e} ${t}`)),s=[...o,...kT(o,["[AD]","[BC]"],((e,t)=>`${e} ${t}`))],i=kT(e,r,((e,t)=>`${e} ${t}`)),a=[...i,...kT(i,["[AD]","[BC]"],((e,t)=>`${e} ${t}`))];switch(this.type){case"date":return t;case"time":return n;case"timeWithTZ":return r;case"timestamp":return s;case"timestampWithTZ":return a;default:return[]}}getCanonicalString(e){return"date"===this.type?vt(e).format("YYYY-MM-DD"):"time"===this.type?vt(e).format("HH:mm:ss"):"timeWithTZ"===this.type?vt(e).format("HH:mm:ss Z"):"timestamp"===this.type?vt(e).format("YYYY-MM-DD HH:mm:ss"):"timestampWithTZ"===this.type?vt(e).format("YYYY-MM-DD HH:mm:ss Z"):e.toISOString()}hasSecondsInTime(){return"date"!==this.type&&("12hrLong"===this.timeFormat||"24hrLong"===this.timeFormat)}isTime24Hr(){return"date"!==this.type&&("24hr"===this.timeFormat||"24hrLong"===this.timeFormat)}static getDateFormattingStringMap(){return DT}static getTimeFormattingStringMap(){return _T}}class OT{constructor(t){e(this,"specification",void 0),this.specification=t}parse(e){const t=[this.specification.getFormattingString(),...this.specification.getCommonFormattingStrings(),...this.specification.getCanonicalFormattingStrings()];let n=vt(e,t,!0);return n.isValid()||(n=vt(e,this.specification.getCanonicalFormattingStrings())),{value:n.isValid()?this.specification.getCanonicalString(n.toDate()):e,intermediateDisplay:e}}format(e){const t=vt(e,this.specification.getCanonicalFormattingStrings());return t.isValid()?t.format(this.specification.getFormattingString()):e}parseAndFormat(e){const{value:t}=this.parse(e);return Mt(t)?this.format(t):e}}function AT(){const e=vt("2001-12-31"),t=ET.getDateFormattingStringMap();return{none:{label:`Infer from browser (${e.format(t.none)})`},us:{label:`US (${e.format(t.us)})`},eu:{label:`European (${e.format(t.eu)})`},friendly:{label:`Friendly (${e.format(t.friendly)})`},iso:{label:`Standard (${e.format(t.iso)})`}}}function LT(){const e=vt(),t=ET.getTimeFormattingStringMap();return{"24hr":{label:`Short time 24 hr (${e.format(t["24hr"])})`},"24hrLong":{label:`Long time 24 hr (${e.format(t["24hrLong"])})`},"12hr":{label:`Short time 12 hr (${e.format(t["12hr"])})`},"12hrLong":{label:`Long time 12 hr (${e.format(t["12hrLong"])})`}}}const NT={variables:{format:{type:"string",enum:["none","us","eu","friendly","iso"],default:"none"}},layout:{orientation:"vertical",elements:[{type:"input",variable:"format",label:"Date Format",options:AT()}]}};function PT(e){return{format:e.format}}function RT(e){return{format:e?.format??"none"}}const zT={getIcon:()=>({...Ef,label:"Date"}),cellInfo:{type:"date"},getDisplayConfig:()=>({form:NT,determineDisplayOptions:PT,constructDisplayFormValuesFromDisplayOptions:RT})},FT="time with time zone",HT="time without time zone",qT={variables:{supportTimeZones:{type:"boolean",default:!1}},layout:{orientation:"vertical",elements:[{type:"input",variable:"supportTimeZones",label:"Support Time Zones"}]}};function VT(e){return{dbType:e.supportTimeZones?FT:HT,typeOptions:{}}}function jT(e){return{supportTimeZones:e===FT}}const WT={variables:{format:{type:"string",enum:["24hr","24hrLong","12hr","12hrLong"],default:"24hr"}},layout:{orientation:"vertical",elements:[{type:"input",variable:"format",label:"Time Format",options:LT()}]}};function UT(e){return{format:e.format}}function YT(e){return{format:e?.format??"24hr"}}const BT={getIcon:()=>({...Hf,label:"Time"}),defaultDbType:FT,cellInfo:{type:"time",conditionalConfig:{[FT]:{supportTimeZone:!0},[HT]:{supportTimeZone:!1}}},getDbConfig:()=>({form:qT,determineDbTypeAndOptions:VT,constructDbFormValuesFromTypeOptions:jT}),getDisplayConfig:()=>({form:WT,determineDisplayOptions:UT,constructDisplayFormValuesFromDisplayOptions:YT})},KT="timestamp with time zone",GT="timestamp without time zone",XT={variables:{supportTimeZones:{type:"boolean",default:!1}},layout:{orientation:"vertical",elements:[{type:"input",variable:"supportTimeZones",label:"Support Time Zones"}]}};function JT(e){return{dbType:e.supportTimeZones?KT:GT,typeOptions:{}}}function ZT(e){return{supportTimeZones:e===KT}}const QT={variables:{dateFormat:{type:"string",enum:["none","us","eu","friendly","iso"],default:"none"},timeFormat:{type:"string",enum:["24hr","24hrLong","12hr","12hrLong"],default:"24hr"}},layout:{orientation:"vertical",elements:[{type:"input",variable:"dateFormat",label:"Date Format",options:AT()},{type:"input",variable:"timeFormat",label:"Time Format",options:LT()}]}};function eM(e){return{date_format:e.dateFormat,time_format:e.timeFormat}}function tM(e){const t=e;return{dateFormat:t?.date_format??"none",timeFormat:t?.time_format??"24hr"}}const nM={getIcon:()=>({...Of,label:"Date & Time"}),defaultDbType:KT,cellInfo:{type:"datetime",conditionalConfig:{[KT]:{supportTimeZone:!0},[GT]:{supportTimeZone:!1}}},getDbConfig:()=>({form:XT,determineDbTypeAndOptions:JT,constructDbFormValuesFromTypeOptions:ZT}),getDisplayConfig:()=>({form:QT,determineDisplayOptions:eM,constructDisplayFormValuesFromDisplayOptions:tM})},rM={getIcon:()=>({...qf,label:"Unknown column type"}),cellInfo:{type:"string"}},oM={name:"Other",identifier:"other",...rM,dbTypes:new Set([])};function sM(e,t){let n;for(const[,r]of t)if(r.dbTypes.has(e)){n=r;break}return n}function iM(e,t){let n=sM(e,t);return n||(n=oM),n}const aM={[L_.Text]:q_,[L_.Money]:iT,[L_.Email]:aT,[L_.Number]:nT,[L_.Boolean]:dT,[L_.Uri]:pT,[L_.Duration]:CT,[L_.Date]:zT,[L_.Time]:BT,[L_.DateTime]:nM},lM={[L_.Array]:e=>({getIcon:t=>{const n={...jf,label:"Array"};if(t&&t.typeOptions){const n=iM(t.typeOptions.item_type,e);if(n){const e=n.getIcon(),t=Array.isArray(e)?e:[e];return[{...jf,label:"Array"},...t]}}return n},cellInfo:{type:"array"}}),[L_.JsonArray]:()=>({getIcon:()=>Nf,defaultDbType:"mathesar_types.mathesar_json_array",cellInfo:{type:"string"}}),[L_.JsonObject]:()=>({getIcon:()=>Pf,defaultDbType:"mathesar_types.mathesar_json_object",cellInfo:{type:"string"}})},cM=R_;function uM(e){const t=new Map,n=[];e.forEach((e=>{if("other"===e.identifier)return;const r={identifier:e.identifier,name:e.name,dbTypes:new Set(e.db_types)},o=aM[e.identifier];if(o)return void t.set(e.identifier,{...r,...o});const s=lM[e.identifier];s?n.push({...r,factory:s}):t.set(e.identifier,{...r,...rM})}));const r=new Map(t);return n.forEach((e=>{r.set(e.identifier,{identifier:e.identifier,name:e.name,dbTypes:e.dbTypes,...e.factory(t)})})),r}const dM=ng(),pM=new Map,$M=new Map;async function mM(e){const t=pM.get(e);if(t)try{t.update((e=>({...e,state:rh.Loading}))),$M.get(e)?.cancel();const n=dh(`/api/ui/v0/databases/${e}/types/`);$M.set(e,n);const r=uM(await n);return t.update((e=>({...e,state:rh.Done,data:r}))),r}catch(n){return void t.update((e=>({...e,state:rh.Error,error:n instanceof Error?n.message:"Error in fetching schemas"})))}else console.error(`DB Types store for db: ${e} not found.`)}let fM=!0;const gM=ft(vh,((e,t)=>{let n;if(e){const r=function(e){let t=pM.get(e.id);return t?m(t).error&&mM(e.id):(t=mt({state:rh.Loading,data:new Map}),pM.set(e.id,t),fM&&dM?.current_db===e.name?t.update((e=>({...e,state:rh.Done,data:uM(dM.abstract_types)}))):mM(e.id),fM=!1),t}(e);n=r.subscribe((e=>{t(e)}))}else t({state:rh.Done,data:new Map});return()=>{n?.()}})),hM=[L_.Date,L_.Time,L_.DateTime],yM={[L_.DateTime]:[L_.DateTime],[L_.Date]:[L_.Date],[L_.Time]:[L_.Time],[L_.Duration]:[L_.Duration],[L_.Number]:[L_.Number],[L_.Money]:[L_.Money]};function vM(e,t){const n=new Map(e.map((e=>[e,t])));return Object.fromEntries(n)}function bM(e){const t=Object.values(L_),n=new Map(t.map((t=>[t,e(t)])));return Object.fromEntries(n)}const wM=[{id:"equal",name:"equals",aliases:vM(hM,"is same as"),uiTypeParameterMap:bM((e=>[e])),hasParams:!0},{id:"null",name:"is empty",uiTypeParameterMap:bM((()=>[])),hasParams:!1},{id:"not_null",name:"is not empty",uiTypeParameterMap:bM((()=>[])),hasParams:!1}],xM=[...wM,{id:"contains_case_insensitive",name:"contains",uiTypeParameterMap:{[L_.Text]:[L_.Text],[L_.Email]:[L_.Text],[L_.Uri]:[L_.Text]},hasParams:!0},{id:"starts_with_case_insensitive",name:"starts with",uiTypeParameterMap:{[L_.Text]:[L_.Text],[L_.Email]:[L_.Text],[L_.Uri]:[L_.Text]},hasParams:!0},{id:"uri_scheme_equals",name:"URI scheme is",uiTypeParameterMap:{[L_.Uri]:[L_.Text]},hasParams:!0},{id:"uri_authority_contains",name:"URI authority contains",uiTypeParameterMap:{[L_.Uri]:[L_.Text]},hasParams:!0},{id:"json_array_length_equals",name:"number of elements is",uiTypeParameterMap:{[L_.JsonArray]:[L_.Number]},hasParams:!0},{id:"json_array_length_greater_than",name:"number of elements >",uiTypeParameterMap:{[L_.JsonArray]:[L_.Number]},hasParams:!0},{id:"json_array_length_greater_or_equal",name:"number of elements >=",uiTypeParameterMap:{[L_.JsonArray]:[L_.Number]},hasParams:!0},{id:"json_array_length_less_than",name:"number of elements <",uiTypeParameterMap:{[L_.JsonArray]:[L_.Number]},hasParams:!0},{id:"json_array_length_less_or_equal",name:"number of elements <=",uiTypeParameterMap:{[L_.JsonArray]:[L_.Number]},hasParams:!0},{id:"json_array_not_empty",name:"array is not empty",uiTypeParameterMap:{[L_.JsonArray]:[]},hasParams:!1},{id:"json_array_contains",name:"array contains",uiTypeParameterMap:{[L_.JsonArray]:[L_.Text]},hasParams:!0},{id:"email_domain_equals",name:"email domain is",uiTypeParameterMap:{[L_.Email]:[L_.Text]},hasParams:!0},{id:"email_domain_contains",name:"email domain contains",uiTypeParameterMap:{[L_.Email]:[L_.Text]},hasParams:!0},{id:"lesser",name:"is lesser than",aliases:vM(hM,"is before"),uiTypeParameterMap:yM,hasParams:!0},{id:"greater",name:"is greater than",aliases:vM(hM,"is after"),uiTypeParameterMap:yM,hasParams:!0},{id:"lesser_or_equal",name:"is lesser or equal to",aliases:vM(hM,"is before or same as"),uiTypeParameterMap:yM,hasParams:!0},{id:"greater_or_equal",name:"is greater or equal to",aliases:vM(hM,"is after or same as"),uiTypeParameterMap:yM,hasParams:!0}];function SM(e){const t=Object.values(L_),n=new Map;return t.forEach((t=>{n.has(t)||n.set(t,[]);const r=n.get(t);e.forEach((e=>{e.uiTypeParameterMap[t]&&r?.push({id:e.id,name:e.aliases?.[t]??e.name,parameters:e.uiTypeParameterMap[t]??[]})}))})),n}const CM=SM(wM),kM=SM(xM);function DM(e){const t=new Map;return kM.get(e)?.forEach((e=>{t.set(e.id,e)})),t}const IM=[{id:"truncate_to_day",name:"Year, Month, Day",appliesTo:[L_.DateTime],returns:L_.Text},{id:"truncate_to_year",name:"Year",appliesTo:[L_.Date,L_.DateTime],returns:L_.Number},{id:"truncate_to_month",name:"Year, Month",appliesTo:[L_.Date,L_.DateTime],returns:L_.Text},{id:"extract_uri_scheme",name:"URI scheme",appliesTo:[L_.Uri],returns:L_.Text},{id:"extract_uri_authority",name:"URI Authority",appliesTo:[L_.Uri],returns:L_.Text},{id:"extract_email_domain",name:"Domain",appliesTo:[L_.Email],returns:L_.Text}];const _M=function(){const e=Object.values(L_),t=new Map;return e.forEach((e=>{t.has(e)||t.set(e,[]);const n=t.get(e);IM.forEach((t=>{t.appliesTo.includes(e)&&n?.push({id:t.id,name:t.name,returns:t.returns,possibleReturnValues:t.possibleReturnValues})}))})),t}();function TM(e){return _M.get(e)??[]}const MM=["distinct_aggregate_to_array","count","sum","median","mode","percentage_true","max","min","mean","peak_time","peak_month"];function EM(e){return Object.fromEntries(Object.values(L_).map((t=>[t,e])))}function OM(){return Object.fromEntries(Object.values(L_).map((e=>[e,e])))}const AM={distinct_aggregate_to_array:{label:"List",inputOutputTypeMap:EM(L_.Array)},count:{label:"Count",inputOutputTypeMap:EM(L_.Number)},sum:{label:"Sum",inputOutputTypeMap:{[L_.Number]:L_.Number,[L_.Money]:L_.Money,[L_.Duration]:L_.Duration}},median:{label:"Median",inputOutputTypeMap:OM()},mode:{label:"Mode",inputOutputTypeMap:OM()},percentage_true:{label:"Percentage True",inputOutputTypeMap:{[L_.Boolean]:L_.Number}},max:{label:"Max",inputOutputTypeMap:OM()},min:{label:"Min",inputOutputTypeMap:OM()},mean:{label:"Mean",inputOutputTypeMap:{[L_.Number]:L_.Number,[L_.Money]:L_.Money,[L_.Duration]:L_.Duration}},peak_time:{label:"Peak time",inputOutputTypeMap:{[L_.DateTime]:L_.Time,[L_.Time]:L_.Time}},peak_month:{label:"Peak month",inputOutputTypeMap:{[L_.DateTime]:L_.Number,[L_.Date]:L_.Number}}};function LM(e){const t=[];for(const n of MM){const{label:r,inputOutputTypeMap:o}=AM[n],s=o[e];s&&t.push({id:n,label:r,inputType:e,outputType:s})}return t}function NM(e){let t,n,r,o;const s=[e[3],e[2]];function i(t){e[4](t)}var l=e[1].component;function c(e){let t={};for(let n=0;n<s.length;n+=1)t=a(t,s[n]);return void 0!==e[0]&&(t.value=e[0]),{props:t}}return l&&(t=new l(c(e)),we.push((()=>nt(t,"value",i))),t.$on("input",e[5]),t.$on("artificialInput",e[6]),t.$on("change",e[7]),t.$on("artificialChange",e[8]),t.$on("focus",e[9]),t.$on("blur",e[10]),t.$on("recordSelectorOpen",e[11]),t.$on("recordSelectorCancel",e[12]),t.$on("recordSelectorSubmit",e[13])),{c(){t&&rt(t.$$.fragment),r=j()},m(e,n){t&&ot(t,e,n),P(e,r,n),o=!0},p(e,[o]){const a=12&o?et(s,[8&o&&tt(e[3]),4&o&&tt(e[2])]):{};if(!n&&1&o&&(n=!0,a.value=e[0],Te((()=>n=!1))),l!==(l=e[1].component)){if(t){Fe();const e=t;Ve(e.$$.fragment,1,0,(()=>{st(e,1)})),He()}l?(t=new l(c(e)),we.push((()=>nt(t,"value",i))),t.$on("input",e[5]),t.$on("artificialInput",e[6]),t.$on("change",e[7]),t.$on("artificialChange",e[8]),t.$on("focus",e[9]),t.$on("blur",e[10]),t.$on("recordSelectorOpen",e[11]),t.$on("recordSelectorCancel",e[12]),t.$on("recordSelectorSubmit",e[13]),rt(t.$$.fragment),qe(t.$$.fragment,1),ot(t,r.parentNode,r)):t=null}else l&&t.$set(a)},i(e){o||(t&&qe(t.$$.fragment,e),o=!0)},o(e){t&&Ve(t.$$.fragment,e),o=!1},d(e){e&&R(r),t&&st(t,e)}}}function PM(e,t,n){let r;const o=["value","componentAndProps"];let s=x(t,o),{value:i}=t,{componentAndProps:l}=t;return e.$$set=e=>{t=a(a({},t),w(e)),n(3,s=x(t,o)),"value"in e&&n(0,i=e.value),"componentAndProps"in e&&n(1,l=e.componentAndProps)},e.$$.update=()=>{2&e.$$.dirty&&n(2,r=l.props)},[i,l,r,s,function(e){i=e,n(0,i)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)}]}class RM extends at{constructor(e){super(),it(this,e,PM,NM,p,{value:0,componentAndProps:1})}}function zM(e){let t,n;const r=e[1].default,o=g(r,e,e[0],null);return{c(){t=F("span"),o&&o.c(),B(t,"class","postgres-keyword")},m(e,r){P(e,t,r),o&&o.m(t,null),n=!0},p(e,[t]){o&&o.p&&(!n||1&t)&&v(o,r,e,e[0],n?y(r,e[0],t,null):b(e[0]),null)},i(e){n||(qe(o,e),n=!0)},o(e){Ve(o,e),n=!1},d(e){e&&R(t),o&&o.d(e)}}}function FM(e,t,n){let{$$slots:r={},$$scope:o}=t;return e.$$set=e=>{"$$scope"in e&&n(0,o=e.$$scope)},[o,r]}class HM extends at{constructor(e){super(),it(this,e,FM,zM,p,{})}}function qM(e){let t;return{c(){t=q("DEFAULT")},m(e,n){P(e,t,n)},d(e){e&&R(t)}}}function VM(e){let t,n;return t=new HM({props:{$$slots:{default:[qM]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const r={};1&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}class jM extends at{constructor(e){super(),it(this,e,null,VM,p,{})}}function WM(e){let t;return{c(){t=q("NULL")},m(e,n){P(e,t,n)},d(e){e&&R(t)}}}function UM(e){let t,n;return t=new HM({props:{$$slots:{default:[WM]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const r={};1&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}class YM extends at{constructor(e){super(),it(this,e,null,UM,p,{})}}function BM(e){let t;const n=e[3].default,r=g(n,e,e[2],null),o=r||function(e){let t;return{c(){t=q(e[0])},m(e,n){P(e,t,n)},p(e,n){1&n&&X(t,e[0])},d(e){e&&R(t)}}}(e);return{c(){o&&o.c()},m(e,n){o&&o.m(e,n),t=!0},p(e,s){r?r.p&&(!t||4&s)&&v(r,n,e,e[2],t?y(n,e[2],s,null):b(e[2]),null):o&&o.p&&(!t||1&s)&&o.p(e,t?s:-1)},i(e){t||(qe(o,e),t=!0)},o(e){Ve(o,e),t=!1},d(e){o&&o.d(e)}}}function KM(e){let t,n;return t=new gp({props:{matchParts:e[1]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.matchParts=e[1]),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function GM(e){let t,n;return t=new jM({}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p:s,i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function XM(e){let t,n;return t=new YM({}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p:s,i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function JM(e){let t,n,r,o;const s=[XM,GM,KM,BM],i=[];function a(e,t){return null===e[0]?0:void 0===e[0]?1:e[1]?2:3}return t=a(e),n=i[t]=s[t](e),{c(){n.c(),r=j()},m(e,n){i[t].m(e,n),P(e,r,n),o=!0},p(e,[o]){let l=t;t=a(e),t===l?i[t].p(e,o):(Fe(),Ve(i[l],1,1,(()=>{i[l]=null})),He(),n=i[t],n?n.p(e,o):(n=i[t]=s[t](e),n.c()),qe(n,1),n.m(r.parentNode,r))},i(e){o||(qe(n),o=!0)},o(e){Ve(n),o=!1},d(e){i[t].d(e),e&&R(r)}}}function ZM(e,t,n){let{$$slots:r={},$$scope:o}=t,{value:s}=t,{matchParts:i}=t;return e.$$set=e=>{"value"in e&&n(0,s=e.value),"matchParts"in e&&n(1,i=e.matchParts),"$$scope"in e&&n(2,o=e.$$scope)},[s,i,o,r]}class QM extends at{constructor(e){super(),it(this,e,ZM,JM,p,{value:0,matchParts:1})}}function eE(e){let t,n,r;return{c(){t=F("div"),B(t,"class",n=C(`cell-background ${e[2]}`)+" svelte-hwy11c"),B(t,"style",r=`background-color: ${e[1]};`)},m(e,n){P(e,t,n)},p(e,o){4&o&&n!==(n=C(`cell-background ${e[2]}`)+" svelte-hwy11c")&&B(t,"class",n),2&o&&r!==(r=`background-color: ${e[1]};`)&&B(t,"style",r)},d(e){e&&R(t)}}}function tE(e){let t,n=e[0]&&eE(e);return{c(){n&&n.c(),t=j()},m(e,r){n&&n.m(e,r),P(e,t,r)},p(e,[r]){e[0]?n?n.p(e,r):(n=eE(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},i:s,o:s,d(e){n&&n.d(e),e&&R(t)}}}function nE(e,t,n){let{when:r=!0}=t,{color:o}=t,{class:s=""}=t;return e.$$set=e=>{"when"in e&&n(0,r=e.when),"color"in e&&n(1,o=e.color),"class"in e&&n(2,s=e.class)},[r,o,s]}class rE extends at{constructor(e){super(),it(this,e,nE,tE,p,{when:0,color:1,class:2})}}function oE(e){let t,n,r,o;return t=new rE({props:{color:"rgba(14, 101, 235, 0.1)",when:e[2]}}),r=new rE({props:{color:"var(--cell-background-color)",when:"noMatch"!==e[7]}}),{c(){rt(t.$$.fragment),n=V(),rt(r.$$.fragment)},m(e,s){ot(t,e,s),P(e,n,s),ot(r,e,s),o=!0},p(e,n){const o={};4&n&&(o.when=e[2]),t.$set(o);const s={};128&n&&(s.when="noMatch"!==e[7]),r.$set(s)},i(e){o||(qe(t.$$.fragment,e),qe(r.$$.fragment,e),o=!0)},o(e){Ve(t.$$.fragment,e),Ve(r.$$.fragment,e),o=!1},d(e){st(t,e),e&&R(n),st(r,e)}}}function sE(e){let t,n,r,o,s,i,l="edit"!==e[4]&&oE(e);const c=e[16].default,d=g(c,e,e[15],null);let p=[{class:"cell-wrapper"},{tabindex:r=-1},e[14]],$={};for(let u=0;u<p.length;u+=1)$=a($,p[u]);return{c(){t=F("div"),l&&l.c(),n=V(),d&&d.c(),K(t,$),te(t,"is-active",e[1]),te(t,"is-focused",e[10]),te(t,"disabled",e[3]),te(t,"is-edit-mode","edit"===e[4]),te(t,"truncate",e[5]&&!e[8]),te(t,"h-align-right","right"===e[9]&&!e[8]),te(t,"has-padding",e[6]&&!e[8]),te(t,"exact-match","exactMatch"===e[7]),te(t,"substring-match","substringMatch"===e[7]),te(t,"no-match","noMatch"===e[7]),te(t,"svelte-89fo8v",!0)},m(r,a){P(r,t,a),l&&l.m(t,null),A(t,n),d&&d.m(t,null),e[22](t),o=!0,s||(i=[W(t,"click",e[17]),W(t,"dblclick",e[18]),W(t,"mousedown",e[19]),W(t,"mouseenter",e[20]),W(t,"keydown",e[21]),W(t,"copy",e[13]),W(t,"focus",e[11]),W(t,"blur",e[12])],s=!0)},p(e,[r]){"edit"!==e[4]?l?(l.p(e,r),16&r&&qe(l,1)):(l=oE(e),l.c(),qe(l,1),l.m(t,n)):l&&(Fe(),Ve(l,1,1,(()=>{l=null})),He()),d&&d.p&&(!o||32768&r)&&v(d,c,e,e[15],o?y(c,e[15],r,null):b(e[15]),null),K(t,$=et(p,[{class:"cell-wrapper"},{tabindex:-1},16384&r&&e[14]])),te(t,"is-active",e[1]),te(t,"is-focused",e[10]),te(t,"disabled",e[3]),te(t,"is-edit-mode","edit"===e[4]),te(t,"truncate",e[5]&&!e[8]),te(t,"h-align-right","right"===e[9]&&!e[8]),te(t,"has-padding",e[6]&&!e[8]),te(t,"exact-match","exactMatch"===e[7]),te(t,"substring-match","substringMatch"===e[7]),te(t,"no-match","noMatch"===e[7]),te(t,"svelte-89fo8v",!0)},i(e){o||(qe(l),qe(d,e),o=!0)},o(e){Ve(l),Ve(d,e),o=!1},d(n){n&&R(t),l&&l.d(),d&&d.d(n),e[22](null),s=!1,u(i)}}}function iE(e,t,n){const r=["element","isActive","isSelectedInRange","disabled","mode","multiLineTruncate","hasPadding","valueComparisonOutcome","isIndependentOfSheet","horizontalAlignment"];let o=x(t,r),{$$slots:s={},$$scope:i}=t,{element:l}=t,{isActive:c=!1}=t,{isSelectedInRange:u=!1}=t,{disabled:d=!1}=t,{mode:p="default"}=t,{multiLineTruncate:$=!1}=t,{hasPadding:m=!0}=t,{valueComparisonOutcome:f}=t,{isIndependentOfSheet:g=!1}=t,{horizontalAlignment:h="left"}=t,y=!1;async function v(e,t){await Ie(),function(e,t){return!!e&&"edit"!==t&&!!l&&!l.contains(document.activeElement)}(e,t)&&l?.focus()}return e.$$set=e=>{t=a(a({},t),w(e)),n(14,o=x(t,r)),"element"in e&&n(0,l=e.element),"isActive"in e&&n(1,c=e.isActive),"isSelectedInRange"in e&&n(2,u=e.isSelectedInRange),"disabled"in e&&n(3,d=e.disabled),"mode"in e&&n(4,p=e.mode),"multiLineTruncate"in e&&n(5,$=e.multiLineTruncate),"hasPadding"in e&&n(6,m=e.hasPadding),"valueComparisonOutcome"in e&&n(7,f=e.valueComparisonOutcome),"isIndependentOfSheet"in e&&n(8,g=e.isIndependentOfSheet),"horizontalAlignment"in e&&n(9,h=e.horizontalAlignment),"$$scope"in e&&n(15,i=e.$$scope)},e.$$.update=()=>{18&e.$$.dirty&&v(c,p)},[l,c,u,d,p,$,m,f,g,h,y,function(){n(10,y=!0)},function(){n(10,y=!1)},function(e){e.target!==l&&e.stopPropagation()},o,i,s,function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(e){we[e?"unshift":"push"]((()=>{l=e,n(0,l)}))}]}class aE extends at{constructor(e){super(),it(this,e,iE,sE,p,{element:0,isActive:1,isSelectedInRange:2,disabled:3,mode:4,multiLineTruncate:5,hasPadding:6,valueComparisonOutcome:7,isIndependentOfSheet:8,horizontalAlignment:9})}}const lE=e=>({value:1&e,formatValue:32&e,matchParts:512&e}),cE=e=>({value:e[0],formatValue:e[5],matchParts:e[9],handleInputBlur:e[17],handleInputKeydown:e[16]}),uE=e=>({}),dE=e=>({handleInputBlur:e[17],handleInputKeydown:e[16]});function pE(e){let t,n,r;return n=new kl({props:{lines:e[1]&&e[4]?2:1,passthrough:!e[8],$$slots:{default:[mE]},$$scope:{ctx:e}}}),{c(){t=F("div"),rt(n.$$.fragment),B(t,"class","content svelte-kb88kg"),te(t,"nowrap",!e[1]&&!e[7]),te(t,"truncate",e[1]&&e[4]&&!e[7])},m(e,o){P(e,t,o),ot(n,t,null),r=!0},p(e,o){const s={};18&o&&(s.lines=e[1]&&e[4]?2:1),256&o&&(s.passthrough=!e[8]),16785953&o&&(s.$$scope={dirty:o,ctx:e}),n.$set(s),(!r||130&o)&&te(t,"nowrap",!e[1]&&!e[7]),(!r||146&o)&&te(t,"truncate",e[1]&&e[4]&&!e[7])},i(e){r||(qe(n.$$.fragment,e),r=!0)},o(e){Ve(n.$$.fragment,e),r=!1},d(e){e&&R(t),st(n)}}}function $E(e){let t;const n=e[21].default,r=g(n,e,e[24],dE);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||16777216&o)&&v(r,n,e,e[24],t?y(n,e[24],o,uE):b(e[24]),dE)},i(e){t||(qe(r,e),t=!0)},o(e){Ve(r,e),t=!1},d(e){r&&r.d(e)}}}function mE(e){let t;const n=e[21].content,r=g(n,e,e[24],cE),o=r||function(e){let t,n;return t=new QM({props:{value:e[13],matchParts:e[9]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};8192&n&&(r.value=e[13]),512&n&&(r.matchParts=e[9]),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}(e);return{c(){o&&o.c()},m(e,n){o&&o.m(e,n),t=!0},p(e,s){r?r.p&&(!t||16777761&s)&&v(r,n,e,e[24],t?y(n,e[24],s,lE):b(e[24]),cE):o&&o.p&&(!t||8704&s)&&o.p(e,t?s:-1)},i(e){t||(qe(o,e),t=!0)},o(e){Ve(o,e),t=!1},d(e){o&&o.d(e)}}}function fE(e){let t,n,r,o;const s=[$E,pE],i=[];function a(e,t){return e[11]?0:1}return t=a(e),n=i[t]=s[t](e),{c(){n.c(),r=j()},m(e,n){i[t].m(e,n),P(e,r,n),o=!0},p(e,o){let l=t;t=a(e),t===l?i[t].p(e,o):(Fe(),Ve(i[l],1,1,(()=>{i[l]=null})),He(),n=i[t],n?n.p(e,o):(n=i[t]=s[t](e),n.c()),qe(n,1),n.m(r.parentNode,r))},i(e){o||(qe(n),o=!0)},o(e){Ve(n),o=!1},d(e){i[t].d(e),e&&R(r)}}}function gE(e){let t,n,r;function o(t){e[22](t)}let s={isActive:e[1],isSelectedInRange:e[2],disabled:e[3],mode:e[11]?"edit":"default",multiLineTruncate:e[4],horizontalAlignment:e[6],valueComparisonOutcome:e[12],isIndependentOfSheet:e[7],$$slots:{default:[fE]},$$scope:{ctx:e}};return void 0!==e[10]&&(s.element=e[10]),t=new aE({props:s}),we.push((()=>nt(t,"element",o))),t.$on("dblclick",e[14]),t.$on("keydown",e[15]),t.$on("mousedown",e[18]),t.$on("mouseenter",e[23]),{c(){rt(t.$$.fragment)},m(e,n){ot(t,e,n),r=!0},p(e,[r]){const o={};2&r&&(o.isActive=e[1]),4&r&&(o.isSelectedInRange=e[2]),8&r&&(o.disabled=e[3]),2048&r&&(o.mode=e[11]?"edit":"default"),16&r&&(o.multiLineTruncate=e[4]),64&r&&(o.horizontalAlignment=e[6]),4096&r&&(o.valueComparisonOutcome=e[12]),128&r&&(o.isIndependentOfSheet=e[7]),16788403&r&&(o.$$scope={dirty:r,ctx:e}),!n&&1024&r&&(n=!0,o.element=e[10],Te((()=>n=!1))),t.$set(o)},i(e){r||(qe(t.$$.fragment,e),r=!0)},o(e){Ve(t.$$.fragment,e),r=!1},d(e){st(t,e)}}}function hE(e,t,n){let r,o,s,{$$slots:i={},$$scope:a}=t;const l=fe();let c,u,{isActive:d}=t,{isSelectedInRange:p}=t,{value:$}=t,{disabled:m}=t,{multiLineTruncate:f=!1}=t,{formatValue:g}=t,{horizontalAlignment:h}=t,{searchValue:y}=t,{isIndependentOfSheet:v=!1}=t,{showTruncationPopover:b=!1}=t,{highlightSubstringMatches:w=!0}=t,x=!1;function S(){m||n(11,x=!0)}function C(){n(11,x=!1)}function k(){n(0,$=u)}function D(){u=$}function I(){$!==u&&(D(),l("update",{value:$}))}return pe(D),e.$$set=e=>{"isActive"in e&&n(1,d=e.isActive),"isSelectedInRange"in e&&n(2,p=e.isSelectedInRange),"value"in e&&n(0,$=e.value),"disabled"in e&&n(3,m=e.disabled),"multiLineTruncate"in e&&n(4,f=e.multiLineTruncate),"formatValue"in e&&n(5,g=e.formatValue),"horizontalAlignment"in e&&n(6,h=e.horizontalAlignment),"searchValue"in e&&n(19,y=e.searchValue),"isIndependentOfSheet"in e&&n(7,v=e.isIndependentOfSheet),"showTruncationPopover"in e&&n(8,b=e.showTruncationPopover),"highlightSubstringMatches"in e&&n(20,w=e.highlightSubstringMatches),"$$scope"in e&&n(24,a=e.$$scope)},e.$$.update=()=>{33&e.$$.dirty&&n(13,r=g?.($)??$),1572865&e.$$.dirty&&n(9,o=(()=>{if(w&&"string"==typeof $&&"string"==typeof y)return rp($,y)})()),524833&e.$$.dirty&&n(12,s=(()=>{if(o)return function(e){if(0!==e.length)return 1===e.length?op(e[0].isMatch):"substringMatch"}(o);return sp(y,$,(e=>null==e?"":g?.(e)??""))})())},[$,d,p,m,f,g,h,v,b,o,c,x,s,r,S,function(e){switch(e.key){case"Enter":x?C():S(),e.preventDefault();break;case"Escape":k(),C();break;case"Tab":C(),l("movementKeyDown",{originalEvent:e,key:e.key});break;case"ArrowLeft":case"ArrowRight":case"ArrowDown":case"ArrowUp":x||l("movementKeyDown",{originalEvent:e,key:e.key})}},function(e){switch(e.key){case"Escape":k();break;case"Enter":case"Tab":I()}},function(){I(),C()},function(){d||l("activate")},y,w,i,function(e){c=e,n(10,c)},function(t){ve.call(this,e,t)},a]}class yE extends at{constructor(e){super(),it(this,e,hE,gE,p,{isActive:1,isSelectedInRange:2,value:0,disabled:3,multiLineTruncate:4,formatValue:5,horizontalAlignment:6,searchValue:19,isIndependentOfSheet:7,showTruncationPopover:8,highlightSubstringMatches:20})}}function vE(e){let t,n,r;function o(t){e[8](t)}let s={focusOnMount:!0,maxlength:Et(e[7]),disabled:e[3]};return void 0!==e[0]&&(s.value=e[0]),t=new di({props:s}),we.push((()=>nt(t,"value",o))),t.$on("blur",(function(){d(e[14])&&e[14].apply(this,arguments)})),t.$on("keydown",(function(){d(e[15])&&e[15].apply(this,arguments)})),{c(){rt(t.$$.fragment)},m(e,n){ot(t,e,n),r=!0},p(r,o){e=r;const s={};128&o&&(s.maxlength=Et(e[7])),8&o&&(s.disabled=e[3]),!n&&1&o&&(n=!0,s.value=e[0],Te((()=>n=!1))),t.$set(s)},i(e){r||(qe(t.$$.fragment,e),r=!0)},o(e){Ve(t.$$.fragment,e),r=!1},d(e){st(t,e)}}}function bE(e){let t,n,r;function o(t){e[9](t)}let s={isActive:e[1],isSelectedInRange:e[2],disabled:e[3],searchValue:e[4],isIndependentOfSheet:e[5],showTruncationPopover:e[6],$$slots:{default:[vE,({handleInputBlur:e,handleInputKeydown:t})=>({14:e,15:t}),({handleInputBlur:e,handleInputKeydown:t})=>(e?16384:0)|(t?32768:0)]},$$scope:{ctx:e}};return void 0!==e[0]&&(s.value=e[0]),t=new yE({props:s}),we.push((()=>nt(t,"value",o))),t.$on("movementKeyDown",e[10]),t.$on("activate",e[11]),t.$on("mouseenter",e[12]),t.$on("update",e[13]),{c(){rt(t.$$.fragment)},m(e,n){ot(t,e,n),r=!0},p(e,[r]){const o={};2&r&&(o.isActive=e[1]),4&r&&(o.isSelectedInRange=e[2]),8&r&&(o.disabled=e[3]),16&r&&(o.searchValue=e[4]),32&r&&(o.isIndependentOfSheet=e[5]),64&r&&(o.showTruncationPopover=e[6]),114825&r&&(o.$$scope={dirty:r,ctx:e}),!n&&1&r&&(n=!0,o.value=e[0],Te((()=>n=!1))),t.$set(o)},i(e){r||(qe(t.$$.fragment,e),r=!0)},o(e){Ve(t.$$.fragment,e),r=!1},d(e){st(t,e)}}}function wE(e,t,n){let{isActive:r}=t,{isSelectedInRange:o}=t,{value:s}=t,{disabled:i}=t,{searchValue:a}=t,{isIndependentOfSheet:l}=t,{showTruncationPopover:c=!1}=t,{length:u}=t;return e.$$set=e=>{"isActive"in e&&n(1,r=e.isActive),"isSelectedInRange"in e&&n(2,o=e.isSelectedInRange),"value"in e&&n(0,s=e.value),"disabled"in e&&n(3,i=e.disabled),"searchValue"in e&&n(4,a=e.searchValue),"isIndependentOfSheet"in e&&n(5,l=e.isIndependentOfSheet),"showTruncationPopover"in e&&n(6,c=e.showTruncationPopover),"length"in e&&n(7,u=e.length)},[s,r,o,i,a,l,c,u,function(e){s=e,n(0,s)},function(e){s=e,n(0,s)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)}]}class xE extends at{constructor(e){super(),it(this,e,wE,bE,p,{isActive:1,isSelectedInRange:2,value:0,disabled:3,searchValue:4,isIndependentOfSheet:5,showTruncationPopover:6,length:7})}}function SE(e){let t,n,r;function o(t){e[8](t)}let s={focusOnMount:!0,maxlength:Et(e[7]),disabled:e[3],addNewLineOnEnterKeyCombinations:!0};return void 0!==e[0]&&(s.value=e[0]),t=new gl({props:s}),we.push((()=>nt(t,"value",o))),t.$on("blur",(function(){d(e[15])&&e[15].apply(this,arguments)})),t.$on("processedKeyDown",(function(...t){return e[9](e[16],...t)})),{c(){rt(t.$$.fragment)},m(e,n){ot(t,e,n),r=!0},p(r,o){e=r;const s={};128&o&&(s.maxlength=Et(e[7])),8&o&&(s.disabled=e[3]),!n&&1&o&&(n=!0,s.value=e[0],Te((()=>n=!1))),t.$set(s)},i(e){r||(qe(t.$$.fragment,e),r=!0)},o(e){Ve(t.$$.fragment,e),r=!1},d(e){st(t,e)}}}function CE(e){let t,n,r;function o(t){e[10](t)}let s={isActive:e[1],isSelectedInRange:e[2],disabled:e[3],searchValue:e[4],isIndependentOfSheet:e[5],showTruncationPopover:e[6],multiLineTruncate:!0,$$slots:{default:[SE,({handleInputBlur:e,handleInputKeydown:t})=>({15:e,16:t}),({handleInputBlur:e,handleInputKeydown:t})=>(e?32768:0)|(t?65536:0)]},$$scope:{ctx:e}};return void 0!==e[0]&&(s.value=e[0]),t=new yE({props:s}),we.push((()=>nt(t,"value",o))),t.$on("movementKeyDown",e[11]),t.$on("activate",e[12]),t.$on("mouseenter",e[13]),t.$on("update",e[14]),{c(){rt(t.$$.fragment)},m(e,n){ot(t,e,n),r=!0},p(e,[r]){const o={};2&r&&(o.isActive=e[1]),4&r&&(o.isSelectedInRange=e[2]),8&r&&(o.disabled=e[3]),16&r&&(o.searchValue=e[4]),32&r&&(o.isIndependentOfSheet=e[5]),64&r&&(o.showTruncationPopover=e[6]),229513&r&&(o.$$scope={dirty:r,ctx:e}),!n&&1&r&&(n=!0,o.value=e[0],Te((()=>n=!1))),t.$set(o)},i(e){r||(qe(t.$$.fragment,e),r=!0)},o(e){Ve(t.$$.fragment,e),r=!1},d(e){st(t,e)}}}function kE(e,t,n){let{isActive:r}=t,{isSelectedInRange:o}=t,{value:s}=t,{disabled:i}=t,{searchValue:a}=t,{isIndependentOfSheet:l}=t,{showTruncationPopover:c=!1}=t,{length:u}=t;return e.$$set=e=>{"isActive"in e&&n(1,r=e.isActive),"isSelectedInRange"in e&&n(2,o=e.isSelectedInRange),"value"in e&&n(0,s=e.value),"disabled"in e&&n(3,i=e.disabled),"searchValue"in e&&n(4,a=e.searchValue),"isIndependentOfSheet"in e&&n(5,l=e.isIndependentOfSheet),"showTruncationPopover"in e&&n(6,c=e.showTruncationPopover),"length"in e&&n(7,u=e.length)},[s,r,o,i,a,l,c,u,function(e){s=e,n(0,s)},(e,t)=>function(e,t){const{type:n,originalEvent:r}=e;"newlineWithEnterKeyCombination"===n?r.stopPropagation():t(r)}(t.detail,e),function(e){s=e,n(0,s)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)}]}class DE extends at{constructor(e){super(),it(this,e,kE,CE,p,{isActive:1,isSelectedInRange:2,value:0,disabled:3,searchValue:4,isIndependentOfSheet:5,showTruncationPopover:6,length:7})}}const IE={initialInputValue:"",get:(e,t)=>{const n=e.type_options??{};return{component:t?.multiLine?DE:xE,props:n}},getInput:(e,t)=>({component:t?.multiLine?gl:di,props:{maxlength:Et(e.type_options?.length)}}),getDisplayFormatter:()=>String};function _E(e){let t,n,r;function o(t){e[13](t)}let s={allowIndeterminate:!0,disabled:e[3]||e[4]};return void 0!==e[0]&&(s.checked=e[0]),t=new $o({props:s}),we.push((()=>nt(t,"checked",o))),t.$on("change",e[8]),{c(){rt(t.$$.fragment)},m(e,n){ot(t,e,n),r=!0},p(e,r){const o={};24&r&&(o.disabled=e[3]||e[4]),!n&&1&r&&(n=!0,o.checked=e[0],Te((()=>n=!1))),t.$set(o)},i(e){r||(qe(t.$$.fragment,e),r=!0)},o(e){Ve(t.$$.fragment,e),r=!1},d(e){st(t,e)}}}function TE(e){let t,n;return t=new jM({}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p:s,i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function ME(e){let t,n,r,o;const s=[TE,_E],i=[];function a(e,t){return void 0===e[0]?0:1}return t=a(e),n=i[t]=s[t](e),{c(){n.c(),r=j()},m(e,n){i[t].m(e,n),P(e,r,n),o=!0},p(e,o){let l=t;t=a(e),t===l?i[t].p(e,o):(Fe(),Ve(i[l],1,1,(()=>{i[l]=null})),He(),n=i[t],n?n.p(e,o):(n=i[t]=s[t](e),n.c()),qe(n,1),n.m(r.parentNode,r))},i(e){o||(qe(n),o=!0)},o(e){Ve(n),o=!1},d(e){i[t].d(e),e&&R(r)}}}function EE(e){let t,n,r;function o(t){e[14](t)}let s={isActive:e[1],isSelectedInRange:e[2],disabled:e[3],isIndependentOfSheet:e[5],valueComparisonOutcome:e[7],$$slots:{default:[ME]},$$scope:{ctx:e}};return void 0!==e[6]&&(s.element=e[6]),t=new aE({props:s}),we.push((()=>nt(t,"element",o))),t.$on("mouseenter",e[15]),t.$on("keydown",e[9]),t.$on("click",e[10]),t.$on("mousedown",e[11]),{c(){rt(t.$$.fragment)},m(e,n){ot(t,e,n),r=!0},p(e,[r]){const o={};2&r&&(o.isActive=e[1]),4&r&&(o.isSelectedInRange=e[2]),8&r&&(o.disabled=e[3]),32&r&&(o.isIndependentOfSheet=e[5]),128&r&&(o.valueComparisonOutcome=e[7]),262169&r&&(o.$$scope={dirty:r,ctx:e}),!n&&64&r&&(n=!0,o.element=e[6],Te((()=>n=!1))),t.$set(o)},i(e){r||(qe(t.$$.fragment,e),r=!0)},o(e){Ve(t.$$.fragment,e),r=!1},d(e){st(t,e)}}}function OE(e,t,n){let r;const o=fe();let s,{isActive:i}=t,{isSelectedInRange:a}=t,{value:l}=t,{disabled:c}=t,{searchValue:u}=t,{isProcessing:d}=t,{isIndependentOfSheet:p}=t,$=!1;function m(){o("update",{value:l})}return e.$$set=e=>{"isActive"in e&&n(1,i=e.isActive),"isSelectedInRange"in e&&n(2,a=e.isSelectedInRange),"value"in e&&n(0,l=e.value),"disabled"in e&&n(3,c=e.disabled),"searchValue"in e&&n(12,u=e.searchValue),"isProcessing"in e&&n(4,d=e.isProcessing),"isIndependentOfSheet"in e&&n(5,p=e.isIndependentOfSheet)},e.$$.update=()=>{4097&e.$$.dirty&&n(7,r=sp(u,l))},[l,i,a,c,d,p,s,r,m,function(e){switch(e.key){case"Enter":i&&(n(0,l=!l),m());break;case"Tab":case"ArrowLeft":case"ArrowRight":case"ArrowDown":case"ArrowUp":o("movementKeyDown",{originalEvent:e,key:e.key})}},function(e){c||!i||e.target!==s||$||(n(0,l=!l),m()),$=!1,s?.focus()},function(){i||($=!0,o("activate"))},u,function(e){l=e,n(0,l)},function(e){s=e,n(6,s)},function(t){ve.call(this,e,t)}]}class AE extends at{constructor(e){super(),it(this,e,OE,EE,p,{isActive:1,isSelectedInRange:2,value:0,disabled:3,searchValue:12,isProcessing:4,isIndependentOfSheet:5})}}function LE(e){let t,n=e[6](e[0]??void 0)+"";return{c(){t=q(n)},m(e,n){P(e,t,n)},p(e,r){65&r&&n!==(n=e[6](e[0]??void 0)+"")&&X(t,n)},d(e){e&&R(t)}}}function NE(e){let t,n,r;const o=[$r];let s={};for(let i=0;i<o.length;i+=1)s=a(s,o[i]);return n=new Wr({props:s}),{c(){t=F("div"),rt(n.$$.fragment),B(t,"class","icon svelte-j6pzvy")},m(e,o){P(e,t,o),ot(n,t,null),r=!0},p(e,t){const r=0&t?et(o,[tt($r)]):{};n.$set(r)},i(e){r||(qe(n.$$.fragment,e),r=!0)},o(e){Ve(n.$$.fragment,e),r=!1},d(e){e&&R(t),st(n)}}}function PE(e){let t,n,r,o,s;r=new QM({props:{value:e[0],$$slots:{default:[LE]},$$scope:{ctx:e}}});let i=e[1]&&NE();return{c(){t=F("div"),n=F("div"),rt(r.$$.fragment),o=V(),i&&i.c(),B(n,"class","value svelte-j6pzvy"),te(n,"active",e[1]),B(t,"class","cell svelte-j6pzvy")},m(e,a){P(e,t,a),A(t,n),ot(r,n,null),A(t,o),i&&i.m(t,null),s=!0},p(e,o){const a={};1&o&&(a.value=e[0]),16777281&o&&(a.$$scope={dirty:o,ctx:e}),r.$set(a),(!s||2&o)&&te(n,"active",e[1]),e[1]?i?(i.p(e,o),2&o&&qe(i,1)):(i=NE(),i.c(),qe(i,1),i.m(t,null)):i&&(Fe(),Ve(i,1,1,(()=>{i=null})),He())},i(e){s||(qe(r.$$.fragment,e),qe(i),s=!0)},o(e){Ve(r.$$.fragment,e),Ve(i),s=!1},d(e){e&&R(t),st(r),i&&i.d()}}}function RE(e){let t,n;return t=new Da({props:{id:e[8]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p:s,i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function zE(e){let t,n,r,o,s;function i(t){e[14](t)}let a={"aria-controls":e[8],"aria-haspopup":"listbox",isActive:e[1],isSelectedInRange:e[2],disabled:e[3],isIndependentOfSheet:e[4],$$slots:{default:[PE]},$$scope:{ctx:e}};return void 0!==e[7]&&(a.element=e[7]),t=new aE({props:a}),we.push((()=>nt(t,"element",i))),t.$on("mousedown",e[10]),t.$on("mouseenter",e[15]),t.$on("click",(function(){return e[16](e[22])})),t.$on("keydown",(function(...t){return e[17](e[22],e[23],...t)})),o=new qs({props:{trigger:e[7],isOpen:e[23],class:"single-select-cell-dropdown retain-active-cell",$$slots:{default:[RE]},$$scope:{ctx:e}}}),o.$on("close",(function(){return e[18](e[22])})),{c(){rt(t.$$.fragment),r=V(),rt(o.$$.fragment)},m(e,n){ot(t,e,n),P(e,r,n),ot(o,e,n),s=!0},p(r,s){e=r;const i={};2&s&&(i.isActive=e[1]),4&s&&(i.isSelectedInRange=e[2]),8&s&&(i.disabled=e[3]),16&s&&(i.isIndependentOfSheet=e[4]),16777283&s&&(i.$$scope={dirty:s,ctx:e}),!n&&128&s&&(n=!0,i.element=e[7],Te((()=>n=!1))),t.$set(i);const a={};128&s&&(a.trigger=e[7]),8388608&s&&(a.isOpen=e[23]),16777216&s&&(a.$$scope={dirty:s,ctx:e}),o.$set(a)},i(e){s||(qe(t.$$.fragment,e),qe(o.$$.fragment,e),s=!0)},o(e){Ve(t.$$.fragment,e),Ve(o.$$.fragment,e),s=!1},d(e){st(t,e),e&&R(r),st(o,e)}}}function FE(e){let t,n;return t=new va({props:{options:e[5],getLabel:e[6],disabled:e[3],selectionType:"single",value:Mt(e[0])?[e[0]]:[],$$slots:{default:[zE,({api:e,isOpen:t})=>({22:e,23:t}),({api:e,isOpen:t})=>(e?4194304:0)|(t?8388608:0)]},$$scope:{ctx:e}}}),t.$on("change",e[19]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const r={};32&n&&(r.options=e[5]),64&n&&(r.getLabel=e[6]),8&n&&(r.disabled=e[3]),1&n&&(r.value=Mt(e[0])?[e[0]]:[]),29360351&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function HE(e,t,n){const r=fe(),o=kt();let s,{isActive:i}=t,{isSelectedInRange:a}=t,{value:l}=t,{disabled:c}=t,{isIndependentOfSheet:u}=t,{options:d=[]}=t,{getLabel:p=(e=>At(e))}=t,$=!1;function m(e){i&&!$&&e.toggle(),$=!1}function f(e,t,n){if(["Tab","ArrowLeft","ArrowRight"].includes(e.key))return r("movementKeyDown",{originalEvent:e,key:e.key}),void t.close();if(n)t.handleKeyDown(e);else switch(e.key){case"Enter":c||t.handleKeyDown(e);break;case"ArrowDown":case"ArrowUp":r("movementKeyDown",{originalEvent:e,key:e.key})}}function g(e){n(0,[l]=e,l),r("update",{value:l})}function h(e){e.close(),s?.focus()}return e.$$set=e=>{"isActive"in e&&n(1,i=e.isActive),"isSelectedInRange"in e&&n(2,a=e.isSelectedInRange),"value"in e&&n(0,l=e.value),"disabled"in e&&n(3,c=e.disabled),"isIndependentOfSheet"in e&&n(4,u=e.isIndependentOfSheet),"options"in e&&n(5,d=e.options),"getLabel"in e&&n(6,p=e.getLabel)},[l,i,a,c,u,d,p,s,o,m,function(){i||($=!0,r("activate"))},f,g,h,function(e){s=e,n(7,s)},function(t){ve.call(this,e,t)},e=>m(e),(e,t,n)=>f(n,e,t),e=>h(e),e=>g(e.detail)]}class qE extends at{constructor(e){super(),it(this,e,HE,FE,p,{isActive:1,isSelectedInRange:2,value:0,disabled:3,isIndependentOfSheet:4,options:5,getLabel:6})}}function VE(e){const t=e?.custom_labels??void 0;return[t?.TRUE??"true",t?.FALSE??"false"]}function jE(e,t){return Mt(t)?t?e[0]:e[1]:""}function WE(e){const t=VE(e.display_options);return{options:[null,!0,!1],getLabel:e=>jE(t,e)}}const UE={initialInputValue:null,get:e=>{const t=e.display_options??void 0;return t&&"dropdown"===t.input?{component:qE,props:WE(e)}:{component:AE,props:{}}},getInput:e=>({component:Hc,props:WE(e)}),getDisplayFormatter(e){const t=VE(e.display_options);return e=>null==e||"boolean"==typeof e?jE(t,e):""}};function YE(e){let t,n;const r=[e[3],{value:e[1]},{cssVariables:e[2]}];let o={};for(let s=0;s<r.length;s+=1)o=a(o,r[s]);return t=new oa({props:o}),t.$on("blur",e[4]),t.$on("focus",e[5]),t.$on("keydown",e[6]),t.$on("artificialInput",e[7]),t.$on("artificialInput",e[8]),t.$on("artificialChange",e[9]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const o=14&n?et(r,[8&n&&tt(e[3]),2&n&&{value:e[1]},4&n&&{cssVariables:e[2]}]):{};t.$set(o)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function BE(e,t,n){let r;const o=["value"];let s=x(t,o),{value:i}=t,l=null;function c(e){n(1,l=function(e){return null==e?null:String(e)}(e))}return e.$$set=e=>{t=a(a({},t),w(e)),n(3,s=x(t,o)),"value"in e&&n(0,i=e.value)},e.$$.update=()=>{1&e.$$.dirty&&c(i),n(2,r={"--input-element-text-align":"right",...s.cssVariables||{}})},[i,l,r,s,function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},({detail:e})=>{n(0,i=e)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)}]}class KE extends at{constructor(e){super(),it(this,e,BE,YE,p,{value:0})}}function GE(e){let t,n,r;const o=[{focusOnMount:!0},{disabled:e[3]},e[5]];function s(t){e[10](t)}let i={};for(let l=0;l<o.length;l+=1)i=a(i,o[l]);return void 0!==e[0]&&(i.value=e[0]),t=new KE({props:i}),we.push((()=>nt(t,"value",s))),t.$on("blur",(function(){d(e[16])&&e[16].apply(this,arguments)})),t.$on("keydown",(function(){d(e[17])&&e[17].apply(this,arguments)})),{c(){rt(t.$$.fragment)},m(e,n){ot(t,e,n),r=!0},p(r,s){e=r;const i=40&s?et(o,[o[0],8&s&&{disabled:e[3]},32&s&&tt(e[5])]):{};!n&&1&s&&(n=!0,i.value=e[0],Te((()=>n=!1))),t.$set(i)},i(e){r||(qe(t.$$.fragment,e),r=!0)},o(e){Ve(t.$$.fragment,e),r=!1},d(e){st(t,e)}}}function XE(e){let t,n,r;function o(t){e[11](t)}let s={isActive:e[1],isSelectedInRange:e[2],disabled:e[3],isIndependentOfSheet:e[7],showTruncationPopover:e[8],searchValue:e[4],formatValue:e[9],horizontalAlignment:e[6],$$slots:{default:[GE,({handleInputBlur:e,handleInputKeydown:t})=>({16:e,17:t}),({handleInputBlur:e,handleInputKeydown:t})=>(e?65536:0)|(t?131072:0)]},$$scope:{ctx:e}};return void 0!==e[0]&&(s.value=e[0]),t=new yE({props:s}),we.push((()=>nt(t,"value",o))),t.$on("movementKeyDown",e[12]),t.$on("activate",e[13]),t.$on("mouseenter",e[14]),t.$on("update",e[15]),{c(){rt(t.$$.fragment)},m(e,n){ot(t,e,n),r=!0},p(e,[r]){const o={};2&r&&(o.isActive=e[1]),4&r&&(o.isSelectedInRange=e[2]),8&r&&(o.disabled=e[3]),128&r&&(o.isIndependentOfSheet=e[7]),256&r&&(o.showTruncationPopover=e[8]),16&r&&(o.searchValue=e[4]),512&r&&(o.formatValue=e[9]),64&r&&(o.horizontalAlignment=e[6]),458793&r&&(o.$$scope={dirty:r,ctx:e}),!n&&1&r&&(n=!0,o.value=e[0],Te((()=>n=!1))),t.$set(o)},i(e){r||(qe(t.$$.fragment,e),r=!0)},o(e){Ve(t.$$.fragment,e),r=!1},d(e){st(t,e)}}}function JE(e,t,n){let{isActive:r}=t,{isSelectedInRange:o}=t,{value:s}=t,{disabled:i}=t,{searchValue:a}=t,{formatterOptions:l}=t,{horizontalAlignment:c="right"}=t,{isIndependentOfSheet:u}=t,{showTruncationPopover:d=!1}=t,{formatForDisplay:p}=t;return e.$$set=e=>{"isActive"in e&&n(1,r=e.isActive),"isSelectedInRange"in e&&n(2,o=e.isSelectedInRange),"value"in e&&n(0,s=e.value),"disabled"in e&&n(3,i=e.disabled),"searchValue"in e&&n(4,a=e.searchValue),"formatterOptions"in e&&n(5,l=e.formatterOptions),"horizontalAlignment"in e&&n(6,c=e.horizontalAlignment),"isIndependentOfSheet"in e&&n(7,u=e.isIndependentOfSheet),"showTruncationPopover"in e&&n(8,d=e.showTruncationPopover),"formatForDisplay"in e&&n(9,p=e.formatForDisplay)},[s,r,o,i,a,l,c,u,d,p,function(e){s=e,n(0,s)},function(e){s=e,n(0,s)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)}]}class ZE extends at{constructor(e){super(),it(this,e,JE,XE,p,{isActive:1,isSelectedInRange:2,value:0,disabled:3,searchValue:4,formatterOptions:5,horizontalAlignment:6,isIndependentOfSheet:7,showTruncationPopover:8,formatForDisplay:9})}}const QE=new Map([["english","en"],["german","de"],["french","fr"],["hindi","hi"],["swiss","de-CH"]]);function eO(e){return"true"===e}function tO(e,t){const n=e.display_options,r=n?.number_format??null,o=(r&&QE.get(r))??void 0,s=eO(n?.use_grouping??"false"),i=function(e,t){return"scale-based"===t?0!==(e.type_options?.scale??1/0):"never"!==t}(e,t?.floatAllowanceStrategy);return{locale:o,allowFloat:i,allowNegative:!0,useGrouping:s,minimumFractionDigits:n?.minimum_fraction_digits??void 0}}function nO(e,t){const n={...tO(e,t),maximumFractionDigits:e.display_options?.maximum_fraction_digits??void 0},r=new Ji(n);return{formatterOptions:n,formatForDisplay:e=>Mt(e)?r.format(String(e)):e}}const rO={get:(e,t)=>({component:ZE,props:nO(e,t)}),getInput:(e,t)=>({component:KE,props:tO(e,t)}),getDisplayFormatter:(e,t)=>n=>nO(e,t).formatForDisplay(String(n))};function oO(e){let t,n;const r=[e[3],{value:e[1]},{cssVariables:e[2]}];let o={};for(let s=0;s<r.length;s+=1)o=a(o,r[s]);return t=new oa({props:o}),t.$on("blur",e[4]),t.$on("focus",e[5]),t.$on("keydown",e[6]),t.$on("artificialInput",e[7]),t.$on("artificialInput",e[8]),t.$on("artificialChange",e[9]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const o=14&n?et(r,[8&n&&tt(e[3]),2&n&&{value:e[1]},4&n&&{cssVariables:e[2]}]):{};t.$set(o)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function sO(e,t,n){let r;const o=["value"];let s=x(t,o),{value:i}=t,l=null;function c(e){n(1,l=function(e){return null==e?null:String(e)}(e))}return e.$$set=e=>{t=a(a({},t),w(e)),n(3,s=x(t,o)),"value"in e&&n(0,i=e.value)},e.$$.update=()=>{1&e.$$.dirty&&c(i),n(2,r={"--input-element-text-align":"right",...s.cssVariables||{}})},[i,l,r,s,function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},({detail:e})=>{n(0,i=e)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)}]}class iO extends at{constructor(e){super(),it(this,e,sO,oO,p,{value:0})}}function aO(e){let t,n,r;const o=[{focusOnMount:!0},{disabled:e[3]},e[5]];function s(t){e[9](t)}let i={};for(let l=0;l<o.length;l+=1)i=a(i,o[l]);return void 0!==e[0]&&(i.value=e[0]),t=new iO({props:i}),we.push((()=>nt(t,"value",s))),t.$on("blur",(function(){d(e[15])&&e[15].apply(this,arguments)})),t.$on("keydown",(function(){d(e[16])&&e[16].apply(this,arguments)})),{c(){rt(t.$$.fragment)},m(e,n){ot(t,e,n),r=!0},p(r,s){e=r;const i=40&s?et(o,[o[0],8&s&&{disabled:e[3]},32&s&&tt(e[5])]):{};!n&&1&s&&(n=!0,i.value=e[0],Te((()=>n=!1))),t.$set(i)},i(e){r||(qe(t.$$.fragment,e),r=!0)},o(e){Ve(t.$$.fragment,e),r=!1},d(e){st(t,e)}}}function lO(e){let t,n,r;function o(t){e[10](t)}let s={isActive:e[1],isSelectedInRange:e[2],disabled:e[3],searchValue:e[4],isIndependentOfSheet:e[7],showTruncationPopover:e[8],formatValue:e[6],horizontalAlignment:"right",$$slots:{default:[aO,({handleInputBlur:e,handleInputKeydown:t})=>({15:e,16:t}),({handleInputBlur:e,handleInputKeydown:t})=>(e?32768:0)|(t?65536:0)]},$$scope:{ctx:e}};return void 0!==e[0]&&(s.value=e[0]),t=new yE({props:s}),we.push((()=>nt(t,"value",o))),t.$on("movementKeyDown",e[11]),t.$on("mouseenter",e[12]),t.$on("activate",e[13]),t.$on("update",e[14]),{c(){rt(t.$$.fragment)},m(e,n){ot(t,e,n),r=!0},p(e,[r]){const o={};2&r&&(o.isActive=e[1]),4&r&&(o.isSelectedInRange=e[2]),8&r&&(o.disabled=e[3]),16&r&&(o.searchValue=e[4]),128&r&&(o.isIndependentOfSheet=e[7]),256&r&&(o.showTruncationPopover=e[8]),64&r&&(o.formatValue=e[6]),229417&r&&(o.$$scope={dirty:r,ctx:e}),!n&&1&r&&(n=!0,o.value=e[0],Te((()=>n=!1))),t.$set(o)},i(e){r||(qe(t.$$.fragment,e),r=!0)},o(e){Ve(t.$$.fragment,e),r=!1},d(e){st(t,e)}}}function cO(e,t,n){let{isActive:r}=t,{isSelectedInRange:o}=t,{value:s}=t,{disabled:i}=t,{searchValue:a}=t,{formatterOptions:l}=t,{formatForDisplay:c}=t,{isIndependentOfSheet:u}=t,{showTruncationPopover:d=!1}=t;return e.$$set=e=>{"isActive"in e&&n(1,r=e.isActive),"isSelectedInRange"in e&&n(2,o=e.isSelectedInRange),"value"in e&&n(0,s=e.value),"disabled"in e&&n(3,i=e.disabled),"searchValue"in e&&n(4,a=e.searchValue),"formatterOptions"in e&&n(5,l=e.formatterOptions),"formatForDisplay"in e&&n(6,c=e.formatForDisplay),"isIndependentOfSheet"in e&&n(7,u=e.isIndependentOfSheet),"showTruncationPopover"in e&&n(8,d=e.showTruncationPopover)},[s,r,o,i,a,l,c,u,d,function(e){s=e,n(0,s)},function(e){s=e,n(0,s)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)}]}class uO extends at{constructor(e){super(),it(this,e,cO,lO,p,{isActive:1,isSelectedInRange:2,value:0,disabled:3,searchValue:4,formatterOptions:5,formatForDisplay:6,isIndependentOfSheet:7,showTruncationPopover:8})}}const dO=new Map([["english","en"],["german","de"],["french","fr"],["hindi","hi"],["swiss","de-CH"]]);function pO(e){return 0===(e.type_options?.scale??1/0)}function $O(e){const t=e.display_options,n=t?.number_format??null;return{locale:(n&&dO.get(n))??void 0,useGrouping:eO(t?.use_grouping??"true"),allowFloat:!pO(e),allowNegative:!0,minimumFractionDigits:t?.minimum_fraction_digits??void 0,maximumFractionDigits:t?.maximum_fraction_digits??void 0,currencySymbol:t?.currency_symbol??"$",currencySymbolLocation:t?.currency_symbol_location??"after-minus"}}function mO(e){const t=$O(e),n=new Ji(t),r=(()=>{switch(t.currencySymbolLocation){case"after-minus":return e=>e.replace(/^(-?)/,`$1${t.currencySymbol}`);case"end-with-space":return e=>`${e} ${t.currencySymbol}`;default:return e=>e}})();return{formatterOptions:t,formatForDisplay:e=>Mt(e)?r(n.format(String(e))):e}}const fO={get:e=>({component:uO,props:mO(e)}),getInput:e=>({component:iO,props:{...$O(e),maximumFractionDigits:void 0}}),getDisplayFormatter:e=>t=>mO(e).formatForDisplay(String(t))};function gO(e){let t,n;const r=e[3].default,o=g(r,e,e[2],null);return{c(){t=F("span"),o&&o.c(),B(t,"class","content svelte-1wjya8y")},m(e,r){P(e,t,r),o&&o.m(t,null),n=!0},p(e,t){o&&o.p&&(!n||4&t)&&v(o,r,e,e[2],n?y(r,e[2],t,null):b(e[2]),null)},i(e){n||(qe(o,e),n=!0)},o(e){Ve(o,e),n=!1},d(e){e&&R(t),o&&o.d(e)}}}function hO(e){let t,n,r;const o=e[3].default,s=g(o,e,e[2],null);return{c(){t=F("a"),s&&s.c(),B(t,"href",n=e[1]??""),B(t,"target","_blank"),B(t,"class","link svelte-1wjya8y")},m(e,n){P(e,t,n),s&&s.m(t,null),r=!0},p(e,i){s&&s.p&&(!r||4&i)&&v(s,o,e,e[2],r?y(o,e[2],i,null):b(e[2]),null),(!r||2&i&&n!==(n=e[1]??""))&&B(t,"href",n)},i(e){r||(qe(s,e),r=!0)},o(e){Ve(s,e),r=!1},d(e){e&&R(t),s&&s.d(e)}}}function yO(e){let t,n,r,o;const s=[hO,gO],i=[];function a(e,t){return e[0]?0:1}return t=a(e),n=i[t]=s[t](e),{c(){n.c(),r=j()},m(e,n){i[t].m(e,n),P(e,r,n),o=!0},p(e,[o]){let l=t;t=a(e),t===l?i[t].p(e,o):(Fe(),Ve(i[l],1,1,(()=>{i[l]=null})),He(),n=i[t],n?n.p(e,o):(n=i[t]=s[t](e),n.c()),qe(n,1),n.m(r.parentNode,r))},i(e){o||(qe(n),o=!0)},o(e){Ve(n),o=!1},d(e){i[t].d(e),e&&R(r)}}}function vO(e,t,n){let{$$slots:r={},$$scope:o}=t,{isActive:s=!1}=t,{value:i}=t;return e.$$set=e=>{"isActive"in e&&n(0,s=e.isActive),"value"in e&&n(1,i=e.value),"$$scope"in e&&n(2,o=e.$$scope)},[s,i,o,r]}class bO extends at{constructor(e){super(),it(this,e,vO,yO,p,{isActive:0,value:1})}}function wO(e){let t,n,r;function o(t){e[7](t)}let s={focusOnMount:!0,disabled:e[3]};return void 0!==e[0]&&(s.value=e[0]),t=new di({props:s}),we.push((()=>nt(t,"value",o))),t.$on("blur",(function(){d(e[13])&&e[13].apply(this,arguments)})),t.$on("keydown",(function(){d(e[14])&&e[14].apply(this,arguments)})),{c(){rt(t.$$.fragment)},m(e,n){ot(t,e,n),r=!0},p(r,o){e=r;const s={};8&o&&(s.disabled=e[3]),!n&&1&o&&(n=!0,s.value=e[0],Te((()=>n=!1))),t.$set(s)},i(e){r||(qe(t.$$.fragment,e),r=!0)},o(e){Ve(t.$$.fragment,e),r=!1},d(e){st(t,e)}}}function xO(e){let t;return{c(){t=q(e[0])},m(e,n){P(e,t,n)},p(e,n){1&n&&X(t,e[0])},i:s,o:s,d(e){e&&R(t)}}}function SO(e){let t,n;return t=new gp({props:{matchParts:e[15]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};32768&n&&(r.matchParts=e[15]),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function CO(e){let t,n,r,o;const s=[SO,xO],i=[];function a(e,t){return e[15]?0:1}return t=a(e),n=i[t]=s[t](e),{c(){n.c(),r=j()},m(e,n){i[t].m(e,n),P(e,r,n),o=!0},p(e,o){let l=t;t=a(e),t===l?i[t].p(e,o):(Fe(),Ve(i[l],1,1,(()=>{i[l]=null})),He(),n=i[t],n?n.p(e,o):(n=i[t]=s[t](e),n.c()),qe(n,1),n.m(r.parentNode,r))},i(e){o||(qe(n),o=!0)},o(e){Ve(n),o=!1},d(e){i[t].d(e),e&&R(r)}}}function kO(e){let t,n;return t=new bO({props:{value:e[0],isActive:e[1],$$slots:{default:[CO]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.value=e[0]),2&n&&(r.isActive=e[1]),98305&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function DO(e){let t,n,r;return n=new QM({props:{value:e[0],$$slots:{default:[kO]},$$scope:{ctx:e}}}),{c(){t=F("span"),rt(n.$$.fragment),B(t,"slot","content")},m(e,o){P(e,t,o),ot(n,t,null),r=!0},p(e,t){const r={};1&t&&(r.value=e[0]),98307&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(qe(n.$$.fragment,e),r=!0)},o(e){Ve(n.$$.fragment,e),r=!1},d(e){e&&R(t),st(n)}}}function IO(e){let t,n,r;function o(t){e[8](t)}let s={isActive:e[1],isSelectedInRange:e[2],disabled:e[3],searchValue:e[4],isIndependentOfSheet:e[5],showTruncationPopover:e[6],$$slots:{content:[DO,({matchParts:e,handleInputBlur:t,handleInputKeydown:n})=>({15:e,13:t,14:n}),({matchParts:e,handleInputBlur:t,handleInputKeydown:n})=>(e?32768:0)|(t?8192:0)|(n?16384:0)],default:[wO,({handleInputBlur:e,handleInputKeydown:t})=>({13:e,14:t}),({handleInputBlur:e,handleInputKeydown:t})=>(e?8192:0)|(t?16384:0)]},$$scope:{ctx:e}};return void 0!==e[0]&&(s.value=e[0]),t=new yE({props:s}),we.push((()=>nt(t,"value",o))),t.$on("movementKeyDown",e[9]),t.$on("activate",e[10]),t.$on("mouseenter",e[11]),t.$on("update",e[12]),{c(){rt(t.$$.fragment)},m(e,n){ot(t,e,n),r=!0},p(e,[r]){const o={};2&r&&(o.isActive=e[1]),4&r&&(o.isSelectedInRange=e[2]),8&r&&(o.disabled=e[3]),16&r&&(o.searchValue=e[4]),32&r&&(o.isIndependentOfSheet=e[5]),64&r&&(o.showTruncationPopover=e[6]),122891&r&&(o.$$scope={dirty:r,ctx:e}),!n&&1&r&&(n=!0,o.value=e[0],Te((()=>n=!1))),t.$set(o)},i(e){r||(qe(t.$$.fragment,e),r=!0)},o(e){Ve(t.$$.fragment,e),r=!1},d(e){st(t,e)}}}function _O(e,t,n){let{isActive:r}=t,{isSelectedInRange:o}=t,{value:s}=t,{disabled:i}=t,{searchValue:a}=t,{isIndependentOfSheet:l}=t,{showTruncationPopover:c=!1}=t;return e.$$set=e=>{"isActive"in e&&n(1,r=e.isActive),"isSelectedInRange"in e&&n(2,o=e.isSelectedInRange),"value"in e&&n(0,s=e.value),"disabled"in e&&n(3,i=e.disabled),"searchValue"in e&&n(4,a=e.searchValue),"isIndependentOfSheet"in e&&n(5,l=e.isIndependentOfSheet),"showTruncationPopover"in e&&n(6,c=e.showTruncationPopover)},[s,r,o,i,a,l,c,function(e){s=e,n(0,s)},function(e){s=e,n(0,s)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)}]}class TO extends at{constructor(e){super(),it(this,e,_O,IO,p,{isActive:1,isSelectedInRange:2,value:0,disabled:3,searchValue:4,isIndependentOfSheet:5,showTruncationPopover:6})}}const MO={initialInputValue:"",get:()=>({component:TO}),getInput:()=>({component:di}),getDisplayFormatter:()=>String};function EO(e){let t,n,r;const o=[{focusOnMount:!0},e[9],{formatter:e[6]},{cssVariables:e[8]}];function s(t){e[10](t)}let i={};for(let l=0;l<o.length;l+=1)i=a(i,o[l]);return void 0!==e[0]&&(i.value=e[0]),t=new Ti({props:i}),we.push((()=>nt(t,"value",s))),t.$on("blur",(function(){d(e[16])&&e[16].apply(this,arguments)})),t.$on("keydown",(function(){d(e[17])&&e[17].apply(this,arguments)})),{c(){rt(t.$$.fragment)},m(e,n){ot(t,e,n),r=!0},p(r,s){e=r;const i=832&s?et(o,[o[0],512&s&&tt(e[9]),64&s&&{formatter:e[6]},256&s&&{cssVariables:e[8]}]):{};!n&&1&s&&(n=!0,i.value=e[0],Te((()=>n=!1))),t.$set(i)},i(e){r||(qe(t.$$.fragment,e),r=!0)},o(e){Ve(t.$$.fragment,e),r=!1},d(e){st(t,e)}}}function OO(e){let t,n,r;function o(t){e[11](t)}let s={isActive:e[1],isSelectedInRange:e[2],disabled:e[3],isIndependentOfSheet:e[4],showTruncationPopover:e[5],horizontalAlignment:"right",formatValue:e[7],$$slots:{default:[EO,({handleInputBlur:e,handleInputKeydown:t})=>({16:e,17:t}),({handleInputBlur:e,handleInputKeydown:t})=>(e?65536:0)|(t?131072:0)]},$$scope:{ctx:e}};return void 0!==e[0]&&(s.value=e[0]),t=new yE({props:s}),we.push((()=>nt(t,"value",o))),t.$on("movementKeyDown",e[12]),t.$on("activate",e[13]),t.$on("mouseenter",e[14]),t.$on("update",e[15]),{c(){rt(t.$$.fragment)},m(e,n){ot(t,e,n),r=!0},p(e,[r]){const o={};2&r&&(o.isActive=e[1]),4&r&&(o.isSelectedInRange=e[2]),8&r&&(o.disabled=e[3]),16&r&&(o.isIndependentOfSheet=e[4]),32&r&&(o.showTruncationPopover=e[5]),128&r&&(o.formatValue=e[7]),459585&r&&(o.$$scope={dirty:r,ctx:e}),!n&&1&r&&(n=!0,o.value=e[0],Te((()=>n=!1))),t.$set(o)},i(e){r||(qe(t.$$.fragment,e),r=!0)},o(e){Ve(t.$$.fragment,e),r=!1},d(e){st(t,e)}}}function AO(e,t,n){let r;const o=["isActive","isSelectedInRange","value","disabled","isIndependentOfSheet","showTruncationPopover","formatter","formatForDisplay"];let s=x(t,o),{isActive:i}=t,{isSelectedInRange:l}=t,{value:c}=t,{disabled:u}=t,{isIndependentOfSheet:d}=t,{showTruncationPopover:p=!1}=t,{formatter:$}=t,{formatForDisplay:m}=t;return e.$$set=e=>{t=a(a({},t),w(e)),n(9,s=x(t,o)),"isActive"in e&&n(1,i=e.isActive),"isSelectedInRange"in e&&n(2,l=e.isSelectedInRange),"value"in e&&n(0,c=e.value),"disabled"in e&&n(3,u=e.disabled),"isIndependentOfSheet"in e&&n(4,d=e.isIndependentOfSheet),"showTruncationPopover"in e&&n(5,p=e.showTruncationPopover),"formatter"in e&&n(6,$=e.formatter),"formatForDisplay"in e&&n(7,m=e.formatForDisplay)},e.$$.update=()=>{n(8,r={"--input-element-text-align":"right",...s.cssVariables||{}})},[c,i,l,u,d,p,$,m,r,s,function(e){c=e,n(0,c)},function(e){c=e,n(0,c)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)}]}class LO extends at{constructor(e){super(),it(this,e,AO,OO,p,{isActive:1,isSelectedInRange:2,value:0,disabled:3,isIndependentOfSheet:4,showTruncationPopover:5,formatter:6,formatForDisplay:7})}}function NO(e){const t=gT.getDefaults(),n=e.display_options?.max??t.max,r=e.display_options?.min??t.min,o=new gT({max:n,min:r}),s=new vT(o);return{formatter:s,placeholder:o.getFormattingString(),formatForDisplay:e=>Mt(e)?s.format(e):e}}const PO={get:e=>({component:LO,props:NO(e)}),getInput:e=>({component:Ti,props:NO(e)}),getDisplayFormatter:e=>t=>NO(e).formatForDisplay(String(t))};function RO(e,t,n){const r=e.slice();return r[9]=t[n],r}function zO(e){let t,n,r,o,s,i,a,l=e[4][e[9]].absoluteDate+"",c=e[4][e[9]].label+"";return{c(){t=F("span"),n=q(l),r=V(),o=F("span"),s=q("("),i=q(c),a=q(")"),B(o,"class","tag-label absolute-date svelte-1kzbgml")},m(e,l){P(e,t,l),A(t,n),P(e,r,l),P(e,o,l),A(o,s),A(o,i),A(o,a)},p(e,t){4&t&&l!==(l=e[4][e[9]].absoluteDate+"")&&X(n,l),4&t&&c!==(c=e[4][e[9]].label+"")&&X(i,c)},d(e){e&&R(t),e&&R(r),e&&R(o)}}}function FO(e){let t,n,r=e[4][e[9]].label+"";return{c(){t=F("span"),n=q(r),B(t,"class","tag-label")},m(e,r){P(e,t,r),A(t,n)},p(e,t){4&t&&r!==(r=e[4][e[9]].label+"")&&X(n,r)},d(e){e&&R(t)}}}function HO(e){let t;function n(e,t){return e[1]?FO:zO}let r=n(e),o=r(e);return{c(){o.c(),t=V()},m(e,n){o.m(e,n),P(e,t,n)},p(e,s){r===(r=n(e))&&o?o.p(e,s):(o.d(1),o=r(e),o&&(o.c(),o.m(t.parentNode,t)))},d(e){o.d(e),e&&R(t)}}}function qO(e,t){let n,r,o;return r=new Ln({props:{appearance:t[0]?.trim()===t[9]?"primary":"plain",$$slots:{default:[HO]},$$scope:{ctx:t}}}),r.$on("click",(function(){return t[7](t[9])})),{key:e,first:null,c(){n=j(),rt(r.$$.fragment),this.first=n},m(e,t){P(e,n,t),ot(r,e,t),o=!0},p(e,n){t=e;const o={};5&n&&(o.appearance=t[0]?.trim()===t[9]?"primary":"plain"),4102&n&&(o.$$scope={dirty:n,ctx:t}),r.$set(o)},i(e){o||(qe(r.$$.fragment,e),o=!0)},o(e){Ve(r.$$.fragment,e),o=!1},d(e){e&&R(n),st(r,e)}}}function VO(e){let t,n,r=[],o=new Map,s=e[2];const i=e=>e[9];for(let a=0;a<s.length;a+=1){let t=RO(e,s,a),n=i(t);o.set(n,r[a]=qO(n,t))}return{c(){t=F("div");for(let e=0;e<r.length;e+=1)r[e].c();B(t,"class","presets svelte-1kzbgml"),te(t,"is-relative",e[1])},m(e,o){P(e,t,o);for(let n=0;n<r.length;n+=1)r[n].m(t,null);n=!0},p(e,[a]){31&a&&(s=e[2],Fe(),r=Qe(r,a,i,1,e,s,o,t,Je,qO,null,RO),He()),(!n||2&a)&&te(t,"is-relative",e[1])},i(e){if(!n){for(let e=0;e<s.length;e+=1)qe(r[e]);n=!0}},o(e){for(let t=0;t<r.length;t+=1)Ve(r[t]);n=!1},d(e){e&&R(t);for(let t=0;t<r.length;t+=1)r[t].d()}}}function jO(e,t,n){let r;const o=fe();let{type:s}=t,{value:i}=t,{formattingString:a}=t,{isRelative:l=!1}=t;const c={now:{label:"Now",absoluteDate:vt().format(a)},today:{label:"Today",absoluteDate:vt().startOf("day").format(a)},yesterday:{label:"Yesterday",absoluteDate:vt().startOf("day").subtract(1,"day").format(a)}},u={date:["today","yesterday"],datetime:["now","today"],time:["now"]};return e.$$set=e=>{"type"in e&&n(5,s=e.type),"value"in e&&n(0,i=e.value),"formattingString"in e&&n(6,a=e.formattingString),"isRelative"in e&&n(1,l=e.isRelative)},e.$$.update=()=>{32&e.$$.dirty&&n(2,r=u[s])},[i,l,r,o,c,s,a,e=>{n(0,i=e),o("change",i)}]}class WO extends at{constructor(e){super(),it(this,e,jO,VO,p,{type:5,value:0,formattingString:6,isRelative:1})}}function UO(e){let t,n,r,o,s;function i(t){e[24](t)}t=new pc({props:{type:e[1],value:e[9],format:e[2],timeShow24Hr:e[4],timeEnableSeconds:e[5]}}),t.$on("change",e[23]),t.$on("dateChange",e[11]);let a={isRelative:e[6],type:e[1],formattingString:e[2]};return void 0!==e[0]&&(a.value=e[0]),r=new WO({props:a}),we.push((()=>nt(r,"value",i))),r.$on("change",e[11]),{c(){rt(t.$$.fragment),n=V(),rt(r.$$.fragment)},m(e,o){ot(t,e,o),P(e,n,o),ot(r,e,o),s=!0},p(e,n){const s={};2&n&&(s.type=e[1]),512&n&&(s.value=e[9]),4&n&&(s.format=e[2]),16&n&&(s.timeShow24Hr=e[4]),32&n&&(s.timeEnableSeconds=e[5]),t.$set(s);const i={};64&n&&(i.isRelative=e[6]),2&n&&(i.type=e[1]),4&n&&(i.formattingString=e[2]),!o&&1&n&&(o=!0,i.value=e[0],Te((()=>o=!1))),r.$set(i)},i(e){s||(qe(t.$$.fragment,e),qe(r.$$.fragment,e),s=!0)},o(e){Ve(t.$$.fragment,e),Ve(r.$$.fragment,e),s=!1},d(e){st(t,e),e&&R(n),st(r,e)}}}function YO(e){let t,n,r,o,s,i,l;const c=[e[16],{formatter:e[3]},{placeholder:e[2]}];function u(t){e[17](t)}function d(t){e[18](t)}let p={};for(let f=0;f<c.length;f+=1)p=a(p,c[f]);function $(t){e[25](t)}void 0!==e[0]&&(p.value=e[0]),void 0!==e[7]&&(p.element=e[7]),t=new Ti({props:p}),we.push((()=>nt(t,"value",u))),we.push((()=>nt(t,"element",d))),t.$on("focus",e[10]),t.$on("focus",e[19]),t.$on("blur",e[12]),t.$on("keydown",e[13]),t.$on("keydown",e[20]),t.$on("artificialInput",e[21]),t.$on("artificialChange",e[22]);let m={class:"retain-active-cell no-max-height",trigger:e[7],$$slots:{default:[UO]},$$scope:{ctx:e}};return void 0!==e[8]&&(m.isOpen=e[8]),s=new qs({props:m}),we.push((()=>nt(s,"isOpen",$))),s.$on("close",e[14]),{c(){rt(t.$$.fragment),o=V(),rt(s.$$.fragment)},m(e,n){ot(t,e,n),P(e,o,n),ot(s,e,n),l=!0},p(e,[o]){const a=65548&o?et(c,[65536&o&&tt(e[16]),8&o&&{formatter:e[3]},4&o&&{placeholder:e[2]}]):{};!n&&1&o&&(n=!0,a.value=e[0],Te((()=>n=!1))),!r&&128&o&&(r=!0,a.element=e[7],Te((()=>r=!1))),t.$set(a);const l={};128&o&&(l.trigger=e[7]),268436087&o&&(l.$$scope={dirty:o,ctx:e}),!i&&256&o&&(i=!0,l.isOpen=e[8],Te((()=>i=!1))),s.$set(l)},i(e){l||(qe(t.$$.fragment,e),qe(s.$$.fragment,e),l=!0)},o(e){Ve(t.$$.fragment,e),Ve(s.$$.fragment,e),l=!1},d(e){st(t,e),e&&R(o),st(s,e)}}}function BO(e,t,n){let r;const o=["type","formattingString","formatter","value","timeShow24Hr","timeEnableSeconds","allowRelativePresets"];let s=x(t,o);const i=fe();let l,{type:c}=t,{formattingString:u}=t,{formatter:d}=t,{value:p}=t,{timeShow24Hr:$=!0}=t,{timeEnableSeconds:m=!0}=t,{allowRelativePresets:f=!1}=t,g=!1;function h(){n(8,g=!1)}function y(e){n(0,p=d.parse(e).value),i("artificialInput",p),i("artificialChange",p)}return e.$$set=e=>{t=a(a({},t),w(e)),n(16,s=x(t,o)),"type"in e&&n(1,c=e.type),"formattingString"in e&&n(2,u=e.formattingString),"formatter"in e&&n(3,d=e.formatter),"value"in e&&n(0,p=e.value),"timeShow24Hr"in e&&n(4,$=e.timeShow24Hr),"timeEnableSeconds"in e&&n(5,m=e.timeEnableSeconds),"allowRelativePresets"in e&&n(6,f=e.allowRelativePresets)},e.$$.update=()=>{1&e.$$.dirty&&n(9,r=function(e){if(Mt(e)){const t=d.parseAndFormat(e);if(vt(t,u,!0).isValid())return t}}(p))},[p,c,u,d,$,m,f,l,g,r,function(){n(8,g=!0)},h,function(){g||i("blur")},function(e){"Tab"===e.key&&h()},function(){i("blur")},y,s,function(e){p=e,n(0,p)},function(e){l=e,n(7,l)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},e=>y(e.detail),function(e){p=e,n(0,p)},function(e){g=e,n(8,g)}]}class KO extends at{constructor(e){super(),it(this,e,BO,YO,p,{type:1,formattingString:2,formatter:3,value:0,timeShow24Hr:4,timeEnableSeconds:5,allowRelativePresets:6})}}function GO(e){let t,n,r;function o(t){e[12](t)}let s={focusOnMount:!0,type:e[6],formattingString:e[7],formatter:e[8],timeShow24Hr:e[9],timeEnableSeconds:e[10]};return void 0!==e[0]&&(s.value=e[0]),t=new KO({props:s}),we.push((()=>nt(t,"value",o))),t.$on("blur",(function(){d(e[18])&&e[18].apply(this,arguments)})),t.$on("keydown",(function(){d(e[19])&&e[19].apply(this,arguments)})),{c(){rt(t.$$.fragment)},m(e,n){ot(t,e,n),r=!0},p(r,o){e=r;const s={};64&o&&(s.type=e[6]),128&o&&(s.formattingString=e[7]),256&o&&(s.formatter=e[8]),512&o&&(s.timeShow24Hr=e[9]),1024&o&&(s.timeEnableSeconds=e[10]),!n&&1&o&&(n=!0,s.value=e[0],Te((()=>n=!1))),t.$set(s)},i(e){r||(qe(t.$$.fragment,e),r=!0)},o(e){Ve(t.$$.fragment,e),r=!1},d(e){st(t,e)}}}function XO(e){let t,n,r;function o(t){e[13](t)}let s={isActive:e[1],isSelectedInRange:e[2],disabled:e[3],highlightSubstringMatches:!1,isIndependentOfSheet:e[4],showTruncationPopover:e[5],formatValue:e[11],$$slots:{default:[GO,({handleInputBlur:e,handleInputKeydown:t})=>({18:e,19:t}),({handleInputBlur:e,handleInputKeydown:t})=>(e?262144:0)|(t?524288:0)]},$$scope:{ctx:e}};return void 0!==e[0]&&(s.value=e[0]),t=new yE({props:s}),we.push((()=>nt(t,"value",o))),t.$on("movementKeyDown",e[14]),t.$on("activate",e[15]),t.$on("mouseenter",e[16]),t.$on("update",e[17]),{c(){rt(t.$$.fragment)},m(e,n){ot(t,e,n),r=!0},p(e,[r]){const o={};2&r&&(o.isActive=e[1]),4&r&&(o.isSelectedInRange=e[2]),8&r&&(o.disabled=e[3]),16&r&&(o.isIndependentOfSheet=e[4]),32&r&&(o.showTruncationPopover=e[5]),2048&r&&(o.formatValue=e[11]),1836993&r&&(o.$$scope={dirty:r,ctx:e}),!n&&1&r&&(n=!0,o.value=e[0],Te((()=>n=!1))),t.$set(o)},i(e){r||(qe(t.$$.fragment,e),r=!0)},o(e){Ve(t.$$.fragment,e),r=!1},d(e){st(t,e)}}}function JO(e,t,n){let{isActive:r}=t,{isSelectedInRange:o}=t,{value:s}=t,{disabled:i}=t,{isIndependentOfSheet:a}=t,{showTruncationPopover:l=!1}=t,{type:c}=t,{formattingString:u}=t,{formatter:d}=t,{timeShow24Hr:p=!0}=t,{timeEnableSeconds:$=!0}=t,{formatForDisplay:m}=t;return e.$$set=e=>{"isActive"in e&&n(1,r=e.isActive),"isSelectedInRange"in e&&n(2,o=e.isSelectedInRange),"value"in e&&n(0,s=e.value),"disabled"in e&&n(3,i=e.disabled),"isIndependentOfSheet"in e&&n(4,a=e.isIndependentOfSheet),"showTruncationPopover"in e&&n(5,l=e.showTruncationPopover),"type"in e&&n(6,c=e.type),"formattingString"in e&&n(7,u=e.formattingString),"formatter"in e&&n(8,d=e.formatter),"timeShow24Hr"in e&&n(9,p=e.timeShow24Hr),"timeEnableSeconds"in e&&n(10,$=e.timeEnableSeconds),"formatForDisplay"in e&&n(11,m=e.formatForDisplay)},[s,r,o,i,a,l,c,u,d,p,$,m,function(e){s=e,n(0,s)},function(e){s=e,n(0,s)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)}]}class ZO extends at{constructor(e){super(),it(this,e,JO,XO,p,{isActive:1,isSelectedInRange:2,value:0,disabled:3,isIndependentOfSheet:4,showTruncationPopover:5,type:6,formattingString:7,formatter:8,timeShow24Hr:9,timeEnableSeconds:10,formatForDisplay:11})}}function QO(e){const t=(e.display_options??{}).format??"none",n=new ET({type:"date",dateFormat:t}),r=new OT(n);return{type:"date",formattingString:n.getFormattingString(),formatter:r,formatForDisplay:e=>Mt(e)?r.parseAndFormat(e):e}}const eA={get:e=>({component:ZO,props:QO(e)}),getInput:e=>({component:KO,props:{...QO(e),allowRelativePresets:!0}}),getDisplayFormatter:e=>t=>QO(e).formatForDisplay(String(t))};function tA(e,t){const n=(e.display_options??{}).format??"24hr",r=new ET({type:t?"timeWithTZ":"time",timeFormat:n}),o=new OT(r);return{type:"time",formattingString:r.getFormattingString(),formatter:o,timeEnableSeconds:r.hasSecondsInTime(),timeShow24Hr:r.isTime24Hr(),formatForDisplay:e=>Mt(e)?o.parseAndFormat(e):e}}const nA={get:(e,t)=>({component:ZO,props:tA(e,t?.supportTimeZone??!1)}),getInput:(e,t)=>({component:KO,props:{...tA(e,t?.supportTimeZone??!1),allowRelativePresets:!0}}),getDisplayFormatter(e,t){const n=t?.supportTimeZone??!1;return t=>tA(e,n).formatForDisplay(String(t))}};function rA(e,t){const n=e.display_options??{},r=n.date_format??"none",o=n.time_format??"24hr",s=new ET({type:t?"timestampWithTZ":"timestamp",dateFormat:r,timeFormat:o}),i=new OT(s);return{type:"datetime",formattingString:s.getFormattingString(),formatter:i,timeEnableSeconds:s.hasSecondsInTime(),timeShow24Hr:s.isTime24Hr(),formatForDisplay:e=>Mt(e)?i.parseAndFormat(e):e}}const oA={get:(e,t)=>({component:ZO,props:rA(e,t?.supportTimeZone??!1)}),getInput:(e,t)=>({component:KO,props:{...rA(e,t?.supportTimeZone??!1),allowRelativePresets:!0}}),getDisplayFormatter:(e,t)=>n=>rA(e,t?.supportTimeZone??!1).formatForDisplay(String(n))};function sA(e,t,n){const r=e.slice();return r[10]=t[n],r}function iA(e){let t,n,r,o=e[4]&&aA(e),s=e[2],i=[];for(let l=0;l<s.length;l+=1)i[l]=dA(sA(e,s,l));const a=e=>Ve(i[e],1,1,(()=>{i[e]=null}));return{c(){o&&o.c(),t=V(),n=F("div");for(let e=0;e<i.length;e+=1)i[e].c()},m(e,s){o&&o.m(e,s),P(e,t,s),P(e,n,s);for(let t=0;t<i.length;t+=1)i[t].m(n,null);r=!0},p(e,r){if(e[4]?o?o.p(e,r):(o=aA(e),o.c(),o.m(t.parentNode,t)):o&&(o.d(1),o=null),52&r){let t;for(s=e[2],t=0;t<s.length;t+=1){const o=sA(e,s,t);i[t]?(i[t].p(o,r),qe(i[t],1)):(i[t]=dA(o),i[t].c(),qe(i[t],1),i[t].m(n,null))}for(Fe(),t=s.length;t<i.length;t+=1)a(t);He()}},i(e){if(!r){for(let e=0;e<s.length;e+=1)qe(i[e]);r=!0}},o(e){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)Ve(i[t]);r=!1},d(e){o&&o.d(e),e&&R(t),e&&R(n),z(i,e)}}}function aA(e){let t,n,r=Eb(e[2],"values")+"";return{c(){t=F("div"),n=q(r),B(t,"class","count svelte-1gbu1gr")},m(e,r){P(e,t,r),A(t,n)},p(e,t){4&t&&r!==(r=Eb(e[2],"values")+"")&&X(n,r)},d(e){e&&R(t)}}}function lA(e){let t,n=e[5](e[10])+"";return{c(){t=q(n)},m(e,n){P(e,t,n)},p(e,r){36&r&&n!==(n=e[5](e[10])+"")&&X(t,n)},i:s,o:s,d(e){e&&R(t)}}}function cA(e){let t,n;return t=new YM({}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p:s,i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function uA(e){let t,n,r,o;const s=[cA,lA],i=[];function a(e,t){return null===e[10]?0:1}return t=a(e),n=i[t]=s[t](e),{c(){n.c(),r=V()},m(e,n){i[t].m(e,n),P(e,r,n),o=!0},p(e,o){let l=t;t=a(e),t===l?i[t].p(e,o):(Fe(),Ve(i[l],1,1,(()=>{i[l]=null})),He(),n=i[t],n?n.p(e,o):(n=i[t]=s[t](e),n.c()),qe(n,1),n.m(r.parentNode,r))},i(e){o||(qe(n),o=!0)},o(e){Ve(n),o=!1},d(e){i[t].d(e),e&&R(r)}}}function dA(e){let t,n;return t=new es({props:{display:e[4]?"inline-block":"inline",background:"var(--slate-200)",$$slots:{default:[uA]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};16&n&&(r.display=e[4]?"inline-block":"inline"),8228&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function pA(e){let t,n,r=Mt(e[2]),o=r&&iA(e);return{c(){o&&o.c(),t=j()},m(e,r){o&&o.m(e,r),P(e,t,r),n=!0},p(e,n){4&n&&(r=Mt(e[2])),r?o?(o.p(e,n),4&n&&qe(o,1)):(o=iA(e),o.c(),qe(o,1),o.m(t.parentNode,t)):o&&(Fe(),Ve(o,1,1,(()=>{o=null})),He())},i(e){n||(qe(o),n=!0)},o(e){Ve(o),n=!1},d(e){o&&o.d(e),e&&R(t)}}}function $A(e){let t,n;return t=new QM({props:{value:e[2],$$slots:{default:[pA]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};4&n&&(r.value=e[2]),8244&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function mA(e){let t,n;return t=new aE({props:{isActive:e[0],isSelectedInRange:e[1],disabled:e[3],isIndependentOfSheet:e[4],$$slots:{default:[$A]},$$scope:{ctx:e}}}),t.$on("mouseenter",e[8]),t.$on("keydown",e[6]),t.$on("mousedown",e[7]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const r={};1&n&&(r.isActive=e[0]),2&n&&(r.isSelectedInRange=e[1]),8&n&&(r.disabled=e[3]),16&n&&(r.isIndependentOfSheet=e[4]),8244&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function fA(e,t,n){const r=fe();let{isActive:o}=t,{isSelectedInRange:s}=t,{value:i}=t,{disabled:a}=t,{isIndependentOfSheet:l}=t,{formatElementForDisplay:c}=t;return e.$$set=e=>{"isActive"in e&&n(0,o=e.isActive),"isSelectedInRange"in e&&n(1,s=e.isSelectedInRange),"value"in e&&n(2,i=e.value),"disabled"in e&&n(3,a=e.disabled),"isIndependentOfSheet"in e&&n(4,l=e.isIndependentOfSheet),"formatElementForDisplay"in e&&n(5,c=e.formatElementForDisplay)},[o,s,i,a,l,c,function(e){switch(e.key){case"Tab":case"ArrowLeft":case"ArrowRight":case"ArrowDown":case"ArrowUp":r("movementKeyDown",{originalEvent:e,key:e.key})}},function(){o||r("activate")},function(t){ve.call(this,e,t)}]}class gA extends at{constructor(e){super(),it(this,e,fA,mA,p,{isActive:0,isSelectedInRange:1,value:2,disabled:3,isIndependentOfSheet:4,formatElementForDisplay:5})}}function hA(e){return iM(e,m(gM)?.data)?.cellInfo}function yA(e,t){return{...t?.config??{},...t?.conditionalConfig?.[e]??{}}}function vA(e,t){const n=t.type_options?.item_type??"string",r=hA(n),o=yA(n,r),s=e[r&&"array"!==r.type?r.type:"string"];return e=>Mt(e)&&s.getDisplayFormatter?s.getDisplayFormatter({type:n,type_options:null,display_options:t.display_options},o)(e):String(e)}const bA={string:IE,boolean:UE,number:rO,money:fO,uri:MO,duration:PO,date:eA,time:nA,datetime:oA},wA={array:(xA=bA,{get:e=>({component:gA,props:{formatElementForDisplay:vA(xA,e)}}),getInput:()=>({component:di}),getDisplayFormatter:e=>{const t=vA(xA,e);return e=>Array.isArray(e)?e.map(t).join(", "):t(e)}})};var xA;const SA={...bA,...wA};function CA(e){let t,n,r;return n=new Qw({props:{recordSummary:e[6]}}),{c(){t=F("span"),rt(n.$$.fragment),B(t,"class","record-summary svelte-wsjoli")},m(e,o){P(e,t,o),ot(n,t,null),r=!0},p(e,t){const r={};64&t&&(r.recordSummary=e[6]),n.$set(r)},i(e){r||(qe(n.$$.fragment,e),r=!0)},o(e){Ve(n.$$.fragment,e),r=!1},d(e){e&&R(t),st(n)}}}function kA(e){let t,n,r,o,s;return n=new Qw({props:{recordSummary:e[6]}}),{c(){t=F("a"),rt(n.$$.fragment),B(t,"class","record-summary record-page-link svelte-wsjoli"),B(t,"title","Go to record"),B(t,"href",e[1]),B(t,"tabindex","-1")},m(i,a){P(i,t,a),ot(n,t,null),r=!0,o||(s=[W(t,"mouseenter",e[11]),W(t,"mouseleave",e[12]),W(t,"click",_A)],o=!0)},p(e,o){const s={};64&o&&(s.recordSummary=e[6]),n.$set(s),(!r||2&o)&&B(t,"href",e[1])},i(e){r||(qe(n.$$.fragment,e),r=!0)},o(e){Ve(n.$$.fragment,e),r=!1},d(e){e&&R(t),st(n),o=!1,u(s)}}}function DA(e){let t,n,r,o,s;const i=[Dm];let l={};for(let c=0;c<i.length;c+=1)l=a(l,i[c]);return n=new Wr({props:l}),{c(){t=F("span"),rt(n.$$.fragment),B(t,"class","delete-button svelte-wsjoli"),B(t,"role","button"),B(t,"tabindex","-1"),B(t,"aria-label","Clear value"),B(t,"title","Clear value")},m(i,a){P(i,t,a),ot(n,t,null),r=!0,o||(s=[W(t,"click",Y(e[7])),W(t,"mouseenter",e[13]),W(t,"mouseleave",e[14])],o=!0)},p(e,t){const r=0&t?et(i,[tt(Dm)]):{};n.$set(r)},i(e){r||(qe(n.$$.fragment,e),r=!0)},o(e){Ve(n.$$.fragment,e),r=!1},d(e){e&&R(t),st(n),o=!1,u(s)}}}function IA(e){let t,n,r,o,s,i,a,l,c;const u=[kA,CA],d=[];function p(e,t){return e[1]?0:1}n=p(e),r=d[n]=u[n](e);let $=e[0]&&DA(e);return{c(){t=F("span"),r.c(),o=V(),$&&$.c(),s=V(),i=F("span"),B(i,"class","background svelte-wsjoli"),B(t,"class","linked-record svelte-wsjoli"),te(t,"is-hovering-delete",e[4]),te(t,"is-hovering-record-page-link",e[5]),te(t,"exact-match","exactMatch"===e[2]),te(t,"no-match","noMatch"===e[2]),te(t,"disabled",e[3])},m(r,u){P(r,t,u),d[n].m(t,null),A(t,o),$&&$.m(t,null),A(t,s),A(t,i),a=!0,l||(c=W(t,"click",e[10]),l=!0)},p(e,[i]){let l=n;n=p(e),n===l?d[n].p(e,i):(Fe(),Ve(d[l],1,1,(()=>{d[l]=null})),He(),r=d[n],r?r.p(e,i):(r=d[n]=u[n](e),r.c()),qe(r,1),r.m(t,o)),e[0]?$?($.p(e,i),1&i&&qe($,1)):($=DA(e),$.c(),qe($,1),$.m(t,s)):$&&(Fe(),Ve($,1,1,(()=>{$=null})),He()),(!a||16&i)&&te(t,"is-hovering-delete",e[4]),(!a||32&i)&&te(t,"is-hovering-record-page-link",e[5]),(!a||4&i)&&te(t,"exact-match","exactMatch"===e[2]),(!a||4&i)&&te(t,"no-match","noMatch"===e[2]),(!a||8&i)&&te(t,"disabled",e[3])},i(e){a||(qe(r),qe($),a=!0)},o(e){Ve(r),Ve($),a=!1},d(e){e&&R(t),d[n].d(),$&&$.d(),l=!1,c()}}}const _A=e=>e.stopPropagation();function TA(e,t,n){let r;const o=fe();let{recordId:s}=t,{recordSummary:i}=t,{hasDeleteButton:a=!1}=t,{recordPageHref:l}=t,{valueComparisonOutcome:c}=t,{disabled:u=!1}=t,d=!1,p=!1;return e.$$set=e=>{"recordId"in e&&n(8,s=e.recordId),"recordSummary"in e&&n(9,i=e.recordSummary),"hasDeleteButton"in e&&n(0,a=e.hasDeleteButton),"recordPageHref"in e&&n(1,l=e.recordPageHref),"valueComparisonOutcome"in e&&n(2,c=e.valueComparisonOutcome),"disabled"in e&&n(3,u=e.disabled)},e.$$.update=()=>{768&e.$$.dirty&&n(6,r=i||(void 0!==s?String(s):"(Unknown)"))},[a,l,c,u,d,p,r,function(){o("delete")},s,i,function(t){ve.call(this,e,t)},()=>{n(5,p=!0)},()=>{n(5,p=!1)},()=>{n(4,d=!0)},()=>{n(4,d=!1)}]}class MA extends at{constructor(e){super(),it(this,e,TA,IA,p,{recordId:8,recordSummary:9,hasDeleteButton:0,recordPageHref:1,valueComparisonOutcome:2,disabled:3})}}function EA(e){let t,n;return t=new YM({}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p:s,i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function OA(e){let t,n;return t=new jM({}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p:s,i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function AA(e){let t,n;return t=new MA({props:{recordId:e[0],recordSummary:e[3],valueComparisonOutcome:e[7]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.recordId=e[0]),8&n&&(r.recordSummary=e[3]),128&n&&(r.valueComparisonOutcome=e[7]),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function LA(e){let t,n,r,o,s;const i=[$r];let l={};for(let c=0;c<i.length;c+=1)l=a(l,i[c]);return n=new Wr({props:l}),{c(){t=F("button"),rt(n.$$.fragment),B(t,"class","dropdown-button passthrough svelte-161jfap"),B(t,"aria-label","Pick a record"),B(t,"title","Pick a record")},m(i,a){P(i,t,a),ot(n,t,null),r=!0,o||(s=W(t,"click",e[9]),o=!0)},p(e,t){const r=0&t?et(i,[tt($r)]):{};n.$set(r)},i(e){r||(qe(n.$$.fragment,e),r=!0)},o(e){Ve(n.$$.fragment,e),r=!1},d(e){e&&R(t),st(n),o=!1,s()}}}function NA(e){let t,n,r,o,s,i;const a=[AA,OA,EA],l=[];function c(e,t){return e[8]?0:void 0===e[0]?1:2}r=c(e),o=l[r]=a[r](e);let u=!e[4]&&LA(e);return{c(){t=F("div"),n=F("div"),o.c(),s=V(),u&&u.c(),B(n,"class","value svelte-161jfap"),B(t,"class","linked-record-cell svelte-161jfap"),te(t,"disabled",e[4])},m(e,o){P(e,t,o),A(t,n),l[r].m(n,null),A(t,s),u&&u.m(t,null),i=!0},p(e,s){let d=r;r=c(e),r===d?l[r].p(e,s):(Fe(),Ve(l[d],1,1,(()=>{l[d]=null})),He(),o=l[r],o?o.p(e,s):(o=l[r]=a[r](e),o.c()),qe(o,1),o.m(n,null)),e[4]?u&&(Fe(),Ve(u,1,1,(()=>{u=null})),He()):u?(u.p(e,s),16&s&&qe(u,1)):(u=LA(e),u.c(),qe(u,1),u.m(t,null)),(!i||16&s)&&te(t,"disabled",e[4])},i(e){i||(qe(o),qe(u),i=!0)},o(e){Ve(o),Ve(u),i=!1},d(e){e&&R(t),l[r].d(),u&&u.d()}}}function PA(e){let t,n,r;function o(t){e[16](t)}let s={isActive:e[1],isSelectedInRange:e[2],disabled:e[4],isIndependentOfSheet:e[5],hasPadding:!1,$$slots:{default:[NA]},$$scope:{ctx:e}};return void 0!==e[6]&&(s.element=e[6]),t=new aE({props:s}),we.push((()=>nt(t,"element",o))),t.$on("mouseenter",e[17]),t.$on("keydown",e[10]),t.$on("mousedown",e[11]),t.$on("click",e[12]),t.$on("dblclick",e[9]),{c(){rt(t.$$.fragment)},m(e,n){ot(t,e,n),r=!0},p(e,[r]){const o={};2&r&&(o.isActive=e[1]),4&r&&(o.isSelectedInRange=e[2]),16&r&&(o.disabled=e[4]),32&r&&(o.isIndependentOfSheet=e[5]),2097561&r&&(o.$$scope={dirty:r,ctx:e}),!n&&64&r&&(n=!0,o.element=e[6],Te((()=>n=!1))),t.$set(o)},i(e){r||(qe(t.$$.fragment,e),r=!0)},o(e){Ve(t.$$.fragment,e),r=!1},d(e){st(t,e)}}}function RA(e,t,n){let r,o;const s=fe(),i=Qf();let a,{isActive:l}=t,{isSelectedInRange:c}=t,{value:u}=t,{searchValue:d}=t,{recordSummary:p}=t,{setRecordSummary:$=(()=>{})}=t,{disabled:m}=t,{tableId:f}=t,{isIndependentOfSheet:g}=t,h=!1;async function y(e){if(m)return;e?.stopPropagation();const t=await i.acquireUserInput({tableId:f});t&&(n(0,u=t.recordId),$(String(t.recordId),t.recordSummary),s("update",{value:u})),a.focus()}return e.$$set=e=>{"isActive"in e&&n(1,l=e.isActive),"isSelectedInRange"in e&&n(2,c=e.isSelectedInRange),"value"in e&&n(0,u=e.value),"searchValue"in e&&n(13,d=e.searchValue),"recordSummary"in e&&n(3,p=e.recordSummary),"setRecordSummary"in e&&n(14,$=e.setRecordSummary),"disabled"in e&&n(4,m=e.disabled),"tableId"in e&&n(15,f=e.tableId),"isIndependentOfSheet"in e&&n(5,g=e.isIndependentOfSheet)},e.$$.update=()=>{1&e.$$.dirty&&n(8,r=null!=u),8193&e.$$.dirty&&n(7,o=sp(d,u))},[u,l,c,p,m,g,a,o,r,y,function(e){switch(e.key){case"Enter":l&&y();break;case"Tab":case"ArrowLeft":case"ArrowRight":case"ArrowDown":case"ArrowUp":s("movementKeyDown",{originalEvent:e,key:e.key})}},function(){h=l,s("activate")},function(){h&&y()},d,$,f,function(e){a=e,n(6,a)},function(t){ve.call(this,e,t)}]}class zA extends at{constructor(e){super(),it(this,e,RA,PA,p,{isActive:1,isSelectedInRange:2,value:0,searchValue:13,recordSummary:3,setRecordSummary:14,disabled:4,tableId:15,isIndependentOfSheet:5})}}const FA=ft([vh,Xh,_v],(([e,t,n])=>function({databaseName:r,schemaId:o,tableId:s,recordId:i}){const a=r??e?.name,l=o??t?.id,c=s??n?.id,u=i??void 0;if(void 0!==a&&void 0!==l&&void 0!==c&&void 0!==u)return Wg(a,l,c,u)})),HA=ft([vh,Xh,_v],(([e,t,n])=>function({databaseName:r,schemaId:o,tableId:s}){const i=r??e?.name,a=o??t?.id,l=s??n?.id;if(void 0!==i&&void 0!==a&&void 0!==l)return jg(i,a,l)}));function qA(e){let t,n;return t=new MA({props:{recordId:e[1],recordSummary:e[2],hasDeleteButton:!e[4],recordPageHref:e[8],disabled:e[4]}}),t.$on("delete",e[9]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.recordId=e[1]),4&n&&(r.recordSummary=e[2]),16&n&&(r.hasDeleteButton=!e[4]),256&n&&(r.recordPageHref=e[8]),16&n&&(r.disabled=e[4]),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function VA(e){let t,n,r,o,s;const i=[$r];let l={};for(let c=0;c<i.length;c+=1)l=a(l,i[c]);return n=new Wr({props:l}),{c(){t=F("span"),rt(n.$$.fragment),B(t,"class","dropdown-button svelte-1lgzhz2"),B(t,"role","button"),B(t,"tabindex","-1"),B(t,"aria-label","Pick a record"),B(t,"title","Pick a record")},m(i,a){P(i,t,a),ot(n,t,null),r=!0,o||(s=W(t,"click",e[10]),o=!0)},p(e,t){const r=0&t?et(i,[tt($r)]):{};n.$set(r)},i(e){r||(qe(n.$$.fragment,e),r=!0)},o(e){Ve(n.$$.fragment,e),r=!1},d(e){e&&R(t),st(n),o=!1,s()}}}function jA(e){let t,n,r,o,s,i,l,c,d,p,$,m;const f=[{disabled:e[4]},e[13]];function g(t){e[20](t)}let h={};for(let u=0;u<f.length;u+=1)h=a(h,f[u]);void 0!==e[0]&&(h.id=e[0]),t=new co({props:h}),we.push((()=>nt(t,"id",g)));let y=e[5]&&qA(e),v=!e[4]&&VA(e);return{c(){rt(t.$$.fragment),r=V(),o=F("span"),s=F("span"),y&&y.c(),i=V(),v&&v.c(),B(s,"class","content svelte-1lgzhz2"),B(o,"id",e[0]),B(o,"class",l="input-element linked-record-input "+e[3]+" svelte-1lgzhz2"),B(o,"tabindex",c=e[6]||e[4]?void 0:0),B(o,"role","listbox"),B(o,"aria-labelledby",d=mo(e[0])),te(o,"has-value",e[5]),te(o,"disabled",e[4]),te(o,"is-acquiring-input",e[6])},m(n,a){ot(t,n,a),P(n,r,a),P(n,o,a),A(o,s),y&&y.m(s,null),A(o,i),v&&v.m(o,null),e[21](o),p=!0,$||(m=[W(o,"click",e[10]),W(o,"focus",e[11]),W(o,"focus",e[18]),W(o,"blur",e[12]),W(o,"blur",e[19])],$=!0)},p(e,[r]){const i=8208&r?et(f,[16&r&&{disabled:e[4]},8192&r&&tt(e[13])]):{};!n&&1&r&&(n=!0,i.id=e[0],Te((()=>n=!1))),t.$set(i),e[5]?y?(y.p(e,r),32&r&&qe(y,1)):(y=qA(e),y.c(),qe(y,1),y.m(s,null)):y&&(Fe(),Ve(y,1,1,(()=>{y=null})),He()),e[4]?v&&(Fe(),Ve(v,1,1,(()=>{v=null})),He()):v?(v.p(e,r),16&r&&qe(v,1)):(v=VA(e),v.c(),qe(v,1),v.m(o,null)),(!p||1&r)&&B(o,"id",e[0]),(!p||8&r&&l!==(l="input-element linked-record-input "+e[3]+" svelte-1lgzhz2"))&&B(o,"class",l),(!p||80&r&&c!==(c=e[6]||e[4]?void 0:0))&&B(o,"tabindex",c),(!p||1&r&&d!==(d=mo(e[0])))&&B(o,"aria-labelledby",d),(!p||40&r)&&te(o,"has-value",e[5]),(!p||24&r)&&te(o,"disabled",e[4]),(!p||72&r)&&te(o,"is-acquiring-input",e[6])},i(e){p||(qe(t.$$.fragment,e),qe(y),qe(v),p=!0)},o(e){Ve(t.$$.fragment,e),Ve(y),Ve(v),p=!1},d(n){st(t,n),n&&R(r),n&&R(o),y&&y.d(),v&&v.d(),e[21](null),$=!1,u(m)}}}function WA(e,t,n){let r,o;const s=["id","value","recordSummary","setRecordSummary","tableId","class","allowsHyperlinks","disabled"];let i,l=x(t,s);f(e,FA,(e=>n(17,i=e)));const c=ao(),u=Qf(),d=he("dropdownAccompanyingElements"),p=fe();let $,{id:m=kt()}=t,{value:g}=t,{recordSummary:h}=t,{setRecordSummary:y=(()=>{})}=t,{tableId:v}=t,{class:b=""}=t,{allowsHyperlinks:S=!0}=t,{disabled:C=!1}=t,k=!1;function D(){n(1,g=void 0),p("artificialChange",void 0),p("artificialInput",void 0),$.focus()}async function I(){if(C)return;p("recordSelectorOpen"),n(6,k=!0);const e=u.acquireUserInput({tableId:v});await Ie();const t=function(){if(!d)return()=>{};const e=document.querySelector(".modal-record-selector");return e?d.add(e):()=>{}}(),r=await e;t(),n(6,k=!1),void 0===r?p("recordSelectorCancel"):(n(1,g=r.recordId),y(String(r.recordId),r.recordSummary),p("recordSelectorSubmit"),p("artificialChange",g),p("artificialInput",g)),await Ie(),$.focus()}function _(e){switch(e.key){case"Enter":I();break;case"Delete":D()}}return pe((()=>{n(7,$.launchRecordSelector=I,$)})),e.$$set=e=>{t=a(a({},t),w(e)),n(13,l=x(t,s)),"id"in e&&n(0,m=e.id),"value"in e&&n(1,g=e.value),"recordSummary"in e&&n(2,h=e.recordSummary),"setRecordSummary"in e&&n(14,y=e.setRecordSummary),"tableId"in e&&n(15,v=e.tableId),"class"in e&&n(3,b=e.class),"allowsHyperlinks"in e&&n(16,S=e.allowsHyperlinks),"disabled"in e&&n(4,C=e.disabled)},e.$$.update=()=>{2&e.$$.dirty&&n(5,r=null!=g),1&e.$$.dirty&&c?.inputId.set(m),229410&e.$$.dirty&&n(8,o=r&&S?i({tableId:v,recordId:g}):void 0)},[m,g,h,b,C,r,k,$,o,D,I,function(){window.addEventListener("keydown",_)},function(){window.removeEventListener("keydown",_)},l,y,v,S,i,function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(e){m=e,n(0,m)},function(e){we[e?"unshift":"push"]((()=>{$=e,n(7,$)}))}]}class UA extends at{constructor(e){super(),it(this,e,WA,jA,p,{id:0,value:1,recordSummary:2,setRecordSummary:14,tableId:15,class:3,allowsHyperlinks:16,disabled:4})}}function YA(e){let t;return{c(){t=q(e[2])},m(e,n){P(e,t,n)},p(e,n){4&n&&X(t,e[2])},i:s,o:s,d(e){e&&R(t)}}}function BA(e){let t,n;return t=new jM({}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p:s,i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function KA(e){let t,n,r,o,s,i;const l=[uf];let c={};for(let u=0;u<l.length;u+=1)c=a(c,l[u]);return n=new Wr({props:c}),{c(){t=F("a"),rt(n.$$.fragment),B(t,"href",e[6]),B(t,"class","link svelte-q9y3be"),B(t,"title",r="Go To Record "+e[2])},m(e,r){P(e,t,r),ot(n,t,null),o=!0,s||(i=W(t,"contextmenu",JA),s=!0)},p(e,s){const i=0&s?et(l,[tt(uf)]):{};n.$set(i),(!o||64&s)&&B(t,"href",e[6]),(!o||4&s&&r!==(r="Go To Record "+e[2]))&&B(t,"title",r)},i(e){o||(qe(n.$$.fragment,e),o=!0)},o(e){Ve(n.$$.fragment,e),o=!1},d(e){e&&R(t),st(n),s=!1,i()}}}function GA(e){let t,n,r,o,s,i,a,l;const c=[BA,YA],u=[];function d(e,t){return void 0===e[2]?0:1}r=d(e),o=u[r]=c[r](e);let p=e[5]&&KA(e);return{c(){t=F("div"),n=F("span"),o.c(),s=V(),p&&p.c(),B(n,"class","value svelte-q9y3be"),B(t,"class","primary-key-cell svelte-q9y3be")},m(o,c){P(o,t,c),A(t,n),u[r].m(n,null),A(t,s),p&&p.m(t,null),i=!0,a||(l=W(n,"mousedown",e[7]),a=!0)},p(e,s){let i=r;r=d(e),r===i?u[r].p(e,s):(Fe(),Ve(u[i],1,1,(()=>{u[i]=null})),He(),o=u[r],o?o.p(e,s):(o=u[r]=c[r](e),o.c()),qe(o,1),o.m(n,null)),e[5]?p?(p.p(e,s),32&s&&qe(p,1)):(p=KA(e),p.c(),qe(p,1),p.m(t,null)):p&&(Fe(),Ve(p,1,1,(()=>{p=null})),He())},i(e){i||(qe(o),qe(p),i=!0)},o(e){Ve(o),Ve(p),i=!1},d(e){e&&R(t),u[r].d(),p&&p.d(),a=!1,l()}}}function XA(e){let t,n;return t=new aE({props:{isActive:e[0],isSelectedInRange:e[1],disabled:e[3],isIndependentOfSheet:e[4],hasPadding:!1,$$slots:{default:[GA]},$$scope:{ctx:e}}}),t.$on("mouseenter",e[11]),t.$on("keydown",e[8]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const r={};1&n&&(r.isActive=e[0]),2&n&&(r.isSelectedInRange=e[1]),8&n&&(r.disabled=e[3]),16&n&&(r.isIndependentOfSheet=e[4]),8292&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function JA(e){e.stopPropagation()}function ZA(e,t,n){let r,o;f(e,FA,(e=>n(10,o=e)));const s=fe();let{isActive:i}=t,{isSelectedInRange:a}=t,{value:l}=t,{disabled:c}=t,{tableId:u}=t,{isIndependentOfSheet:d}=t,{canViewLinkedEntities:p}=t;return e.$$set=e=>{"isActive"in e&&n(0,i=e.isActive),"isSelectedInRange"in e&&n(1,a=e.isSelectedInRange),"value"in e&&n(2,l=e.value),"disabled"in e&&n(3,c=e.disabled),"tableId"in e&&n(9,u=e.tableId),"isIndependentOfSheet"in e&&n(4,d=e.isIndependentOfSheet),"canViewLinkedEntities"in e&&n(5,p=e.canViewLinkedEntities)},e.$$.update=()=>{1540&e.$$.dirty&&n(6,r=o({tableId:u,recordId:l}))},[i,a,l,c,d,p,r,function(){s("activate")},function(e){switch(e.key){case"Tab":case"ArrowLeft":case"ArrowRight":case"ArrowDown":case"ArrowUp":s("movementKeyDown",{originalEvent:e,key:e.key})}},u,o,function(t){ve.call(this,e,t)}]}class QA extends at{constructor(e){super(),it(this,e,ZA,XA,p,{isActive:0,isSelectedInRange:1,value:2,disabled:3,tableId:9,isIndependentOfSheet:4,canViewLinkedEntities:5})}}function eL({cellInfo:e,column:t,fkTargetTableId:n,pkTargetTableId:r}){if(n){return{component:zA,props:{tableId:n}}}if(r)return{component:QA,props:{tableId:r}};const o=yA(t.type,e);return SA[e?.type??"string"].get(t,o)}function tL(e,t,n){if(t){return{component:UA,props:{tableId:t}}}const r=n??hA(e.type),o=yA(e.type,r);return SA[r?.type??"string"].getInput(e,o)}function nL(e,t,n){if(t)return;const r=n??hA(e.type);return SA[r?.type??"string"].initialInputValue}function rL(e,t){const n=hA(e.type),r=yA(e.type,n),o=SA[n?.type??"string"].getDisplayFormatter(e,r);return(e,n)=>{if(!n||void 0===t)return o(e);const r=n.get(String(t))?.get(String(e));return r||o(e)}}function oL(e){return e.constraintsType?.includes("primary")?rf:e.constraintsType?.includes("foreignkey")?vf:iM(e.type,m(gM)?.data).getIcon({dbType:e.type,typeOptions:e.type_options})}function sL(e,t=[{name:"id"}]){const n=new Set(t.map((e=>e.name)));return e?x_(Sb(e.name),n):""}function iL(e){return ny(e.map((e=>e.name)),"A column with that name already exists")}function aL(e,t){const n=t.get(e);return Array.from(new Set([...n?.exclusiveConstraints??[],...n?.sharedConstraints??[]].filter((e=>!!e)).map((e=>e.type))))}function lL(e){let t,n=e[0].name+"";return{c(){t=q(n)},m(e,n){P(e,t,n)},p(e,r){1&r&&n!==(n=e[0].name+"")&&X(t,n)},d(e){e&&R(t)}}}function cL(e){let t,n;const r=[{icon:e[1]},e[2]];let o={$$slots:{default:[lL]},$$scope:{ctx:e}};for(let s=0;s<r.length;s+=1)o=a(o,r[s]);return t=new nb({props:o}),t.$on("click",e[3]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const o=6&n?et(r,[2&n&&{icon:e[1]},4&n&&tt(e[2])]):{};17&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function uL(e,t,n){let r;const o=["column"];let s=x(t,o),{column:i}=t;return e.$$set=e=>{t=a(a({},t),w(e)),n(2,s=x(t,o)),"column"in e&&n(0,i=e.column)},e.$$.update=()=>{1&e.$$.dirty&&n(1,r=oL(i))},[i,r,s,function(t){ve.call(this,e,t)}]}class dL extends at{constructor(e){super(),it(this,e,uL,cL,p,{column:0})}}const pL="filter-input";function $L(e,t){if("hasParams"in e){if(!e.hasParams)return void 0===t}else if(0===e.parameters.length)return void 0===t;return Mt(t)&&""!==String(t)}function mL(e,t){return void 0!==t?function(e){const t=new Map;return CM.get(e)?.forEach((e=>{t.set(e.id,e)})),t}(e):DM(e)}function fL(e){const t=e[3].get(e[47]);e[48]=t}function gL(e){let t,n;const r=e[31].default,o=g(r,e,e[39],null);return{c(){t=F("div"),o&&o.c(),B(t,"class","prefix svelte-1gbbni6")},m(e,r){P(e,t,r),o&&o.m(t,null),n=!0},p(e,t){o&&o.p&&(!n||256&t[1])&&v(o,r,e,e[39],n?y(r,e[39],t,null):b(e[39]),null)},i(e){n||(qe(o,e),n=!0)},o(e){Ve(o,e),n=!1},d(e){e&&R(t),o&&o.d(e)}}}function hL(e){let t,n;return fL(e),t=new dL({props:{column:{name:e[15](e[47]),type:e[48]?.column.type??"unknown",type_options:e[48]?.column.type_options??null,display_options:e[48]?.column.display_options??null,constraintsType:e[16](e[47])}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){fL(e);const r={};8&n[0]|65536&n[1]&&(r.column={name:e[15](e[47]),type:e[48]?.column.type??"unknown",type_options:e[48]?.column.type_options??null,display_options:e[48]?.column.display_options??null,constraintsType:e[16](e[47])}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function yL(e){let t,n,r;function o(t){e[33](t)}let s={options:e[12],getLabel:e[17],triggerClass:"filter-condition"};return void 0!==e[1]&&(s.value=e[1]),t=new Hc({props:s}),we.push((()=>nt(t,"value",o))),t.$on("change",e[34]),{c(){rt(t.$$.fragment)},m(e,n){ot(t,e,n),r=!0},p(e,r){const o={};4096&r[0]&&(o.options=e[12]),!n&&2&r[0]&&(n=!0,o.value=e[1],Te((()=>n=!1))),t.$set(o)},i(e){r||(qe(t.$$.fragment,e),r=!0)},o(e){Ve(t.$$.fragment,e),r=!1},d(e){st(t,e)}}}function vL(e){let t,n,r;function o(t){e[35](t)}let s={componentAndProps:e[10],class:pL,hasError:e[7]&&!e[11],recordSummary:e[8].get(String(e[0]))?.get(String(e[2])),setRecordSummary:e[21]};return void 0!==e[2]&&(s.value=e[2]),t=new RM({props:s}),we.push((()=>nt(t,"value",o))),t.$on("input",e[36]),t.$on("blur",e[37]),t.$on("change",e[18]),{c(){rt(t.$$.fragment)},m(e,n){ot(t,e,n),r=!0},p(e,r){const o={};1024&r[0]&&(o.componentAndProps=e[10]),2176&r[0]&&(o.hasError=e[7]&&!e[11]),261&r[0]&&(o.recordSummary=e[8].get(String(e[0]))?.get(String(e[2]))),!n&&4&r[0]&&(n=!0,o.value=e[2],Te((()=>n=!1))),t.$set(o)},i(e){r||(qe(t.$$.fragment,e),r=!0)},o(e){Ve(t.$$.fragment,e),r=!1},d(e){st(t,e)}}}function bL(e){let t,n,r=e[10]&&vL(e);return{c(){r&&r.c(),t=j()},m(e,o){r&&r.m(e,o),P(e,t,o),n=!0},p(e,n){e[10]?r?(r.p(e,n),1024&n[0]&&qe(r,1)):(r=vL(e),r.c(),qe(r,1),r.m(t.parentNode,t)):r&&(Fe(),Ve(r,1,1,(()=>{r=null})),He())},i(e){n||(qe(r),n=!0)},o(e){Ve(r),n=!1},d(e){r&&r.d(e),e&&R(t)}}}function wL(e){let t,n;return t=new Ln({props:{size:"small",class:"filter-remove",appearance:"secondary",$$slots:{default:[xL]},$$scope:{ctx:e}}}),t.$on("click",e[38]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};256&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function xL(e){let t,n;const r=[km];let o={};for(let s=0;s<r.length;s+=1)o=a(o,r[s]);return t=new Wr({props:o}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const o=0&n?et(r,[tt(km)]):{};t.$set(o)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function SL(e){let t,n,r,o,i,a,l,c=e[0],u=`${e[0]}${e[1]}`;function d(t){e[32](t)}let $={options:e[13],getLabel:e[15],triggerClass:"filter-column-id",disabled:e[5],$$slots:{default:[hL,({option:e})=>({47:e}),({option:e})=>[0,e?65536:0]]},$$scope:{ctx:e}};void 0!==e[0]&&($.value=e[0]),t=new Hc({props:$}),we.push((()=>nt(t,"value",d))),t.$on("change",e[19]);let m=yL(e),f=bL(e),g=e[6]&&wL(e);return{c(){rt(t.$$.fragment),r=V(),m.c(),o=V(),f.c(),i=V(),g&&g.c(),a=j()},m(e,n){ot(t,e,n),P(e,r,n),m.m(e,n),P(e,o,n),f.m(e,n),P(e,i,n),g&&g.m(e,n),P(e,a,n),l=!0},p(e,r){const l={};8192&r[0]&&(l.options=e[13]),32&r[0]&&(l.disabled=e[5]),8&r[0]|65792&r[1]&&(l.$$scope={dirty:r,ctx:e}),!n&&1&r[0]&&(n=!0,l.value=e[0],Te((()=>n=!1))),t.$set(l),1&r[0]&&p(c,c=e[0])?(Fe(),Ve(m,1,1,s),He(),m=yL(e),m.c(),qe(m,1),m.m(o.parentNode,o)):m.p(e,r),3&r[0]&&p(u,u=`${e[0]}${e[1]}`)?(Fe(),Ve(f,1,1,s),He(),f=bL(e),f.c(),qe(f,1),f.m(i.parentNode,i)):f.p(e,r),e[6]?g?(g.p(e,r),64&r[0]&&qe(g,1)):(g=wL(e),g.c(),qe(g,1),g.m(a.parentNode,a)):g&&(Fe(),Ve(g,1,1,(()=>{g=null})),He())},i(e){l||(qe(t.$$.fragment,e),qe(m),qe(f),qe(g),l=!0)},o(e){Ve(t.$$.fragment,e),Ve(m),Ve(f),Ve(g),l=!1},d(e){st(t,e),e&&R(r),m.d(e),e&&R(o),f.d(e),e&&R(i),g&&g.d(e),e&&R(a)}}}function CL(e){let t,n,r,o,s,i=e[22].default&&gL(e);return r=new si({props:{class:e[4],$$slots:{default:[SL]},$$scope:{ctx:e}}}),{c(){t=F("div"),i&&i.c(),n=V(),rt(r.$$.fragment),B(t,"class",o="filter-entry "+e[4]+" svelte-1gbbni6")},m(e,o){P(e,t,o),i&&i.m(t,null),A(t,n),ot(r,t,null),s=!0},p(e,a){e[22].default?i?(i.p(e,a),4194304&a[0]&&qe(i,1)):(i=gL(e),i.c(),qe(i,1),i.m(t,n)):i&&(Fe(),Ve(i,1,1,(()=>{i=null})),He());const l={};16&a[0]&&(l.class=e[4]),15855&a[0]|256&a[1]&&(l.$$scope={dirty:a,ctx:e}),r.$set(l),(!s||16&a[0]&&o!==(o="filter-entry "+e[4]+" svelte-1gbbni6"))&&B(t,"class",o)},i(e){s||(qe(i),qe(r.$$.fragment,e),s=!0)},o(e){Ve(i),Ve(r.$$.fragment,e),s=!1},d(e){e&&R(t),i&&i.d(),st(r)}}}function kL(e,t,n){let r,o,i,a,l,c,u,d,p,m,f,g=s;e.$$.on_destroy.push((()=>g()));let{$$slots:h={},$$scope:y}=t;const v=S(h),b=fe();let{columns:w}=t,{getColumnLabel:x}=t,{getColumnConstraintType:C=(()=>{})}=t,{columnIdentifier:k}=t,{conditionIdentifier:D}=t,{value:I}=t,{layout:_="horizontal"}=t,{disableColumnChange:T=!1}=t,{allowDelete:M=!0}=t,{numberOfFilters:E=0}=t,{recordSummaryStore:O}=t;const A=E;let L,N=!1,P=I;function R(e){P!==e&&(P=e,b("update"))}function z(e){if(!e)return;const t=i.get(e);t&&(void 0===t?.parameters[0]&&(P=void 0,n(2,I=void 0)),b("update"))}me((()=>{window.clearTimeout(L)}));return e.$$set=e=>{"columns"in e&&n(3,w=e.columns),"getColumnLabel"in e&&n(23,x=e.getColumnLabel),"getColumnConstraintType"in e&&n(24,C=e.getColumnConstraintType),"columnIdentifier"in e&&n(0,k=e.columnIdentifier),"conditionIdentifier"in e&&n(1,D=e.conditionIdentifier),"value"in e&&n(2,I=e.value),"layout"in e&&n(4,_=e.layout),"disableColumnChange"in e&&n(5,T=e.disableColumnChange),"allowDelete"in e&&n(6,M=e.allowDelete),"numberOfFilters"in e&&n(25,E=e.numberOfFilters),"recordSummaryStore"in e&&n(26,O=e.recordSummaryStore),"$$scope"in e&&n(39,y=e.$$scope)},e.$$.update=()=>{var t;8&e.$$.dirty[0]&&n(13,r=[...w.values()].map((e=>e.id))),9&e.$$.dirty[0]&&n(28,o=k?w.get(k):void 0),268435456&e.$$.dirty[0]&&n(27,i=o?.allowedFiltersMap??new Map),134217728&e.$$.dirty[0]&&n(12,a=[...i].map((([e])=>e))),134217730&e.$$.dirty[0]&&n(29,l=D?i.get(D):void 0),268435456&e.$$.dirty[0]&&(c=o?.inputComponentAndProps),536870916&e.$$.dirty[0]&&n(11,u=!!l&&$L(l,I)),33554432&e.$$.dirty[0]&&E!==A&&n(7,N=!0),4&e.$$.dirty[0]&&(t=I,clearTimeout(L),L=window.setTimeout((()=>{R(t)}),500)),805306368&e.$$.dirty[0]&&n(10,d=function(e,t){const n=e?.parameters[0];if(void 0===n)return;const r=t?.abstractType.identifier;return r===n&&c?c:tL({type:n,type_options:{},display_options:{}})}(l,o)),67108864&e.$$.dirty[0]&&(n(9,p=O??$t(new dt)),g(),g=$(p,(e=>n(30,f=e)))),1073741824&e.$$.dirty[0]&&n(8,m=f)},[k,D,I,w,_,T,M,N,m,p,d,u,a,r,b,function(e){if(e){const t=w.get(e);if(t)return x(t)}return""},function(e){if(e){const t=w.get(e);if(t)return C(t)}},function(e){return e?i.get(e)?.name??"":""},function(){clearTimeout(L),R(I)},function(){P=void 0,n(2,I=void 0),b("update")},z,function(e,t){O&&O.addBespokeRecordSummary({columnId:String(k),recordId:e,recordSummary:t})},v,x,C,E,O,i,o,l,f,h,function(e){k=e,n(0,k)},function(e){D=e,n(1,D)},e=>z(e.detail),function(e){I=e,n(2,I)},()=>{n(7,N=!0)},()=>{n(7,N=!0)},()=>b("removeFilter"),y]}class DL extends at{constructor(e){super(),it(this,e,kL,CL,p,{columns:3,getColumnLabel:23,getColumnConstraintType:24,columnIdentifier:0,conditionIdentifier:1,value:2,layout:4,disableColumnChange:5,allowDelete:6,numberOfFilters:25,recordSummaryStore:26},null,[-1,-1])}}class IL{constructor(t){e(this,"type","filter"),e(this,"name","Filter"),e(this,"columnIdentifier",void 0),e(this,"conditionIdentifier",void 0),e(this,"value",void 0),"columnIdentifier"in t?(this.columnIdentifier=t.columnIdentifier,this.conditionIdentifier=t.conditionIdentifier,this.value=t.value):([this.conditionIdentifier]=Object.keys(t.spec),[this.columnIdentifier]=t.spec[this.conditionIdentifier][0].column_name,this.value=t.spec[this.conditionIdentifier][1]?.literal[0])}isValid(){const e=function(e){const t=xM.find((t=>t.id===e));if(t)return{id:t.id,name:t.name,hasAliases:!!t.aliases,hasParams:t.hasParams}}(this.conditionIdentifier);return!!e&&$L(e,this.value)}toJson(){const e={[this.conditionIdentifier]:[{column_name:[this.columnIdentifier]}]};return void 0!==this.value&&e[this.conditionIdentifier].push({literal:[this.value]}),{type:"filter",spec:e}}isColumnUsedInTransformation(e){return this.columnIdentifier===e}}class _L{constructor(t){if(e(this,"type","summarize"),e(this,"name","Summarization"),e(this,"columnIdentifier",void 0),e(this,"preprocFunctionIdentifier",void 0),e(this,"groups",void 0),e(this,"aggregations",void 0),e(this,"isValid",(()=>!0)),"columnIdentifier"in t)this.columnIdentifier=t.columnIdentifier,this.preprocFunctionIdentifier=t.preprocFunctionIdentifier,this.aggregations=t.aggregations,this.groups=t.groups;else{const e=t.spec.base_grouping_column,n=t.spec.aggregation_expressions??[],r=t.spec.grouping_expressions??[];this.columnIdentifier=e,this.aggregations=new dt(n.map((e=>[e.input_alias,{inputAlias:e.input_alias,outputAlias:e.output_alias,function:e.function}])));let o=new dt(r.map((e=>[e.input_alias,{inputAlias:e.input_alias,outputAlias:e.output_alias,preprocFunction:e.preproc}])));const s=o.get(e);s&&(this.preprocFunctionIdentifier=s.preprocFunction,o=o.without(e)),this.groups=o}}getBaseColumnOutputAlias(){return`${this.columnIdentifier}_grouped`}getOutputColumnAliases(){return[this.getBaseColumnOutputAlias(),...[...this.groups.values()].map((e=>e.outputAlias)),...[...this.aggregations.values()].map((e=>e.outputAlias))]}toJson(){const e=[...this.aggregations.entries()],t=[...this.groups.entries()];return{type:"summarize",spec:{base_grouping_column:this.columnIdentifier,grouping_expressions:[{input_alias:this.columnIdentifier,output_alias:this.getBaseColumnOutputAlias(),preproc:this.preprocFunctionIdentifier},...t.map((([e,t])=>({input_alias:e,output_alias:t.outputAlias,preproc:t.preprocFunction})))],aggregation_expressions:e.map((([e,t])=>({input_alias:e,output_alias:t.outputAlias,function:t.function})))}}}isColumnUsedInTransformation(e){return this.getOutputColumnAliases().includes(e)}}class TL{constructor(t){e(this,"type","hide"),e(this,"name","Hide Columns"),e(this,"columnAliases",void 0),this.columnAliases="columnAliases"in t?t.columnAliases:t.spec}isValid(){return this.columnAliases.length>0}toJson(){return{type:this.type,spec:this.columnAliases}}isColumnUsedInTransformation(e){return this.columnAliases.includes(e)}}class ML{constructor(t){e(this,"type","order"),e(this,"name","Sort"),e(this,"columnIdentifier",void 0),e(this,"sortDirection",void 0),e(this,"isValid",(()=>!0)),"columnIdentifier"in t?(this.columnIdentifier=t.columnIdentifier,this.sortDirection=t.sortDirection):(this.columnIdentifier=t.spec[0].field,this.sortDirection="desc"===t.spec[0].direction?"DESCENDING":"ASCENDING")}toJson(){return{type:this.type,spec:[{field:this.columnIdentifier,direction:"DESCENDING"===this.sortDirection?"desc":"asc"}]}}isColumnUsedInTransformation(e){return this.columnIdentifier===e}}function EL(e){switch(e.type){case"filter":return new IL(e);case"summarize":return new _L(e);case"hide":return new TL(e);case"order":return new ML(e);default:throw new Il(e)}}class OL{constructor(t){let n;e(this,"base_table",void 0),e(this,"id",void 0),e(this,"name",void 0),e(this,"description",void 0),e(this,"initial_columns",void 0),e(this,"transformationModels",void 0),e(this,"display_names",void 0),e(this,"isValid",void 0),e(this,"isRunnable",void 0),this.base_table=t?.base_table,this.id=t?.id,this.name=t?.name,this.description=t?.description,this.initial_columns=t?.initial_columns??[],n=t&&"transformationModels"in t?[...t.transformationModels]:t?.transformations?.map(EL)??[],this.transformationModels=n,this.display_names=t?.display_names??{};const r=void 0===(o={base_table:t?.base_table,transformationModels:n}).base_table?{isValid:!1,isRunnable:!1}:{isValid:o.transformationModels.every((e=>e.isValid())),isRunnable:!0};var o;this.isValid=r.isValid,this.isRunnable=r.isRunnable}withBaseTable(e){return{model:new OL({base_table:e,id:this.id,name:this.name}),type:"baseTable",diff:{base_table:e}}}withId(e){return{model:new OL({...this,id:e}),type:"id",diff:{id:e}}}withName(e){return{model:new OL({...this,name:e}),type:"name",diff:{name:e}}}withDescription(e){return{model:new OL({...this,description:e}),type:"name",diff:{description:e}}}withInitialColumn(e){const t=[...this.initial_columns,e];return{model:new OL({...this,initial_columns:t,display_names:{...this.display_names,[e.alias]:e.alias}}),type:"initialColumnsArray",diff:{initial_columns:t}}}withoutInitialColumns(e){const t=this.initial_columns.filter((t=>!e.includes(t.alias)));return{model:new OL({...this,initial_columns:t}),type:"initialColumnsArray",diff:{initial_columns:t}}}withoutInitialColumn(e){return this.withoutInitialColumns([e])}withDisplayNameForColumn(e,t){const n={...this.display_names,[e]:t};return{model:new OL({...this,display_names:n}),type:"initialColumnName",diff:{display_names:n}}}addTransform(e){const t=new OL({...this,transformationModels:[...this.transformationModels,e]});return{model:t,type:"transformations",diff:{transformations:t.toJson().transformations}}}addFilterTransform(e){return this.addTransform(e)}addSummarizationTransform(e){if(this.hasSummarizationTransform())throw new Error("QueryModel currently allows only a single summarization transformation");return this.addTransform(e)}addHideTransform(e){return this.addTransform(e)}addSortTransform(e){return this.addTransform(e)}removeLastTransform(){const e=new OL({...this,transformationModels:this.transformationModels.slice(0,-1)});return{model:e,type:"transformations",diff:{transformations:e.toJson().transformations}}}updateTransform(e,t){const n=[...this.transformationModels];n[e]=t;const r=new OL({...this,transformationModels:n});return{model:r,type:"transformations",diff:{transformations:r.toJson().transformations}}}getInitialColumnsAndTransformsUtilizingThemByColumnIds(e){const t=this.initial_columns.filter((t=>e.includes(t.id))),n=t.map((e=>e.alias)),r=[];let o=!1;return this.transformationModels.forEach(((e,t)=>{if(!o)return"summarize"===e.type?(o=!0,void r.push({index:t,transform:e})):void(n.some((t=>e.isColumnUsedInTransformation(t)))&&r.push({index:t,transform:e}));r.push({index:t,transform:e})})),{initialColumnsUsingColumnIds:t,transformsUsingColumnIds:r}}withoutColumnsById(e){const t=this.initial_columns.filter((t=>!e.includes(t.id)));let n=this.transformationModels;const r=this.transformationModels.findIndex((e=>"summarize"===e.type));r>-1&&(n=n.slice(0,r));const o=this.initial_columns.filter((t=>e.includes(t.id))).map((e=>e.alias)),s=n.filter((e=>!o.some((t=>e.isColumnUsedInTransformation(t))))),i=new OL({...this,initial_columns:t,transformationModels:s});return{model:i,type:"initialColumnsAndTransformations",diff:{initial_columns:t,transformations:i.toJson().transformations}}}getColumn(e){return this.initial_columns.find((t=>t.alias===e))}getSummarizationTransforms(){return this.transformationModels.filter((e=>"summarize"===e.type))}isColumnUsedInTransformations(e){return this.transformationModels.some((t=>t.isColumnUsedInTransformation(e)))}areColumnsUsedInTransformations(e){return e.some((e=>this.isColumnUsedInTransformations(e)))}getOutputColumnAliases(){const e=this.getSummarizationTransforms();return e.length>0?e[e.length-1].getOutputColumnAliases():this.initial_columns.map((e=>e.alias))}getAllSortedColumns(){return this.transformationModels.filter((e=>"order"===e.type)).map((e=>e.columnIdentifier))}getAllSortableColumns(){const e=new Set(this.getAllSortedColumns());return this.getOutputColumnAliases().filter((t=>!e.has(t)))}toRunRequestJson(){if(void 0===this.base_table)throw new Error("Cannot formulate run request since base_table is undefined");const e=this.isValid?this.transformationModels:this.transformationModels.filter((e=>e.isValid()));return{base_table:this.base_table,initial_columns:this.initial_columns,transformations:e.map((e=>e.toJson())),display_names:this.display_names}}getColumnCount(e){return this.initial_columns.filter((t=>t.id===e)).length}toJson(){return{id:this.id,name:this.name,description:this.description,base_table:this.base_table,initial_columns:this.initial_columns,transformations:this.transformationModels.map((e=>e.toJson())),display_names:this.display_names}}isSaved(){return!!this.id}hasSummarizationTransform(){return this.transformationModels.some((e=>"summarize"===e.type))}}class AL{constructor(t,n){e(this,"queryJSON",void 0),e(this,"isValid",void 0),e(this,"next",void 0),e(this,"prev",void 0),this.queryJSON=t,this.isValid=n}}class LL{constructor(t){if(e(this,"current",void 0),t){const{query:e,isValid:n}=t,r=JSON.parse(JSON.stringify(e.toJson()));this.current=new AL(r,n)}}pushState(e,t){this.current&&this.current.next&&(this.current.next.prev=void 0);const n=JSON.parse(JSON.stringify(e.toJson())),r=new AL(n,t);return this.current&&!this.current.isValid?r.prev=this.current.prev:(r.prev=this.current,this.current&&(this.current.next=r)),this.current=r,r}isUndoPossible(){return!!this.current?.prev}isRedoPossible(){return!!this.current?.next}undo(){if(this.current&&this.current.prev)return this.current=this.current.prev,new OL(this.current.queryJSON)}redo(){if(this.current&&this.current.next)return this.current=this.current.next,new OL(this.current.queryJSON)}clear(){this.current=void 0}}const NL=(e,t)=>e[1].linksTo&&!t[1].linksTo?1:!e[1].linksTo&&t[1].linksTo?-1:0;function PL(e,t,n,r=""){const o=e.joinable_tables.filter((e=>e.depth===n&&!1===e.fk_path[n-1][1]&&e.jp_path[n-1][0]===t&&0===e.jp_path.join(",").indexOf(r)));if(0===o.length)return;if(o.length>1)throw new Error(`Multiple links present for the same column: ${t}`);const s=o[0],i=e.tables[s.target],a={id:s.target,name:i.name},l=s.jp_path[n-1][1],c={id:l,name:e.columns[l].name},u=i.columns.map((t=>{const r=e.columns[t];return[t,{id:t,name:r.name,tableName:i.name,type:r.type,linksTo:PL(e,t,n+1,s.jp_path.join(",")),jpPath:s.jp_path,producesMultipleResults:s.multiple_results}]}));return{...a,linkedToColumn:c,columns:new Map(u.sort(NL))}}function RL(e,t){const n={alias:e.alias,display_name:e.display_name??e.alias,type:e.type??"unknown",type_options:e.type_options??null,display_options:e.display_options??null},r=iM(n.type,t),o=e.is_initial_column?{is_initial_column:!0,input_column_name:e.input_column_name,input_table_name:e.input_table_name,input_table_id:e.input_table_id}:{is_initial_column:!1,input_alias:e.input_alias};return{id:n.alias,column:n,abstractType:r,cellComponentAndProps:eL({cellInfo:r.cellInfo,column:n}),inputComponentAndProps:tL(n,void 0,r.cellInfo),initialInputValue:nL(n,void 0,r.cellInfo),allowedFiltersMap:DM(r.identifier),preprocFunctions:TM(r.identifier),summarizationFunctions:LM(r.identifier),source:o,formatCellValue:rL(n)}}function zL(e,t){return new dt(e.map(((e,n)=>[e,{...t.get(e)??RL({alias:e,is_initial_column:!0},new Map),columnIndex:n}])))}class FL{constructor({page:t,size:n}={}){e(this,"page",void 0),e(this,"size",void 0),e(this,"offset",void 0),e(this,"leftBound",void 0),e(this,"rightBound",void 0),this.page=t??1,this.size=n??500,this.offset=(this.page-1)*this.size,this.leftBound=this.offset+1,this.rightBound=this.offset+this.size}recordsRequestParams(){return{limit:this.size,offset:this.offset}}terse(){return[this.page,this.size]}static fromTerse(e){return new FL({page:e[0],size:e[1]})}}const HL=Symbol("ClipboardHandlerStore");const qL={};function VL(){return he(qL)}function jL(e){let t;const n=e[17].default,r=g(n,e,e[16],null);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||65536&o)&&v(r,n,e,e[16],t?y(n,e[16],o,null):b(e[16]),null)},i(e){t||(qe(r,e),t=!0)},o(e){Ve(r,e),t=!1},d(e){r&&r.d(e)}}}function WL(e){let t,n,r,o,s=e[0].length&&jL(e);return{c(){t=F("div"),s&&s.c(),B(t,"class","sheet svelte-hyqkst"),B(t,"style",e[4]),te(t,"has-border",e[3]),te(t,"uses-virtual-list",e[1]),te(t,"set-to-row-width",e[2])},m(i,a){P(i,t,a),s&&s.m(t,null),n=!0,r||(o=[W(t,"click",e[18]),W(t,"focusin",e[5]),W(t,"focusout",e[6])],r=!0)},p(e,[r]){e[0].length?s?(s.p(e,r),1&r&&qe(s,1)):(s=jL(e),s.c(),qe(s,1),s.m(t,null)):s&&(Fe(),Ve(s,1,1,(()=>{s=null})),He()),(!n||16&r)&&B(t,"style",e[4]),(!n||8&r)&&te(t,"has-border",e[3]),(!n||2&r)&&te(t,"uses-virtual-list",e[1]),(!n||4&r)&&te(t,"set-to-row-width",e[2])},i(e){n||(qe(s),n=!0)},o(e){Ve(s),n=!1},d(e){e&&R(t),s&&s.d(),r=!1,u(o)}}}function UL(e,t,n){let r,o,s,{$$slots:i={},$$scope:a}=t;const l=he(HL);let{columns:c}=t,{usesVirtualList:u=!1}=t,{restrictWidthToRowWidth:d=!1}=t,{hasBorder:p=!1}=t,{hasPaddingRight:$=!1}=t,{clipboardHandler:m}=t,{getColumnIdentifier:f}=t,{scrollOffset:g=0}=t,{horizontalScrollOffset:h=0}=t,{paddingRight:y=($?100:0)}=t,{columnWidths:v=new dt}=t;const b={getColumnWidth:function(e){const t=v.get(e);return void 0!==t?t:c.some((t=>f(t)===e))?160:0},setColumnWidth:(e,t)=>{n(9,v=v.with(e,t))},resetColumnWidth:e=>{n(9,v=v.without(e))},setHorizontalScrollOffset:e=>{n(8,h=e)},setScrollOffset:e=>{n(7,g=e)}},w={columnStyleMap:mt(r),rowWidth:mt(o),horizontalScrollOffset:mt(h),scrollOffset:mt(g),paddingRight:mt(y)};return ge(qL,{stores:w,api:b}),e.$$set=e=>{"columns"in e&&n(0,c=e.columns),"usesVirtualList"in e&&n(1,u=e.usesVirtualList),"restrictWidthToRowWidth"in e&&n(2,d=e.restrictWidthToRowWidth),"hasBorder"in e&&n(3,p=e.hasBorder),"hasPaddingRight"in e&&n(10,$=e.hasPaddingRight),"clipboardHandler"in e&&n(11,m=e.clipboardHandler),"getColumnIdentifier"in e&&n(12,f=e.getColumnIdentifier),"scrollOffset"in e&&n(7,g=e.scrollOffset),"horizontalScrollOffset"in e&&n(8,h=e.horizontalScrollOffset),"paddingRight"in e&&n(13,y=e.paddingRight),"columnWidths"in e&&n(9,v=e.columnWidths),"$$scope"in e&&n(16,a=e.$$scope)},e.$$.update=()=>{12801&e.$$.dirty&&n(15,({columnStyleMap:r,rowWidth:o}=function(e,t,n,r){let o=0;const s=new Map;return e.forEach((e=>{const r=t(e),i=n.get(r)??160;s.set(r,{left:o,width:i,styleString:`width: ${i}px; left: ${o}px;`}),o+=i})),{columnStyleMap:s,rowWidth:o+r}}(c,f,v,y)),r,(n(14,o),n(0,c),n(12,f),n(9,v),n(13,y))),16384&e.$$.dirty&&w.rowWidth.set(o),32768&e.$$.dirty&&w.columnStyleMap.set(r),256&e.$$.dirty&&w.horizontalScrollOffset.set(h),128&e.$$.dirty&&w.scrollOffset.set(g),8192&e.$$.dirty&&w.paddingRight.set(y),16388&e.$$.dirty&&n(4,s=d?`width:${o}px;`:void 0)},[c,u,d,p,s,function(){l?.set(m)},function(){l?.set(void 0)},g,h,v,$,m,f,y,o,r,a,i,function(t){ve.call(this,e,t)}]}class YL extends at{constructor(e){super(),it(this,e,UL,WL,p,{columns:0,usesVirtualList:1,restrictWidthToRowWidth:2,hasBorder:3,hasPaddingRight:10,clipboardHandler:11,getColumnIdentifier:12,scrollOffset:7,horizontalScrollOffset:8,paddingRight:13,columnWidths:9})}}function BL(e){let t,n,r,o=`${e[2]}px`;const s=e[7].default,i=g(s,e,e[6],null);return{c(){t=F("div"),n=F("div"),i&&i.c(),B(n,"class","svelte-1w4nhl1"),Z(n,"width",o,!1),B(t,"data-sheet-element","header"),B(t,"class","svelte-1w4nhl1"),te(t,"inherit-font-style",e[0])},m(o,s){P(o,t,s),A(t,n),i&&i.m(n,null),e[8](t),r=!0},p(e,[a]){i&&i.p&&(!r||64&a)&&v(i,s,e,e[6],r?y(s,e[6],a,null):b(e[6]),null),4&a&&o!==(o=`${e[2]}px`)&&Z(n,"width",o,!1),(!r||1&a)&&te(t,"inherit-font-style",e[0])},i(e){r||(qe(i,e),r=!0)},o(e){Ve(i,e),r=!1},d(n){n&&R(t),i&&i.d(n),e[8](null)}}}function KL(e,t,n){let r,o,{$$slots:s={},$$scope:i}=t;const{stores:a,api:l}=VL(),{horizontalScrollOffset:c}=a;f(e,c,(e=>n(5,r=e)));const{rowWidth:u}=a;f(e,u,(e=>n(2,o=e)));let d,{inheritFontStyle:p=!1}=t;function $(e){d&&n(1,d.scrollLeft=e,d)}return pe((()=>{$(r);const e=e=>{const{scrollLeft:t}=e.target;!function(e){r!==e&&l.setHorizontalScrollOffset(e)}(t)};return d.addEventListener("scroll",e),()=>{d.removeEventListener("scroll",e)}})),e.$$set=e=>{"inheritFontStyle"in e&&n(0,p=e.inheritFontStyle),"$$scope"in e&&n(6,i=e.$$scope)},e.$$.update=()=>{32&e.$$.dirty&&$(r)},[p,d,o,c,u,r,i,s,function(e){we[e?"unshift":"push"]((()=>{d=e,n(1,d)}))}]}class GL extends at{constructor(e){super(),it(this,e,KL,BL,p,{inheritFontStyle:0})}}const XL=e=>({htmlAttributes:1&e,style:2&e}),JL=e=>({htmlAttributes:e[0],style:e[1]?.styleString});function ZL(e){let t;const n=e[8].default,r=g(n,e,e[7],JL);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,[o]){r&&r.p&&(!t||131&o)&&v(r,n,e,e[7],t?y(n,e[7],o,XL):b(e[7]),JL)},i(e){t||(qe(r,e),t=!0)},o(e){Ve(r,e),t=!1},d(e){r&&r.d(e)}}}function QL(e,t,n){let r,o,s,{$$slots:i={},$$scope:a}=t;const{stores:l}=VL(),{columnStyleMap:c}=l;f(e,c,(e=>n(6,s=e)));let{columnIdentifierKey:u}=t,{isStatic:d=!1}=t,{isControlCell:p=!1}=t;return e.$$set=e=>{"columnIdentifierKey"in e&&n(3,u=e.columnIdentifierKey),"isStatic"in e&&n(4,d=e.isStatic),"isControlCell"in e&&n(5,p=e.isControlCell),"$$scope"in e&&n(7,a=e.$$scope)},e.$$.update=()=>{72&e.$$.dirty&&n(1,r=s.get(u)),48&e.$$.dirty&&n(0,o={"data-sheet-element":"cell","data-cell-static":!!d||void 0,"data-cell-control":!!p||void 0})},[o,r,c,u,d,p,s,a,i]}class eN extends at{constructor(e){super(),it(this,e,QL,ZL,p,{columnIdentifierKey:3,isStatic:4,isControlCell:5})}}const tN=e=>({htmlAttributes:1&e,style:2&e}),nN=e=>({htmlAttributes:e[0],style:e[1]});function rN(e){let t;const n=e[8].default,r=g(n,e,e[7],nN);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,[o]){r&&r.p&&(!t||131&o)&&v(r,n,e,e[7],t?y(n,e[7],o,tN):b(e[7]),nN)},i(e){t||(qe(r,e),t=!0)},o(e){Ve(r,e),t=!1},d(e){r&&r.d(e)}}}function oN(e,t,n){let r,o,s,{$$slots:i={},$$scope:a}=t;const{stores:l}=VL(),{columnStyleMap:c}=l;f(e,c,(e=>n(6,s=e)));let{index:u}=t,{columnSpan:d=1}=t;let{isStatic:p=!1}=t;return e.$$set=e=>{"index"in e&&n(3,u=e.index),"columnSpan"in e&&n(4,d=e.columnSpan),"isStatic"in e&&n(5,p=e.isStatic),"$$scope"in e&&n(7,a=e.$$scope)},e.$$.update=()=>{88&e.$$.dirty&&n(1,r=function(e,t,n){const r=[...e.values()],o=r[u]?u:0,s=r[o]?.left??0;let i=r[o+n-1];return i=i??r[r.length-1],`left: ${s}px; width: ${i?i.left+i.width-s:0}px`}(s,0,d)),32&e.$$.dirty&&n(0,o={"data-sheet-element":"cell","data-cell-static":!!p||void 0})},[o,r,c,u,d,p,s,a,i]}class sN extends at{constructor(e){super(),it(this,e,oN,rN,p,{index:3,columnSpan:4,isStatic:5})}}function iN(e){let t,n,r,o;return{c(){t=F("div"),t.innerHTML='<div class="indicator svelte-19pm5e"></div>',B(t,"class","column-resizer svelte-19pm5e"),te(t,"is-resizing",e[2])},m(s,i){P(s,t,i),r||(o=[D(n=cn.call(null,t,{getStartingValue:e[4],onMove:e[5],onStart:e[6],onStop:e[7],min:e[0]})),W(t,"dblclick",e[8])],r=!0)},p(e,[r]){n&&d(n.update)&&7&r&&n.update.call(null,{getStartingValue:e[4],onMove:e[5],onStart:e[6],onStop:e[7],min:e[0]}),4&r&&te(t,"is-resizing",e[2])},i:s,o:s,d(e){e&&R(t),r=!1,u(o)}}}function aN(e,t,n){const{api:r}=VL();let{minColumnWidth:o=50}=t,{columnIdentifierKey:s}=t,i=!1;return e.$$set=e=>{"minColumnWidth"in e&&n(0,o=e.minColumnWidth),"columnIdentifierKey"in e&&n(1,s=e.columnIdentifierKey)},[o,s,i,r,()=>r.getColumnWidth(s),e=>r.setColumnWidth(s,e),()=>{n(2,i=!0)},()=>{n(2,i=!1)},()=>r.resetColumnWidth(s)]}class lN extends at{constructor(e){super(),it(this,e,aN,iN,p,{minColumnWidth:0,columnIdentifierKey:1})}}const cN=32;function uN(e){const t=e.__resizeTriggers__,n=t.firstElementChild,r=t.lastElementChild,o=n.firstElementChild;r.scrollLeft=r.scrollWidth,r.scrollTop=r.scrollHeight,o.style.width=n.offsetWidth+1+"px",o.style.height=n.offsetHeight+1+"px",n.scrollLeft=n.scrollWidth,n.scrollTop=n.scrollHeight}function dN(){const e=function(){const e=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(e){return window.setTimeout(e,20)};return t=>e(t)}(),t=function(){const e=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.clearTimeout;return t=>e(t)}();function n(n){const r=n.target;if(r.className?.indexOf?.("contract-trigger")<0&&r.className?.indexOf?.("expand-trigger")<0)return;const o=this;uN(this),this.__resizeRAF__&&t(this.__resizeRAF__),this.__resizeRAF__=e((()=>{(function(e){return e.offsetWidth!==e.__resizeLast__.width||e.offsetHeight!==e.__resizeLast__.height})(o)&&(o.__resizeLast__.width=o.offsetWidth,o.__resizeLast__.height=o.offsetHeight,o.__resizeListeners__.forEach((e=>{e.call(o,n)})))}))}let r=!1,o="",s="animationstart",i="";const a="Webkit Moz O ms".split(" "),l="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),c=document.createElement("fakeelement");if(void 0!==c.style.animationName&&(r=!0),!1===r)for(let $=0;$<a.length;$+=1)if(void 0!==c.style[a[$]+"AnimationName"]){i=a[$],o="-"+i.toLowerCase()+"-",s=l[$],r=!0;break}const u="resizeanim",d="@"+o+"keyframes "+"resizeanim { from { opacity: 0; } to { opacity: 0; } } ",p=o+"animation: 1ms "+"resizeanim; ";return{addResizeListener:function(e,t){if(!e.__resizeTriggers__){const t=e.ownerDocument,r=window.getComputedStyle(e);r&&"static"===r.position&&(e.style.position="relative"),function(e){if(!e.getElementById("detectElementResize")){const t=(d??"")+".resize-triggers { "+(p??"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; }.resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',n=e.head||e.getElementsByTagName("head")[0],r=e.createElement("style");r.id="detectElementResize",r.type="text/css",r.styleSheet?r.styleSheet.cssText=t:r.appendChild(e.createTextNode(t)),n.appendChild(r)}}(t),e.__resizeLast__={},e.__resizeListeners__=[],(e.__resizeTriggers__=t.createElement("div")).className="resize-triggers";const o=t.createElement("div");o.className="expand-trigger",o.appendChild(t.createElement("div"));const i=t.createElement("div");i.className="contract-trigger",e.__resizeTriggers__.appendChild(o),e.__resizeTriggers__.appendChild(i),e.appendChild(e.__resizeTriggers__),uN(e),e.addEventListener("scroll",n,!0),s&&(e.__resizeTriggers__.__animationListener__=function(t){t.animationName===u&&uN(e)},e.__resizeTriggers__.addEventListener(s,e.__resizeTriggers__.__animationListener__))}e.__resizeListeners__.push(t)},removeResizeListener:function(e,t){if(e.__resizeListeners__.splice(e.__resizeListeners__.indexOf(t),1),!e.__resizeListeners__.length){e.removeEventListener("scroll",n,!0),e.__resizeTriggers__.__animationListener__&&(e.__resizeTriggers__.removeEventListener(s,e.__resizeTriggers__.__animationListener__),e.__resizeTriggers__.__animationListener__=null);try{e.__resizeTriggers__=!e.removeChild(e.__resizeTriggers__)}catch(r){}}}}}const pN=e=>({height:1&e}),$N=e=>({height:e[0]});function mN(e){let t;const n=e[6].default,r=g(n,e,e[5],$N);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||33&o)&&v(r,n,e,e[5],t?y(n,e[5],o,pN):b(e[5]),$N)},i(e){t||(qe(r,e),t=!0)},o(e){Ve(r,e),t=!1},d(e){r&&r.d(e)}}}function fN(e){let t,n,r=!e[2]&&mN(e);return{c(){t=F("div"),r&&r.c(),B(t,"class",e[3])},m(o,s){P(o,t,s),r&&r.m(t,null),e[7](t),n=!0},p(e,[o]){e[2]?r&&(Fe(),Ve(r,1,1,(()=>{r=null})),He()):r?(r.p(e,o),4&o&&qe(r,1)):(r=mN(e),r.c(),qe(r,1),r.m(t,null)),(!n||8&o)&&B(t,"class",e[3])},i(e){n||(qe(r),n=!0)},o(e){Ve(r),n=!1},d(n){n&&R(t),r&&r.d(),e[7](null)}}}function gN(e,t,n){let r,o,s,{$$slots:i={},$$scope:a}=t,{class:l="default"}=t,c=!1,u=0;function d(){if(s){const e=s.offsetHeight||0,t=window.getComputedStyle(s)||{},r=parseInt(t.paddingTop,10)||0,o=parseInt(t.paddingBottom,10)||0;u!==e-r-o&&n(0,u=e-r-o)}}return pe((()=>{let e;return o?.parentNode&&(s=o.parentNode,e=dN(),e.addResizeListener(s,d),d()),()=>{e&&s&&e.removeResizeListener(s,d)}})),e.$$set=e=>{"class"in e&&n(4,l=e.class),"$$scope"in e&&n(5,a=e.$$scope)},e.$$.update=()=>{16&e.$$.dirty&&n(3,r=["virtual-list","resizer",l].join(" ")),1&e.$$.dirty&&n(2,c=0===u)},[u,o,c,r,l,a,i,function(e){we[e?"unshift":"push"]((()=>{o=e,n(1,o)}))}]}class hN extends at{constructor(e){super(),it(this,e,gN,fN,p,{class:4})}}
/*!
             * perfect-scrollbar v1.5.3
             * Copyright 2021 Hyunje Jun, MDBootstrap and Contributors
             * Licensed under MIT
             */function yN(e){return getComputedStyle(e)}function vN(e,t){for(var n in t){var r=t[n];"number"==typeof r&&(r+="px"),e.style[n]=r}return e}function bN(e){var t=document.createElement("div");return t.className=e,t}var wN="undefined"!=typeof Element&&(Element.prototype.matches||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector);function xN(e,t){if(!wN)throw new Error("No element matching method supported");return wN.call(e,t)}function SN(e){e.remove?e.remove():e.parentNode&&e.parentNode.removeChild(e)}function CN(e,t){return Array.prototype.filter.call(e.children,(function(e){return xN(e,t)}))}var kN="ps",DN="ps__rtl",IN={thumb:function(e){return"ps__thumb-"+e},rail:function(e){return"ps__rail-"+e},consuming:"ps__child--consume"},_N={focus:"ps--focus",clicking:"ps--clicking",active:function(e){return"ps--active-"+e},scrolling:function(e){return"ps--scrolling-"+e}},TN={x:null,y:null};function MN(e,t){var n=e.element.classList,r=_N.scrolling(t);n.contains(r)?clearTimeout(TN[t]):n.add(r)}function EN(e,t){TN[t]=setTimeout((function(){return e.isAlive&&e.element.classList.remove(_N.scrolling(t))}),e.settings.scrollingThreshold)}var ON=function(e){this.element=e,this.handlers={}},AN={isEmpty:{configurable:!0}};ON.prototype.bind=function(e,t){void 0===this.handlers[e]&&(this.handlers[e]=[]),this.handlers[e].push(t),this.element.addEventListener(e,t,!1)},ON.prototype.unbind=function(e,t){var n=this;this.handlers[e]=this.handlers[e].filter((function(r){return!(!t||r===t)||(n.element.removeEventListener(e,r,!1),!1)}))},ON.prototype.unbindAll=function(){for(var e in this.handlers)this.unbind(e)},AN.isEmpty.get=function(){var e=this;return Object.keys(this.handlers).every((function(t){return 0===e.handlers[t].length}))},Object.defineProperties(ON.prototype,AN);var LN=function(){this.eventElements=[]};function NN(e){if("function"==typeof window.CustomEvent)return new CustomEvent(e);var t=document.createEvent("CustomEvent");return t.initCustomEvent(e,!1,!1,void 0),t}function PN(e,t,n,r,o){var s;if(void 0===r&&(r=!0),void 0===o&&(o=!1),"top"===t)s=["contentHeight","containerHeight","scrollTop","y","up","down"];else{if("left"!==t)throw new Error("A proper axis should be provided");s=["contentWidth","containerWidth","scrollLeft","x","left","right"]}!function(e,t,n,r,o){var s=n[0],i=n[1],a=n[2],l=n[3],c=n[4],u=n[5];void 0===r&&(r=!0);void 0===o&&(o=!1);var d=e.element;e.reach[l]=null,d[a]<1&&(e.reach[l]="start");d[a]>e[s]-e[i]-1&&(e.reach[l]="end");t&&(d.dispatchEvent(NN("ps-scroll-"+l)),t<0?d.dispatchEvent(NN("ps-scroll-"+c)):t>0&&d.dispatchEvent(NN("ps-scroll-"+u)),r&&function(e,t){MN(e,t),EN(e,t)}(e,l));e.reach[l]&&(t||o)&&d.dispatchEvent(NN("ps-"+l+"-reach-"+e.reach[l]))}(e,n,s,r,o)}function RN(e){return parseInt(e,10)||0}LN.prototype.eventElement=function(e){var t=this.eventElements.filter((function(t){return t.element===e}))[0];return t||(t=new ON(e),this.eventElements.push(t)),t},LN.prototype.bind=function(e,t,n){this.eventElement(e).bind(t,n)},LN.prototype.unbind=function(e,t,n){var r=this.eventElement(e);r.unbind(t,n),r.isEmpty&&this.eventElements.splice(this.eventElements.indexOf(r),1)},LN.prototype.unbindAll=function(){this.eventElements.forEach((function(e){return e.unbindAll()})),this.eventElements=[]},LN.prototype.once=function(e,t,n){var r=this.eventElement(e),o=function(e){r.unbind(t,o),n(e)};r.bind(t,o)};var zN={isWebKit:"undefined"!=typeof document&&"WebkitAppearance"in document.documentElement.style,supportsTouch:"undefined"!=typeof window&&("ontouchstart"in window||"maxTouchPoints"in window.navigator&&window.navigator.maxTouchPoints>0||window.DocumentTouch&&document instanceof window.DocumentTouch),supportsIePointer:"undefined"!=typeof navigator&&navigator.msMaxTouchPoints,isChrome:"undefined"!=typeof navigator&&/Chrome/i.test(navigator&&navigator.userAgent)};function FN(e){var t=e.element,n=Math.floor(t.scrollTop),r=t.getBoundingClientRect();e.containerWidth=Math.round(r.width),e.containerHeight=Math.round(r.height),e.contentWidth=t.scrollWidth,e.contentHeight=t.scrollHeight,t.contains(e.scrollbarXRail)||(CN(t,IN.rail("x")).forEach((function(e){return SN(e)})),t.appendChild(e.scrollbarXRail)),t.contains(e.scrollbarYRail)||(CN(t,IN.rail("y")).forEach((function(e){return SN(e)})),t.appendChild(e.scrollbarYRail)),!e.settings.suppressScrollX&&e.containerWidth+e.settings.scrollXMarginOffset<e.contentWidth?(e.scrollbarXActive=!0,e.railXWidth=e.containerWidth-e.railXMarginWidth,e.railXRatio=e.containerWidth/e.railXWidth,e.scrollbarXWidth=HN(e,RN(e.railXWidth*e.containerWidth/e.contentWidth)),e.scrollbarXLeft=RN((e.negativeScrollAdjustment+t.scrollLeft)*(e.railXWidth-e.scrollbarXWidth)/(e.contentWidth-e.containerWidth))):e.scrollbarXActive=!1,!e.settings.suppressScrollY&&e.containerHeight+e.settings.scrollYMarginOffset<e.contentHeight?(e.scrollbarYActive=!0,e.railYHeight=e.containerHeight-e.railYMarginHeight,e.railYRatio=e.containerHeight/e.railYHeight,e.scrollbarYHeight=HN(e,RN(e.railYHeight*e.containerHeight/e.contentHeight)),e.scrollbarYTop=RN(n*(e.railYHeight-e.scrollbarYHeight)/(e.contentHeight-e.containerHeight))):e.scrollbarYActive=!1,e.scrollbarXLeft>=e.railXWidth-e.scrollbarXWidth&&(e.scrollbarXLeft=e.railXWidth-e.scrollbarXWidth),e.scrollbarYTop>=e.railYHeight-e.scrollbarYHeight&&(e.scrollbarYTop=e.railYHeight-e.scrollbarYHeight),function(e,t){var n={width:t.railXWidth},r=Math.floor(e.scrollTop);t.isRtl?n.left=t.negativeScrollAdjustment+e.scrollLeft+t.containerWidth-t.contentWidth:n.left=e.scrollLeft;t.isScrollbarXUsingBottom?n.bottom=t.scrollbarXBottom-r:n.top=t.scrollbarXTop+r;vN(t.scrollbarXRail,n);var o={top:r,height:t.railYHeight};t.isScrollbarYUsingRight?t.isRtl?o.right=t.contentWidth-(t.negativeScrollAdjustment+e.scrollLeft)-t.scrollbarYRight-t.scrollbarYOuterWidth-9:o.right=t.scrollbarYRight-e.scrollLeft:t.isRtl?o.left=t.negativeScrollAdjustment+e.scrollLeft+2*t.containerWidth-t.contentWidth-t.scrollbarYLeft-t.scrollbarYOuterWidth:o.left=t.scrollbarYLeft+e.scrollLeft;vN(t.scrollbarYRail,o),vN(t.scrollbarX,{left:t.scrollbarXLeft,width:t.scrollbarXWidth-t.railBorderXWidth}),vN(t.scrollbarY,{top:t.scrollbarYTop,height:t.scrollbarYHeight-t.railBorderYWidth})}(t,e),e.scrollbarXActive?t.classList.add(_N.active("x")):(t.classList.remove(_N.active("x")),e.scrollbarXWidth=0,e.scrollbarXLeft=0,t.scrollLeft=!0===e.isRtl?e.contentWidth:0),e.scrollbarYActive?t.classList.add(_N.active("y")):(t.classList.remove(_N.active("y")),e.scrollbarYHeight=0,e.scrollbarYTop=0,t.scrollTop=0)}function HN(e,t){return e.settings.minScrollbarLength&&(t=Math.max(t,e.settings.minScrollbarLength)),e.settings.maxScrollbarLength&&(t=Math.min(t,e.settings.maxScrollbarLength)),t}function qN(e,t){var n=t[0],r=t[1],o=t[2],s=t[3],i=t[4],a=t[5],l=t[6],c=t[7],u=t[8],d=e.element,p=null,$=null,m=null;function f(t){t.touches&&t.touches[0]&&(t[o]=t.touches[0].pageY),d[l]=p+m*(t[o]-$),MN(e,c),FN(e),t.stopPropagation(),t.type.startsWith("touch")&&t.changedTouches.length>1&&t.preventDefault()}function g(){EN(e,c),e[u].classList.remove(_N.clicking),e.event.unbind(e.ownerDocument,"mousemove",f)}function h(t,i){p=d[l],i&&t.touches&&(t[o]=t.touches[0].pageY),$=t[o],m=(e[r]-e[n])/(e[s]-e[a]),i?e.event.bind(e.ownerDocument,"touchmove",f):(e.event.bind(e.ownerDocument,"mousemove",f),e.event.once(e.ownerDocument,"mouseup",g),t.preventDefault()),e[u].classList.add(_N.clicking),t.stopPropagation()}e.event.bind(e[i],"mousedown",(function(e){h(e)})),e.event.bind(e[i],"touchstart",(function(e){h(e,!0)}))}var VN={"click-rail":function(e){e.element,e.event.bind(e.scrollbarY,"mousedown",(function(e){return e.stopPropagation()})),e.event.bind(e.scrollbarYRail,"mousedown",(function(t){var n=t.pageY-window.pageYOffset-e.scrollbarYRail.getBoundingClientRect().top>e.scrollbarYTop?1:-1;e.element.scrollTop+=n*e.containerHeight,FN(e),t.stopPropagation()})),e.event.bind(e.scrollbarX,"mousedown",(function(e){return e.stopPropagation()})),e.event.bind(e.scrollbarXRail,"mousedown",(function(t){var n=t.pageX-window.pageXOffset-e.scrollbarXRail.getBoundingClientRect().left>e.scrollbarXLeft?1:-1;e.element.scrollLeft+=n*e.containerWidth,FN(e),t.stopPropagation()}))},"drag-thumb":function(e){qN(e,["containerWidth","contentWidth","pageX","railXWidth","scrollbarX","scrollbarXWidth","scrollLeft","x","scrollbarXRail"]),qN(e,["containerHeight","contentHeight","pageY","railYHeight","scrollbarY","scrollbarYHeight","scrollTop","y","scrollbarYRail"])},keyboard:function(e){var t=e.element;e.event.bind(e.ownerDocument,"keydown",(function(n){if(!(n.isDefaultPrevented&&n.isDefaultPrevented()||n.defaultPrevented)&&(xN(t,":hover")||xN(e.scrollbarX,":focus")||xN(e.scrollbarY,":focus"))){var r,o=document.activeElement?document.activeElement:e.ownerDocument.activeElement;if(o){if("IFRAME"===o.tagName)o=o.contentDocument.activeElement;else for(;o.shadowRoot;)o=o.shadowRoot.activeElement;if(xN(r=o,"input,[contenteditable]")||xN(r,"select,[contenteditable]")||xN(r,"textarea,[contenteditable]")||xN(r,"button,[contenteditable]"))return}var s=0,i=0;switch(n.which){case 37:s=n.metaKey?-e.contentWidth:n.altKey?-e.containerWidth:-30;break;case 38:i=n.metaKey?e.contentHeight:n.altKey?e.containerHeight:30;break;case 39:s=n.metaKey?e.contentWidth:n.altKey?e.containerWidth:30;break;case 40:i=n.metaKey?-e.contentHeight:n.altKey?-e.containerHeight:-30;break;case 32:i=n.shiftKey?e.containerHeight:-e.containerHeight;break;case 33:i=e.containerHeight;break;case 34:i=-e.containerHeight;break;case 36:i=e.contentHeight;break;case 35:i=-e.contentHeight;break;default:return}e.settings.suppressScrollX&&0!==s||e.settings.suppressScrollY&&0!==i||(t.scrollTop-=i,t.scrollLeft+=s,FN(e),function(n,r){var o=Math.floor(t.scrollTop);if(0===n){if(!e.scrollbarYActive)return!1;if(0===o&&r>0||o>=e.contentHeight-e.containerHeight&&r<0)return!e.settings.wheelPropagation}var s=t.scrollLeft;if(0===r){if(!e.scrollbarXActive)return!1;if(0===s&&n<0||s>=e.contentWidth-e.containerWidth&&n>0)return!e.settings.wheelPropagation}return!0}(s,i)&&n.preventDefault())}}))},wheel:function(e){var t=e.element;function n(n){var r=function(e){var t=e.deltaX,n=-1*e.deltaY;return void 0!==t&&void 0!==n||(t=-1*e.wheelDeltaX/6,n=e.wheelDeltaY/6),e.deltaMode&&1===e.deltaMode&&(t*=10,n*=10),t!=t&&n!=n&&(t=0,n=e.wheelDelta),e.shiftKey?[-n,-t]:[t,n]}(n),o=r[0],s=r[1];if(!function(e,n,r){if(!zN.isWebKit&&t.querySelector("select:focus"))return!0;if(!t.contains(e))return!1;for(var o=e;o&&o!==t;){if(o.classList.contains(IN.consuming))return!0;var s=yN(o);if(r&&s.overflowY.match(/(scroll|auto)/)){var i=o.scrollHeight-o.clientHeight;if(i>0&&(o.scrollTop>0&&r<0||o.scrollTop<i&&r>0))return!0}if(n&&s.overflowX.match(/(scroll|auto)/)){var a=o.scrollWidth-o.clientWidth;if(a>0&&(o.scrollLeft>0&&n<0||o.scrollLeft<a&&n>0))return!0}o=o.parentNode}return!1}(n.target,o,s)){var i=!1;e.settings.useBothWheelAxes?e.scrollbarYActive&&!e.scrollbarXActive?(s?t.scrollTop-=s*e.settings.wheelSpeed:t.scrollTop+=o*e.settings.wheelSpeed,i=!0):e.scrollbarXActive&&!e.scrollbarYActive&&(o?t.scrollLeft+=o*e.settings.wheelSpeed:t.scrollLeft-=s*e.settings.wheelSpeed,i=!0):(t.scrollTop-=s*e.settings.wheelSpeed,t.scrollLeft+=o*e.settings.wheelSpeed),FN(e),i=i||function(n,r){var o=Math.floor(t.scrollTop),s=0===t.scrollTop,i=o+t.offsetHeight===t.scrollHeight,a=0===t.scrollLeft,l=t.scrollLeft+t.offsetWidth===t.scrollWidth;return!(Math.abs(r)>Math.abs(n)?s||i:a||l)||!e.settings.wheelPropagation}(o,s),i&&!n.ctrlKey&&(n.stopPropagation(),n.preventDefault())}}void 0!==window.onwheel?e.event.bind(t,"wheel",n):void 0!==window.onmousewheel&&e.event.bind(t,"mousewheel",n)},touch:function(e){if(zN.supportsTouch||zN.supportsIePointer){var t=e.element,n={},r=0,o={},s=null;zN.supportsTouch?(e.event.bind(t,"touchstart",c),e.event.bind(t,"touchmove",u),e.event.bind(t,"touchend",d)):zN.supportsIePointer&&(window.PointerEvent?(e.event.bind(t,"pointerdown",c),e.event.bind(t,"pointermove",u),e.event.bind(t,"pointerup",d)):window.MSPointerEvent&&(e.event.bind(t,"MSPointerDown",c),e.event.bind(t,"MSPointerMove",u),e.event.bind(t,"MSPointerUp",d)))}function i(n,r){t.scrollTop-=r,t.scrollLeft-=n,FN(e)}function a(e){return e.targetTouches?e.targetTouches[0]:e}function l(e){return(!e.pointerType||"pen"!==e.pointerType||0!==e.buttons)&&(!(!e.targetTouches||1!==e.targetTouches.length)||!(!e.pointerType||"mouse"===e.pointerType||e.pointerType===e.MSPOINTER_TYPE_MOUSE))}function c(e){if(l(e)){var t=a(e);n.pageX=t.pageX,n.pageY=t.pageY,r=(new Date).getTime(),null!==s&&clearInterval(s)}}function u(s){if(l(s)){var c=a(s),u={pageX:c.pageX,pageY:c.pageY},d=u.pageX-n.pageX,p=u.pageY-n.pageY;if(function(e,n,r){if(!t.contains(e))return!1;for(var o=e;o&&o!==t;){if(o.classList.contains(IN.consuming))return!0;var s=yN(o);if(r&&s.overflowY.match(/(scroll|auto)/)){var i=o.scrollHeight-o.clientHeight;if(i>0&&(o.scrollTop>0&&r<0||o.scrollTop<i&&r>0))return!0}if(n&&s.overflowX.match(/(scroll|auto)/)){var a=o.scrollWidth-o.clientWidth;if(a>0&&(o.scrollLeft>0&&n<0||o.scrollLeft<a&&n>0))return!0}o=o.parentNode}return!1}(s.target,d,p))return;i(d,p),n=u;var $=(new Date).getTime(),m=$-r;m>0&&(o.x=d/m,o.y=p/m,r=$),function(n,r){var o=Math.floor(t.scrollTop),s=t.scrollLeft,i=Math.abs(n),a=Math.abs(r);if(a>i){if(r<0&&o===e.contentHeight-e.containerHeight||r>0&&0===o)return 0===window.scrollY&&r>0&&zN.isChrome}else if(i>a&&(n<0&&s===e.contentWidth-e.containerWidth||n>0&&0===s))return!0;return!0}(d,p)&&s.preventDefault()}}function d(){e.settings.swipeEasing&&(clearInterval(s),s=setInterval((function(){e.isInitialized?clearInterval(s):o.x||o.y?Math.abs(o.x)<.01&&Math.abs(o.y)<.01?clearInterval(s):e.element?(i(30*o.x,30*o.y),o.x*=.8,o.y*=.8):clearInterval(s):clearInterval(s)}),10))}}},jN=function(e,t){var n=this;if(void 0===t&&(t={}),"string"==typeof e&&(e=document.querySelector(e)),!e||!e.nodeName)throw new Error("no element is specified to initialize PerfectScrollbar");for(var r in this.element=e,e.classList.add(kN),this.settings={handlers:["click-rail","drag-thumb","keyboard","wheel","touch"],maxScrollbarLength:null,minScrollbarLength:null,scrollingThreshold:1e3,scrollXMarginOffset:0,scrollYMarginOffset:0,suppressScrollX:!1,suppressScrollY:!1,swipeEasing:!0,useBothWheelAxes:!1,wheelPropagation:!0,wheelSpeed:1},t)this.settings[r]=t[r];this.containerWidth=null,this.containerHeight=null,this.contentWidth=null,this.contentHeight=null;var o,s,i=function(){return e.classList.add(_N.focus)},a=function(){return e.classList.remove(_N.focus)};this.isRtl="rtl"===yN(e).direction,!0===this.isRtl&&e.classList.add(DN),this.isNegativeScroll=(s=e.scrollLeft,e.scrollLeft=-1,o=e.scrollLeft<0,e.scrollLeft=s,o),this.negativeScrollAdjustment=this.isNegativeScroll?e.scrollWidth-e.clientWidth:0,this.event=new LN,this.ownerDocument=e.ownerDocument||document,this.scrollbarXRail=bN(IN.rail("x")),e.appendChild(this.scrollbarXRail),this.scrollbarX=bN(IN.thumb("x")),this.scrollbarXRail.appendChild(this.scrollbarX),this.scrollbarX.setAttribute("tabindex",0),this.event.bind(this.scrollbarX,"focus",i),this.event.bind(this.scrollbarX,"blur",a),this.scrollbarXActive=null,this.scrollbarXWidth=null,this.scrollbarXLeft=null;var l=yN(this.scrollbarXRail);this.scrollbarXBottom=parseInt(l.bottom,10),isNaN(this.scrollbarXBottom)?(this.isScrollbarXUsingBottom=!1,this.scrollbarXTop=RN(l.top)):this.isScrollbarXUsingBottom=!0,this.railBorderXWidth=RN(l.borderLeftWidth)+RN(l.borderRightWidth),vN(this.scrollbarXRail,{display:"block"}),this.railXMarginWidth=RN(l.marginLeft)+RN(l.marginRight),vN(this.scrollbarXRail,{display:""}),this.railXWidth=null,this.railXRatio=null,this.scrollbarYRail=bN(IN.rail("y")),e.appendChild(this.scrollbarYRail),this.scrollbarY=bN(IN.thumb("y")),this.scrollbarYRail.appendChild(this.scrollbarY),this.scrollbarY.setAttribute("tabindex",0),this.event.bind(this.scrollbarY,"focus",i),this.event.bind(this.scrollbarY,"blur",a),this.scrollbarYActive=null,this.scrollbarYHeight=null,this.scrollbarYTop=null;var c=yN(this.scrollbarYRail);this.scrollbarYRight=parseInt(c.right,10),isNaN(this.scrollbarYRight)?(this.isScrollbarYUsingRight=!1,this.scrollbarYLeft=RN(c.left)):this.isScrollbarYUsingRight=!0,this.scrollbarYOuterWidth=this.isRtl?function(e){var t=yN(e);return RN(t.width)+RN(t.paddingLeft)+RN(t.paddingRight)+RN(t.borderLeftWidth)+RN(t.borderRightWidth)}(this.scrollbarY):null,this.railBorderYWidth=RN(c.borderTopWidth)+RN(c.borderBottomWidth),vN(this.scrollbarYRail,{display:"block"}),this.railYMarginHeight=RN(c.marginTop)+RN(c.marginBottom),vN(this.scrollbarYRail,{display:""}),this.railYHeight=null,this.railYRatio=null,this.reach={x:e.scrollLeft<=0?"start":e.scrollLeft>=this.contentWidth-this.containerWidth?"end":null,y:e.scrollTop<=0?"start":e.scrollTop>=this.contentHeight-this.containerHeight?"end":null},this.isAlive=!0,this.settings.handlers.forEach((function(e){return VN[e](n)})),this.lastScrollTop=Math.floor(e.scrollTop),this.lastScrollLeft=e.scrollLeft,this.event.bind(this.element,"scroll",(function(e){return n.onScroll(e)})),FN(this)};jN.prototype.update=function(){this.isAlive&&(this.negativeScrollAdjustment=this.isNegativeScroll?this.element.scrollWidth-this.element.clientWidth:0,vN(this.scrollbarXRail,{display:"block"}),vN(this.scrollbarYRail,{display:"block"}),this.railXMarginWidth=RN(yN(this.scrollbarXRail).marginLeft)+RN(yN(this.scrollbarXRail).marginRight),this.railYMarginHeight=RN(yN(this.scrollbarYRail).marginTop)+RN(yN(this.scrollbarYRail).marginBottom),vN(this.scrollbarXRail,{display:"none"}),vN(this.scrollbarYRail,{display:"none"}),FN(this),PN(this,"top",0,!1,!0),PN(this,"left",0,!1,!0),vN(this.scrollbarXRail,{display:""}),vN(this.scrollbarYRail,{display:""}))},jN.prototype.onScroll=function(e){this.isAlive&&(FN(this),PN(this,"top",this.element.scrollTop-this.lastScrollTop),PN(this,"left",this.element.scrollLeft-this.lastScrollLeft),this.lastScrollTop=Math.floor(this.element.scrollTop),this.lastScrollLeft=this.element.scrollLeft)},jN.prototype.destroy=function(){this.isAlive&&(this.event.unbindAll(),SN(this.scrollbarX),SN(this.scrollbarY),SN(this.scrollbarXRail),SN(this.scrollbarYRail),this.removePsClasses(),this.element=null,this.scrollbarX=null,this.scrollbarY=null,this.scrollbarXRail=null,this.scrollbarYRail=null,this.isAlive=!1)},jN.prototype.removePsClasses=function(){this.element.className=this.element.className.split(" ").filter((function(e){return!e.match(/^ps([-_].+|)$/)})).join(" ")};const WN="object"==typeof performance&&"function"==typeof performance.now?()=>performance.now():()=>Date.now();function UN(e){void 0!==e.id&&cancelAnimationFrame(e.id)}function YN(e,t){const{itemSize:n,instanceProps:r}=e,{itemMetadataMap:o,lastMeasuredIndex:s}=r;if(t>s){let e=0;if(s>=0){const t=o[s];e=t.offset+t.size}for(let r=s+1;r<=t;r+=1){const t=n(r);o[r]={offset:e,size:t},e+=t}r.lastMeasuredIndex=t}return o[t]}function BN(e,t,n){const{scrollOffset:r}=e;let o=t,s=n;for(;s<=o;){const t=s+Math.floor((o-s)/2),n=YN(e,t).offset;if(n===r)return t;n<r?s=t+1:n>r&&(o=t-1)}return s>0?s-1:0}function KN(e){const{instanceProps:t,scrollOffset:n}=e,{itemMetadataMap:r,lastMeasuredIndex:o}=t;return(o>0?r[o].offset:0)>=n?BN(e,o,0):function(e,t){const{itemCount:n,scrollOffset:r}=e;let o=1,s=t;for(;s<n&&YN(e,s).offset<r;)s+=o,o*=2;return BN(e,Math.min(s,n-1),Math.floor(s/2))}(e,Math.max(0,o))}function GN(e){const{isScrolling:t,scrollDirection:n,itemCount:r,overscanCount:o}=e;if(0===r)return[0,0,0,0];const s=KN(e),i=function(e,t){const{height:n,itemCount:r,scrollOffset:o}=e,s=YN(e,t),i=o+n;let a=s.offset+s.size,l=t;for(;l<r-1&&a<i;)l+=1,a+=YN(e,l).size;return l}(e,s),a=t&&"backward"!==n?1:Math.max(1,o),l=t&&"forward"!==n?1:Math.max(1,o);return[Math.max(0,s-a),Math.max(0,Math.min(r-1,i+l)),s,i]}function XN(e,t){const{instanceProps:n}=e,{styleCache:r}=n;let o;if(Object.prototype.hasOwnProperty.call(r,t))o=r[t];else{const{offset:s}=YN(e,t),{size:i}=n.itemMetadataMap[t];o={position:"absolute",left:0,top:s,height:i,width:"100%"},r[t]=o}return o}const JN={defaultItemKey:e=>e,getItemsInfo:function(e){const{itemKey:t,itemCount:n,isScrolling:r}=e,[o,s]=GN(e),i=[];if(n>0)for(let a=o;a<=s;a+=1)i.push({key:t(a),index:a,isScrolling:r,style:XN(e,a)});return{items:i,startIndex:o,stopIndex:s}},getEstimatedTotalSize:function(e){const{instanceProps:t,itemCount:n,estimatedItemSize:r}=e,{lastMeasuredIndex:o,itemMetadataMap:s}=t;let i=o,a=0;if(i>=n&&(i=n-1),i>=0){const e=s[i];a=e.offset+e.size}return a+(n-i-1)*r}},ZN=e=>({items:2&e[0]}),QN=e=>({items:e[1],api:e[5]});function eP(e){let t,n,r;const o=e[25].default,s=g(o,e,e[24],QN);return{c(){t=F("div"),n=F("div"),s&&s.c(),B(n,"style",e[3]),B(t,"class",e[4]),Z(t,"height",e[0]+"px"),Z(t,"width","100%"),Z(t,"direction","ltr"),B(t,"data-sheet-body-element","list")},m(o,i){P(o,t,i),A(t,n),s&&s.m(n,null),e[26](t),r=!0},p(e,i){s&&s.p&&(!r||16777218&i[0])&&v(s,o,e,e[24],r?y(o,e[24],i,ZN):b(e[24]),QN),(!r||8&i[0])&&B(n,"style",e[3]),(!r||16&i[0])&&B(t,"class",e[4]),(!r||1&i[0])&&Z(t,"height",e[0]+"px")},i(e){r||(qe(s,e),r=!0)},o(e){Ve(s,e),r=!1},d(n){n&&R(t),s&&s.d(n),e[26](null)}}}const tP=30;function nP(e,t,n){let r,o,{$$slots:s={},$$scope:i}=t;const a=fe();let l,c,u,d,p,{class:$="default"}=t,{estimatedItemSize:m=tP}=t,{height:f}=t,{scrollOffset:g=0}=t,{itemCount:h}=t,{overscanCount:y=2}=t,{itemSize:v=(()=>m)}=t,{paddingBottom:b=0}=t,{horizontalScrollOffset:w=0}=t,{itemKey:x=JN.defaultItemKey}=t,{width:S}=t,C={lastMeasuredIndex:-1,itemMetadataMap:{},styleCache:{}},k=!1,D="forward",I=f,_=[],T=!1,M=!1;function E(e){c&&"number"==typeof e&&c.scrollLeft!==e&&n(2,c.scrollLeft=e,c)}pe((()=>{"number"==typeof g&&n(2,c.scrollTop=g,c),E(w),d=new jN(c,{minScrollbarLength:40,wheelPropagation:!1});const e=e=>{!function(e){const{clientHeight:t,scrollHeight:r,scrollTop:o,scrollLeft:s}=e.target;if(T=!0,w!==s&&(n(7,w=s),a("h-scroll",w)),g!==o){const e=Math.max(0,Math.min(o,r-t));n(21,k=!0),n(22,D=g<e?"forward":"backward"),n(6,g=e),a("scroll",g)}}(e)},t=e=>{!function(e){const{scrollLeft:t}=e.target;w!==t&&(n(7,w=t),a("h-scroll",w))}(e)};return a("refetch",p),c.addEventListener("ps-scroll-y",e),c.addEventListener("ps-scroll-x",t),()=>{c.removeEventListener("ps-scroll-y",e),c.removeEventListener("ps-scroll-x",t),d?.destroy()}}));const O=()=>{u=void 0,n(21,k=!1),M=!0,a("refetch",p)};function A(){void 0!==u&&UN(u),u=function(e,t){const n=WN(),r={id:void 0};return r.id=requestAnimationFrame((function o(){WN()-n>=t?e.call(void 0):r.id=requestAnimationFrame(o)})),r}(O,150)}function L(e){n(20,C={...C,lastMeasuredIndex:Math.min(C.lastMeasuredIndex,(e??0)-1),styleCache:{}})}function N(e,t){if(c&&d){const r=Math.max(e,0),o=Math.max(t,0);let s=!1;g!==r&&(n(2,c.scrollTop=r,c),s=!0),w!==o&&(n(2,c.scrollLeft=o,c),s=!0),s&&d.update()}}function P(){c&&d&&(n(2,c.scrollTop=c.scrollHeight,c),d.update())}function R(){c&&d&&(n(2,c.scrollTop=0,c),d.update())}$e((()=>{T&&(T=!1,A()),M&&(M=!1,n(20,C.styleCache={},C)),d&&d.update()})),me((()=>{void 0!==u&&UN(u)}));const z={scrollToTop:R,scrollToBottom:P,scrollToPosition:N,recalculateHeightsAfterIndex:L};return e.$$set=e=>{"class"in e&&n(8,$=e.class),"estimatedItemSize"in e&&n(9,m=e.estimatedItemSize),"height"in e&&n(0,f=e.height),"scrollOffset"in e&&n(6,g=e.scrollOffset),"itemCount"in e&&n(10,h=e.itemCount),"overscanCount"in e&&n(11,y=e.overscanCount),"itemSize"in e&&n(12,v=e.itemSize),"paddingBottom"in e&&n(13,b=e.paddingBottom),"horizontalScrollOffset"in e&&n(7,w=e.horizontalScrollOffset),"itemKey"in e&&n(14,x=e.itemKey),"width"in e&&n(15,S=e.width),"$$scope"in e&&n(24,i=e.$$scope)},e.$$.update=()=>{var t;256&e.$$.dirty[0]&&n(4,r=["virtual-list","outerElement",$].join(" ")),7364161&e.$$.dirty[0]&&(t={itemSize:v,instanceProps:C,isScrolling:k,scrollDirection:D,itemCount:h,overscanCount:y,scrollOffset:g,height:f,itemKey:x,estimatedItemSize:m},p=JN.getItemsInfo(t),n(1,_=p.items),n(23,l=JN.getEstimatedTotalSize(t)),I!==f&&(I=f,a("refetch",p))),10526720&e.$$.dirty[0]&&n(3,o=`height:${l+b}px;width:${S?`${S}px`:"100%"};`+(k?"pointer-events:none;":"")),128&e.$$.dirty[0]&&E(w)},[f,_,c,o,r,z,g,w,$,m,h,y,v,b,x,S,L,N,P,R,C,k,D,l,i,s,function(e){we[e?"unshift":"push"]((()=>{c=e,n(2,c)}))}]}class rP extends at{constructor(e){super(),it(this,e,nP,eP,p,{class:8,estimatedItemSize:9,height:0,scrollOffset:6,itemCount:10,overscanCount:11,itemSize:12,paddingBottom:13,horizontalScrollOffset:7,itemKey:14,width:15,recalculateHeightsAfterIndex:16,scrollToPosition:17,scrollToBottom:18,scrollToTop:19},null,[-1,-1])}get recalculateHeightsAfterIndex(){return this.$$.ctx[16]}get scrollToPosition(){return this.$$.ctx[17]}get scrollToBottom(){return this.$$.ctx[18]}get scrollToTop(){return this.$$.ctx[19]}}const oP=e=>({items:131072&e,api:1024&e}),sP=e=>({items:e[17],api:e[10]});function iP(e){let t;const n=e[11].default,r=g(n,e,e[14],sP);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||148480&o)&&v(r,n,e,e[14],t?y(n,e[14],o,oP):b(e[14]),sP)},i(e){t||(qe(r,e),t=!0)},o(e){Ve(r,e),t=!1},d(e){r&&r.d(e)}}}function aP(e){let t,n;return t=new rP({props:{horizontalScrollOffset:e[4],scrollOffset:e[5],height:e[16],width:e[6],itemCount:e[0],paddingBottom:e[2],itemSize:e[1],estimatedItemSize:cN,itemKey:e[3],$$slots:{default:[iP,({items:e,api:t})=>({17:e,10:t}),({items:e,api:t})=>(e?131072:0)|(t?1024:0)]},$$scope:{ctx:e}}}),t.$on("scroll",e[12]),t.$on("h-scroll",e[13]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};16&n&&(r.horizontalScrollOffset=e[4]),32&n&&(r.scrollOffset=e[5]),65536&n&&(r.height=e[16]),64&n&&(r.width=e[6]),1&n&&(r.itemCount=e[0]),4&n&&(r.paddingBottom=e[2]),2&n&&(r.itemSize=e[1]),8&n&&(r.itemKey=e[3]),148480&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function lP(e){let t,n,r;return n=new hN({props:{$$slots:{default:[aP,({height:e})=>({16:e}),({height:e})=>e?65536:0]},$$scope:{ctx:e}}}),{c(){t=F("div"),rt(n.$$.fragment),B(t,"data-sheet-element","body"),B(t,"tabindex","-1"),B(t,"class","svelte-1sm73pn")},m(e,o){P(e,t,o),ot(n,t,null),r=!0},p(e,[t]){const r={};82047&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(qe(n.$$.fragment,e),r=!0)},o(e){Ve(n.$$.fragment,e),r=!1},d(e){e&&R(t),st(n)}}}function cP(e,t,n){let r,o,s,{$$slots:i={},$$scope:a}=t;const{stores:l,api:c}=VL(),{rowWidth:u,horizontalScrollOffset:d,scrollOffset:p}=l;f(e,u,(e=>n(6,s=e))),f(e,d,(e=>n(4,r=e))),f(e,p,(e=>n(5,o=e)));let{itemCount:$}=t,{itemSize:m}=t,{paddingBottom:g=0}=t,{itemKey:h}=t;return e.$$set=e=>{"itemCount"in e&&n(0,$=e.itemCount),"itemSize"in e&&n(1,m=e.itemSize),"paddingBottom"in e&&n(2,g=e.paddingBottom),"itemKey"in e&&n(3,h=e.itemKey),"$$scope"in e&&n(14,a=e.$$scope)},[$,m,g,h,r,o,s,u,d,p,c,i,e=>{c.setScrollOffset(e.detail)},e=>{c.setHorizontalScrollOffset(e.detail)},a]}class uP extends at{constructor(e){super(),it(this,e,cP,lP,p,{itemCount:0,itemSize:1,paddingBottom:2,itemKey:3})}}const dP=e=>({styleString:1&e}),pP=e=>({htmlAttributes:e[2],styleString:e[0]});function $P(e){let t;const n=e[6].default,r=g(n,e,e[5],pP);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,[o]){r&&r.p&&(!t||33&o)&&v(r,n,e,e[5],t?y(n,e[5],o,dP):b(e[5]),pP)},i(e){t||(qe(r,e),t=!0)},o(e){Ve(r,e),t=!1},d(e){r&&r.d(e)}}}function mP(e,t,n){let r,o,{$$slots:s={},$$scope:i}=t;const{stores:a}=VL(),{rowWidth:l}=a;f(e,l,(e=>n(4,o=e)));let{style:c}=t;return e.$$set=e=>{"style"in e&&n(3,c=e.style),"$$scope"in e&&n(5,i=e.$$scope)},e.$$.update=()=>{var t,s;24&e.$$.dirty&&n(0,(s=o,r=`position:${(t=c).position};left:${t.left}px;top:${t.top}px;height:${t.height}px;width:${s}px`))},[r,l,{"data-sheet-element":"row","data-sheet-section":"body"},c,o,i,s]}class fP extends at{constructor(e){super(),it(this,e,mP,$P,p,{style:3})}}function gP(e,t,n){return e&&e?.columnId===n.id&&e.rowIndex===t.rowIndex}function hP(e){const t=e?.parentElement,n=document.querySelector('[data-sheet-body-element="list"]');if(n&&t){if(t.offsetTop+t.clientHeight+40>n.scrollTop+n.clientHeight){const e=n.getBoundingClientRect().bottom-t.getBoundingClientRect().bottom-40;n.scrollTop-=e}else t.offsetTop-30<n.scrollTop&&(n.scrollTop=t.offsetTop-30);if(e.offsetLeft+t.clientWidth+30>n.scrollLeft+n.clientWidth){const t=n.getBoundingClientRect().right-e.getBoundingClientRect().right-30;n.scrollLeft-=t}else e.offsetLeft-30<n.scrollLeft&&(n.scrollLeft=e.offsetLeft-30)}}function yP(){hP(document.querySelector('[data-sheet-element="cell"].is-active'))}const vP="-",bP=({rowIndex:e},{id:t})=>`${e}-${t}`,wP=(e,t,n)=>t.has(n.id)||e.valuesArray().some((e=>e.endsWith(`-${n.id}`))),xP=(e,t,n)=>e.has(bP(t,n));function SP(e){const t=e.split(vP).slice(1).join(vP);const n=Number(t);return Number.isNaN(n)?t:n}function CP(e){return Number(e.split(vP)[0])}class kP{constructor(t){e(this,"getColumns",void 0),e(this,"getColumnOrder",void 0),e(this,"getRows",void 0),e(this,"getMaxSelectionRowIndex",void 0),e(this,"activeCell",void 0),e(this,"selectionBounds",void 0),e(this,"activeCellUnsubscriber",void 0),e(this,"selectedCells",void 0),e(this,"columnsSelectedWhenTheTableIsEmpty",void 0),e(this,"freezeSelection",void 0),e(this,"selectionInProgress",void 0),this.selectedCells=new ht,this.columnsSelectedWhenTheTableIsEmpty=new ht,this.getColumns=t.getColumns,this.getColumnOrder=t.getColumnOrder,this.getRows=t.getRows,this.getMaxSelectionRowIndex=t.getMaxSelectionRowIndex,this.freezeSelection=!1,this.selectionInProgress=mt(!1),this.activeCell=mt(void 0),document.addEventListener("mouseup",(()=>{this.onEndSelection()})),this.activeCellUnsubscriber=this.activeCell.subscribe((e=>{if(e){const t=this.getRows().find((t=>t.rowIndex===e.rowIndex)),n=this.getColumns().find((t=>t.id===e.columnId));t&&n?(this.selectionBounds=void 0,this.selectMultipleCells([[t,n]])):this.resetSelection()}else this.resetSelection()}))}onStartSelection(e,t){if(this.freezeSelection)return;this.selectionInProgress.set(!0),this.selectionBounds={startColumnId:t.id,endColumnId:t.id,startRowIndex:e.rowIndex,endRowIndex:e.rowIndex};const n=this.getIncludedCells(this.selectionBounds);this.selectMultipleCells(n)}onMouseEnterCellWhileSelection(e,t){const{rowIndex:n}=e,{id:r}=t;if(!this.selectionBounds||this.freezeSelection)return;this.selectionBounds.endRowIndex=n,this.selectionBounds.endColumnId=r;const o=this.getIncludedCells(this.selectionBounds);this.selectMultipleCells(o)}onEndSelection(){if(this.selectionBounds){const e=this.getIncludedCells(this.selectionBounds);this.selectMultipleCells(e),this.selectionBounds=void 0}this.selectionInProgress.set(!1)}selectAndActivateFirstCellIfExists(){const e=this.getRows()[0],t=this.getColumns()[0];e&&t&&(this.selectMultipleCells([[e,t]]),this.activateCell(e,t))}selectAndActivateFirstDataEntryCellInLastRow(){const e=this.getRows(),t=this.getColumns();e.length>0&&t.length>1&&this.activateCell(e[e.length-1],t[1])}getIncludedCells(e){const{startRowIndex:t,endRowIndex:n,startColumnId:r,endColumnId:o}=e,s=Math.min(t,n),i=Math.max(t,n),a=this.getColumnOrder(),l=a.findIndex((e=>e===r)),c=a.findIndex((e=>e===o)),u=Math.min(l,c),d=Math.max(l,c),p=a.slice(u,d+1),$=this.getColumns(),m=[];return this.getRows().forEach((e=>{const{rowIndex:t}=e;t>=s&&t<=i&&p.forEach((t=>{const n=$.find((e=>e.id===t));n&&m.push([e,n])}))})),m}selectMultipleCells(e){const t=e.map((([e,t])=>bP(e,t)));this.selectedCells.reconstruct(t)}resetSelection(){this.selectionBounds=void 0,this.columnsSelectedWhenTheTableIsEmpty.clear(),this.selectedCells.clear()}isCompleteColumnSelected(e){return this.getRows().length?this.columnsSelectedWhenTheTableIsEmpty.getHas(e.id)||this.getRows().every((t=>xP(m(this.selectedCells),t,e))):this.columnsSelectedWhenTheTableIsEmpty.getHas(e.id)}isCompleteRowSelected(e){const t=this.getColumns();return t.length>0&&t.every((t=>xP(m(this.selectedCells),e,t)))}isAnyColumnCompletelySelected(){const e=m(this.selectedCells).valuesArray(),t=[];for(const n of e){const e=SP(n);if(!t.includes(e)){if(this.isCompleteColumnSelected({id:e}))return!0;t.push(e)}}return!1}isAnyRowCompletelySelected(){const e=m(this.selectedCells).valuesArray(),t=[];for(const n of e){const e=CP(n);if(!t.includes(e)){if(this.isCompleteRowSelected({rowIndex:e}))return!0;t.push(e)}}return!1}intersectSelectedRowsWithGivenColumns(e){const t=this.getSelectedUniqueRowsId(new ut(this.selectedCells.getValues())),n=[];e.forEach((e=>{t.forEach((t=>{const r=this.getRows()[t];n.push([r,e])}))})),this.selectMultipleCells(n)}toggleColumnSelection(e){const t=this.isCompleteColumnSelected(e);if(this.activateCell({rowIndex:0},e),t)return this.resetSelection(),!1;const n=this.getRows();if(0===n.length)return this.resetSelection(),this.columnsSelectedWhenTheTableIsEmpty.add(e.id),!0;const r=[];return n.forEach((t=>{r.push([t,e])})),this.resetSelection(),this.selectMultipleCells(r),!0}toggleRowSelection(e){if(this.isCompleteRowSelected(e))this.resetSelection();else{const t=[];this.getColumns().forEach((n=>{t.push([e,n])})),this.resetSelection(),this.selectMultipleCells(t)}}onColumnSelectionStart(e){if(!this.isCompleteColumnSelected(e)){this.activateCell({rowIndex:0},{id:e.id});const t=this.getRows();if(0===t.length)return this.resetSelection(),this.columnsSelectedWhenTheTableIsEmpty.add(e.id),!0;this.onStartSelection(t[0],e),this.onMouseEnterCellWhileSelection(t[t.length-1],e)}return!0}onMouseEnterColumnHeaderWhileSelection(e){const t=this.getRows();return 0===t.length?(this.resetSelection(),this.columnsSelectedWhenTheTableIsEmpty.add(e.id),!0):(this.onMouseEnterCellWhileSelection(t[t.length-1],e),!0)}onRowSelectionStart(e){const t=this.getColumns(),n=this.getColumnOrder();t.length;const r=n[0],o=n[n.length-1],s=t.find((e=>e.id===r)),i=t.find((e=>e.id===o));return s&&i&&(this.activateCell(e,s),this.onStartSelection(e,s),this.onMouseEnterCellWhileSelection(e,i)),!0}onMouseEnterRowHeaderWhileSelection(e){const t=this.getColumns();t.length;const n=t[t.length-1];return this.onMouseEnterCellWhileSelection(e,n),!0}resetActiveCell(){this.activeCell.set(void 0)}activateCell(e,t){this.activeCell.set({rowIndex:e.rowIndex,columnId:t.id})}focusCell(e,t){document.querySelectorAll(`[data-column-identifier="${t.id}"]`).item(e.rowIndex)?.querySelector(".cell-wrapper")?.focus()}getAdjacentCell(e,t){const n=this.getColumnOrder(),r=(()=>{const n=function(e){switch(e){case"up":return-1;case"down":return 1;default:return 0}}(t);if(0===n)return e.rowIndex;const r=this.getMaxSelectionRowIndex(),o=e.rowIndex+n;return o<0||o>r?void 0:o})();if(void 0===r)return;const o=(()=>{const r=function(e){switch(e){case"left":return-1;case"right":return 1;default:return 0}}(t);if(0===r)return e.columnId;if(e.columnId){const t=n.findIndex((t=>t===e.columnId));return n[t+r]}return""})();return o?{rowIndex:r,columnId:o}:void 0}handleKeyEventsOnActiveCell(e){const t=function(e){const{key:t}=e,n=e.shiftKey;switch(!0){case n&&"Tab"===t:return"left";case n:return;case"ArrowUp"===t:return"up";case"ArrowDown"===t:return"down";case"ArrowLeft"===t:return"left";case"ArrowRight"===t:case"Tab"===t:return"right";default:return}}(e);if(!t)return;let n=!1;return this.activeCell.update((e=>{if(!e)return;const r=this.getAdjacentCell(e,t);return r?(n=!0,r):e})),n?"moved":void 0}activateFirstCellInSelectedColumn(){const e=m(this.activeCell);e&&this.activateCell({rowIndex:0},{id:e.columnId})}getSelectedUniqueColumnsId(e,t){const n=new Set([...[...e].map(SP),...t]);return Array.from(n)}getSelectedUniqueRowsId(e){const t=new Set([...[...e].map(CP)]);return Array.from(t)}destroy(){this.activeCellUnsubscriber()}}const DP=[{id:"inspect-column",label:"Column"},{id:"inspect-cell",label:"Cell"}],IP=[{id:"inspect-exploration",label:"Exploration"},...DP];class _P{constructor(t){e(this,"tabs",void 0),e(this,"activeTab",void 0),this.tabs=ft(t,(e=>e.isSaved()?IP:DP)),this.activeTab=mt(m(this.tabs)[0])}selectColumnTab(){this.activeTab.set(m(this.tabs).find((e=>"inspect-column"===e.id)))}selectCellTab(){this.activeTab.set(m(this.tabs).find((e=>"inspect-cell"===e.id)))}}class TP{constructor({query:t,abstractTypeMap:n,runMode:r,onRunWithObject:o,onRunWithId:s,shareConsumer:i}){e(this,"query",void 0),e(this,"abstractTypeMap",void 0),e(this,"runState",mt()),e(this,"pagination",mt(new FL({size:100}))),e(this,"rowsData",mt({totalCount:0,rows:[]})),e(this,"columnsMetaData",mt(new dt)),e(this,"processedColumns",mt(new dt)),e(this,"selection",void 0),e(this,"inspector",void 0),e(this,"runPromise",void 0),e(this,"runMode",void 0),e(this,"onRunWithObjectCallback",void 0),e(this,"onRunWithIdCallback",void 0),e(this,"shareConsumer",void 0),this.abstractTypeMap=n,this.runMode=r??"queryObject",this.query=mt(t),this.onRunWithObjectCallback=o,this.onRunWithIdCallback=s,this.shareConsumer=i,this.speculateProcessedColumns(),this.run(),this.selection=new kP({getColumns:()=>[...m(this.processedColumns).values()],getColumnOrder:()=>[...m(this.processedColumns).values()].map((e=>e.id)),getRows:()=>m(this.rowsData).rows,getMaxSelectionRowIndex:()=>{const e=m(this.rowsData).rows.length,t=m(this.rowsData).totalCount??0,n=m(this.pagination),{offset:r}=n,o=n.size;return Math.min(o,t-r,e)-1}}),this.inspector=new _P(this.query)}speculateProcessedColumns(e){const t=function({currentProcessedColumnsMetaData:e,inputColumnInformationMap:t,queryModel:n,abstractTypeMap:r}){const o=n.initial_columns,s=n.getSummarizationTransforms(),i=o.filter((t=>!e.has(t.alias))),a=s.filter((t=>t.getOutputColumnAliases().some((t=>!e.has(t))))),l=Object.entries(n.display_names).filter((([t,n])=>e.has(t)&&e.get(t)?.column.display_name!==n));let c=e,u=i.length>0||a.length>0;return i.length>0&&i.forEach((e=>{const n=t.get(e.id);c=c.with(e.alias,RL({alias:e.alias,type:n?.type,is_initial_column:!0,input_column_name:n?.name,input_table_name:n?.tableName,input_table_id:n?.tableId},r))})),a.length>0&&a.forEach((e=>{[...e.groups.values()].forEach((e=>{if(!c.has(e.outputAlias)){const t=c.get(e.inputAlias)?.column;c=c.with(e.outputAlias,RL({alias:e.outputAlias,display_name:null,type:t?.type??"unknown",type_options:t?.type_options??null,display_options:t?.display_options??null,is_initial_column:!1,input_alias:e.inputAlias},r))}})),[...e.aggregations.values()].forEach((e=>{c.has(e.outputAlias)||(c=c.with(e.outputAlias,RL({alias:e.outputAlias,type:"distinct_aggregate_to_array"===e.function?"_array":"integer",type_options:"distinct_aggregate_to_array"===e.function?{type:c.get(e.inputAlias)?.column.type??"unknown"}:null,display_options:null,is_initial_column:!1,input_alias:e.inputAlias},r)))}))})),l.length>0&&l.forEach((([e,t])=>{const n=c.get(e);n&&(c=c.with(e,{...n,column:{...n.column,display_name:t}}),u=!0)})),u?new dt(c):e}({currentProcessedColumnsMetaData:m(this.columnsMetaData),inputColumnInformationMap:e??new Map,queryModel:this.getQueryModel(),abstractTypeMap:this.abstractTypeMap});this.columnsMetaData.set(t),this.processedColumns.set(zL(this.getQueryModel().getOutputColumnAliases(),t))}async run(){this.runPromise?.cancel();const e=this.getQueryModel();if(void 0===e.base_table){const e={totalCount:0,rows:[]};return this.columnsMetaData.set(new dt),this.processedColumns.set(new dt),this.rowsData.set(e),void this.runState.set({state:"success"})}let t,n;try{const s=m(this.pagination).recordsRequestParams();if(this.runState.set({state:"processing"}),"queryObject"===this.runMode){const r=ph("/api/db/v0/queries/run/",{...e.toRunRequestJson(),parameters:{...s}});this.runPromise=r;const o=await r;t=o,n=()=>this.onRunWithObjectCallback?.(o)}else{if(!e.id)return void this.runState.set({state:"failure",errors:["Query does not contain an id"]});this.runPromise=function(e,t){return dh(lh(`/api/db/v0/queries/${e}/results/`,t))}(e.id,{...s,...this.shareConsumer?.getQueryParams()}),t=await this.runPromise,n=()=>this.onRunWithIdCallback?.(t)}const i=(r=t.column_metadata,o=this.abstractTypeMap,new dt(Object.entries(r).map((([e,t])=>[e,RL(t,o)]))));return this.columnsMetaData.set(i),this.processedColumns.set(new dt(zL(t.output_columns,i))),this.rowsData.set({totalCount:t.records.count,rows:(t.records.results??[]).map(((e,t)=>({record:e,rowIndex:t})))}),await n(),this.runState.set({state:"success"}),t}catch(s){if(s instanceof th)this.runState.set({state:"failure",errors:s});else{const e=s instanceof Error?s.message:"Unable to run query due to an unknown reason";this.runState.set({state:"failure",errors:[e]})}}var r,o}async setPagination(e){this.pagination.set(e),await this.run(),this.selection.activateFirstCellInSelectedColumn()}resetPagination(){this.pagination.update((e=>new FL({...e,page:1})))}resetResults(){this.clearSelection(),this.runPromise?.cancel(),this.resetPagination(),this.rowsData.set({totalCount:0,rows:[]}),this.processedColumns.set(new dt),this.runState.set(void 0)}async resetPaginationAndRun(){this.resetPagination(),await this.run(),this.selection.activateFirstCellInSelectedColumn()}selectColumn(e){const t=m(this.processedColumns).get(e);if(!t)return this.selection.resetSelection(),this.selection.selectAndActivateFirstCellIfExists(),void this.inspector.selectCellTab();this.selection.toggleColumnSelection(t)?this.inspector.selectColumnTab():(this.selection.activateFirstCellInSelectedColumn(),this.inspector.selectCellTab())}clearSelection(){this.selection.resetSelection()}getRows(){return m(this.rowsData).rows}getQueryModel(){return m(this.query)}destroy(){this.selection.destroy(),this.runPromise?.cancel()}}class MP extends TP{constructor({query:t,abstractTypeMap:n,onSave:r}){super({query:t,abstractTypeMap:n,onRunWithObject:e=>{this.checkAndUpdateSummarizationAfterRun(new OL(e.query))}}),e(this,"undoRedoManager",void 0),e(this,"cacheManagers",{inputColumns:new aw(5)}),e(this,"state",mt({isUndoPossible:!1,isRedoPossible:!1})),e(this,"inputColumns",mt({baseTableColumns:new Map,tablesThatReferenceBaseTable:[],inputColumnInformationMap:new Map})),e(this,"confirmationNeededForMultipleResults",mt(!0)),e(this,"queryHasUnsavedChanges",mt(!1)),e(this,"baseTableFetchPromise",void 0),e(this,"joinableColumnsfetchPromise",void 0),e(this,"querySavePromise",void 0),e(this,"onSaveCallback",void 0),this.onSaveCallback=r??(()=>{});const o=new LL;o.pushState(t,t.isValid),this.undoRedoManager=o,this.calculateInputColumnTree()}async calculateInputColumnTree(){const e=m(this.query).base_table;if(!e)return this.inputColumns.set({baseTableColumns:new Map,tablesThatReferenceBaseTable:[],inputColumnInformationMap:new Map}),void this.state.update((e=>({...e,inputColumnsFetchState:{state:"success"}})));const t=this.cacheManagers.inputColumns.get(e);if(t)return this.inputColumns.set({...t}),this.state.update((e=>({...e,inputColumnsFetchState:{state:"success"}}))),void this.speculateColumns();try{this.baseTableFetchPromise?.cancel(),this.joinableColumnsfetchPromise?.cancel(),this.state.update((e=>({...e,inputColumnsFetchState:{state:"processing"}}))),this.baseTableFetchPromise=bv(e),this.joinableColumnsfetchPromise=dh(`/api/db/v0/tables/${e}/joinable_tables/`);const[t,n]=await Promise.all([this.baseTableFetchPromise,this.joinableColumnsfetchPromise]),r=function(e,t){const n=t.columns.map((n=>[n.id,{id:n.id,name:n.name,type:n.type,tableName:t.name,linksTo:PL(e,n.id,1),producesMultipleResults:!1}]));return new Map(n.sort(NL))}(n,t),o=function(e,t){const n=e.joinable_tables.filter((e=>1===e.depth&&!0===e.fk_path[0][1])),r=[];return n.forEach((n=>{const o=n.target,s=e.tables[o],i=n.jp_path[0][0],a=t.columns.find((e=>e.id===i)),l=n.jp_path[0][1];if(!a)return;const c=e.tables[n.target].columns.filter((e=>e!==l)).map((t=>{const r=e.columns[t];return[t,{id:t,name:r.name,type:r.type,tableName:s.name,linksTo:PL(e,t,2,n.jp_path.join(",")),jpPath:n.jp_path,producesMultipleResults:n.multiple_results}]}));r.push({id:o,name:s.name,referencedViaColumn:{id:l,...e.columns[l]},linkedToColumn:a,columns:new Map(c.sort(NL))})})),r}(n,t),s={baseTableColumns:r,tablesThatReferenceBaseTable:o,inputColumnInformationMap:function(e,t){const n=new Map;return t.columns.forEach((e=>{n.set(e.id,{id:e.id,name:e.name,type:e.type,tableId:t.id,tableName:t.name})})),Object.keys(e.tables).forEach((t=>{const r=parseInt(t,10),o=e.tables[r];o.columns.forEach((t=>{const s=e.columns[t];n.set(t,{id:t,name:s.name,type:s.type,tableId:r,tableName:o.name})}))})),n}(n,t)};this.cacheManagers.inputColumns.set(e,s),this.inputColumns.set(s),this.speculateColumns(),this.state.update((e=>({...e,inputColumnsFetchState:{state:"success"}})))}catch(n){const e=n instanceof Error?n.message:"There was an error fetching joinable links";this.state.update((t=>({...t,inputColumnsFetchState:{state:"failure",errors:[e]}})))}}speculateColumns(){super.speculateProcessedColumns(m(this.inputColumns).inputColumnInformationMap)}async updateQuery(e){return this.query.set(e),this.queryHasUnsavedChanges.set(!0),"success"!==m(this.state).inputColumnsFetchState?.state&&await this.calculateInputColumnTree(),{isValid:e.isValid,isRunnable:e.isRunnable}}setUndoRedoStates(){this.state.update((e=>({...e,isUndoPossible:this.undoRedoManager.isUndoPossible(),isRedoPossible:this.undoRedoManager.isRedoPossible()})))}checkAndUpdateSummarizationAfterRun(e){const t=this.getQueryModel();let n=t,r=!1;t.transformationModels.forEach(((t,o)=>{const s=e.transformationModels[o];if("summarize"===t.type&&s&&"summarize"===s.type){const e=s.groups.get(s.columnIdentifier);e&&(s.groups=s.groups.without(s.columnIdentifier),s.preprocFunctionIdentifier=e.preprocFunction),s.aggregations.size===t.aggregations.size&&s.groups.size===t.groups.size||(r=!0,n=n.updateTransform(o,s).model)}})),r&&this.query.set(n)}async update(e){this.state.update((e=>({...e,saveState:void 0})));const t=e(this.getQueryModel()),{isValid:n,isRunnable:r}=await this.updateQuery(t.model);if(this.undoRedoManager.pushState(t.model,n),this.setUndoRedoStates(),r)switch(t.type){case"baseTable":this.resetResults(),this.undoRedoManager.clear(),this.setUndoRedoStates(),this.confirmationNeededForMultipleResults.set(!0),this.queryHasUnsavedChanges.set(!1),await this.calculateInputColumnTree();break;case"initialColumnName":this.speculateColumns();break;case"initialColumnsArray":t.diff.initial_columns?.length?(this.speculateColumns(),await this.run()):this.resetResults();break;case"transformations":case"initialColumnsAndTransformations":await this.resetPaginationAndRun()}}async performUndoRedoSync(e){if(e){const t=this.getQueryModel();let n=e;t?.id&&(n=e.withId(t.id).model),this.query.set(n),this.speculateColumns(),await this.updateQuery(n),this.setUndoRedoStates(),await this.run()}else this.setUndoRedoStates()}async undo(){const e=this.undoRedoManager.undo();await this.performUndoRedoSync(e)}async redo(){const e=this.undoRedoManager.redo();await this.performUndoRedoSync(e)}async save(){const e=this.getQueryModel().toJson();this.state.update((e=>({...e,saveState:{state:"processing"}})));try{this.querySavePromise?.cancel(),void 0!==e.id?this.querySavePromise=hw(e):this.querySavePromise=function(e){const t=ph("/api/db/v0/queries/",e);return t.then((e=>(Uh(e.schema,1),$w(e.schema),e))),t}(e);const t=await this.querySavePromise;return this.query.update((e=>e.withId(t.id).model)),await this.onSaveCallback(t),this.state.update((e=>({...e,saveState:{state:"success"}}))),this.queryHasUnsavedChanges.set(!1),this.getQueryModel()}catch(t){const e=t instanceof Error?[t.message]:["An error occurred while trying to save the query"];throw this.state.update((t=>({...t,saveState:{state:"failure",errors:e}}))),t}}getAutoSummarizationTransformModel(){const{baseTableColumns:e}=m(this.inputColumns),t=this.getQueryModel().initial_columns.find((t=>e.has(t.id)));if(t)return new _L({type:"summarize",spec:{base_grouping_column:t.alias}})}destroy(){super.destroy(),this.baseTableFetchPromise?.cancel(),this.joinableColumnsfetchPromise?.cancel(),this.querySavePromise?.cancel()}}function EP(e){let t;return{c(){t=F("span"),t.textContent="Properties",B(t,"slot","header")},m(e,n){P(e,t,n)},p:s,d(e){e&&R(t)}}}function OP(e){let t,n;return t=new di({props:{value:e[0],"aria-label":"name",disabled:!e[2]}}),t.$on("change",e[7]),t.$on("input",e[6]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.value=e[0]),4&n&&(r.disabled=!e[2]),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function AP(e){let t,n;return t=new Io({props:{label:"Name",layout:"stacked",$$slots:{default:[OP]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};65541&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function LP(e){let t,n;return t=new gl({props:{value:e[1],"aria-label":"description",disabled:!e[2]}}),t.$on("change",e[8]),t.$on("input",e[6]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.value=e[1]),4&n&&(r.disabled=!e[2]),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function NP(e){let t,n;return t=new Io({props:{label:"Description",layout:"stacked",$$slots:{default:[LP]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};65542&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function PP(e){let t,n;return t=new A_({props:{$$slots:{default:[RP]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};65536&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function RP(e){let t,n;return t=new ro({props:{cancelButton:{icon:void 0},proceedButton:{icon:void 0,label:"Save"},onCancel:e[9],onProceed:e[10]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p:s,i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function zP(e){let t,n,r,o,s,i;t=new A_({props:{$$slots:{default:[AP]},$$scope:{ctx:e}}}),r=new A_({props:{$$slots:{default:[NP]},$$scope:{ctx:e}}});let a=!e[5]&&e[3]&&e[2]&&PP(e);return{c(){rt(t.$$.fragment),n=V(),rt(r.$$.fragment),o=V(),a&&a.c(),s=j()},m(e,l){ot(t,e,l),P(e,n,l),ot(r,e,l),P(e,o,l),a&&a.m(e,l),P(e,s,l),i=!0},p(e,n){const o={};65541&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o);const i={};65542&n&&(i.$$scope={dirty:n,ctx:e}),r.$set(i),!e[5]&&e[3]&&e[2]?a?(a.p(e,n),44&n&&qe(a,1)):(a=PP(e),a.c(),qe(a,1),a.m(s.parentNode,s)):a&&(Fe(),Ve(a,1,1,(()=>{a=null})),He())},i(e){i||(qe(t.$$.fragment,e),qe(r.$$.fragment,e),qe(a),i=!0)},o(e){Ve(t.$$.fragment,e),Ve(r.$$.fragment,e),Ve(a),i=!1},d(e){st(t,e),e&&R(n),st(r,e),e&&R(o),a&&a.d(e),e&&R(s)}}}function FP(e){let t,n,r;return n=new k_({props:{$$slots:{default:[zP]},$$scope:{ctx:e}}}),{c(){t=F("div"),rt(n.$$.fragment),B(t,"slot","content"),B(t,"class","section-content")},m(e,o){P(e,t,o),ot(n,t,null),r=!0},p(e,t){const r={};65583&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(qe(n.$$.fragment,e),r=!0)},o(e){Ve(n.$$.fragment,e),r=!1},d(e){e&&R(t),st(n)}}}function HP(e){let t,n;return t=new $s({props:{isOpen:!0,triggerAppearance:"plain",$$slots:{content:[jP],header:[qP]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};65536&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function qP(e){let t;return{c(){t=F("span"),t.textContent="Actions",B(t,"slot","header")},m(e,n){P(e,t,n)},p:s,d(e){e&&R(t)}}}function VP(e){let t,n,r,o;const s=[km];let i={};for(let l=0;l<s.length;l+=1)i=a(i,s[l]);return t=new Wr({props:i}),{c(){rt(t.$$.fragment),n=V(),r=F("span"),r.textContent="Delete Exploration"},m(e,s){ot(t,e,s),P(e,n,s),P(e,r,s),o=!0},p(e,n){const r=0&n?et(s,[tt(km)]):{};t.$set(r)},i(e){o||(qe(t.$$.fragment,e),o=!0)},o(e){Ve(t.$$.fragment,e),o=!1},d(e){st(t,e),e&&R(n),e&&R(r)}}}function jP(e){let t,n,r;return n=new Ln({props:{class:"delete-button",appearance:"outline-primary",$$slots:{default:[VP]},$$scope:{ctx:e}}}),n.$on("click",e[11]),{c(){t=F("div"),rt(n.$$.fragment),B(t,"slot","content"),B(t,"class","section-content actions")},m(e,o){P(e,t,o),ot(n,t,null),r=!0},p(e,t){const r={};65536&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(qe(n.$$.fragment,e),r=!0)},o(e){Ve(n.$$.fragment,e),r=!1},d(e){e&&R(t),st(n)}}}function WP(e){let t,n,r,o;t=new $s({props:{isOpen:!0,triggerAppearance:"plain",$$slots:{content:[FP],header:[EP]},$$scope:{ctx:e}}});let s=e[2]&&HP(e);return{c(){rt(t.$$.fragment),n=V(),s&&s.c(),r=j()},m(e,i){ot(t,e,i),P(e,n,i),s&&s.m(e,i),P(e,r,i),o=!0},p(e,[n]){const o={};65583&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o),e[2]?s?(s.p(e,n),4&n&&qe(s,1)):(s=HP(e),s.c(),qe(s,1),s.m(r.parentNode,r)):s&&(Fe(),Ve(s,1,1,(()=>{s=null})),He())},i(e){o||(qe(t.$$.fragment,e),qe(s),o=!0)},o(e){Ve(t.$$.fragment,e),Ve(s),o=!1},d(e){st(t,e),e&&R(n),s&&s.d(e),e&&R(r)}}}function UP(e,t,n){let r,o,i,a,l=s;f(e,gw,(e=>n(14,a=e))),e.$$.on_destroy.push((()=>l()));const c=fe();let{queryHandler:u}=t,{name:d}=t,{description:p}=t,{canEditMetadata:m}=t,g=!1;return e.$$set=e=>{"queryHandler"in e&&n(12,u=e.queryHandler),"name"in e&&n(0,d=e.name),"description"in e&&n(1,p=e.description),"canEditMetadata"in e&&n(2,m=e.canEditMetadata)},e.$$.update=()=>{4096&e.$$.dirty&&(n(4,({query:r}=u),r),l(),l=$(r,(e=>n(13,i=e)))),4096&e.$$.dirty&&n(5,o=u instanceof MP)},[d,p,m,g,r,o,function(){n(3,g=!0)},function(e){const t=e.target;""===t.value.trim()&&(t.value=i.name??x_("New_Exploration",new Set([...a.data.values()].map((e=>e.name))))),n(0,d=t.value),"update"in u&&u.update((e=>e.withName(t.value)))},function(e){const t=e.target;n(1,p=t.value.trim()),"update"in u&&u.update((e=>e.withDescription(p??"")))},function(){n(0,d=i.name),n(1,p=i.description),n(3,g=!1)},async function(){try{const e=i.withName(d).model.withDescription(p).model;await hw(e.toJson()),r.set(e)}catch(e){const t=e instanceof Error?e.message:"Unable to save Exploration.";Uf.error(t)}},function(){if(void 0!==i.id){const e=i.id;Gf({identifierType:"Exploration",onProceed:async()=>{await yw(e),c("delete")}})}},u]}class YP extends at{constructor(e){super(),it(this,e,UP,WP,p,{queryHandler:12,name:0,description:1,canEditMetadata:2})}}function BP(e){let t,n,r,o,s,i,a;return i=new dL({props:{isLoading:!e[0].name,column:{...e[0],name:e[0].name??""}}}),{c(){t=F("div"),n=F("h1"),n.textContent="Aggregated from",r=V(),o=F("div"),s=F("span"),rt(i.$$.fragment),B(s,"class","tag svelte-fnyv54"),B(o,"class","column-info svelte-fnyv54"),B(t,"data-identifier","aggregation-source"),B(t,"class","svelte-fnyv54")},m(e,l){P(e,t,l),A(t,n),A(t,r),A(t,o),A(o,s),ot(i,s,null),a=!0},p(e,t){const n={};1&t&&(n.isLoading=!e[0].name),1&t&&(n.column={...e[0],name:e[0].name??""}),i.$set(n)},i(e){a||(qe(i.$$.fragment,e),a=!0)},o(e){Ve(i.$$.fragment,e),a=!1},d(e){e&&R(t),st(i)}}}function KP(e){let t,n,r,o,s,i,a,l,c,u,d,p;return i=new dL({props:{isLoading:!e[1].column.name,column:{...e[1].column,name:e[1].column.name??""}}}),d=new hb({props:{isLoading:!e[1].table.name,table:{name:e[1].table.name??""}}}),{c(){t=F("div"),n=F("h1"),n.textContent="Source Column",r=V(),o=F("div"),s=F("span"),rt(i.$$.fragment),a=V(),l=F("span"),l.textContent="from",c=V(),u=F("span"),rt(d.$$.fragment),B(s,"class","tag svelte-fnyv54"),B(l,"class","from svelte-fnyv54"),B(u,"class","tag svelte-fnyv54"),B(o,"class","column-info svelte-fnyv54"),B(t,"data-identifier","column-source"),B(t,"class","svelte-fnyv54")},m(e,$){P(e,t,$),A(t,n),A(t,r),A(t,o),A(o,s),ot(i,s,null),A(o,a),A(o,l),A(o,c),A(o,u),ot(d,u,null),p=!0},p(e,t){const n={};2&t&&(n.isLoading=!e[1].column.name),2&t&&(n.column={...e[1].column,name:e[1].column.name??""}),i.$set(n);const r={};2&t&&(r.isLoading=!e[1].table.name),2&t&&(r.table={name:e[1].table.name??""}),d.$set(r)},i(e){p||(qe(i.$$.fragment,e),qe(d.$$.fragment,e),p=!0)},o(e){Ve(i.$$.fragment,e),Ve(d.$$.fragment,e),p=!1},d(e){e&&R(t),st(i),st(d)}}}function GP(e){let t,n,r,o=e[0]&&BP(e),s=e[1]&&KP(e);return{c(){o&&o.c(),t=V(),s&&s.c(),n=j()},m(e,i){o&&o.m(e,i),P(e,t,i),s&&s.m(e,i),P(e,n,i),r=!0},p(e,[r]){e[0]?o?(o.p(e,r),1&r&&qe(o,1)):(o=BP(e),o.c(),qe(o,1),o.m(t.parentNode,t)):o&&(Fe(),Ve(o,1,1,(()=>{o=null})),He()),e[1]?s?(s.p(e,r),2&r&&qe(s,1)):(s=KP(e),s.c(),qe(s,1),s.m(n.parentNode,n)):s&&(Fe(),Ve(s,1,1,(()=>{s=null})),He())},i(e){r||(qe(o),qe(s),r=!0)},o(e){Ve(o),Ve(s),r=!1},d(e){o&&o.d(e),e&&R(t),s&&s.d(e),e&&R(n)}}}function XP(e,t){if(e.source.is_initial_column)return{column:{...e.column,name:e.source.input_column_name},table:{name:e.source.input_table_name}};const n=e.source.input_alias,r=t.get(n);return r?XP(r,t):void 0}function JP(e,t,n){let r,o,{columnInformation:s}=t,{columnsMetaData:i}=t;return e.$$set=e=>{"columnInformation"in e&&n(2,s=e.columnInformation),"columnsMetaData"in e&&n(3,i=e.columnsMetaData)},e.$$.update=()=>{12&e.$$.dirty&&n(1,r=XP(s,i)),12&e.$$.dirty&&n(0,o=(()=>{if(!s.source.is_initial_column){const e=s.source.input_alias,t=i.get(e);if(t)return{...t.column,name:t.column.display_name}}})())},[o,r,s,i]}class ZP extends at{constructor(e){super(),it(this,e,JP,GP,p,{columnInformation:2,columnsMetaData:3})}}function QP(e){let t;return{c(){t=F("span"),t.textContent="Actions",B(t,"slot","header")},m(e,n){P(e,t,n)},p:s,d(e){e&&R(t)}}}function eR(e){let t,n,r;return n=new dk({props:{$$slots:{default:[iR]},$$scope:{ctx:e}}}),{c(){t=F("div"),rt(n.$$.fragment),B(t,"class","warning svelte-1w7tyb3")},m(e,o){P(e,t,o),ot(n,t,null),r=!0},p(e,t){const r={};2051&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(qe(n.$$.fragment,e),r=!0)},o(e){Ve(n.$$.fragment,e),r=!1},d(e){e&&R(t),st(n)}}}function tR(e){let t;return{c(){t=q("Some of the selected columns cannot be deleted because they're\n            either used in transformations or results of transformations. Please\n            remove them from the transformations before deleting them.")},m(e,n){P(e,t,n)},p:s,d(e){e&&R(t)}}}function nR(e){let t;return{c(){t=q("Some of the selected columns cannot be deleted because atleast one\n            column from the base table is required. Please add another column\n            from the base table before deleting them.")},m(e,n){P(e,t,n)},p:s,d(e){e&&R(t)}}}function rR(e){let t;function n(e,t){return e[1]?sR:oR}let r=n(e),o=r(e);return{c(){o.c(),t=j()},m(e,n){o.m(e,n),P(e,t,n)},p(e,s){r!==(r=n(e))&&(o.d(1),o=r(e),o&&(o.c(),o.m(t.parentNode,t)))},d(e){o.d(e),e&&R(t)}}}function oR(e){let t;return{c(){t=q("This column cannot be deleted because it is either used in\n              transformations or a result of transformations. Please remove the\n              column from the transformations before deleting it.")},m(e,n){P(e,t,n)},d(e){e&&R(t)}}}function sR(e){let t;return{c(){t=q("This column cannot be deleted because atleast one column from the\n              base table is required. Please add another column from the base\n              table before deleting this column.")},m(e,n){P(e,t,n)},d(e){e&&R(t)}}}function iR(e){let t;function n(e,t){return 1===e[0].length?rR:e[1]?nR:tR}let r=n(e),o=r(e);return{c(){o.c(),t=j()},m(e,n){o.m(e,n),P(e,t,n)},p(e,s){r===(r=n(e))&&o?o.p(e,s):(o.d(1),o=r(e),o&&(o.c(),o.m(t.parentNode,t)))},d(e){o.d(e),e&&R(t)}}}function aR(e){let t,n,r,o,s,i,l=Mb(e[0],"columns","title")+"";const c=[km];let u={};for(let d=0;d<c.length;d+=1)u=a(u,c[d]);return t=new Wr({props:u}),{c(){rt(t.$$.fragment),n=V(),r=F("span"),o=q("Delete "),s=q(l)},m(e,a){ot(t,e,a),P(e,n,a),P(e,r,a),A(r,o),A(r,s),i=!0},p(e,n){const r=0&n?et(c,[tt(km)]):{};t.$set(r),(!i||1&n)&&l!==(l=Mb(e[0],"columns","title")+"")&&X(s,l)},i(e){i||(qe(t.$$.fragment,e),i=!0)},o(e){Ve(t.$$.fragment,e),i=!1},d(e){st(t,e),e&&R(n),e&&R(r)}}}function lR(e){let t,n,r,o,s=e[2]&&eR(e);return r=new Ln({props:{class:"delete-button",appearance:"outline-primary",disabled:e[2],$$slots:{default:[aR]},$$scope:{ctx:e}}}),r.$on("click",e[5]),{c(){t=F("div"),s&&s.c(),n=V(),rt(r.$$.fragment),B(t,"slot","content"),B(t,"class","section-content actions")},m(e,i){P(e,t,i),s&&s.m(t,null),A(t,n),ot(r,t,null),o=!0},p(e,o){e[2]?s?(s.p(e,o),4&o&&qe(s,1)):(s=eR(e),s.c(),qe(s,1),s.m(t,n)):s&&(Fe(),Ve(s,1,1,(()=>{s=null})),He());const i={};4&o&&(i.disabled=e[2]),2049&o&&(i.$$scope={dirty:o,ctx:e}),r.$set(i)},i(e){o||(qe(s),qe(r.$$.fragment,e),o=!0)},o(e){Ve(s),Ve(r.$$.fragment,e),o=!1},d(e){e&&R(t),s&&s.d(),st(r)}}}function cR(e){let t,n;return t=new $s({props:{isOpen:!0,triggerAppearance:"plain",$$slots:{content:[lR],header:[QP]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const r={};2055&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function uR(e,t,n){let r,o,i,a,l,c,u,d,p=s,m=s;e.$$.on_destroy.push((()=>p())),e.$$.on_destroy.push((()=>m()));let{selectedColumns:f}=t,{queryManager:g}=t;return e.$$set=e=>{"selectedColumns"in e&&n(6,f=e.selectedColumns),"queryManager"in e&&n(7,g=e.queryManager)},e.$$.update=()=>{128&e.$$.dirty&&(n(4,({query:r,columnsMetaData:o}=g),r,(n(3,o),m(),m=$(o,(e=>n(10,d=e))),o)),p(),p=$(r,(e=>n(9,u=e)))),64&e.$$.dirty&&n(0,i=f.map((e=>e.column.alias))),1537&e.$$.dirty&&n(1,a=(()=>{if(u.hasSummarizationTransform())return!1;const e=u.initial_columns.filter((e=>!i.includes(e.alias)));if(0===e.length)return!1;return!e.some((e=>{const t=d.get(e.alias)?.source;return t?.is_initial_column&&t.input_table_id===u.base_table}))})()),513&e.$$.dirty&&n(8,l=u.areColumnsUsedInTransformations(i)),258&e.$$.dirty&&n(2,c=a||l)},[i,a,c,o,r,function(){g.update((e=>e.withoutInitialColumns(i))),g.clearSelection()},f,g,l,u,d]}class dR extends at{constructor(e){super(),it(this,e,uR,cR,p,{selectedColumns:6,queryManager:7})}}function pR(e){let t,n;return t=new $s({props:{isOpen:!0,triggerAppearance:"plain",$$slots:{content:[hR],header:[mR]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};524317&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function $R(e){let t,n,r,o=e[1].length+"";return{c(){t=F("div"),n=q(o),r=q(" columns selected"),B(t,"class","section-content")},m(e,o){P(e,t,o),A(t,n),A(t,r)},p(e,t){2&t&&o!==(o=e[1].length+"")&&X(n,o)},i:s,o:s,d(e){e&&R(t)}}}function mR(e){let t;return{c(){t=F("span"),t.textContent="Properties",B(t,"slot","header")},m(e,n){P(e,t,n)},p:s,d(e){e&&R(t)}}}function fR(e){let t,n;return t=new di({props:{value:e[0].column.display_name,disabled:!e[3]}}),t.$on("input",e[11]),t.$on("change",e[10]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.value=e[0].column.display_name),8&n&&(r.disabled=!e[3]),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function gR(e){let t,n;return t=new ZP({props:{columnInformation:e[4],columnsMetaData:e[2]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};16&n&&(r.columnInformation=e[4]),4&n&&(r.columnsMetaData=e[2]),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function hR(e){let t,n,r,o;n=new Io({props:{label:"Name",layout:"stacked",$$slots:{default:[fR]},$$scope:{ctx:e}}});let s=e[4]&&gR(e);return{c(){t=F("div"),rt(n.$$.fragment),r=V(),s&&s.c(),B(t,"slot","content"),B(t,"class","section-content")},m(e,i){P(e,t,i),ot(n,t,null),A(t,r),s&&s.m(t,null),o=!0},p(e,r){const o={};524297&r&&(o.$$scope={dirty:r,ctx:e}),n.$set(o),e[4]?s?(s.p(e,r),16&r&&qe(s,1)):(s=gR(e),s.c(),qe(s,1),s.m(t,null)):s&&(Fe(),Ve(s,1,1,(()=>{s=null})),He())},i(e){o||(qe(n.$$.fragment,e),qe(s),o=!0)},o(e){Ve(n.$$.fragment,e),Ve(s),o=!1},d(e){e&&R(t),st(n),s&&s.d()}}}function yR(e){let t,n;return t=new dR({props:{selectedColumns:e[1],queryManager:e[3]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.selectedColumns=e[1]),8&n&&(r.queryManager=e[3]),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function vR(e){let t;return{c(){t=F("div"),t.textContent="Select a column to view it's properties.",B(t,"class","section-content")},m(e,n){P(e,t,n)},d(e){e&&R(t)}}}function bR(e){let t,n,r,o,s,i;const a=[$R,pR],l=[];function c(e,t){return e[5]?0:e[0]?1:-1}~(t=c(e))&&(n=l[t]=a[t](e));let u=e[1].length>0&&e[3]&&yR(e),d=!e[0]&&vR();return{c(){n&&n.c(),r=V(),u&&u.c(),o=V(),d&&d.c(),s=j()},m(e,n){~t&&l[t].m(e,n),P(e,r,n),u&&u.m(e,n),P(e,o,n),d&&d.m(e,n),P(e,s,n),i=!0},p(e,[i]){let p=t;t=c(e),t===p?~t&&l[t].p(e,i):(n&&(Fe(),Ve(l[p],1,1,(()=>{l[p]=null})),He()),~t?(n=l[t],n?n.p(e,i):(n=l[t]=a[t](e),n.c()),qe(n,1),n.m(r.parentNode,r)):n=null),e[1].length>0&&e[3]?u?(u.p(e,i),10&i&&qe(u,1)):(u=yR(e),u.c(),qe(u,1),u.m(o.parentNode,o)):u&&(Fe(),Ve(u,1,1,(()=>{u=null})),He()),e[0]?d&&(d.d(1),d=null):d||(d=vR(),d.c(),d.m(s.parentNode,s))},i(e){i||(qe(n),qe(u),i=!0)},o(e){Ve(n),Ve(u),i=!1},d(e){~t&&l[t].d(e),e&&R(r),u&&u.d(e),e&&R(o),d&&d.d(e),e&&R(s)}}}function wR(e,t,n){let r,o,i,a,l,c,u,d,p,m,f,g,h,y,v=s,b=s,w=s,x=s;e.$$.on_destroy.push((()=>v())),e.$$.on_destroy.push((()=>b())),e.$$.on_destroy.push((()=>w())),e.$$.on_destroy.push((()=>x()));let S,{queryHandler:C}=t;function k(e){if(window.clearTimeout(S),r&&p&&e!==p.column.display_name){const{alias:t}=p.column;r.update((n=>n.withDisplayNameForColumn(t,e)))}}return me((()=>{window.clearTimeout(S)})),e.$$set=e=>{"queryHandler"in e&&n(12,C=e.queryHandler)},e.$$.update=()=>{4096&e.$$.dirty&&n(3,r=C instanceof MP?C:void 0),4096&e.$$.dirty&&n(13,({selection:o,columnsMetaData:i,processedColumns:a}=C),o,(n(9,i),v(),v=$(i,(e=>n(2,f=e))),i),(n(8,a),b(),b=$(a,(e=>n(14,g=e))),a)),8192&e.$$.dirty&&(n(7,({selectedCells:l,columnsSelectedWhenTheTableIsEmpty:c}=o),l,(n(6,c),w(),w=$(c,(e=>n(15,h=e))),c)),x(),x=$(l,(e=>n(16,y=e)))),122880&e.$$.dirty&&n(1,u=(()=>{const e=o.getSelectedUniqueColumnsId(y,h),t=[];for(const n of e){const e=g.get(n);void 0!==e&&t.push(e)}return t})()),2&e.$$.dirty&&n(5,d=u.length>1),2&e.$$.dirty&&n(0,p=u.length>0?u[0]:void 0),5&e.$$.dirty&&n(4,m=p?f.get(p.column.alias):void 0)},[p,u,f,r,m,d,c,l,a,i,function(e){k(e.target.value)},function(e){window.clearTimeout(S);const t=e.target;S=window.setTimeout((()=>{k(t.value)}),500)},C,o,g,h,y]}class xR extends at{constructor(e){super(),it(this,e,wR,bR,p,{queryHandler:12})}}function SR(e){let t,n,r,o,s,i,l,c,d;const p=[e[14],{isActive:e[4]},{isSelectedInRange:e[5]},{disabled:e[6]},{isIndependentOfSheet:e[11]},{horizontalAlignment:e[8]},{recordSummary:e[2]},{setRecordSummary:e[3]},{searchValue:e[9]},{isProcessing:e[10]},{showTruncationPopover:e[12]},{canViewLinkedEntities:e[13]}];function $(t){e[19](t)}var m=e[15];function f(e){let t={};for(let n=0;n<p.length;n+=1)t=a(t,p[n]);return void 0!==e[0]&&(t.value=e[0]),{props:t}}return m&&(n=new m(f(e)),we.push((()=>nt(n,"value",$))),n.$on("movementKeyDown",e[20]),n.$on("activate",e[21]),n.$on("update",e[22]),n.$on("mouseenter",e[23])),{c(){t=F("div"),n&&rt(n.$$.fragment),o=V(),s=F("div"),s.innerHTML='<div class="bg svelte-v6dv5q"></div>',B(s,"class","loader svelte-v6dv5q"),B(t,"class","cell-fabric svelte-v6dv5q"),B(t,"data-column-identifier",i=e[1].id),te(t,"show-as-skeleton",e[7]),te(t,"is-independent",e[11])},m(r,i){P(r,t,i),n&&ot(n,t,null),A(t,o),A(t,s),l=!0,c||(d=[W(t,"mousedown",e[16]),W(t,"mouseenter",e[17])],c=!0)},p(e,[s]){const a=32636&s?et(p,[16384&s&&tt(e[14]),16&s&&{isActive:e[4]},32&s&&{isSelectedInRange:e[5]},64&s&&{disabled:e[6]},2048&s&&{isIndependentOfSheet:e[11]},256&s&&{horizontalAlignment:e[8]},4&s&&{recordSummary:e[2]},8&s&&{setRecordSummary:e[3]},512&s&&{searchValue:e[9]},1024&s&&{isProcessing:e[10]},4096&s&&{showTruncationPopover:e[12]},8192&s&&{canViewLinkedEntities:e[13]}]):{};if(!r&&1&s&&(r=!0,a.value=e[0],Te((()=>r=!1))),m!==(m=e[15])){if(n){Fe();const e=n;Ve(e.$$.fragment,1,0,(()=>{st(e,1)})),He()}m?(n=new m(f(e)),we.push((()=>nt(n,"value",$))),n.$on("movementKeyDown",e[20]),n.$on("activate",e[21]),n.$on("update",e[22]),n.$on("mouseenter",e[23]),rt(n.$$.fragment),qe(n.$$.fragment,1),ot(n,t,o)):n=null}else m&&n.$set(a);(!l||2&s&&i!==(i=e[1].id))&&B(t,"data-column-identifier",i),(!l||128&s)&&te(t,"show-as-skeleton",e[7]),(!l||2048&s)&&te(t,"is-independent",e[11])},i(e){l||(n&&qe(n.$$.fragment,e),l=!0)},o(e){n&&Ve(n.$$.fragment,e),l=!1},d(e){e&&R(t),n&&st(n),c=!1,u(d)}}}function CR(e,t,n){let r,o,s;const i=fe();let{columnFabric:a}=t,{value:l}=t,{recordSummary:c}=t,{setRecordSummary:u}=t,{isActive:d=!1}=t,{isSelectedInRange:p=!1}=t,{disabled:$=!1}=t,{showAsSkeleton:m=!1}=t,{horizontalAlignment:f}=t,{searchValue:g}=t,{isProcessing:h=!1}=t,{isIndependentOfSheet:y=!1}=t,{showTruncationPopover:v=!1}=t,{canViewLinkedEntities:b=!0}=t;return e.$$set=e=>{"columnFabric"in e&&n(1,a=e.columnFabric),"value"in e&&n(0,l=e.value),"recordSummary"in e&&n(2,c=e.recordSummary),"setRecordSummary"in e&&n(3,u=e.setRecordSummary),"isActive"in e&&n(4,d=e.isActive),"isSelectedInRange"in e&&n(5,p=e.isSelectedInRange),"disabled"in e&&n(6,$=e.disabled),"showAsSkeleton"in e&&n(7,m=e.showAsSkeleton),"horizontalAlignment"in e&&n(8,f=e.horizontalAlignment),"searchValue"in e&&n(9,g=e.searchValue),"isProcessing"in e&&n(10,h=e.isProcessing),"isIndependentOfSheet"in e&&n(11,y=e.isIndependentOfSheet),"showTruncationPopover"in e&&n(12,v=e.showTruncationPopover),"canViewLinkedEntities"in e&&n(13,b=e.canViewLinkedEntities)},e.$$.update=()=>{2&e.$$.dirty&&n(18,({cellComponentAndProps:r}=a),r),262144&e.$$.dirty&&n(15,({component:o}=r),o),262144&e.$$.dirty&&n(14,s=r.props)},[l,a,c,u,d,p,$,m,f,g,h,y,v,b,s,o,function(e){i("onSelectionStart",{e:e})},function(e){i("onMouseEnterCellWhileSelection",{e:e})},r,function(e){l=e,n(0,l)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)}]}class kR extends at{constructor(e){super(),it(this,e,CR,SR,p,{columnFabric:1,value:0,recordSummary:2,setRecordSummary:3,isActive:4,isSelectedInRange:5,disabled:6,showAsSkeleton:7,horizontalAlignment:8,searchValue:9,isProcessing:10,isIndependentOfSheet:11,showTruncationPopover:12,canViewLinkedEntities:13})}}function DR(e){let t;return{c(){t=q("Select a cell to view it's properties.")},m(e,n){P(e,t,n)},p:s,i:s,o:s,d(e){e&&R(t)}}}function IR(e){let t,n,r,o,s,i=e[0]&&_R(e);return{c(){t=F("section"),n=F("header"),n.textContent="Content",r=V(),o=F("div"),i&&i.c(),B(n,"class","svelte-1amy2p7"),B(o,"class","content svelte-1amy2p7"),B(t,"class","cell-content")},m(e,a){P(e,t,a),A(t,n),A(t,r),A(t,o),i&&i.m(o,null),s=!0},p(e,t){e[0]?i?(i.p(e,t),1&t&&qe(i,1)):(i=_R(e),i.c(),qe(i,1),i.m(o,null)):i&&(Fe(),Ve(i,1,1,(()=>{i=null})),He())},i(e){s||(qe(i),s=!0)},o(e){Ve(i),s=!1},d(e){e&&R(t),i&&i.d()}}}function _R(e){let t,n;return t=new kR({props:{isIndependentOfSheet:!0,disabled:!0,columnFabric:e[0],value:e[1]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.columnFabric=e[0]),2&n&&(r.value=e[1]),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function TR(e){let t,n,r,o;const s=[IR,DR],i=[];function a(e,t){return void 0!==e[1]?0:1}return n=a(e),r=i[n]=s[n](e),{c(){t=F("div"),r.c(),B(t,"class","section-content svelte-1amy2p7"),te(t,"has-content",void 0!==e[1])},m(e,r){P(e,t,r),i[n].m(t,null),o=!0},p(e,[l]){let c=n;n=a(e),n===c?i[n].p(e,l):(Fe(),Ve(i[c],1,1,(()=>{i[c]=null})),He(),r=i[n],r?r.p(e,l):(r=i[n]=s[n](e),r.c()),qe(r,1),r.m(t,null)),(!o||2&l)&&te(t,"has-content",void 0!==e[1])},i(e){o||(qe(r),o=!0)},o(e){Ve(r),o=!1},d(e){e&&R(t),i[n].d()}}}function MR(e,t,n){let r,o,i,a,l,c,u,d=s,p=s;e.$$.on_destroy.push((()=>d())),e.$$.on_destroy.push((()=>p()));let{queryHandler:m}=t;return e.$$set=e=>{"queryHandler"in e&&n(4,m=e.queryHandler)},e.$$.update=()=>{16&e.$$.dirty&&n(5,({selection:r,processedColumns:o}=m),r,(n(3,o),d(),d=$(o,(e=>n(6,c=e))),o)),32&e.$$.dirty&&(n(2,({activeCell:i}=r),i),p(),p=$(i,(e=>n(7,u=e)))),144&e.$$.dirty&&n(1,a=(()=>{const e=u;if(e){const t=m.getRows();if(t[e.rowIndex])return t[e.rowIndex].record[e.columnId]}})()),192&e.$$.dirty&&n(0,l=(()=>{const e=u;if(e){const t=c.get(String(e.columnId));if(t)return t}})())},[l,a,i,o,m,r,c,u]}class ER extends at{constructor(e){super(),it(this,e,MR,TR,p,{queryHandler:4})}}function OR(e){let t,n;return t=new ER({props:{queryHandler:e[0]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.queryHandler=e[0]),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function AR(e){let t,n;return t=new xR({props:{queryHandler:e[0]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.queryHandler=e[0]),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function LR(e){let t,n;return t=new YP({props:{queryHandler:e[0],name:e[7].name,description:e[7].description,canEditMetadata:e[1]}}),t.$on("delete",e[9]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.queryHandler=e[0]),128&n&&(r.name=e[7].name),128&n&&(r.description=e[7].description),2&n&&(r.canEditMetadata=e[1]),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function NR(e){let t,n,r,o;const s=[LR,AR,OR],i=[];function a(e,t){return"inspect-exploration"===e[6]?.id?0:"inspect-column"===e[6]?.id?1:"inspect-cell"===e[6]?.id?2:-1}return~(t=a(e))&&(n=i[t]=s[t](e)),{c(){n&&n.c(),r=j()},m(e,n){~t&&i[t].m(e,n),P(e,r,n),o=!0},p(e,o){let l=t;t=a(e),t===l?~t&&i[t].p(e,o):(n&&(Fe(),Ve(i[l],1,1,(()=>{i[l]=null})),He()),~t?(n=i[t],n?n.p(e,o):(n=i[t]=s[t](e),n.c()),qe(n,1),n.m(r.parentNode,r)):n=null)},i(e){o||(qe(n),o=!0)},o(e){Ve(n),o=!1},d(e){~t&&i[t].d(e),e&&R(r)}}}function PR(e){let t,n,r,o;function s(t){e[10](t)}let i={tabStyle:"compact",tabs:e[5],fillTabWidth:!0,fillContainerHeight:!0,$$slots:{default:[NR]},$$scope:{ctx:e}};return void 0!==e[6]&&(i.activeTab=e[6]),n=new ud({props:i}),we.push((()=>nt(n,"activeTab",s))),{c(){t=F("aside"),rt(n.$$.fragment),B(t,"class","exploration-inspector svelte-1y21vmc")},m(e,r){P(e,t,r),ot(n,t,null),o=!0},p(e,[t]){const o={};32&t&&(o.tabs=e[5]),2243&t&&(o.$$scope={dirty:t,ctx:e}),!r&&64&t&&(r=!0,o.activeTab=e[6],Te((()=>r=!1))),n.$set(o)},i(e){o||(qe(n.$$.fragment,e),o=!0)},o(e){Ve(n.$$.fragment,e),o=!1},d(e){e&&R(t),st(n)}}}function RR(e,t,n){let r,o,i,a,l,c,u,d=s,p=s,m=s;e.$$.on_destroy.push((()=>d())),e.$$.on_destroy.push((()=>p())),e.$$.on_destroy.push((()=>m()));let{queryHandler:f}=t,{canEditMetadata:g}=t;return e.$$set=e=>{"queryHandler"in e&&n(0,f=e.queryHandler),"canEditMetadata"in e&&n(1,g=e.canEditMetadata)},e.$$.update=()=>{1&e.$$.dirty&&n(8,({inspector:r,query:o}=f),r,(n(4,o),m(),m=$(o,(e=>n(7,u=e))),o)),256&e.$$.dirty&&(n(3,({tabs:i,activeTab:a}=r),i,(n(2,a),p(),p=$(a,(e=>n(6,c=e))),a)),d(),d=$(i,(e=>n(5,l=e))))},[f,g,a,i,o,l,c,u,r,function(t){ve.call(this,e,t)},function(e){c=e,a.set(c)}]}class zR extends at{constructor(e){super(),it(this,e,RR,PR,p,{queryHandler:0,canEditMetadata:1})}}function FR(e){let t;const n=e[4].default,r=g(n,e,e[7],null);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||128&o)&&v(r,n,e,e[7],t?y(n,e[7],o,null):b(e[7]),null)},i(e){t||(qe(r,e),t=!0)},o(e){Ve(r,e),t=!1},d(e){r&&r.d(e)}}}function HR(e){let t,n;return t=new zR({props:{slot:"panel",queryHandler:e[1],canEditMetadata:e[2]}}),t.$on("delete",e[5]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.queryHandler=e[1]),4&n&&(r.canEditMetadata=e[2]),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function qR(e){let t,n,r;function o(t){e[6](t)}let s={showPanel:e[0],minSizePx:250,maxSizePx:600,$$slots:{panel:[HR],default:[FR]},$$scope:{ctx:e}};return void 0!==e[3]&&(s.sizePx=e[3]),t=new Ll({props:s}),we.push((()=>nt(t,"sizePx",o))),{c(){rt(t.$$.fragment)},m(e,n){ot(t,e,n),r=!0},p(e,[r]){const o={};1&r&&(o.showPanel=e[0]),134&r&&(o.$$scope={dirty:r,ctx:e}),!n&&8&r&&(n=!0,o.sizePx=e[3],Te((()=>n=!1))),t.$set(o)},i(e){r||(qe(t.$$.fragment,e),r=!0)},o(e){Ve(t.$$.fragment,e),r=!1},d(e){st(t,e)}}}function VR(e,t,n){let r;f(e,Eh,(e=>n(3,r=e)));let{$$slots:o={},$$scope:s}=t,{isInspectorOpen:i}=t,{queryHandler:a}=t,{canEditMetadata:l}=t;return e.$$set=e=>{"isInspectorOpen"in e&&n(0,i=e.isInspectorOpen),"queryHandler"in e&&n(1,a=e.queryHandler),"canEditMetadata"in e&&n(2,l=e.canEditMetadata),"$$scope"in e&&n(7,s=e.$$scope)},[i,a,l,r,o,function(t){ve.call(this,e,t)},function(e){r=e,Eh.set(r)},s]}class jR extends at{constructor(e){super(),it(this,e,VR,qR,p,{isInspectorOpen:0,queryHandler:1,canEditMetadata:2})}}function WR(e){let t,n;return t=new Gs({props:{$$slots:{content:[BR],trigger:[YR]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};18&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function UR(e){let t;return{c(){t=q(e[1])},m(e,n){P(e,t,n)},p(e,n){2&n&&X(t,e[1])},d(e){e&&R(t)}}}function YR(e){let t,n;return t=new fn({props:{slot:"trigger",$$slots:{default:[UR]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};18&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function BR(e){let t,n,r=Ob(e[1])+"";return{c(){t=q("This column has been added "),n=q(r)},m(e,r){P(e,t,r),P(e,n,r)},p(e,t){2&t&&r!==(r=Ob(e[1])+"")&&X(n,r)},d(e){e&&R(t),e&&R(n)}}}function KR(e){let t,n,r,o,s,i,a,l,c;n=new dL({props:{column:{...e[0],type:e[0].producesMultipleResults?"_array":e[0].type,type_options:e[0].producesMultipleResults?{item_type:e[0].type}:null,display_options:null}}});let u=e[1]>0&&WR(e);return{c(){t=F("div"),rt(n.$$.fragment),r=V(),o=F("span"),s=F("span"),s.textContent="Add",i=V(),u&&u.c(),a=V(),l=F("span"),l.textContent="+",B(t,"class","name svelte-13k4j7k"),B(s,"class","text svelte-13k4j7k"),B(o,"class","add svelte-13k4j7k")},m(e,d){P(e,t,d),ot(n,t,null),P(e,r,d),P(e,o,d),A(o,s),A(o,i),u&&u.m(o,null),A(o,a),A(o,l),c=!0},p(e,t){const r={};1&t&&(r.column={...e[0],type:e[0].producesMultipleResults?"_array":e[0].type,type_options:e[0].producesMultipleResults?{item_type:e[0].type}:null,display_options:null}),n.$set(r),e[1]>0?u?(u.p(e,t),2&t&&qe(u,1)):(u=WR(e),u.c(),qe(u,1),u.m(o,a)):u&&(Fe(),Ve(u,1,1,(()=>{u=null})),He())},i(e){c||(qe(n.$$.fragment,e),qe(u),c=!0)},o(e){Ve(n.$$.fragment,e),Ve(u),c=!1},d(e){e&&R(t),st(n),e&&R(r),e&&R(o),u&&u.d()}}}function GR(e){let t,n,r;return n=new Ln({props:{$$slots:{default:[KR]},$$scope:{ctx:e}}}),n.$on("click",e[3]),{c(){t=F("div"),rt(n.$$.fragment),B(t,"class","selectable-column svelte-13k4j7k")},m(e,o){P(e,t,o),ot(n,t,null),r=!0},p(e,[t]){const r={};19&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(qe(n.$$.fragment,e),r=!0)},o(e){Ve(n.$$.fragment,e),r=!1},d(e){e&&R(t),st(n)}}}function XR(e,t,n){const r=fe();let{column:o}=t,{usageCount:s=0}=t;return e.$$set=e=>{"column"in e&&n(0,o=e.column),"usageCount"in e&&n(1,s=e.usageCount)},[o,s,r,()=>r("add",o)]}class JR extends at{constructor(e){super(),it(this,e,XR,GR,p,{column:0,usageCount:1})}}function ZR(e){let t,n,r=e[1].name+"";return{c(){t=q("via "),n=q(r)},m(e,r){P(e,t,r),P(e,n,r)},p(e,t){2&t&&r!==(r=e[1].name+"")&&X(n,r)},d(e){e&&R(t),e&&R(n)}}}function QR(e){let t,n,r,o,s,i,l,c,u;const d=[$r,{size:"0.7rem"},{rotate:e[7]?void 0:270}];let p={};for(let $=0;$<d.length;$+=1)p=a(p,d[$]);return n=new Wr({props:p}),s=new hb({props:{table:{name:e[2]}}}),c=new kl({props:{$$slots:{default:[ZR]},$$scope:{ctx:e}}}),{c(){t=F("span"),rt(n.$$.fragment),r=V(),o=F("span"),rt(s.$$.fragment),i=V(),l=F("span"),rt(c.$$.fragment),B(o,"class","svelte-18wa4a1"),B(t,"class","table-name svelte-18wa4a1"),B(l,"class","fk-column svelte-18wa4a1")},m(e,a){P(e,t,a),ot(n,t,null),A(t,r),A(t,o),ot(s,o,null),P(e,i,a),P(e,l,a),ot(c,l,null),u=!0},p(e,t){const r=128&t?et(d,[0&t&&tt($r),d[1],128&t&&{rotate:e[7]?void 0:270}]):{};n.$set(r);const o={};4&t&&(o.table={name:e[2]}),s.$set(o);const i={};34&t&&(i.$$scope={dirty:t,ctx:e}),c.$set(i)},i(e){u||(qe(n.$$.fragment,e),qe(s.$$.fragment,e),qe(c.$$.fragment,e),u=!0)},o(e){Ve(n.$$.fragment,e),Ve(s.$$.fragment,e),Ve(c.$$.fragment,e),u=!1},d(e){e&&R(t),st(n),st(s),e&&R(i),e&&R(l),st(c)}}}function ez(e){let t,n;return t=new Ln({props:{appearance:"plain",class:"column-name",$$slots:{default:[QR]},$$scope:{ctx:e}}}),t.$on("click",(function(){d(e[6])&&e[6].apply(this,arguments)})),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(n,r){e=n;const o={};166&r&&(o.$$scope={dirty:r,ctx:e}),t.$set(o)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function tz(e){let t,n,r,o;const s=e[3].default,i=g(s,e,e[5],null);return{c(){t=F("div"),i&&i.c(),n=V(),r=F("div"),B(r,"class","line-down svelte-18wa4a1"),B(t,"class","column-list svelte-18wa4a1"),B(t,"slot","content")},m(e,s){P(e,t,s),i&&i.m(t,null),A(t,n),A(t,r),o=!0},p(e,t){i&&i.p&&(!o||32&t)&&v(i,s,e,e[5],o?y(s,e[5],t,null):b(e[5]),null)},i(e){o||(qe(i,e),o=!0)},o(e){Ve(i,e),o=!1},d(e){e&&R(t),i&&i.d(e)}}}function nz(e){let t,n,r,o;function s(t){e[4](t)}let i={$$slots:{content:[tz],trigger:[ez,({toggle:e,isOpen:t})=>({6:e,7:t}),({toggle:e,isOpen:t})=>(e?64:0)|(t?128:0)]},$$scope:{ctx:e}};return void 0!==e[0][e[1].id]&&(i.isOpen=e[0][e[1].id]),n=new $s({props:i}),we.push((()=>nt(n,"isOpen",s))),{c(){t=F("div"),rt(n.$$.fragment),B(t,"class","table-group svelte-18wa4a1")},m(e,r){P(e,t,r),ot(n,t,null),o=!0},p(e,[t]){const o={};230&t&&(o.$$scope={dirty:t,ctx:e}),!r&&3&t&&(r=!0,o.isOpen=e[0][e[1].id],Te((()=>r=!1))),n.$set(o)},i(e){o||(qe(n.$$.fragment,e),o=!0)},o(e){Ve(n.$$.fragment,e),o=!1},d(e){e&&R(t),st(n)}}}function rz(e,t,n){let{$$slots:r={},$$scope:o}=t,{linkCollapsibleOpenState:s={}}=t,{column:i}=t,{tableName:a}=t;return e.$$set=e=>{"linkCollapsibleOpenState"in e&&n(0,s=e.linkCollapsibleOpenState),"column"in e&&n(1,i=e.column),"tableName"in e&&n(2,a=e.tableName),"$$scope"in e&&n(5,o=e.$$scope)},[s,i,a,r,function(t){e.$$.not_equal(s[i.id],t)&&(s[i.id]=t,n(0,s))},o]}class oz extends at{constructor(e){super(),it(this,e,rz,nz,p,{linkCollapsibleOpenState:0,column:1,tableName:2})}}function sz(e,t,n){const r=e.slice();return r[6]=t[n][0],r[7]=t[n][1],r}function iz(e){let t,n;return t=new JR({props:{column:e[7],usageCount:e[3].getColumnCount(e[6])}}),t.$on("add",e[5]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};4&n&&(r.column=e[7]),12&n&&(r.usageCount=e[3].getColumnCount(e[6])),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function az(e){let t,n;return t=new oz({props:{tableName:e[7].linksTo.name,column:e[7],linkCollapsibleOpenState:e[1],$$slots:{default:[lz]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};4&n&&(r.tableName=e[7].linksTo.name),4&n&&(r.column=e[7]),2&n&&(r.linkCollapsibleOpenState=e[1]),1031&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function lz(e){let t,n,r;return t=new pz({props:{linkCollapsibleOpenState:e[1],columnsWithLinks:e[7].linksTo.columns,query:e[0]}}),t.$on("add",e[4]),{c(){rt(t.$$.fragment),n=V()},m(e,o){ot(t,e,o),P(e,n,o),r=!0},p(e,n){const r={};2&n&&(r.linkCollapsibleOpenState=e[1]),4&n&&(r.columnsWithLinks=e[7].linksTo.columns),1&n&&(r.query=e[0]),t.$set(r)},i(e){r||(qe(t.$$.fragment,e),r=!0)},o(e){Ve(t.$$.fragment,e),r=!1},d(e){st(t,e),e&&R(n)}}}function cz(e,t){let n,r,o,s,i;const a=[az,iz],l=[];function c(e,t){return e[7].linksTo?0:1}return r=c(t),o=l[r]=a[r](t),{key:e,first:null,c(){n=j(),o.c(),s=j(),this.first=n},m(e,t){P(e,n,t),l[r].m(e,t),P(e,s,t),i=!0},p(e,n){let i=r;r=c(t=e),r===i?l[r].p(t,n):(Fe(),Ve(l[i],1,1,(()=>{l[i]=null})),He(),o=l[r],o?o.p(t,n):(o=l[r]=a[r](t),o.c()),qe(o,1),o.m(s.parentNode,s))},i(e){i||(qe(o),i=!0)},o(e){Ve(o),i=!1},d(e){e&&R(n),l[r].d(e),e&&R(s)}}}function uz(e){let t,n,r=[],o=new Map,s=[...e[2]];const i=e=>e[6];for(let a=0;a<s.length;a+=1){let t=sz(e,s,a),n=i(t);o.set(n,r[a]=cz(n,t))}return{c(){t=F("div");for(let e=0;e<r.length;e+=1)r[e].c();B(t,"class","selectable-column-tree")},m(e,o){P(e,t,o);for(let n=0;n<r.length;n+=1)r[n].m(t,null);n=!0},p(e,[n]){15&n&&(s=[...e[2]],Fe(),r=Qe(r,n,i,1,e,s,o,t,Je,cz,null,sz),He())},i(e){if(!n){for(let e=0;e<s.length;e+=1)qe(r[e]);n=!0}},o(e){for(let t=0;t<r.length;t+=1)Ve(r[t]);n=!1},d(e){e&&R(t);for(let t=0;t<r.length;t+=1)r[t].d()}}}function dz(e,t,n){let r,o=s,i=()=>(o(),o=$(a,(e=>n(3,r=e))),a);e.$$.on_destroy.push((()=>o()));let{query:a}=t;i();let{linkCollapsibleOpenState:l={}}=t,{columnsWithLinks:c}=t;return e.$$set=e=>{"query"in e&&i(n(0,a=e.query)),"linkCollapsibleOpenState"in e&&n(1,l=e.linkCollapsibleOpenState),"columnsWithLinks"in e&&n(2,c=e.columnsWithLinks)},[a,l,c,r,function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)}]}class pz extends at{constructor(e){super(),it(this,e,dz,uz,p,{query:0,linkCollapsibleOpenState:1,columnsWithLinks:2})}}const{Map:$z}=Ge;function mz(e,t,n){const r=e.slice();return r[15]=t[n],r}function fz(e,t,n){const r=e.slice();return r[18]=t[n][0],r[19]=t[n][1],r}function gz(e,t){let n,r,o;return r=new JR({props:{column:t[19],usageCount:t[4].getColumnCount(t[18])}}),r.$on("add",t[12]),{key:e,first:null,c(){n=j(),rt(r.$$.fragment),this.first=n},m(e,t){P(e,n,t),ot(r,e,t),o=!0},p(e,n){t=e;const o={};8&n&&(o.column=t[19]),24&n&&(o.usageCount=t[4].getColumnCount(t[18])),r.$set(o)},i(e){o||(qe(r.$$.fragment,e),o=!0)},o(e){Ve(r.$$.fragment,e),o=!1},d(e){e&&R(n),st(r,e)}}}function hz(e){let t,n,r,o=e[6]&&vz(e),s=e[5]&&bz(e);return{c(){o&&o.c(),t=V(),s&&s.c(),n=j()},m(e,i){o&&o.m(e,i),P(e,t,i),s&&s.m(e,i),P(e,n,i),r=!0},p(e,r){e[6]?o?(o.p(e,r),64&r&&qe(o,1)):(o=vz(e),o.c(),qe(o,1),o.m(t.parentNode,t)):o&&(Fe(),Ve(o,1,1,(()=>{o=null})),He()),e[5]?s?(s.p(e,r),32&r&&qe(s,1)):(s=bz(e),s.c(),qe(s,1),s.m(n.parentNode,n)):s&&(Fe(),Ve(s,1,1,(()=>{s=null})),He())},i(e){r||(qe(o),qe(s),r=!0)},o(e){Ve(o),Ve(s),r=!1},d(e){o&&o.d(e),e&&R(t),s&&s.d(e),e&&R(n)}}}function yz(e){let t;return{c(){t=F("section"),t.innerHTML='<header class="svelte-1fgd2mb">From linked tables</header> \n      <div class="content svelte-1fgd2mb"><div class="help-text svelte-1fgd2mb">At least one column from the base table is required to add columns\n          from linked tables.</div></div>'},m(e,n){P(e,t,n)},p:s,i:s,o:s,d(e){e&&R(t)}}}function vz(e){let t,n,r,o,s,i;return s=new pz({props:{columnsWithLinks:e[2],linkCollapsibleOpenState:e[0],query:e[8]}}),s.$on("add",e[13]),{c(){t=F("section"),n=F("header"),n.textContent="Linked from Base table",r=V(),o=F("div"),rt(s.$$.fragment),B(n,"class","svelte-1fgd2mb"),B(o,"class","content svelte-1fgd2mb")},m(e,a){P(e,t,a),A(t,n),A(t,r),A(t,o),ot(s,o,null),i=!0},p(e,t){const n={};4&t&&(n.columnsWithLinks=e[2]),1&t&&(n.linkCollapsibleOpenState=e[0]),256&t&&(n.query=e[8]),s.$set(n)},i(e){i||(qe(s.$$.fragment,e),i=!0)},o(e){Ve(s.$$.fragment,e),i=!1},d(e){e&&R(t),st(s)}}}function bz(e){let t,n,r,o,s,i=e[7]&&wz(e);return{c(){t=F("section"),n=F("header"),n.textContent="Linked to Base table",r=V(),o=F("div"),i&&i.c(),B(n,"class","svelte-1fgd2mb"),B(o,"class","content svelte-1fgd2mb"),B(o,"data-identifier","referenced-by-tables")},m(e,a){P(e,t,a),A(t,n),A(t,r),A(t,o),i&&i.m(o,null),s=!0},p(e,t){e[7]?i?(i.p(e,t),128&t&&qe(i,1)):(i=wz(e),i.c(),qe(i,1),i.m(o,null)):i&&(Fe(),Ve(i,1,1,(()=>{i=null})),He())},i(e){s||(qe(i),s=!0)},o(e){Ve(i),s=!1},d(e){e&&R(t),i&&i.d()}}}function wz(e){let t,n,r=[],o=new $z,s=e[1];const i=e=>e[15];for(let a=0;a<s.length;a+=1){let t=mz(e,s,a),n=i(t);o.set(n,r[a]=Sz(n,t))}return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=j()},m(e,o){for(let t=0;t<r.length;t+=1)r[t].m(e,o);P(e,t,o),n=!0},p(e,n){259&n&&(s=e[1],Fe(),r=Qe(r,n,i,1,e,s,o,t.parentNode,Je,Sz,t,mz),He())},i(e){if(!n){for(let e=0;e<s.length;e+=1)qe(r[e]);n=!0}},o(e){for(let t=0;t<r.length;t+=1)Ve(r[t]);n=!1},d(e){for(let t=0;t<r.length;t+=1)r[t].d(e);e&&R(t)}}}function xz(e){let t,n,r;return t=new pz({props:{linkCollapsibleOpenState:e[0],columnsWithLinks:e[15].columns,query:e[8]}}),t.$on("add",e[14]),{c(){rt(t.$$.fragment),n=V()},m(e,o){ot(t,e,o),P(e,n,o),r=!0},p(e,n){const r={};1&n&&(r.linkCollapsibleOpenState=e[0]),2&n&&(r.columnsWithLinks=e[15].columns),256&n&&(r.query=e[8]),t.$set(r)},i(e){r||(qe(t.$$.fragment,e),r=!0)},o(e){Ve(t.$$.fragment,e),r=!1},d(e){st(t,e),e&&R(n)}}}function Sz(e,t){let n,r,o;return r=new oz({props:{tableName:t[15].name,column:t[15].referencedViaColumn,linkCollapsibleOpenState:t[0],$$slots:{default:[xz]},$$scope:{ctx:t}}}),{key:e,first:null,c(){n=j(),rt(r.$$.fragment),this.first=n},m(e,t){P(e,n,t),ot(r,e,t),o=!0},p(e,n){t=e;const o={};2&n&&(o.tableName=t[15].name),2&n&&(o.column=t[15].referencedViaColumn),1&n&&(o.linkCollapsibleOpenState=t[0]),4194563&n&&(o.$$scope={dirty:n,ctx:t}),r.$set(o)},i(e){o||(qe(r.$$.fragment,e),o=!0)},o(e){Ve(r.$$.fragment,e),o=!1},d(e){e&&R(n),st(r,e)}}}function Cz(e){let t,n,r,o,s,i,a,l,c,u=[],d=new $z,p=[...e[3]];const $=e=>e[18];for(let h=0;h<p.length;h+=1){let t=fz(e,p,h),n=$(t);d.set(n,u[h]=gz(n,t))}const m=[yz,hz],f=[];function g(e,t){return e[7]||!e[6]&&!e[5]?1:0}return a=g(e),l=f[a]=m[a](e),{c(){t=F("div"),n=F("section"),r=F("header"),r.textContent="From Base table",o=V(),s=F("div");for(let e=0;e<u.length;e+=1)u[e].c();i=V(),l.c(),B(r,"class","svelte-1fgd2mb"),B(s,"class","content svelte-1fgd2mb"),B(t,"data-identifier","column-selection-list"),B(t,"class","svelte-1fgd2mb")},m(e,l){P(e,t,l),A(t,n),A(n,r),A(n,o),A(n,s);for(let t=0;t<u.length;t+=1)u[t].m(s,null);A(t,i),f[a].m(t,null),c=!0},p(e,[n]){24&n&&(p=[...e[3]],Fe(),u=Qe(u,n,$,1,e,p,d,s,Je,gz,null,fz),He());let r=a;a=g(e),a===r?f[a].p(e,n):(Fe(),Ve(f[r],1,1,(()=>{f[r]=null})),He(),l=f[a],l?l.p(e,n):(l=f[a]=m[a](e),l.c()),qe(l,1),l.m(t,null))},i(e){if(!c){for(let e=0;e<p.length;e+=1)qe(u[e]);qe(l),c=!0}},o(e){for(let t=0;t<u.length;t+=1)Ve(u[t]);Ve(l),c=!1},d(e){e&&R(t);for(let t=0;t<u.length;t+=1)u[t].d();f[a].d()}}}function kz(e,t,n){let r,o,i,a,l,c,u,d,p,m,f=s,g=s;e.$$.on_destroy.push((()=>f())),e.$$.on_destroy.push((()=>g()));let{queryManager:h}=t,{linkCollapsibleOpenState:y={}}=t;return e.$$set=e=>{"queryManager"in e&&n(10,h=e.queryManager),"linkCollapsibleOpenState"in e&&n(0,y=e.linkCollapsibleOpenState)},e.$$.update=()=>{1024&e.$$.dirty&&(n(9,({inputColumns:r,query:o}=h),r,(n(8,o),f(),f=$(o,(e=>n(4,p=e))),o)),g(),g=$(r,(e=>n(11,m=e)))),2048&e.$$.dirty&&n(3,({baseTableColumns:i,tablesThatReferenceBaseTable:a}=m),i,(n(1,a),n(11,m))),16&e.$$.dirty&&n(7,l=p.initial_columns.length>0),8&e.$$.dirty&&n(2,c=new Map([...i].filter((([,e])=>void 0!==e.linksTo)))),4&e.$$.dirty&&n(6,u=c.size>0),2&e.$$.dirty&&n(5,d=a.length>0)},[y,a,c,i,p,d,u,l,o,r,h,m,function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)}]}class Dz extends at{constructor(e){super(),it(this,e,kz,Cz,p,{queryManager:10,linkCollapsibleOpenState:0})}}function Iz(e){let t,n,r,o,s;function i(t){e[6](t)}function a(t){e[7](t)}function l(t){e[8](t)}let c={allowDelete:!1,columns:e[1],getColumnLabel:e[5],disableColumnChange:e[3],layout:"vertical",numberOfFilters:e[2]};return void 0!==e[0].columnIdentifier&&(c.columnIdentifier=e[0].columnIdentifier),void 0!==e[0].conditionIdentifier&&(c.conditionIdentifier=e[0].conditionIdentifier),void 0!==e[0].value&&(c.value=e[0].value),t=new DL({props:c}),we.push((()=>nt(t,"columnIdentifier",i))),we.push((()=>nt(t,"conditionIdentifier",a))),we.push((()=>nt(t,"value",l))),t.$on("update",e[4]),{c(){rt(t.$$.fragment)},m(e,n){ot(t,e,n),s=!0},p(e,[s]){const i={};2&s&&(i.columns=e[1]),2&s&&(i.getColumnLabel=e[5]),8&s&&(i.disableColumnChange=e[3]),4&s&&(i.numberOfFilters=e[2]),!n&&1&s&&(n=!0,i.columnIdentifier=e[0].columnIdentifier,Te((()=>n=!1))),!r&&1&s&&(r=!0,i.conditionIdentifier=e[0].conditionIdentifier,Te((()=>r=!1))),!o&&1&s&&(o=!0,i.value=e[0].value,Te((()=>o=!1))),t.$set(i)},i(e){s||(qe(t.$$.fragment,e),s=!0)},o(e){Ve(t.$$.fragment,e),s=!1},d(e){st(t,e)}}}function _z(e,t,n){const r=fe();let{columns:o}=t,{model:s}=t,{totalTransformations:i}=t,{limitEditing:a=!1}=t;return e.$$set=e=>{"columns"in e&&n(1,o=e.columns),"model"in e&&n(0,s=e.model),"totalTransformations"in e&&n(2,i=e.totalTransformations),"limitEditing"in e&&n(3,a=e.limitEditing)},[s,o,i,a,function(){r("update")},e=>o.get(e.id)?.column.display_name??"",function(t){e.$$.not_equal(s.columnIdentifier,t)&&(s.columnIdentifier=t,n(0,s))},function(t){e.$$.not_equal(s.conditionIdentifier,t)&&(s.conditionIdentifier=t,n(0,s))},function(t){e.$$.not_equal(s.value,t)&&(s.value=t,n(0,s))}]}class Tz extends at{constructor(e){super(),it(this,e,_z,Iz,p,{columns:1,model:0,totalTransformations:2,limitEditing:3})}}function Mz(e){const t=e[2].get(e[21]);e[22]=t}function Ez(e){let t,n;return Mz(e),t=new dL({props:{column:{name:e[3](e[22]),type:e[22]?.column.type??"unknown",type_options:e[22]?.column.type_options??null,display_options:e[22]?.column.display_options??null,constraintsType:e[10](e[21])}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){Mz(e);const r={};2097164&n&&(r.column={name:e[3](e[22]),type:e[22]?.column.type??"unknown",type_options:e[22]?.column.type_options??null,display_options:e[22]?.column.display_options??null,constraintsType:e[10](e[21])}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Oz(e){let t,n,r;function o(t){e[19](t)}let s={options:e[7],autoSelect:"none",getLabel:e[18]};return void 0!==e[1]&&(s.value=e[1]),t=new Hc({props:s}),we.push((()=>nt(t,"value",o))),t.$on("change",e[11]),{c(){rt(t.$$.fragment)},m(e,n){ot(t,e,n),r=!0},p(e,r){const o={};128&r&&(o.options=e[7]),64&r&&(o.getLabel=e[18]),!n&&2&r&&(n=!0,o.value=e[1],Te((()=>n=!1))),t.$set(o)},i(e){r||(qe(t.$$.fragment,e),r=!0)},o(e){Ve(t.$$.fragment,e),r=!1},d(e){st(t,e)}}}function Az(e){let t,n;return t=new Ln({props:{appearance:"secondary",$$slots:{default:[Lz]},$$scope:{ctx:e}}}),t.$on("click",e[20]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};8388608&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Lz(e){let t,n;const r=[{size:"0.8rem"},km];let o={};for(let s=0;s<r.length;s+=1)o=a(o,r[s]);return t=new Wr({props:o}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const o=0&n?et(r,[r[0],tt(km)]):{};t.$set(o)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Nz(e){let t,n,r,o,s,i;function a(t){e[17](t)}let l={options:e[8],autoSelect:"none",disabled:e[4],getLabel:e[16],$$slots:{default:[Ez,({option:e})=>({21:e}),({option:e})=>e?2097152:0]},$$scope:{ctx:e}};void 0!==e[0]&&(l.value=e[0]),t=new Hc({props:l}),we.push((()=>nt(t,"value",a))),t.$on("change",e[12]);let c=e[7].length>1&&Oz(e),u=e[5]&&Az(e);return{c(){rt(t.$$.fragment),r=V(),c&&c.c(),o=V(),u&&u.c(),s=j()},m(e,n){ot(t,e,n),P(e,r,n),c&&c.m(e,n),P(e,o,n),u&&u.m(e,n),P(e,s,n),i=!0},p(e,r){const i={};256&r&&(i.options=e[8]),16&r&&(i.disabled=e[4]),12&r&&(i.getLabel=e[16]),10485772&r&&(i.$$scope={dirty:r,ctx:e}),!n&&1&r&&(n=!0,i.value=e[0],Te((()=>n=!1))),t.$set(i),e[7].length>1?c?(c.p(e,r),128&r&&qe(c,1)):(c=Oz(e),c.c(),qe(c,1),c.m(o.parentNode,o)):c&&(Fe(),Ve(c,1,1,(()=>{c=null})),He()),e[5]?u?(u.p(e,r),32&r&&qe(u,1)):(u=Az(e),u.c(),qe(u,1),u.m(s.parentNode,s)):u&&(Fe(),Ve(u,1,1,(()=>{u=null})),He())},i(e){i||(qe(t.$$.fragment,e),qe(c),qe(u),i=!0)},o(e){Ve(t.$$.fragment,e),Ve(c),Ve(u),i=!1},d(e){st(t,e),e&&R(r),c&&c.d(e),e&&R(o),u&&u.d(e),e&&R(s)}}}function Pz(e){let t,n;return t=new si({props:{$$slots:{default:[Nz]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const r={};8389119&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Rz(e,t,n){let r,o,s,i;const a=fe();let{columns:l}=t,{getColumnLabel:c}=t,{getColumnConstraintType:u=(()=>{})}=t,{columnsAllowedForSelection:d}=t,{columnIdentifier:p}=t,{preprocFunctionIdentifier:$}=t,{disableColumnChange:m=!1}=t,{allowDelete:f=!0}=t;async function g(){await Ie(),a("update",{columnIdentifier:p,preprocFunctionIdentifier:$})}return e.$$set=e=>{"columns"in e&&n(2,l=e.columns),"getColumnLabel"in e&&n(3,c=e.getColumnLabel),"getColumnConstraintType"in e&&n(13,u=e.getColumnConstraintType),"columnsAllowedForSelection"in e&&n(14,d=e.columnsAllowedForSelection),"columnIdentifier"in e&&n(0,p=e.columnIdentifier),"preprocFunctionIdentifier"in e&&n(1,$=e.preprocFunctionIdentifier),"disableColumnChange"in e&&n(4,m=e.disableColumnChange),"allowDelete"in e&&n(5,f=e.allowDelete)},e.$$.update=()=>{var t,a;4&e.$$.dirty&&n(15,r=[...l.values()].map((e=>e.id))),49153&e.$$.dirty&&n(8,o=function(e,t,n){let r=n??e;return r?.some((e=>e===t))||(r=[t,...r]),r}(r,p,d)),5&e.$$.dirty&&n(7,s=[void 0,...l.get(p)?.preprocFunctions.map((e=>e.id))??[]]??[void 0]),5&e.$$.dirty&&n(6,(t=l,a=p,i=e=>void 0===e?"Value":t.get(a)?.preprocFunctions.find((t=>t.id===e))?.name??e))},[p,$,l,c,m,f,i,s,o,a,function(e){if(e){const t=l.get(e);if(t)return u(t)}},g,async function(){n(1,$=void 0),await g()},u,d,r,e=>e?c(l.get(e)):"",function(e){p=e,n(0,p)},e=>void 0===e?"Value":i(e),function(e){$=e,n(1,$)},()=>a("removeGroup")]}class zz extends at{constructor(e){super(),it(this,e,Rz,Pz,p,{columns:2,getColumnLabel:3,getColumnConstraintType:13,columnsAllowedForSelection:14,columnIdentifier:0,preprocFunctionIdentifier:1,disableColumnChange:4,allowDelete:5})}}function Fz(e){let t,n,r=e[0].inputAlias+"";return{c(){t=F("div"),n=q(r)},m(e,r){P(e,t,r),A(t,n)},p(e,t){1&t&&r!==(r=e[0].inputAlias+"")&&X(n,r)},i:s,o:s,d(e){e&&R(t)}}}function Hz(e){let t,n;return t=new dL({props:{column:{...e[1].column,name:e[1].column.display_name??e[1].column.alias}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.column={...e[1].column,name:e[1].column.display_name??e[1].column.alias}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function qz(e){let t,n;const r=[pr,{size:"0.8rem"}];let o={};for(let s=0;s<r.length;s+=1)o=a(o,r[s]);return t=new Wr({props:o}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const o=0&n?et(r,[tt(pr),r[1]]):{};t.$set(o)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Vz(e){let t,n,r,o,s,i,a,l,c,u,d;const p=[Hz,Fz],$=[];function m(e,t){return e[1]?0:1}function f(t){e[7](t)}n=m(e),r=$[n]=p[n](e);let g={options:e[4],disabled:e[2],getLabel:e[6]};return void 0!==e[0].function&&(g.value=e[0].function),a=new Hc({props:g}),we.push((()=>nt(a,"value",f))),a.$on("change",e[8]),u=new Ln({props:{disabled:e[2],appearance:"plain",$$slots:{default:[qz]},$$scope:{ctx:e}}}),u.$on("click",e[9]),{c(){t=F("div"),r.c(),o=V(),s=F("span"),s.textContent="as",i=V(),rt(a.$$.fragment),c=V(),rt(u.$$.fragment),B(s,"class","svelte-txv4ki"),B(t,"class","aggregation svelte-txv4ki")},m(e,r){P(e,t,r),$[n].m(t,null),A(t,o),A(t,s),A(t,i),ot(a,t,null),A(t,c),ot(u,t,null),d=!0},p(e,[s]){let i=n;n=m(e),n===i?$[n].p(e,s):(Fe(),Ve($[i],1,1,(()=>{$[i]=null})),He(),r=$[n],r?r.p(e,s):(r=$[n]=p[n](e),r.c()),qe(r,1),r.m(t,o));const c={};16&s&&(c.options=e[4]),4&s&&(c.disabled=e[2]),8&s&&(c.getLabel=e[6]),!l&&1&s&&(l=!0,c.value=e[0].function,Te((()=>l=!1))),a.$set(c);const d={};4&s&&(d.disabled=e[2]),1024&s&&(d.$$scope={dirty:s,ctx:e}),u.$set(d)},i(e){d||(qe(r),qe(a.$$.fragment,e),qe(u.$$.fragment,e),d=!0)},o(e){Ve(r),Ve(a.$$.fragment,e),Ve(u.$$.fragment,e),d=!1},d(e){e&&R(t),$[n].d(),st(a),st(u)}}}function jz(e,t,n){let r,o;const s=fe();let{processedColumn:i}=t,{aggregation:a}=t,{limitEditing:l=!1}=t;return e.$$set=e=>{"processedColumn"in e&&n(1,i=e.processedColumn),"aggregation"in e&&n(0,a=e.aggregation),"limitEditing"in e&&n(2,l=e.limitEditing)},e.$$.update=()=>{2&e.$$.dirty&&n(3,r=i?.summarizationFunctions??[]),8&e.$$.dirty&&n(4,o=r.map((e=>e.id)))},[a,i,l,r,o,s,e=>r.find((t=>t.id===e))?.label??"",function(t){e.$$.not_equal(a.function,t)&&(a.function=t,n(0,a))},()=>s("update"),()=>s("remove")]}class Wz extends at{constructor(e){super(),it(this,e,jz,Vz,p,{processedColumn:1,aggregation:0,limitEditing:2})}}function Uz(e,t,n){const r=e.slice();return r[14]=t[n],r}function Yz(e){const t=e[1].get(e[17])?.column;e[18]=t}function Bz(e){let t,n,r;return n=new Io({props:{label:"Not Aggregated",layout:"stacked",$$slots:{default:[Gz]},$$scope:{ctx:e}}}),{c(){t=F("section"),rt(n.$$.fragment),B(t,"class","svelte-1a5pfoa")},m(e,o){P(e,t,o),ot(n,t,null),r=!0},p(e,t){const r={};524311&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(qe(n.$$.fragment,e),r=!0)},o(e){Ve(n.$$.fragment,e),r=!1},d(e){e&&R(t),st(n)}}}function Kz(e){let t,n;return Yz(e),t=new dL({props:{column:{name:e[18]?.display_name??"",type:e[18]?.type??"unknown",type_options:e[18]?.type_options??null,display_options:null}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){Yz(e);const r={};131074&n&&(r.column={name:e[18]?.display_name??"",type:e[18]?.type??"unknown",type_options:e[18]?.type_options??null,display_options:null}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Gz(e){let t,n;return t=new Va({props:{values:[...e[4].values()].map(Qz),options:[...e[1].without(e[0].columnIdentifier).values()].map(eF),autoClearInvalidValues:!1,disabled:e[2],$$slots:{default:[Kz,({option:e})=>({17:e}),({option:e})=>e?131072:0]},$$scope:{ctx:e}}}),t.$on("change",e[10]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};16&n&&(r.values=[...e[4].values()].map(Qz)),3&n&&(r.options=[...e[1].without(e[0].columnIdentifier).values()].map(eF)),4&n&&(r.disabled=e[2]),655362&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Xz(e){let t,n,r,o,s=[],i=new Map,a=[...e[3].values()];const l=e=>e[14].inputAlias;for(let c=0;c<a.length;c+=1){let t=Uz(e,a,c),n=l(t);i.set(n,s[c]=Jz(n,t))}return{c(){t=F("section"),n=F("header"),n.textContent="Aggregate",r=V();for(let e=0;e<s.length;e+=1)s[e].c();B(t,"class","svelte-1a5pfoa")},m(e,i){P(e,t,i),A(t,n),A(t,r);for(let n=0;n<s.length;n+=1)s[n].m(t,null);o=!0},p(e,n){142&n&&(a=[...e[3].values()],Fe(),s=Qe(s,n,l,1,e,a,i,t,Je,Jz,null,Uz),He())},i(e){if(!o){for(let e=0;e<a.length;e+=1)qe(s[e]);o=!0}},o(e){for(let t=0;t<s.length;t+=1)Ve(s[t]);o=!1},d(e){e&&R(t);for(let t=0;t<s.length;t+=1)s[t].d()}}}function Jz(e,t){let n,r,o;return r=new Wz({props:{processedColumn:t[1].get(t[14].inputAlias),aggregation:t[14],limitEditing:t[2]}}),r.$on("update",t[11]),r.$on("remove",(function(){return t[12](t[14])})),{key:e,first:null,c(){n=j(),rt(r.$$.fragment),this.first=n},m(e,t){P(e,n,t),ot(r,e,t),o=!0},p(e,n){t=e;const o={};10&n&&(o.processedColumn=t[1].get(t[14].inputAlias)),8&n&&(o.aggregation=t[14]),4&n&&(o.limitEditing=t[2]),r.$set(o)},i(e){o||(qe(r.$$.fragment,e),o=!0)},o(e){Ve(r.$$.fragment,e),o=!1},d(e){e&&R(n),st(r,e)}}}function Zz(e){let t,n,r,o,s;n=new zz({props:{allowDelete:!1,columns:e[1],getColumnLabel:e[8],disableColumnChange:e[2],columnIdentifier:e[0].columnIdentifier,preprocFunctionIdentifier:e[0].preprocFunctionIdentifier}}),n.$on("update",e[9]);let i=e[4].size>0&&Bz(e),a=e[3].size>0&&Xz(e);return{c(){t=F("div"),rt(n.$$.fragment),r=V(),i&&i.c(),o=V(),a&&a.c(),B(t,"class","summarization svelte-1a5pfoa")},m(e,l){P(e,t,l),ot(n,t,null),A(t,r),i&&i.m(t,null),A(t,o),a&&a.m(t,null),s=!0},p(e,[r]){const s={};2&r&&(s.columns=e[1]),2&r&&(s.getColumnLabel=e[8]),4&r&&(s.disableColumnChange=e[2]),1&r&&(s.columnIdentifier=e[0].columnIdentifier),1&r&&(s.preprocFunctionIdentifier=e[0].preprocFunctionIdentifier),n.$set(s),e[4].size>0?i?(i.p(e,r),16&r&&qe(i,1)):(i=Bz(e),i.c(),qe(i,1),i.m(t,o)):i&&(Fe(),Ve(i,1,1,(()=>{i=null})),He()),e[3].size>0?a?(a.p(e,r),8&r&&qe(a,1)):(a=Xz(e),a.c(),qe(a,1),a.m(t,null)):a&&(Fe(),Ve(a,1,1,(()=>{a=null})),He())},i(e){s||(qe(n.$$.fragment,e),qe(i),qe(a),s=!0)},o(e){Ve(n.$$.fragment,e),Ve(i),Ve(a),s=!1},d(e){e&&R(t),st(n),i&&i.d(),a&&a.d()}}}const Qz=e=>e.inputAlias,eF=e=>e.column.alias;function tF(e,t,n){let r,o;const s=fe();let{columns:i}=t,{model:a}=t,{limitEditing:l=!1}=t;function c(e){const{columnIdentifier:t,preprocFunctionIdentifier:i}=e;t!==a.columnIdentifier&&(n(4,o=new dt),n(3,r=new dt),n(0,a.aggregations=r,a),n(0,a.groups=o,a)),n(0,a.columnIdentifier=t,a),n(0,a.preprocFunctionIdentifier=i,a),s("update",a)}function u(e){let t=r;const l=new Set(e);[...i.values()].forEach((e=>{const n=e.column.alias;l.has(n)||a.columnIdentifier===n||(t=t.with(n,{inputAlias:n,outputAlias:`${n}_agged`,function:"distinct_aggregate_to_array"}))})),n(3,r=t),n(4,o=new dt(e.map((e=>[e,{inputAlias:e,outputAlias:`${e}_group`}])))),n(0,a.aggregations=r,a),n(0,a.groups=o,a),s("update",a)}function d(e){n(4,o=o.with(e.inputAlias,{inputAlias:e.inputAlias,outputAlias:`${e.inputAlias}_group`})),n(3,r=r.without(e.inputAlias)),n(0,a.groups=o,a),n(0,a.aggregations=r,a),s("update",a)}return e.$$set=e=>{"columns"in e&&n(1,i=e.columns),"model"in e&&n(0,a=e.model),"limitEditing"in e&&n(2,l=e.limitEditing)},e.$$.update=()=>{1&e.$$.dirty&&n(3,({aggregations:r,groups:o}=a),r,(n(4,o),n(0,a)))},[a,i,l,r,o,c,u,d,e=>(e&&i.get(e.id)?.column.display_name)??"",e=>c(e.detail),e=>u(e.detail),function(t){ve.call(this,e,t)},e=>d(e)]}class nF extends at{constructor(e){super(),it(this,e,tF,Zz,p,{columns:1,model:0,limitEditing:2})}}function rF(e){const t=e[1].get(e[6])?.column;e[7]=t}function oF(e){let t,n;return rF(e),t=new dL({props:{column:{name:e[7]?.display_name??"",type:e[7]?.type??"unknown",type_options:e[7]?.type_options??null,display_options:null}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){rF(e);const r={};66&n&&(r.column={name:e[7]?.display_name??"",type:e[7]?.type??"unknown",type_options:e[7]?.type_options??null,display_options:null}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function sF(e){let t,n;return t=new Va({props:{values:e[0].columnAliases,options:[...e[1].values()].map(aF),autoClearInvalidValues:!1,disabled:e[2],$$slots:{default:[oF,({option:e})=>({6:e}),({option:e})=>e?64:0]},$$scope:{ctx:e}}}),t.$on("change",e[4]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.values=e[0].columnAliases),2&n&&(r.options=[...e[1].values()].map(aF)),4&n&&(r.disabled=e[2]),322&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function iF(e){let t,n;return t=new Io({props:{label:"Select Columns to Hide",layout:"stacked",$$slots:{default:[sF]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const r={};263&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}const aF=e=>e.column.alias;function lF(e,t,n){const r=fe();let{columns:o}=t,{model:s}=t,{limitEditing:i=!1}=t;function a(e){n(0,s.columnAliases=e,s),r("update",s)}return e.$$set=e=>{"columns"in e&&n(1,o=e.columns),"model"in e&&n(0,s=e.model),"limitEditing"in e&&n(2,i=e.limitEditing)},[s,o,i,a,e=>a(e.detail)]}class cF extends at{constructor(e){super(),it(this,e,lF,iF,p,{columns:1,model:0,limitEditing:2})}}const uF=["ASCENDING","DESCENDING"];function dF(e,t){return t?{ASCENDING:"Ascending ID",DESCENDING:"Descending ID"}:["string","uri"].includes(e)?{ASCENDING:"A-Z",DESCENDING:"Z-A"}:["date","datetime","time"].includes(e)?{ASCENDING:"Oldest-Newest",DESCENDING:"Newest-Oldest"}:["number"].includes(e)?{ASCENDING:"0-9",DESCENDING:"9-0"}:{ASCENDING:"Ascending",DESCENDING:"Descending"}}function pF(e){const t=e[2].get(e[18]);e[19]=t}function $F(e){let t,n;return pF(e),t=new dL({props:{column:{name:e[3](e[19]),type:e[19]?.column.type??"unknown",type_options:e[19]?.column.type_options??null,display_options:e[19]?.column.display_options??null,constraintsType:e[8](e[18])}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){pF(e);const r={};262156&n&&(r.column={name:e[3](e[19]),type:e[19]?.column.type??"unknown",type_options:e[19]?.column.type_options??null,display_options:e[19]?.column.display_options??null,constraintsType:e[8](e[18])}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function mF(e){let t,n;return t=new Ln({props:{size:"small",appearance:"secondary",$$slots:{default:[fF]},$$scope:{ctx:e}}}),t.$on("click",e[9]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1048576&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function fF(e){let t,n;const r=[km];let o={};for(let s=0;s<r.length;s+=1)o=a(o,r[s]);return t=new Wr({props:o}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const o=0&n?et(r,[tt(km)]):{};t.$set(o)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function gF(e){let t,n,r,o,s,i,a,l;function c(t){e[15](t)}let u={options:e[7],autoSelect:"none",disabled:e[4],getLabel:e[14],$$slots:{default:[$F,({option:e})=>({18:e}),({option:e})=>e?262144:0]},$$scope:{ctx:e}};function d(t){e[16](t)}void 0!==e[0]&&(u.value=e[0]),t=new Hc({props:u}),we.push((()=>nt(t,"value",c))),t.$on("change",e[10]);let p={options:uF,getLabel:e[6]};void 0!==e[1]&&(p.value=e[1]),o=new Hc({props:p}),we.push((()=>nt(o,"value",d))),o.$on("change",e[10]);let $=e[5]&&mF(e);return{c(){rt(t.$$.fragment),r=V(),rt(o.$$.fragment),i=V(),$&&$.c(),a=j()},m(e,n){ot(t,e,n),P(e,r,n),ot(o,e,n),P(e,i,n),$&&$.m(e,n),P(e,a,n),l=!0},p(e,r){const i={};128&r&&(i.options=e[7]),16&r&&(i.disabled=e[4]),12&r&&(i.getLabel=e[14]),1310732&r&&(i.$$scope={dirty:r,ctx:e}),!n&&1&r&&(n=!0,i.value=e[0],Te((()=>n=!1))),t.$set(i);const l={};64&r&&(l.getLabel=e[6]),!s&&2&r&&(s=!0,l.value=e[1],Te((()=>s=!1))),o.$set(l),e[5]?$?($.p(e,r),32&r&&qe($,1)):($=mF(e),$.c(),qe($,1),$.m(a.parentNode,a)):$&&(Fe(),Ve($,1,1,(()=>{$=null})),He())},i(e){l||(qe(t.$$.fragment,e),qe(o.$$.fragment,e),qe($),l=!0)},o(e){Ve(t.$$.fragment,e),Ve(o.$$.fragment,e),Ve($),l=!1},d(e){st(t,e),e&&R(r),st(o,e),e&&R(i),$&&$.d(e),e&&R(a)}}}function hF(e){let t,n;return t=new si({props:{$$slots:{default:[gF]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const r={};1048831&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function yF(e,t,n){let r,o;const s=fe();let{columns:i}=t,{getColumnLabel:a}=t,{getColumnConstraintType:l=(()=>{})}=t,{columnsAllowedForSelection:c}=t,{columnIdentifier:u}=t,{sortDirection:d="ASCENDING"}=t,{disableColumnChange:p=!1}=t,{allowDelete:$=!0}=t,{getSortDirectionLabel:m=(e=>{const t=i.get(u);if(t&&e){return dF(t.abstractType.cellInfo.type)[e]}return"DESCENDING"===d?"Descending":"Ascending"})}=t;return e.$$set=e=>{"columns"in e&&n(2,i=e.columns),"getColumnLabel"in e&&n(3,a=e.getColumnLabel),"getColumnConstraintType"in e&&n(11,l=e.getColumnConstraintType),"columnsAllowedForSelection"in e&&n(12,c=e.columnsAllowedForSelection),"columnIdentifier"in e&&n(0,u=e.columnIdentifier),"sortDirection"in e&&n(1,d=e.sortDirection),"disableColumnChange"in e&&n(4,p=e.disableColumnChange),"allowDelete"in e&&n(5,$=e.allowDelete),"getSortDirectionLabel"in e&&n(6,m=e.getSortDirectionLabel)},e.$$.update=()=>{4&e.$$.dirty&&n(13,r=[...i.values()].map((e=>e.id))),12289&e.$$.dirty&&n(7,o=(()=>{if(c){const e=[u,...c];return r.filter((t=>e.includes(t)))}return r})())},[u,d,i,a,p,$,m,o,function(e){if(e){const t=i.get(e);if(t)return l(t)}},function(){s("remove")},function(){s("update",{columnIdentifier:u,sortDirection:d})},l,c,r,e=>e?a(i.get(e)):"",function(e){u=e,n(0,u)},function(e){d=e,n(1,d)}]}class vF extends at{constructor(e){super(),it(this,e,yF,hF,p,{columns:2,getColumnLabel:3,getColumnConstraintType:11,columnsAllowedForSelection:12,columnIdentifier:0,sortDirection:1,disableColumnChange:4,allowDelete:5,getSortDirectionLabel:6})}}function bF(e){let t,n,r,o;function s(t){e[5](t)}function i(t){e[6](t)}let a={allowDelete:!1,columns:e[1],columnsAllowedForSelection:e[2],getColumnLabel:e[4],disableColumnChange:e[3]};return void 0!==e[0].columnIdentifier&&(a.columnIdentifier=e[0].columnIdentifier),void 0!==e[0].sortDirection&&(a.sortDirection=e[0].sortDirection),t=new vF({props:a}),we.push((()=>nt(t,"columnIdentifier",s))),we.push((()=>nt(t,"sortDirection",i))),t.$on("update",e[7]),{c(){rt(t.$$.fragment)},m(e,n){ot(t,e,n),o=!0},p(e,[o]){const s={};2&o&&(s.columns=e[1]),4&o&&(s.columnsAllowedForSelection=e[2]),2&o&&(s.getColumnLabel=e[4]),8&o&&(s.disableColumnChange=e[3]),!n&&1&o&&(n=!0,s.columnIdentifier=e[0].columnIdentifier,Te((()=>n=!1))),!r&&1&o&&(r=!0,s.sortDirection=e[0].sortDirection,Te((()=>r=!1))),t.$set(s)},i(e){o||(qe(t.$$.fragment,e),o=!0)},o(e){Ve(t.$$.fragment,e),o=!1},d(e){st(t,e)}}}function wF(e,t,n){let{columns:r}=t,{model:o}=t,{columnsAllowedForSelection:s}=t,{limitEditing:i=!1}=t;return e.$$set=e=>{"columns"in e&&n(1,r=e.columns),"model"in e&&n(0,o=e.model),"columnsAllowedForSelection"in e&&n(2,s=e.columnsAllowedForSelection),"limitEditing"in e&&n(3,i=e.limitEditing)},[o,r,s,i,e=>(e&&r.get(e.id)?.column.display_name)??"",function(t){e.$$.not_equal(o.columnIdentifier,t)&&(o.columnIdentifier=t,n(0,o))},function(t){e.$$.not_equal(o.sortDirection,t)&&(o.sortDirection=t,n(0,o))},function(t){ve.call(this,e,t)}]}class xF extends at{constructor(e){super(),it(this,e,wF,bF,p,{columns:1,model:0,columnsAllowedForSelection:2,limitEditing:3})}}function SF(e,t,n){const r=e.slice();return r[23]=t[n],r[25]=n,r}function CF(e){const t=0===e[3][e[25]].size;e[26]=t}function kF(e){let t,n,r=[],o=new Map,s=e[0];const i=e=>e[23];for(let a=0;a<s.length;a+=1){let t=SF(e,s,a),n=i(t);o.set(n,r[a]=LF(n,t))}return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=j()},m(e,o){for(let t=0;t<r.length;t+=1)r[t].m(e,o);P(e,t,o),n=!0},p(e,n){12299&n&&(s=e[0],Fe(),r=Qe(r,n,i,1,e,s,o,t.parentNode,Je,LF,t,SF),He())},i(e){if(!n){for(let e=0;e<s.length;e+=1)qe(r[e]);n=!0}},o(e){for(let t=0;t<r.length;t+=1)Ve(r[t]);n=!1},d(e){for(let t=0;t<r.length;t+=1)r[t].d(e);e&&R(t)}}}function DF(e){let t,n;return t=new Ln({props:{appearance:"plain",class:"padding-zero",$$slots:{default:[IF]},$$scope:{ctx:e}}}),t.$on("click",e[22]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};134217728&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function IF(e){let t,n;const r=[km,{size:"0.8rem"}];let o={};for(let s=0;s<r.length;s+=1)o=a(o,r[s]);return t=new Wr({props:o}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const o=0&n?et(r,[tt(km),r[1]]):{};t.$set(o)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function _F(e){let t,n,r,o,s,i,a,l,c,u=e[25]+1+"",d=e[23].name+"",p=e[25]===e[0].length-1&&DF(e);return{c(){t=F("span"),n=F("span"),r=q(u),o=V(),s=F("span"),i=q(d),a=V(),p&&p.c(),l=V(),B(n,"class","number svelte-rh6p5m"),B(s,"class","title svelte-rh6p5m"),B(t,"slot","header"),B(t,"class","header svelte-rh6p5m")},m(e,u){P(e,t,u),A(t,n),A(n,r),A(t,o),A(t,s),A(s,i),A(t,a),p&&p.m(t,null),A(t,l),c=!0},p(e,n){(!c||1&n)&&u!==(u=e[25]+1+"")&&X(r,u),(!c||1&n)&&d!==(d=e[23].name+"")&&X(i,d),e[25]===e[0].length-1?p?(p.p(e,n),1&n&&qe(p,1)):(p=DF(e),p.c(),qe(p,1),p.m(t,l)):p&&(Fe(),Ve(p,1,1,(()=>{p=null})),He())},i(e){c||(qe(p),c=!0)},o(e){Ve(p),c=!1},d(e){e&&R(t),p&&p.d()}}}function TF(e){let t,n;return t=new xF({props:{columns:e[3][e[25]],columnsAllowedForSelection:[...e[3][e[25]].without(e[1].getAllSortedColumns()).values()].map(qF),model:e[23],limitEditing:e[26]}}),t.$on("update",(function(){return e[21](e[25],e[23])})),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(n,r){e=n;const o={};9&r&&(o.columns=e[3][e[25]]),11&r&&(o.columnsAllowedForSelection=[...e[3][e[25]].without(e[1].getAllSortedColumns()).values()].map(qF)),1&r&&(o.model=e[23]),9&r&&(o.limitEditing=e[26]),t.$set(o)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function MF(e){let t,n;return t=new cF({props:{columns:e[3][e[25]],model:e[23],limitEditing:e[26]}}),t.$on("update",(function(){return e[20](e[25],e[23])})),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(n,r){e=n;const o={};9&r&&(o.columns=e[3][e[25]]),1&r&&(o.model=e[23]),9&r&&(o.limitEditing=e[26]),t.$set(o)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function EF(e){let t,n;return t=new nF({props:{columns:e[3][e[25]],model:e[23],limitEditing:e[26]||e[25]<e[0].length-1}}),t.$on("update",(function(){return e[19](e[25],e[23])})),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(n,r){e=n;const o={};9&r&&(o.columns=e[3][e[25]]),1&r&&(o.model=e[23]),9&r&&(o.limitEditing=e[26]||e[25]<e[0].length-1),t.$set(o)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function OF(e){let t,n;return t=new Tz({props:{columns:e[3][e[25]],model:e[23],limitEditing:e[26],totalTransformations:e[0].length}}),t.$on("update",(function(){return e[18](e[25],e[23])})),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(n,r){e=n;const o={};9&r&&(o.columns=e[3][e[25]]),1&r&&(o.model=e[23]),9&r&&(o.limitEditing=e[26]),1&r&&(o.totalTransformations=e[0].length),t.$set(o)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function AF(e){let t,n,r,o,s;CF(e);const i=[OF,EF,MF,TF],a=[];function l(e,t){return"filter"===e[23].type?0:"summarize"===e[23].type?1:"hide"===e[23].type?2:"order"===e[23].type?3:-1}return~(n=l(e))&&(r=a[n]=i[n](e)),{c(){t=F("div"),r&&r.c(),o=V(),B(t,"slot","content"),B(t,"class","content svelte-rh6p5m")},m(e,r){P(e,t,r),~n&&a[n].m(t,null),A(t,o),s=!0},p(e,s){CF(e);let c=n;n=l(e),n===c?~n&&a[n].p(e,s):(r&&(Fe(),Ve(a[c],1,1,(()=>{a[c]=null})),He()),~n?(r=a[n],r?r.p(e,s):(r=a[n]=i[n](e),r.c()),qe(r,1),r.m(t,o)):r=null)},i(e){s||(qe(r),s=!0)},o(e){Ve(r),s=!1},d(e){e&&R(t),~n&&a[n].d()}}}function LF(e,t){let n,r,o;return r=new $s({props:{isOpen:!0,triggerAppearance:"plain",$$slots:{content:[AF],header:[_F]},$$scope:{ctx:t}}}),{key:e,first:null,c(){n=j(),rt(r.$$.fragment),this.first=n},m(e,t){P(e,n,t),ot(r,e,t),o=!0},p(e,n){t=e;const o={};134217739&n&&(o.$$scope={dirty:n,ctx:t}),r.$set(o)},i(e){o||(qe(r.$$.fragment,e),o=!0)},o(e){Ve(r.$$.fragment,e),o=!1},d(e){e&&R(n),st(r,e)}}}function NF(e){let t;return{c(){t=q("Filter")},m(e,n){P(e,t,n)},d(e){e&&R(t)}}}function PF(e){let t;return{c(){t=q("Sort")},m(e,n){P(e,t,n)},d(e){e&&R(t)}}}function RF(e){let t;return{c(){t=q("Summarize")},m(e,n){P(e,t,n)},d(e){e&&R(t)}}}function zF(e){let t;return{c(){t=q("Hide Columns")},m(e,n){P(e,t,n)},d(e){e&&R(t)}}}function FF(e){let t,n,r,o,s,i,a,l;return t=new qp({props:{$$slots:{default:[NF]},$$scope:{ctx:e}}}),t.$on("click",e[8]),r=new qp({props:{disabled:!e[2],$$slots:{default:[PF]},$$scope:{ctx:e}}}),r.$on("click",e[11]),s=new qp({props:{disabled:e[1].hasSummarizationTransform(),$$slots:{default:[RF]},$$scope:{ctx:e}}}),s.$on("click",e[9]),a=new qp({props:{$$slots:{default:[zF]},$$scope:{ctx:e}}}),a.$on("click",e[10]),{c(){rt(t.$$.fragment),n=V(),rt(r.$$.fragment),o=V(),rt(s.$$.fragment),i=V(),rt(a.$$.fragment)},m(e,c){ot(t,e,c),P(e,n,c),ot(r,e,c),P(e,o,c),ot(s,e,c),P(e,i,c),ot(a,e,c),l=!0},p(e,n){const o={};134217728&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o);const i={};4&n&&(i.disabled=!e[2]),134217728&n&&(i.$$scope={dirty:n,ctx:e}),r.$set(i);const l={};2&n&&(l.disabled=e[1].hasSummarizationTransform()),134217728&n&&(l.$$scope={dirty:n,ctx:e}),s.$set(l);const c={};134217728&n&&(c.$$scope={dirty:n,ctx:e}),a.$set(c)},i(e){l||(qe(t.$$.fragment,e),qe(r.$$.fragment,e),qe(s.$$.fragment,e),qe(a.$$.fragment,e),l=!0)},o(e){Ve(t.$$.fragment,e),Ve(r.$$.fragment,e),Ve(s.$$.fragment,e),Ve(a.$$.fragment,e),l=!1},d(e){st(t,e),e&&R(n),st(r,e),e&&R(o),st(s,e),e&&R(i),st(a,e)}}}function HF(e){let t,n,r,o,s,i=e[0]&&e[3].length===e[0].length&&kF(e);return o=new xc({props:{label:"Add transformation step",icon:xm,disabled:0===e[7].size,triggerAppearance:"secondary",$$slots:{default:[FF]},$$scope:{ctx:e}}}),{c(){t=F("div"),i&&i.c(),n=V(),r=F("div"),rt(o.$$.fragment),B(r,"class","add-transform-control svelte-rh6p5m"),B(t,"class","transformations svelte-rh6p5m")},m(e,a){P(e,t,a),i&&i.m(t,null),A(t,n),A(t,r),ot(o,r,null),s=!0},p(e,[r]){e[0]&&e[3].length===e[0].length?i?(i.p(e,r),9&r&&qe(i,1)):(i=kF(e),i.c(),qe(i,1),i.m(t,n)):i&&(Fe(),Ve(i,1,1,(()=>{i=null})),He());const s={};128&r&&(s.disabled=0===e[7].size),134217734&r&&(s.$$scope={dirty:r,ctx:e}),o.$set(s)},i(e){s||(qe(i),qe(o.$$.fragment,e),s=!0)},o(e){Ve(i),Ve(o.$$.fragment,e),s=!1},d(e){e&&R(t),i&&i.d(),st(o)}}}const qF=e=>e.column.alias;function VF(e,t,n){let r,o,i,a,l,c,u,d,p,m,f,g=s,h=s,y=s;e.$$.on_destroy.push((()=>g())),e.$$.on_destroy.push((()=>h())),e.$$.on_destroy.push((()=>y()));let{queryManager:v}=t;async function b(){await v.update((e=>e.removeLastTransform()))}async function w(e,t){await v.update((n=>n.updateTransform(e,t)))}return e.$$set=e=>{"queryManager"in e&&n(14,v=e.queryManager)},e.$$.update=()=>{16384&e.$$.dirty&&(n(6,({query:r,processedColumns:o,columnsMetaData:i}=v),r,(n(5,o),g(),g=$(o,(e=>n(7,p=e))),o),(n(4,i),y(),y=$(i,(e=>n(17,f=e))),i)),h(),h=$(r,(e=>n(1,m=e)))),2&e.$$.dirty&&n(16,({initial_columns:a,transformationModels:l}=m),a,(n(0,l),n(1,m))),196609&e.$$.dirty&&n(3,c=function(e,t,n){const r=[];let o=zL(e.map((e=>e.alias)),n);r.push(o);for(let s=1;s<t.length;s+=1){const e=t[s-1];"summarize"===e.type&&(o=zL(e.getOutputColumnAliases(),n)),r.push(o)}return r}(a,l,f)),2&e.$$.dirty&&n(15,u=m.getAllSortableColumns()),32768&e.$$.dirty&&n(2,d=u.length>0)},[l,m,d,c,i,o,r,p,async function(){const e=[...p.values()][0];if(!e)return;const t=[...e.allowedFiltersMap.values()][0];if(!t)return;const n=new IL({columnIdentifier:e.column.alias,conditionIdentifier:t.id,value:e.initialInputValue});await v.update((e=>e.addFilterTransform(n)))},async function(){const e=[...p.values()][0];if(!e)return;const t=new _L({columnIdentifier:e.column.alias,groups:new dt,aggregations:new dt});await v.update((e=>e.addSummarizationTransform(t)))},async function(){const e=new TL({columnAliases:[]});await v.update((t=>t.addHideTransform(e)))},async function(){const e=u[0];if(!e)return;const t=new ML({columnIdentifier:e,sortDirection:"ASCENDING"});await v.update((e=>e.addSortTransform(t)))},b,w,v,u,a,f,(e,t)=>w(e,t),(e,t)=>w(e,t),(e,t)=>w(e,t),(e,t)=>w(e,t),()=>b()]}class jF extends at{constructor(e){super(),it(this,e,VF,HF,p,{queryManager:14})}}function WF(e){let t,n;return t=new hy({props:{$$slots:{default:[BF]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};16392&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function UF(e){let t,n,r,o;const s=[GF,KF],i=[];function a(e,t){return"column-selection"===e[2]?.id?0:"transform-results"===e[2]?.id?1:-1}return~(t=a(e))&&(n=i[t]=s[t](e)),{c(){n&&n.c(),r=j()},m(e,n){~t&&i[t].m(e,n),P(e,r,n),o=!0},p(e,o){let l=t;t=a(e),t===l?~t&&i[t].p(e,o):(n&&(Fe(),Ve(i[l],1,1,(()=>{i[l]=null})),He()),~t?(n=i[t],n?n.p(e,o):(n=i[t]=s[t](e),n.c()),qe(n,1),n.m(r.parentNode,r)):n=null)},i(e){o||(qe(n),o=!0)},o(e){Ve(n),o=!1},d(e){~t&&i[t].d(e),e&&R(r)}}}function YF(e){let t,n,r;return n=new Tr({}),{c(){t=F("div"),rt(n.$$.fragment),B(t,"class","loading-state svelte-17rvnvg")},m(e,o){P(e,t,o),ot(n,t,null),r=!0},p:s,i(e){r||(qe(n.$$.fragment,e),r=!0)},o(e){Ve(n.$$.fragment,e),r=!1},d(e){e&&R(t),st(n)}}}function BF(e){let t,n,r=e[3]?.errors.join(";")+"";return{c(){t=q("Failed to fetch column information:\n          "),n=q(r)},m(e,r){P(e,t,r),P(e,n,r)},p(e,t){8&t&&r!==(r=e[3]?.errors.join(";")+"")&&X(n,r)},d(e){e&&R(t),e&&R(n)}}}function KF(e){let t,n,r,o;return r=new jF({props:{queryManager:e[0]}}),{c(){t=F("div"),t.textContent="Transformations can be used to summarize data, filter data, and\n            more. Note that transformations are applied in the order they are\n            listed.",n=V(),rt(r.$$.fragment),B(t,"class","help-text svelte-17rvnvg")},m(e,s){P(e,t,s),P(e,n,s),ot(r,e,s),o=!0},p(e,t){const n={};1&t&&(n.queryManager=e[0]),r.$set(n)},i(e){o||(qe(r.$$.fragment,e),o=!0)},o(e){Ve(r.$$.fragment,e),o=!1},d(e){e&&R(t),e&&R(n),st(r,e)}}}function GF(e){let t,n,r,o;return r=new Dz({props:{queryManager:e[0],linkCollapsibleOpenState:e[1]}}),r.$on("add",e[10]),{c(){t=F("div"),t.textContent="Select the columns that will be used for the exploration. Columns\n            are limited to those from the base table and its linked tables.",n=V(),rt(r.$$.fragment),B(t,"class","help-text svelte-17rvnvg")},m(e,s){P(e,t,s),P(e,n,s),ot(r,e,s),o=!0},p(e,t){const n={};1&t&&(n.queryManager=e[0]),2&t&&(n.linkCollapsibleOpenState=e[1]),r.$set(n)},i(e){o||(qe(r.$$.fragment,e),o=!0)},o(e){Ve(r.$$.fragment,e),o=!1},d(e){e&&R(t),e&&R(n),st(r,e)}}}function XF(e){let t,n,r,o;const s=[YF,UF,WF],i=[];function a(e,t){return"processing"===e[3]?.state?0:"success"===e[3]?.state?1:"failure"===e[3]?.state?2:-1}return~(t=a(e))&&(n=i[t]=s[t](e)),{c(){n&&n.c(),r=j()},m(e,n){~t&&i[t].m(e,n),P(e,r,n),o=!0},p(e,o){let l=t;t=a(e),t===l?~t&&i[t].p(e,o):(n&&(Fe(),Ve(i[l],1,1,(()=>{i[l]=null})),He()),~t?(n=i[t],n?n.p(e,o):(n=i[t]=s[t](e),n.c()),qe(n,1),n.m(r.parentNode,r)):n=null)},i(e){o||(qe(n),o=!0)},o(e){Ve(n),o=!1},d(e){~t&&i[t].d(e),e&&R(r)}}}function JF(e){let t,n,r,o,s,i,a;function l(t){e[11](t)}let c={tabs:e[7],tabStyle:"compact",fillTabWidth:!0,fillContainerHeight:!0,$$slots:{default:[XF]},$$scope:{ctx:e}};return void 0!==e[2]&&(c.activeTab=e[2]),s=new ud({props:c}),we.push((()=>nt(s,"activeTab",l))),{c(){t=F("aside"),n=F("header"),n.textContent="Build your Exploration",r=V(),o=F("section"),rt(s.$$.fragment),B(n,"class","svelte-17rvnvg"),B(o,"class","input-pane svelte-17rvnvg"),B(t,"class","input-sidebar svelte-17rvnvg")},m(e,i){P(e,t,i),A(t,n),A(t,r),A(t,o),ot(s,o,null),a=!0},p(e,[t]){const n={};16399&t&&(n.$$scope={dirty:t,ctx:e}),!i&&4&t&&(i=!0,n.activeTab=e[2],Te((()=>i=!1))),s.$set(n)},i(e){a||(qe(s.$$.fragment,e),a=!0)},o(e){Ve(s.$$.fragment,e),a=!1},d(e){e&&R(t),st(s)}}}function ZF(e,t,n){let r,o,i,a,l,c,u,d=s,p=s,m=s;e.$$.on_destroy.push((()=>d())),e.$$.on_destroy.push((()=>p())),e.$$.on_destroy.push((()=>m()));let{queryManager:f}=t,{linkCollapsibleOpenState:g={}}=t;const h=[{id:"column-selection",label:"Select Columns"},{id:"transform-results",label:"Transform Results"}];let y=h[0];async function v(e){const t=x_(`${e.tableName}_${e.name}`,new Set(c.initial_columns.map((e=>e.alias)))),r=!c.hasSummarizationTransform();let o=!1;e.producesMultipleResults&&l&&r&&(o=await Bf({title:{component:bm,props:{pre:"Summarize the ",identifier:e.name,post:" column?"}},body:["By default, Mathesar shows only one related record per row when adding a\n                column with multiple related records. We recommend adding a summarization\n                step if you'd like to see related records as a list instead.",'You can manually configure a summarization later via the "Transform Results" pane.'],proceedButton:{label:"Yes, summarize as a list",icon:void 0},cancelButton:{label:"No, continue without summarizing",icon:void 0}})),await f.update((n=>{const r=n.withInitialColumn({alias:t,id:e.id,jp_path:e.jpPath});if(o){const e=f.getAutoSummarizationTransformModel();if(e)return r.model.addSummarizationTransform(e)}return r})),r&&f.selectColumn(t),o&&n(2,[,y]=h,y)}return e.$$set=e=>{"queryManager"in e&&n(0,f=e.queryManager),"linkCollapsibleOpenState"in e&&n(1,g=e.linkCollapsibleOpenState)},e.$$.update=()=>{1&e.$$.dirty&&(n(6,({query:r,state:o,confirmationNeededForMultipleResults:i}=f),r,(n(5,o),m(),m=$(o,(e=>n(9,u=e))),o),(n(4,i),d(),d=$(i,(e=>n(12,l=e))),i)),p(),p=$(r,(e=>n(13,c=e)))),512&e.$$.dirty&&n(3,({inputColumnsFetchState:a}=u),a)},[f,g,y,a,i,o,r,h,v,u,e=>v(e.detail),function(e){y=e,n(2,y)}]}class QF extends at{constructor(e){super(),it(this,e,ZF,JF,p,{queryManager:0,linkCollapsibleOpenState:1})}}function eH(e){let t;const n=e[3].default,r=g(n,e,e[5],null);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||32&o)&&v(r,n,e,e[5],t?y(n,e[5],o,null):b(e[5]),null)},i(e){t||(qe(r,e),t=!0)},o(e){Ve(r,e),t=!1},d(e){r&&r.d(e)}}}function tH(e){let t,n;return t=new QF({props:{slot:"panel",queryManager:e[0],linkCollapsibleOpenState:e[1]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.queryManager=e[0]),2&n&&(r.linkCollapsibleOpenState=e[1]),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function nH(e){let t,n,r;function o(t){e[4](t)}let s={placement:"left",minSizePx:250,maxSizePx:700,$$slots:{panel:[tH],default:[eH]},$$scope:{ctx:e}};return void 0!==e[2]&&(s.sizePx=e[2]),t=new Ll({props:s}),we.push((()=>nt(t,"sizePx",o))),{c(){rt(t.$$.fragment)},m(e,n){ot(t,e,n),r=!0},p(e,[r]){const o={};35&r&&(o.$$scope={dirty:r,ctx:e}),!n&&4&r&&(n=!0,o.sizePx=e[2],Te((()=>n=!1))),t.$set(o)},i(e){r||(qe(t.$$.fragment,e),r=!0)},o(e){Ve(t.$$.fragment,e),r=!1},d(e){st(t,e)}}}function rH(e,t,n){let r;f(e,Mh,(e=>n(2,r=e)));let{$$slots:o={},$$scope:s}=t,{queryManager:i}=t,{linkCollapsibleOpenState:a={}}=t;return e.$$set=e=>{"queryManager"in e&&n(0,i=e.queryManager),"linkCollapsibleOpenState"in e&&n(1,a=e.linkCollapsibleOpenState),"$$scope"in e&&n(5,s=e.$$scope)},[i,a,r,o,function(e){r=e,Mh.set(r)},s]}class oH extends at{constructor(e){super(),it(this,e,rH,nH,p,{queryManager:0,linkCollapsibleOpenState:1})}}function sH(e){let t,n,r,o;n=new zu({props:{total:e[0],pageSize:e[2],currentPage:e[4]}}),n.$on("change",e[5]);let s=e[1].length&&iH(e);return{c(){t=F("div"),rt(n.$$.fragment),r=V(),s&&s.c(),B(t,"class","pagination-group svelte-1e0lu03")},m(e,i){P(e,t,i),ot(n,t,null),A(t,r),s&&s.m(t,null),o=!0},p(e,r){const o={};1&r&&(o.total=e[0]),4&r&&(o.pageSize=e[2]),16&r&&(o.currentPage=e[4]),n.$set(o),e[1].length?s?(s.p(e,r),2&r&&qe(s,1)):(s=iH(e),s.c(),qe(s,1),s.m(t,null)):s&&(Fe(),Ve(s,1,1,(()=>{s=null})),He())},i(e){o||(qe(n.$$.fragment,e),qe(s),o=!0)},o(e){Ve(n.$$.fragment,e),Ve(s),o=!1},d(e){e&&R(t),st(n),s&&s.d()}}}function iH(e){let t,n;return t=new Hc({props:{triggerAppearance:"secondary",options:e[1],value:e[2]}}),t.$on("change",e[6]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.options=e[1]),4&n&&(r.value=e[2]),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function aH(e){let t,n,r=e[0]&&!e[3]&&sH(e);return{c(){r&&r.c(),t=j()},m(e,o){r&&r.m(e,o),P(e,t,o),n=!0},p(e,[n]){e[0]&&!e[3]?r?(r.p(e,n),9&n&&qe(r,1)):(r=sH(e),r.c(),qe(r,1),r.m(t.parentNode,t)):r&&(Fe(),Ve(r,1,1,(()=>{r=null})),He())},i(e){n||(qe(r),n=!0)},o(e){Ve(r),n=!1},d(e){r&&r.d(e),e&&R(t)}}}function lH(e,t,n){let r,o,s,i;const a=fe();let{pagination:l}=t,{totalCount:c}=t,{pageSizeOptions:u=[100,200,500]}=t,{hiddenWhenPossible:d=!1}=t;return e.$$set=e=>{"pagination"in e&&n(7,l=e.pagination),"totalCount"in e&&n(0,c=e.totalCount),"pageSizeOptions"in e&&n(1,u=e.pageSizeOptions),"hiddenWhenPossible"in e&&n(8,d=e.hiddenWhenPossible)},e.$$.update=()=>{128&e.$$.dirty&&n(2,({size:r,page:o}=l),r,(n(4,o),n(7,l))),5&e.$$.dirty&&n(9,s=r>=c),768&e.$$.dirty&&n(3,i=s&&d)},[c,u,r,i,o,function(e){n(7,l=new FL({...l,page:e.detail.currentPage})),a("change",l)},function(e){const t=e.detail;void 0!==t&&r!==t&&(n(7,l=new FL({page:1,size:t})),a("change",l))},l,d,s]}class cH extends at{constructor(e){super(),it(this,e,lH,aH,p,{pagination:7,totalCount:0,pageSizeOptions:1,hiddenWhenPossible:8})}}var uH={exports:{}};
/* @license
            Papa Parse
            v5.4.1
            https://github.com/mholt/PapaParse
            License: MIT
            */!function(e,t){e.exports=function e(){var t="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==t?t:{},n=!t.document&&!!t.postMessage,r=t.IS_PAPA_WORKER||!1,o={},s=0,i={parse:function(n,r){var a=(r=r||{}).dynamicTyping||!1;if(w(a)&&(r.dynamicTypingFunction=a,a={}),r.dynamicTyping=a,r.transform=!!w(r.transform)&&r.transform,r.worker&&i.WORKERS_SUPPORTED){var l=function(){if(!i.WORKERS_SUPPORTED)return!1;var n,r,a=(n=t.URL||t.webkitURL||null,r=e.toString(),i.BLOB_URL||(i.BLOB_URL=n.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",r,")();"],{type:"text/javascript"})))),l=new t.Worker(a);return l.onmessage=g,l.id=s++,o[l.id]=l}();return l.userStep=r.step,l.userChunk=r.chunk,l.userComplete=r.complete,l.userError=r.error,r.step=w(r.step),r.chunk=w(r.chunk),r.complete=w(r.complete),r.error=w(r.error),delete r.worker,void l.postMessage({input:n,config:r,workerId:l.id})}var $=null;return i.NODE_STREAM_INPUT,"string"==typeof n?(n=function(e){return 65279===e.charCodeAt(0)?e.slice(1):e}(n),$=r.download?new c(r):new d(r)):!0===n.readable&&w(n.read)&&w(n.on)?$=new p(r):(t.File&&n instanceof File||n instanceof Object)&&($=new u(r)),$.stream(n)},unparse:function(e,t){var n=!1,r=!0,o=",",s="\r\n",a='"',l=a+a,c=!1,u=null,d=!1;!function(){if("object"==typeof t){if("string"!=typeof t.delimiter||i.BAD_DELIMITERS.filter((function(e){return-1!==t.delimiter.indexOf(e)})).length||(o=t.delimiter),("boolean"==typeof t.quotes||"function"==typeof t.quotes||Array.isArray(t.quotes))&&(n=t.quotes),"boolean"!=typeof t.skipEmptyLines&&"string"!=typeof t.skipEmptyLines||(c=t.skipEmptyLines),"string"==typeof t.newline&&(s=t.newline),"string"==typeof t.quoteChar&&(a=t.quoteChar),"boolean"==typeof t.header&&(r=t.header),Array.isArray(t.columns)){if(0===t.columns.length)throw new Error("Option columns is empty");u=t.columns}void 0!==t.escapeChar&&(l=t.escapeChar+a),("boolean"==typeof t.escapeFormulae||t.escapeFormulae instanceof RegExp)&&(d=t.escapeFormulae instanceof RegExp?t.escapeFormulae:/^[=+\-@\t\r].*$/)}}();var p=new RegExp(m(a),"g");if("string"==typeof e&&(e=JSON.parse(e)),Array.isArray(e)){if(!e.length||Array.isArray(e[0]))return $(null,e,c);if("object"==typeof e[0])return $(u||Object.keys(e[0]),e,c)}else if("object"==typeof e)return"string"==typeof e.data&&(e.data=JSON.parse(e.data)),Array.isArray(e.data)&&(e.fields||(e.fields=e.meta&&e.meta.fields||u),e.fields||(e.fields=Array.isArray(e.data[0])?e.fields:"object"==typeof e.data[0]?Object.keys(e.data[0]):[]),Array.isArray(e.data[0])||"object"==typeof e.data[0]||(e.data=[e.data])),$(e.fields||[],e.data||[],c);throw new Error("Unable to serialize unrecognized input");function $(e,t,n){var i="";"string"==typeof e&&(e=JSON.parse(e)),"string"==typeof t&&(t=JSON.parse(t));var a=Array.isArray(e)&&0<e.length,l=!Array.isArray(t[0]);if(a&&r){for(var c=0;c<e.length;c++)0<c&&(i+=o),i+=f(e[c],c);0<t.length&&(i+=s)}for(var u=0;u<t.length;u++){var d=a?e.length:t[u].length,p=!1,$=a?0===Object.keys(t[u]).length:0===t[u].length;if(n&&!a&&(p="greedy"===n?""===t[u].join("").trim():1===t[u].length&&0===t[u][0].length),"greedy"===n&&a){for(var m=[],g=0;g<d;g++){var h=l?e[g]:g;m.push(t[u][h])}p=""===m.join("").trim()}if(!p){for(var y=0;y<d;y++){0<y&&!$&&(i+=o);var v=a&&l?e[y]:y;i+=f(t[u][v],y)}u<t.length-1&&(!n||0<d&&!$)&&(i+=s)}}return i}function f(e,t){if(null==e)return"";if(e.constructor===Date)return JSON.stringify(e).slice(1,25);var r=!1;d&&"string"==typeof e&&d.test(e)&&(e="'"+e,r=!0);var s=e.toString().replace(p,l);return(r=r||!0===n||"function"==typeof n&&n(e,t)||Array.isArray(n)&&n[t]||function(e,t){for(var n=0;n<t.length;n++)if(-1<e.indexOf(t[n]))return!0;return!1}(s,i.BAD_DELIMITERS)||-1<s.indexOf(o)||" "===s.charAt(0)||" "===s.charAt(s.length-1))?a+s+a:s}}};if(i.RECORD_SEP=String.fromCharCode(30),i.UNIT_SEP=String.fromCharCode(31),i.BYTE_ORDER_MARK="\ufeff",i.BAD_DELIMITERS=["\r","\n",'"',i.BYTE_ORDER_MARK],i.WORKERS_SUPPORTED=!n&&!!t.Worker,i.NODE_STREAM_INPUT=1,i.LocalChunkSize=10485760,i.RemoteChunkSize=5242880,i.DefaultDelimiter=",",i.Parser=f,i.ParserHandle=$,i.NetworkStreamer=c,i.FileStreamer=u,i.StringStreamer=d,i.ReadableStreamStreamer=p,t.jQuery){var a=t.jQuery;a.fn.parse=function(e){var n=e.config||{},r=[];return this.each((function(e){if("INPUT"!==a(this).prop("tagName").toUpperCase()||"file"!==a(this).attr("type").toLowerCase()||!t.FileReader||!this.files||0===this.files.length)return!0;for(var o=0;o<this.files.length;o++)r.push({file:this.files[o],inputElem:this,instanceConfig:a.extend({},n)})})),o(),this;function o(){if(0!==r.length){var t,n,o,l,c=r[0];if(w(e.before)){var u=e.before(c.file,c.inputElem);if("object"==typeof u){if("abort"===u.action)return t="AbortError",n=c.file,o=c.inputElem,l=u.reason,void(w(e.error)&&e.error({name:t},n,o,l));if("skip"===u.action)return void s();"object"==typeof u.config&&(c.instanceConfig=a.extend(c.instanceConfig,u.config))}else if("skip"===u)return void s()}var d=c.instanceConfig.complete;c.instanceConfig.complete=function(e){w(d)&&d(e,c.file,c.inputElem),s()},i.parse(c.file,c.instanceConfig)}else w(e.complete)&&e.complete()}function s(){r.splice(0,1),o()}}}function l(e){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(e){var t=v(e);t.chunkSize=parseInt(t.chunkSize),e.step||e.chunk||(t.chunkSize=null),this._handle=new $(t),(this._handle.streamer=this)._config=t}.call(this,e),this.parseChunk=function(e,n){if(this.isFirstChunk&&w(this._config.beforeFirstChunk)){var o=this._config.beforeFirstChunk(e);void 0!==o&&(e=o)}this.isFirstChunk=!1,this._halted=!1;var s=this._partialLine+e;this._partialLine="";var a=this._handle.parse(s,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var l=a.meta.cursor;this._finished||(this._partialLine=s.substring(l-this._baseIndex),this._baseIndex=l),a&&a.data&&(this._rowCount+=a.data.length);var c=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(r)t.postMessage({results:a,workerId:i.WORKER_ID,finished:c});else if(w(this._config.chunk)&&!n){if(this._config.chunk(a,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);a=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(a.data),this._completeResults.errors=this._completeResults.errors.concat(a.errors),this._completeResults.meta=a.meta),this._completed||!c||!w(this._config.complete)||a&&a.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),c||a&&a.meta.paused||this._nextChunk(),a}this._halted=!0},this._sendError=function(e){w(this._config.error)?this._config.error(e):r&&this._config.error&&t.postMessage({workerId:i.WORKER_ID,error:e,finished:!1})}}function c(e){var t;(e=e||{}).chunkSize||(e.chunkSize=i.RemoteChunkSize),l.call(this,e),this._nextChunk=n?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(e){this._input=e,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(t=new XMLHttpRequest,this._config.withCredentials&&(t.withCredentials=this._config.withCredentials),n||(t.onload=b(this._chunkLoaded,this),t.onerror=b(this._chunkError,this)),t.open(this._config.downloadRequestBody?"POST":"GET",this._input,!n),this._config.downloadRequestHeaders){var e=this._config.downloadRequestHeaders;for(var r in e)t.setRequestHeader(r,e[r])}if(this._config.chunkSize){var o=this._start+this._config.chunkSize-1;t.setRequestHeader("Range","bytes="+this._start+"-"+o)}try{t.send(this._config.downloadRequestBody)}catch(e){this._chunkError(e.message)}n&&0===t.status&&this._chunkError()}},this._chunkLoaded=function(){4===t.readyState&&(t.status<200||400<=t.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:t.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(e){var t=e.getResponseHeader("Content-Range");return null===t?-1:parseInt(t.substring(t.lastIndexOf("/")+1))}(t),this.parseChunk(t.responseText)))},this._chunkError=function(e){var n=t.statusText||e;this._sendError(new Error(n))}}function u(e){var t,n;(e=e||{}).chunkSize||(e.chunkSize=i.LocalChunkSize),l.call(this,e);var r="undefined"!=typeof FileReader;this.stream=function(e){this._input=e,n=e.slice||e.webkitSlice||e.mozSlice,r?((t=new FileReader).onload=b(this._chunkLoaded,this),t.onerror=b(this._chunkError,this)):t=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var e=this._input;if(this._config.chunkSize){var o=Math.min(this._start+this._config.chunkSize,this._input.size);e=n.call(e,this._start,o)}var s=t.readAsText(e,this._config.encoding);r||this._chunkLoaded({target:{result:s}})},this._chunkLoaded=function(e){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(e.target.result)},this._chunkError=function(){this._sendError(t.error)}}function d(e){var t;l.call(this,e=e||{}),this.stream=function(e){return t=e,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var e,n=this._config.chunkSize;return n?(e=t.substring(0,n),t=t.substring(n)):(e=t,t=""),this._finished=!t,this.parseChunk(e)}}}function p(e){l.call(this,e=e||{});var t=[],n=!0,r=!1;this.pause=function(){l.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){l.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(e){this._input=e,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){r&&1===t.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),t.length?this.parseChunk(t.shift()):n=!0},this._streamData=b((function(e){try{t.push("string"==typeof e?e:e.toString(this._config.encoding)),n&&(n=!1,this._checkIsFinished(),this.parseChunk(t.shift()))}catch(e){this._streamError(e)}}),this),this._streamError=b((function(e){this._streamCleanUp(),this._sendError(e)}),this),this._streamEnd=b((function(){this._streamCleanUp(),r=!0,this._streamData("")}),this),this._streamCleanUp=b((function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)}),this)}function $(e){var t,n,r,o=Math.pow(2,53),s=-o,a=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,l=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,c=this,u=0,d=0,p=!1,$=!1,g=[],h={data:[],errors:[],meta:{}};if(w(e.step)){var y=e.step;e.step=function(t){if(h=t,S())x();else{if(x(),0===h.data.length)return;u+=t.data.length,e.preview&&u>e.preview?n.abort():(h.data=h.data[0],y(h,c))}}}function b(t){return"greedy"===e.skipEmptyLines?""===t.join("").trim():1===t.length&&0===t[0].length}function x(){return h&&r&&(k("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+i.DefaultDelimiter+"'"),r=!1),e.skipEmptyLines&&(h.data=h.data.filter((function(e){return!b(e)}))),S()&&function(){if(h)if(Array.isArray(h.data[0])){for(var t=0;S()&&t<h.data.length;t++)h.data[t].forEach(n);h.data.splice(0,1)}else h.data.forEach(n);function n(t,n){w(e.transformHeader)&&(t=e.transformHeader(t,n)),g.push(t)}}(),function(){if(!h||!e.header&&!e.dynamicTyping&&!e.transform)return h;function t(t,n){var r,o=e.header?{}:[];for(r=0;r<t.length;r++){var s=r,i=t[r];e.header&&(s=r>=g.length?"__parsed_extra":g[r]),e.transform&&(i=e.transform(i,s)),i=C(s,i),"__parsed_extra"===s?(o[s]=o[s]||[],o[s].push(i)):o[s]=i}return e.header&&(r>g.length?k("FieldMismatch","TooManyFields","Too many fields: expected "+g.length+" fields but parsed "+r,d+n):r<g.length&&k("FieldMismatch","TooFewFields","Too few fields: expected "+g.length+" fields but parsed "+r,d+n)),o}var n=1;return!h.data.length||Array.isArray(h.data[0])?(h.data=h.data.map(t),n=h.data.length):h.data=t(h.data,0),e.header&&h.meta&&(h.meta.fields=g),d+=n,h}()}function S(){return e.header&&0===g.length}function C(t,n){return r=t,e.dynamicTypingFunction&&void 0===e.dynamicTyping[r]&&(e.dynamicTyping[r]=e.dynamicTypingFunction(r)),!0===(e.dynamicTyping[r]||e.dynamicTyping)?"true"===n||"TRUE"===n||"false"!==n&&"FALSE"!==n&&(function(e){if(a.test(e)){var t=parseFloat(e);if(s<t&&t<o)return!0}return!1}(n)?parseFloat(n):l.test(n)?new Date(n):""===n?null:n):n;var r}function k(e,t,n,r){var o={type:e,code:t,message:n};void 0!==r&&(o.row=r),h.errors.push(o)}this.parse=function(o,s,a){var l=e.quoteChar||'"';if(e.newline||(e.newline=function(e,t){e=e.substring(0,1048576);var n=new RegExp(m(t)+"([^]*?)"+m(t),"gm"),r=(e=e.replace(n,"")).split("\r"),o=e.split("\n"),s=1<o.length&&o[0].length<r[0].length;if(1===r.length||s)return"\n";for(var i=0,a=0;a<r.length;a++)"\n"===r[a][0]&&i++;return i>=r.length/2?"\r\n":"\r"}(o,l)),r=!1,e.delimiter)w(e.delimiter)&&(e.delimiter=e.delimiter(o),h.meta.delimiter=e.delimiter);else{var c=function(t,n,r,o,s){var a,l,c,u;s=s||[",","\t","|",";",i.RECORD_SEP,i.UNIT_SEP];for(var d=0;d<s.length;d++){var p=s[d],$=0,m=0,g=0;c=void 0;for(var h=new f({comments:o,delimiter:p,newline:n,preview:10}).parse(t),y=0;y<h.data.length;y++)if(r&&b(h.data[y]))g++;else{var v=h.data[y].length;m+=v,void 0!==c?0<v&&($+=Math.abs(v-c),c=v):c=v}0<h.data.length&&(m/=h.data.length-g),(void 0===l||$<=l)&&(void 0===u||u<m)&&1.99<m&&(l=$,a=p,u=m)}return{successful:!!(e.delimiter=a),bestDelimiter:a}}(o,e.newline,e.skipEmptyLines,e.comments,e.delimitersToGuess);c.successful?e.delimiter=c.bestDelimiter:(r=!0,e.delimiter=i.DefaultDelimiter),h.meta.delimiter=e.delimiter}var u=v(e);return e.preview&&e.header&&u.preview++,t=o,n=new f(u),h=n.parse(t,s,a),x(),p?{meta:{paused:!0}}:h||{meta:{paused:!1}}},this.paused=function(){return p},this.pause=function(){p=!0,n.abort(),t=w(e.chunk)?"":t.substring(n.getCharIndex())},this.resume=function(){c.streamer._halted?(p=!1,c.streamer.parseChunk(t,!0)):setTimeout(c.resume,3)},this.aborted=function(){return $},this.abort=function(){$=!0,n.abort(),h.meta.aborted=!0,w(e.complete)&&e.complete(h),t=""}}function m(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function f(e){var t,n=(e=e||{}).delimiter,r=e.newline,o=e.comments,s=e.step,a=e.preview,l=e.fastMode,c=t=void 0===e.quoteChar||null===e.quoteChar?'"':e.quoteChar;if(void 0!==e.escapeChar&&(c=e.escapeChar),("string"!=typeof n||-1<i.BAD_DELIMITERS.indexOf(n))&&(n=","),o===n)throw new Error("Comment character same as delimiter");!0===o?o="#":("string"!=typeof o||-1<i.BAD_DELIMITERS.indexOf(o))&&(o=!1),"\n"!==r&&"\r"!==r&&"\r\n"!==r&&(r="\n");var u=0,d=!1;this.parse=function(i,p,$){if("string"!=typeof i)throw new Error("Input must be a string");var f=i.length,g=n.length,h=r.length,y=o.length,v=w(s),b=[],x=[],S=[],C=u=0;if(!i)return Y();if(e.header&&!p){var k=i.split(r)[0].split(n),D=[],I={},_=!1;for(var T in k){var M=k[T];w(e.transformHeader)&&(M=e.transformHeader(M,T));var E=M,O=I[M]||0;for(0<O&&(_=!0,E=M+"_"+O),I[M]=O+1;D.includes(E);)E=E+"_"+O;D.push(E)}if(_){var A=i.split(r);A[0]=D.join(n),i=A.join(r)}}if(l||!1!==l&&-1===i.indexOf(t)){for(var L=i.split(r),N=0;N<L.length;N++){if(S=L[N],u+=S.length,N!==L.length-1)u+=r.length;else if($)return Y();if(!o||S.substring(0,y)!==o){if(v){if(b=[],V(S.split(n)),B(),d)return Y()}else V(S.split(n));if(a&&a<=N)return b=b.slice(0,a),Y(!0)}}return Y()}for(var P=i.indexOf(n,u),R=i.indexOf(r,u),z=new RegExp(m(c)+m(t),"g"),F=i.indexOf(t,u);;)if(i[u]!==t)if(o&&0===S.length&&i.substring(u,u+y)===o){if(-1===R)return Y();u=R+h,R=i.indexOf(r,u),P=i.indexOf(n,u)}else if(-1!==P&&(P<R||-1===R))S.push(i.substring(u,P)),u=P+g,P=i.indexOf(n,u);else{if(-1===R)break;if(S.push(i.substring(u,R)),U(R+h),v&&(B(),d))return Y();if(a&&b.length>=a)return Y(!0)}else for(F=u,u++;;){if(-1===(F=i.indexOf(t,F+1)))return $||x.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:b.length,index:u}),W();if(F===f-1)return W(i.substring(u,F).replace(z,t));if(t!==c||i[F+1]!==c){if(t===c||0===F||i[F-1]!==c){-1!==P&&P<F+1&&(P=i.indexOf(n,F+1)),-1!==R&&R<F+1&&(R=i.indexOf(r,F+1));var H=j(-1===R?P:Math.min(P,R));if(i.substr(F+1+H,g)===n){S.push(i.substring(u,F).replace(z,t)),i[u=F+1+H+g]!==t&&(F=i.indexOf(t,u)),P=i.indexOf(n,u),R=i.indexOf(r,u);break}var q=j(R);if(i.substring(F+1+q,F+1+q+h)===r){if(S.push(i.substring(u,F).replace(z,t)),U(F+1+q+h),P=i.indexOf(n,u),F=i.indexOf(t,u),v&&(B(),d))return Y();if(a&&b.length>=a)return Y(!0);break}x.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:b.length,index:u}),F++}}else F++}return W();function V(e){b.push(e),C=u}function j(e){var t=0;if(-1!==e){var n=i.substring(F+1,e);n&&""===n.trim()&&(t=n.length)}return t}function W(e){return $||(void 0===e&&(e=i.substring(u)),S.push(e),u=f,V(S),v&&B()),Y()}function U(e){u=e,V(S),S=[],R=i.indexOf(r,u)}function Y(e){return{data:b,errors:x,meta:{delimiter:n,linebreak:r,aborted:d,truncated:!!e,cursor:C+(p||0)}}}function B(){s(Y()),b=[],x=[]}},this.abort=function(){d=!0},this.getCharIndex=function(){return u}}function g(e){var t=e.data,n=o[t.workerId],r=!1;if(t.error)n.userError(t.error,t.file);else if(t.results&&t.results.data){var s={abort:function(){r=!0,h(t.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:y,resume:y};if(w(n.userStep)){for(var i=0;i<t.results.data.length&&(n.userStep({data:t.results.data[i],errors:t.results.errors,meta:t.results.meta},s),!r);i++);delete t.results}else w(n.userChunk)&&(n.userChunk(t.results,s,t.file),delete t.results)}t.finished&&!r&&h(t.workerId,t.results)}function h(e,t){var n=o[e];w(n.userComplete)&&n.userComplete(t),n.terminate(),delete o[e]}function y(){throw new Error("Not implemented.")}function v(e){if("object"!=typeof e||null===e)return e;var t=Array.isArray(e)?[]:{};for(var n in e)t[n]=v(e[n]);return t}function b(e,t){return function(){e.apply(t,arguments)}}function w(e){return"function"==typeof e}return r&&(t.onmessage=function(e){var n=e.data;if(void 0===i.WORKER_ID&&n&&(i.WORKER_ID=n.workerId),"string"==typeof n.input)t.postMessage({workerId:i.WORKER_ID,results:i.parse(n.input,n.config),finished:!0});else if(t.File&&n.input instanceof File||n.input instanceof Object){var r=i.parse(n.input,n.config);r&&t.postMessage({workerId:i.WORKER_ID,results:r,finished:!0})}}),(c.prototype=Object.create(l.prototype)).constructor=c,(u.prototype=Object.create(l.prototype)).constructor=u,(d.prototype=Object.create(d.prototype)).constructor=d,(p.prototype=Object.create(l.prototype)).constructor=p,i}()}(uH);function dH(e,t,n){return e.get(t)?.[String(n)]}function pH(e,t,n,r){if(null==e)return"";const o=t.get(n);if(!o)return String(e);const s=o.formatCellValue(e,r);return null==s?"":s}class $H{constructor(t){e(this,"deps",void 0),this.deps=t}getColumnIds(e){return this.deps.selection.getSelectedUniqueColumnsId(e,new ut)}getRowIds(e){return this.deps.selection.getSelectedUniqueRowsId(e)}getCopyContent(){const e=m(this.deps.selection.selectedCells),t=new Map(this.deps.getRows().map((e=>[e.rowIndex,e.record]))),n=this.deps.getColumnsMap(),r=this.deps.getRecordSummaries(),o=[],s=[];for(const a of this.getRowIds(e)){const i=[],l=[];for(const o of this.getColumnIds(e)){const s=n.get(o);if(!xP(e,{rowIndex:a},{id:o}))continue;if(!s)continue;const c=dH(t,a,o),u=pH(c,n,o,r),d=s.abstractType.identifier;l.push({type:d,raw:c,formatted:u}),i.push(u)}o.push(i),s.push(l)}return this.deps.toast.info(`Copied ${Eb(e.size,"cells")}.`),{structured:JSON.stringify(s),tsv:(i=o,uH.exports.unparse(i,{delimiter:"\t",escapeFormulae:!0}))};var i}handleCopy(e){if(null==e.clipboardData)return;const t=this.getCopyContent();e.clipboardData.setData("text/plain",t.tsv),e.clipboardData.setData("application/x-vnd.mathesar-sheet-clipboard",t.structured)}}function mH(e){let t;return{c(){t=q("Refresh")},m(e,n){P(e,t,n)},d(e){e&&R(t)}}}function fH(e){let t;return{c(){t=q("Retry")},m(e,n){P(e,t,n)},d(e){e&&R(t)}}}function gH(e){let t;return{c(){t=q("Loading")},m(e,n){P(e,t,n)},d(e){e&&R(t)}}}function hH(e){let t,n,r,o;const s=[e[0]&&!e[1]?Cr:qm,{spin:e[1]}];let i={};for(let d=0;d<s.length;d+=1)i=a(i,s[d]);function l(e,t){return e[1]?gH:e[0]?fH:mH}t=new Wr({props:i});let c=l(e),u=c(e);return{c(){rt(t.$$.fragment),n=V(),r=F("span"),u.c()},m(e,s){ot(t,e,s),P(e,n,s),P(e,r,s),u.m(r,null),o=!0},p(e,n){const o=3&n?et(s,[tt(e[0]&&!e[1]?Cr:qm),2&n&&{spin:e[1]}]):{};t.$set(o),c!==(c=l(e))&&(u.d(1),u=c(e),u&&(u.c(),u.m(r,null)))},i(e){o||(qe(t.$$.fragment,e),o=!0)},o(e){Ve(t.$$.fragment,e),o=!1},d(e){st(t,e),e&&R(n),e&&R(r),u.d()}}}function yH(e){let t,n;return t=new Ln({props:{class:"refresh-button",appearance:"secondary",size:"medium",disabled:e[1],$$slots:{default:[hH]},$$scope:{ctx:e}}}),t.$on("click",e[3]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const r={};2&n&&(r.disabled=e[1]),19&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function vH(e,t,n){let r,o,{state:s}=t;return e.$$set=e=>{"state"in e&&n(2,s=e.state)},e.$$.update=()=>{4&e.$$.dirty&&n(1,r="loading"===s),4&e.$$.dirty&&n(0,o="error"===s)},[o,r,s,function(t){ve.call(this,e,t)}]}class bH extends at{constructor(e){super(),it(this,e,vH,yH,p,{state:2})}}function wH(e){let t,n;return t=new bH({props:{state:e[1]}}),t.$on("click",e[4]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const r={};2&n&&(r.state=e[1]),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function xH(e,t,n){let r,o,i,a=s;e.$$.on_destroy.push((()=>a()));let{queryRunner:l}=t;return e.$$set=e=>{"queryRunner"in e&&n(0,l=e.queryRunner)},e.$$.update=()=>{1&e.$$.dirty&&(n(2,({runState:r}=l),r),a(),a=$(r,(e=>n(3,i=e)))),8&e.$$.dirty&&n(1,o=(()=>{let e;const t=i?.state;return"processing"===t&&(e="loading"),"failure"===t&&(e="error"),e})())},[l,o,r,i,()=>l.run()]}class SH extends at{constructor(e){super(),it(this,e,xH,wH,p,{queryRunner:0})}}function CH(e,t,n){const r=e.slice();return r[22]=t[n],r}function kH(e,t,n){const r=e.slice();return r[9]=t[n],r}function DH(e,t,n){const r=e.slice();return r[16]=t[n],r}function IH(e,t,n){const r=e.slice();return r[19]=t[n],r}function _H(e){let t,n=e[0],r=[];for(let o=0;o<n.length;o+=1)r[o]=MH(CH(e,n,o));return{c(){t=F("ul");for(let e=0;e<r.length;e+=1)r[e].c();B(t,"class","svelte-s7yd6j")},m(e,n){P(e,t,n);for(let o=0;o<r.length;o+=1)r[o].m(t,null)},p(e,o){if(1&o){let s;for(n=e[0],s=0;s<n.length;s+=1){const i=CH(e,n,s);r[s]?r[s].p(i,o):(r[s]=MH(i),r[s].c(),r[s].m(t,null))}for(;s<r.length;s+=1)r[s].d(1);r.length=n.length}},i:s,o:s,d(e){e&&R(t),z(r,e)}}}function TH(e){let t,n,r=e[0].errors,o=[];for(let i=0;i<r.length;i+=1)o[i]=HH(kH(e,r,i));const s=e=>Ve(o[e],1,1,(()=>{o[e]=null}));return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=j()},m(e,r){for(let t=0;t<o.length;t+=1)o[t].m(e,r);P(e,t,r),n=!0},p(e,n){if(123&n){let i;for(r=e[0].errors,i=0;i<r.length;i+=1){const s=kH(e,r,i);o[i]?(o[i].p(s,n),qe(o[i],1)):(o[i]=HH(s),o[i].c(),qe(o[i],1),o[i].m(t.parentNode,t))}for(Fe(),i=r.length;i<o.length;i+=1)s(i);He()}},i(e){if(!n){for(let e=0;e<r.length;e+=1)qe(o[e]);n=!0}},o(e){o=o.filter(Boolean);for(let t=0;t<o.length;t+=1)Ve(o[t]);n=!1},d(e){z(o,e),e&&R(t)}}}function MH(e){let t,n,r=e[22]+"";return{c(){t=F("li"),n=q(r),B(t,"class","error")},m(e,r){P(e,t,r),A(t,n)},p(e,t){1&t&&r!==(r=e[22]+"")&&X(n,r)},d(e){e&&R(t)}}}function EH(e){let t,n,r=e[9].message+"";return{c(){t=F("li"),n=q(r),B(t,"class","error")},m(e,r){P(e,t,r),A(t,n)},p(e,t){1&t&&r!==(r=e[9].message+"")&&X(n,r)},i:s,o:s,d(e){e&&R(t)}}}function OH(e){let t,n,r,o,s,i;const a=[LH,AH],l=[];function c(e,t){return e[1]?0:e[4]&&e[5]&&e[3].id?1:-1}function u(e,t){return 0===t?function(e){const t=e.slice(),n=t[3].getInitialColumnsAndTransformsUtilizingThemByColumnIds([t[12]]);t[13]=n;const r=t[13].initialColumnsUsingColumnIds;t[14]=r;const o=t[13].transformsUsingColumnIds;return t[15]=o,t}(e):e}return~(o=c(e))&&(s=l[o]=a[o](u(e,o))),{c(){t=F("li"),n=F("p"),n.textContent="Some of the columns present in the query are missing in the\n                underlying base table.",r=V(),s&&s.c(),B(n,"class","strong svelte-s7yd6j"),B(t,"class","error")},m(e,s){P(e,t,s),A(t,n),A(t,r),~o&&l[o].m(t,null),i=!0},p(e,n){let r=o;o=c(e),o===r?~o&&l[o].p(u(e,o),n):(s&&(Fe(),Ve(l[r],1,1,(()=>{l[r]=null})),He()),~o?(s=l[o],s?s.p(u(e,o),n):(s=l[o]=a[o](u(e,o)),s.c()),qe(s,1),s.m(t,null)):s=null)},i(e){i||(qe(s),i=!0)},o(e){Ve(s),i=!1},d(e){e&&R(t),~o&&l[o].d()}}}function AH(e){let t,n,r,o,i,a;return{c(){t=F("p"),t.textContent="You can edit the exploration in the Data Explorer to attempt\n                  recovering it.",n=V(),r=F("p"),o=F("a"),i=q("Edit in Data Explorer"),B(t,"class","svelte-s7yd6j"),B(o,"class","btn btn-secondary"),B(o,"href",a=Vg(e[4].name,e[5].id,e[3].id)),B(r,"class","svelte-s7yd6j")},m(e,s){P(e,t,s),P(e,n,s),P(e,r,s),A(r,o),A(o,i)},p(e,t){56&t&&a!==(a=Vg(e[4].name,e[5].id,e[3].id))&&B(o,"href",a)},i:s,o:s,d(e){e&&R(t),e&&R(n),e&&R(r)}}}function LH(e){let t,n,r,o,s,i,a,l=e[14].length>0&&NH(e),c=e[15].length>0&&RH(e);return i=new Ln({props:{appearance:"secondary",$$slots:{default:[FH]},$$scope:{ctx:e}}}),i.$on("click",(function(){return e[8](e[12])})),{c(){t=F("p"),t.textContent="You can attempt to recover the query by clicking on the button\n                  below.",n=V(),l&&l.c(),r=V(),c&&c.c(),o=V(),s=F("p"),rt(i.$$.fragment),B(t,"class","svelte-s7yd6j"),B(s,"class","svelte-s7yd6j")},m(e,u){P(e,t,u),P(e,n,u),l&&l.m(e,u),P(e,r,u),c&&c.m(e,u),P(e,o,u),P(e,s,u),ot(i,s,null),a=!0},p(t,n){(e=t)[14].length>0?l?l.p(e,n):(l=NH(e),l.c(),l.m(r.parentNode,r)):l&&(l.d(1),l=null),e[15].length>0?c?c.p(e,n):(c=RH(e),c.c(),c.m(o.parentNode,o)):c&&(c.d(1),c=null);const s={};33554432&n&&(s.$$scope={dirty:n,ctx:e}),i.$set(s)},i(e){a||(qe(i.$$.fragment,e),a=!0)},o(e){Ve(i.$$.fragment,e),a=!1},d(e){e&&R(t),e&&R(n),l&&l.d(e),e&&R(r),c&&c.d(e),e&&R(o),e&&R(s),st(i)}}}function NH(e){let t,n,r,o=[],s=new Map,i=e[14];const a=e=>e[19].alias;for(let l=0;l<i.length;l+=1){let t=IH(e,i,l),n=a(t);s.set(n,o[l]=PH(n,t))}return{c(){t=F("p"),t.textContent="This will remove the following column(s):",n=V(),r=F("ul");for(let e=0;e<o.length;e+=1)o[e].c();B(t,"class","svelte-s7yd6j"),B(r,"class","removal-list svelte-s7yd6j")},m(e,s){P(e,t,s),P(e,n,s),P(e,r,s);for(let t=0;t<o.length;t+=1)o[t].m(r,null)},p(e,t){9&t&&(i=e[14],o=Qe(o,t,a,1,e,i,s,r,Xe,PH,null,IH))},d(e){e&&R(t),e&&R(n),e&&R(r);for(let t=0;t<o.length;t+=1)o[t].d()}}}function PH(e,t){let n,r,o,s=(t[3].display_names[t[19].alias]??t[19].alias)+"";return{key:e,first:null,c(){n=F("li"),r=q(s),o=V(),this.first=n},m(e,t){P(e,n,t),A(n,r),A(n,o)},p(e,n){t=e,9&n&&s!==(s=(t[3].display_names[t[19].alias]??t[19].alias)+"")&&X(r,s)},d(e){e&&R(n)}}}function RH(e){let t,n,r,o=[],s=new Map,i=e[15];const a=e=>e[16];for(let l=0;l<i.length;l+=1){let t=DH(e,i,l),n=a(t);s.set(n,o[l]=zH(n,t))}return{c(){t=F("p"),t.textContent="This will remove the following transformation(s):",n=V(),r=F("ul");for(let e=0;e<o.length;e+=1)o[e].c();B(t,"class","svelte-s7yd6j"),B(r,"class","removal-list svelte-s7yd6j")},m(e,s){P(e,t,s),P(e,n,s),P(e,r,s);for(let t=0;t<o.length;t+=1)o[t].m(r,null)},p(e,t){9&t&&(i=e[15],o=Qe(o,t,a,1,e,i,s,r,Xe,zH,null,DH))},d(e){e&&R(t),e&&R(n),e&&R(r);for(let t=0;t<o.length;t+=1)o[t].d()}}}function zH(e,t){let n,r,o,s,i,a=t[16].index+1+"",l=t[16].transform.name+"";return{key:e,first:null,c(){n=F("li"),r=q(a),o=q(": "),s=q(l),i=V(),this.first=n},m(e,t){P(e,n,t),A(n,r),A(n,o),A(n,s),A(n,i)},p(e,n){t=e,9&n&&a!==(a=t[16].index+1+"")&&X(r,a),9&n&&l!==(l=t[16].transform.name+"")&&X(s,l)},d(e){e&&R(n)}}}function FH(e){let t;return{c(){t=q("Attempt Exploration recovery")},m(e,n){P(e,t,n)},d(e){e&&R(t)}}}function HH(e){let t,n,r,o,s,i;const a=[OH,EH],l=[];function c(e,t){return 1&t&&(n=null),null==n&&(n=!(4418!==e[9].code||!_t(e[9].detail,"column_id"))),n?0:1}function u(e,t){return 0===t?function(e){const t=e.slice(),n=Number(t[9].detail.column_id);return t[12]=n,t}(e):e}return r=c(e,-1),o=l[r]=a[r](u(e,r)),{c(){t=F("ul"),o.c(),s=V(),B(t,"class","svelte-s7yd6j")},m(e,n){P(e,t,n),l[r].m(t,null),A(t,s),i=!0},p(e,n){let i=r;r=c(e,n),r===i?l[r].p(u(e,r),n):(Fe(),Ve(l[i],1,1,(()=>{l[i]=null})),He(),o=l[r],o?o.p(u(e,r),n):(o=l[r]=a[r](u(e,r)),o.c()),qe(o,1),o.m(t,s))},i(e){i||(qe(o),i=!0)},o(e){Ve(o),i=!1},d(e){e&&R(t),l[r].d()}}}function qH(e){let t,n,r,o,s,i;const a=[TH,_H],l=[];function c(e,t){return e[0]instanceof th?0:1}return r=c(e),o=l[r]=a[r](e),{c(){t=F("p"),t.textContent="The result could not be displayed.",n=V(),o.c(),s=j(),B(t,"class","error-header svelte-s7yd6j")},m(e,o){P(e,t,o),P(e,n,o),l[r].m(e,o),P(e,s,o),i=!0},p(e,t){let n=r;r=c(e),r===n?l[r].p(e,t):(Fe(),Ve(l[n],1,1,(()=>{l[n]=null})),He(),o=l[r],o?o.p(e,t):(o=l[r]=a[r](e),o.c()),qe(o,1),o.m(s.parentNode,s))},i(e){i||(qe(o),i=!0)},o(e){Ve(o),i=!1},d(e){e&&R(t),e&&R(n),l[r].d(e),e&&R(s)}}}function VH(e){let t,n,r;return n=new hy({props:{fullWidth:!0,$$slots:{default:[qH]},$$scope:{ctx:e}}}),{c(){t=F("div"),rt(n.$$.fragment),B(t,"class","query-run-errors svelte-s7yd6j")},m(e,o){P(e,t,o),ot(n,t,null),r=!0},p(e,[t]){const r={};33554491&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(qe(n.$$.fragment,e),r=!0)},o(e){Ve(n.$$.fragment,e),r=!1},d(e){e&&R(t),st(n)}}}function jH(e,t,n){let r,o,i,a,l,c=s;f(e,vh,(e=>n(4,a=e))),f(e,Xh,(e=>n(5,l=e))),e.$$.on_destroy.push((()=>c()));let{queryHandler:u}=t,{errors:d}=t;function p(e){r&&r.update((t=>t.withoutColumnsById([e])))}return e.$$set=e=>{"queryHandler"in e&&n(7,u=e.queryHandler),"errors"in e&&n(0,d=e.errors)},e.$$.update=()=>{128&e.$$.dirty&&n(1,r=u instanceof MP?u:void 0),128&e.$$.dirty&&(n(2,({query:o}=u),o),c(),c=$(o,(e=>n(3,i=e))))},[d,r,o,i,a,l,p,u,e=>p(e)]}class WH extends at{constructor(e){super(),it(this,e,jH,VH,p,{queryHandler:7,errors:0})}}function UH(e){let t,n;return t=new dL({props:{isLoading:"processing"===e[3]&&"unknown"===e[1].column.type,column:{...e[1].column,name:e[1].column.display_name??e[1].column.alias}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};10&n&&(r.isLoading="processing"===e[3]&&"unknown"===e[1].column.type),2&n&&(r.column={...e[1].column,name:e[1].column.display_name??e[1].column.alias}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function YH(e){let t,n,r,o,s,i;n=new Ln({props:{appearance:"plain",class:"column-name-wrapper "+(e[2]?"selected":""),$$slots:{default:[UH]},$$scope:{ctx:e}}}),n.$on("click",e[6]),o=new lN({props:{columnIdentifierKey:e[1].id}});let l=[e[7],{style:s=e[8]}],c={};for(let u=0;u<l.length;u+=1)c=a(c,l[u]);return{c(){t=F("div"),rt(n.$$.fragment),r=V(),rt(o.$$.fragment),K(t,c)},m(e,s){P(e,t,s),ot(n,t,null),A(t,r),ot(o,t,null),i=!0},p(e,r){const a={};4&r&&(a.class="column-name-wrapper "+(e[2]?"selected":"")),522&r&&(a.$$scope={dirty:r,ctx:e}),n.$set(a);const u={};2&r&&(u.columnIdentifierKey=e[1].id),o.$set(u),K(t,c=et(l,[128&r&&e[7],(!i||256&r&&s!==(s=e[8]))&&{style:s}]))},i(e){i||(qe(n.$$.fragment,e),qe(o.$$.fragment,e),i=!0)},o(e){Ve(n.$$.fragment,e),Ve(o.$$.fragment,e),i=!1},d(e){e&&R(t),st(n),st(o)}}}function BH(e){let t,n;return t=new eN({props:{columnIdentifierKey:e[1].id,$$slots:{default:[YH,({htmlAttributes:e,style:t})=>({7:e,8:t}),({htmlAttributes:e,style:t})=>(e?128:0)|(t?256:0)]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const r={};2&n&&(r.columnIdentifierKey=e[1].id),911&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function KH(e,t,n){let r,o,i,a=s;e.$$.on_destroy.push((()=>a()));let{queryRunner:l}=t,{processedQueryColumn:c}=t,{isSelected:u}=t;return e.$$set=e=>{"queryRunner"in e&&n(0,l=e.queryRunner),"processedQueryColumn"in e&&n(1,c=e.processedQueryColumn),"isSelected"in e&&n(2,u=e.isSelected)},e.$$.update=()=>{1&e.$$.dirty&&(n(4,({runState:r}=l),r),a(),a=$(r,(e=>n(5,i=e)))),32&e.$$.dirty&&n(3,o=i?.state)},[l,c,u,o,r,i,()=>{l.selectColumn(c.column.alias)}]}class GH extends at{constructor(e){super(),it(this,e,KH,BH,p,{queryRunner:0,processedQueryColumn:1,isSelected:2})}}function XH(e){let t,n;return t=new kR({props:{isActive:e[6],isSelectedInRange:e[5],columnFabric:e[0],value:e[1]?.record[e[0].id],showAsSkeleton:"processing"===e[2],disabled:!0}}),t.$on("movementKeyDown",e[9]),t.$on("activate",e[12]),t.$on("onSelectionStart",e[13]),t.$on("onMouseEnterCellWhileSelection",e[14]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};64&n&&(r.isActive=e[6]),32&n&&(r.isSelectedInRange=e[5]),1&n&&(r.columnFabric=e[0]),3&n&&(r.value=e[1]?.record[e[0].id]),4&n&&(r.showAsSkeleton="processing"===e[2]),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function JH(e){let t,n,r,o=(e[1]||"processing"===e[2])&&XH(e),s=[e[16],{style:n=e[17]},{class:"cell"}],i={};for(let l=0;l<s.length;l+=1)i=a(i,s[l]);return{c(){t=F("div"),o&&o.c(),K(t,i),te(t,"is-active",e[6]),te(t,"svelte-1aeptbx",!0)},m(e,n){P(e,t,n),o&&o.m(t,null),r=!0},p(e,a){e[1]||"processing"===e[2]?o?(o.p(e,a),6&a&&qe(o,1)):(o=XH(e),o.c(),qe(o,1),o.m(t,null)):o&&(Fe(),Ve(o,1,1,(()=>{o=null})),He()),K(t,i=et(s,[65536&a&&e[16],(!r||131072&a&&n!==(n=e[17]))&&{style:n},{class:"cell"}])),te(t,"is-active",e[6]),te(t,"svelte-1aeptbx",!0)},i(e){r||(qe(o),r=!0)},o(e){Ve(o),r=!1},d(e){e&&R(t),o&&o.d()}}}function ZH(e){let t,n;return t=new eN({props:{columnIdentifierKey:e[0].id,$$slots:{default:[JH,({htmlAttributes:e,style:t})=>({16:e,17:t}),({htmlAttributes:e,style:t})=>(e?65536:0)|(t?131072:0)]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const r={};1&n&&(r.columnIdentifierKey=e[0].id),458879&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function QH(e,t,n){let r,o,i,a,l,c,u=s,d=s;e.$$.on_destroy.push((()=>u())),e.$$.on_destroy.push((()=>d()));let{processedQueryColumn:p}=t,{row:m}=t,{recordRunState:f}=t,{selection:g}=t,{inspector:h}=t;return e.$$set=e=>{"processedQueryColumn"in e&&n(0,p=e.processedQueryColumn),"row"in e&&n(1,m=e.row),"recordRunState"in e&&n(2,f=e.recordRunState),"selection"in e&&n(3,g=e.selection),"inspector"in e&&n(4,h=e.inspector)},e.$$.update=()=>{8&e.$$.dirty&&(n(8,({activeCell:r,selectedCells:o}=g),r,(n(7,o),u(),u=$(o,(e=>n(10,l=e))),o)),d(),d=$(r,(e=>n(11,c=e)))),2051&e.$$.dirty&&n(6,i=c&&m&&gP(c,m,p)),1027&e.$$.dirty&&n(5,a=m&&xP(l,m,p)&&l.size>1)},[p,m,f,g,h,a,i,o,r,async function(e){const{originalEvent:t}=e.detail,n=g.handleKeyEventsOnActiveCell(t);n&&(t.stopPropagation(),t.preventDefault(),await async function(e){"moved"===e&&(await Ie(),yP())}(n))},l,c,()=>{m&&(g.activateCell(m,p),h.selectCellTab())},()=>{m&&g.onStartSelection(m,p)},()=>{m&&g.onMouseEnterCellWhileSelection(m,p)}]}class eq extends at{constructor(e){super(),it(this,e,QH,ZH,p,{processedQueryColumn:0,row:1,recordRunState:2,selection:3,inspector:4})}}function tq(e,t,n){const r=e.slice();return r[32]=t[n],r}function nq(e,t,n){const r=e.slice();return r[37]=t[n],r}function rq(e,t,n){const r=e.slice();return r[37]=t[n],r}function oq(e){let t,n,r,o,s,i,a,l;function c(e,t){return e[10]?yq:"success"===e[4]?hq:void 0}t=new YL({props:{columns:e[11],getColumnIdentifier:xq,columnWidths:e[24],clipboardHandler:e[15],usesVirtualList:!0,$$slots:{default:[gq]},$$scope:{ctx:e}}});let u=c(e),d=u&&u(e);i=new cH({props:{pagination:e[23],totalCount:e[10]}}),i.$on("change",e[30]);let p=e[1]&&vq(e);return{c(){rt(t.$$.fragment),n=V(),r=F("div"),d&&d.c(),o=V(),s=F("div"),rt(i.$$.fragment),a=V(),p&&p.c(),B(s,"class","pagination-controls svelte-1rwxxuc"),B(r,"data-identifier","status-bar"),B(r,"class","svelte-1rwxxuc")},m(e,c){ot(t,e,c),P(e,n,c),P(e,r,c),d&&d.m(r,null),A(r,o),A(r,s),ot(i,s,null),A(s,a),p&&p.m(s,null),l=!0},p(e,n){const a={};2048&n[0]&&(a.columns=e[11]),32768&n[0]&&(a.clipboardHandler=e[15]),14811773&n[0]|4096&n[1]&&(a.$$scope={dirty:n,ctx:e}),t.$set(a),u===(u=c(e))&&d?d.p(e,n):(d&&d.d(1),d=u&&u(e),d&&(d.c(),d.m(r,o)));const l={};8388608&n[0]&&(l.pagination=e[23]),1024&n[0]&&(l.totalCount=e[10]),i.$set(l),e[1]?p?(p.p(e,n),2&n[0]&&qe(p,1)):(p=vq(e),p.c(),qe(p,1),p.m(s,null)):p&&(Fe(),Ve(p,1,1,(()=>{p=null})),He())},i(e){l||(qe(t.$$.fragment,e),qe(i.$$.fragment,e),qe(p),l=!0)},o(e){Ve(t.$$.fragment,e),Ve(i.$$.fragment,e),Ve(p),l=!1},d(e){st(t,e),e&&R(n),e&&R(r),d&&d.d(),st(i),p&&p.d()}}}function sq(e){let t,n,r;return n=new WH({props:{errors:e[12],queryHandler:e[0]}}),{c(){t=F("div"),rt(n.$$.fragment),B(t,"class","empty-state svelte-1rwxxuc")},m(e,o){P(e,t,o),ot(n,t,null),r=!0},p(e,t){const r={};4096&t[0]&&(r.errors=e[12]),1&t[0]&&(r.queryHandler=e[0]),n.$set(r)},i(e){r||(qe(n.$$.fragment,e),r=!0)},o(e){Ve(n.$$.fragment,e),r=!1},d(e){e&&R(t),st(n)}}}function iq(e){let t;return{c(){t=F("div"),t.textContent="This exploration does not contain any columns. Edit the exploration to add\n      columns to it.",B(t,"class","empty-state svelte-1rwxxuc")},m(e,n){P(e,t,n)},p:s,i:s,o:s,d(e){e&&R(t)}}}function aq(e){let t,n,r=[e[35],{style:n=e[40]}],o={};for(let s=0;s<r.length;s+=1)o=a(o,r[s]);return{c(){t=F("div"),K(t,o),te(t,"svelte-1rwxxuc",!0)},m(e,n){P(e,t,n)},p(e,s){K(t,o=et(r,[16&s[1]&&e[35],512&s[1]&&n!==(n=e[40])&&{style:n}])),te(t,"svelte-1rwxxuc",!0)},d(e){e&&R(t)}}}function lq(e,t){let n,r,o;return r=new GH({props:{processedQueryColumn:t[37],queryRunner:t[0],isSelected:wP(t[21],t[22],t[37])}}),{key:e,first:null,c(){n=j(),rt(r.$$.fragment),this.first=n},m(e,t){P(e,n,t),ot(r,e,t),o=!0},p(e,n){t=e;const o={};32&n[0]&&(o.processedQueryColumn=t[37]),1&n[0]&&(o.queryRunner=t[0]),6291488&n[0]&&(o.isSelected=wP(t[21],t[22],t[37])),r.$set(o)},i(e){o||(qe(r.$$.fragment,e),o=!0)},o(e){Ve(r.$$.fragment,e),o=!1},d(e){e&&R(n),st(r,e)}}}function cq(e){let t,n,r,o,s=[],i=new Map;t=new eN({props:{columnIdentifierKey:wq,isStatic:!0,isControlCell:!0,$$slots:{default:[aq,({htmlAttributes:e,style:t})=>({35:e,40:t}),({htmlAttributes:e,style:t})=>[0,(e?16:0)|(t?512:0)]]},$$scope:{ctx:e}}});let a=e[5];const l=e=>e[37].id;for(let c=0;c<a.length;c+=1){let t=rq(e,a,c),n=l(t);i.set(n,s[c]=lq(n,t))}return{c(){rt(t.$$.fragment),n=V();for(let e=0;e<s.length;e+=1)s[e].c();r=j()},m(e,i){ot(t,e,i),P(e,n,i);for(let t=0;t<s.length;t+=1)s[t].m(e,i);P(e,r,i),o=!0},p(e,n){const o={};4624&n[1]&&(o.$$scope={dirty:n,ctx:e}),t.$set(o),6291489&n[0]&&(a=e[5],Fe(),s=Qe(s,n,l,1,e,a,i,r.parentNode,Je,lq,r,rq),He())},i(e){if(!o){qe(t.$$.fragment,e);for(let e=0;e<a.length;e+=1)qe(s[e]);o=!0}},o(e){Ve(t.$$.fragment,e);for(let t=0;t<s.length;t+=1)Ve(s[t]);o=!1},d(e){st(t,e),e&&R(n);for(let t=0;t<s.length;t+=1)s[t].d(e);e&&R(r)}}}function uq(e){let t,n;return t=new fP({props:{style:e[32].style,$$slots:{default:[$q,({htmlAttributes:e,styleString:t})=>({35:e,36:t}),({htmlAttributes:e,styleString:t})=>[0,(e?16:0)|(t?32:0)]]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1&n[1]&&(r.style=e[32].style),8519796&n[0]|4145&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function dq(e){let t,n,r,o,s,i,l=e[23].offset+e[32].index+1+"";n=new rE({props:{color:"var(--cell-bg-color-header)"}});let c=[e[35],{style:s=e[40]}],u={};for(let d=0;d<c.length;d+=1)u=a(u,c[d]);return{c(){t=F("div"),rt(n.$$.fragment),r=V(),o=q(l),K(t,u),te(t,"svelte-1rwxxuc",!0)},m(e,s){P(e,t,s),ot(n,t,null),A(t,r),A(t,o),i=!0},p(e,n){(!i||8388608&n[0]|1&n[1])&&l!==(l=e[23].offset+e[32].index+1+"")&&X(o,l),K(t,u=et(c,[16&n[1]&&e[35],(!i||512&n[1]&&s!==(s=e[40]))&&{style:s}])),te(t,"svelte-1rwxxuc",!0)},i(e){i||(qe(n.$$.fragment,e),i=!0)},o(e){Ve(n.$$.fragment,e),i=!1},d(e){e&&R(t),st(n)}}}function pq(e,t){let n,r,o;return r=new eq({props:{processedQueryColumn:t[37],row:t[2][t[32].index],recordRunState:t[4],selection:t[6],inspector:t[17]}}),{key:e,first:null,c(){n=j(),rt(r.$$.fragment),this.first=n},m(e,t){P(e,n,t),ot(r,e,t),o=!0},p(e,n){t=e;const o={};32&n[0]&&(o.processedQueryColumn=t[37]),4&n[0]|1&n[1]&&(o.row=t[2][t[32].index]),16&n[0]&&(o.recordRunState=t[4]),64&n[0]&&(o.selection=t[6]),131072&n[0]&&(o.inspector=t[17]),r.$set(o)},i(e){o||(qe(r.$$.fragment,e),o=!0)},o(e){Ve(r.$$.fragment,e),o=!1},d(e){e&&R(n),st(r,e)}}}function $q(e){let t,n,r,o,s,i,l=[],c=new Map;n=new eN({props:{columnIdentifierKey:wq,isStatic:!0,isControlCell:!0,$$slots:{default:[dq,({htmlAttributes:e,style:t})=>({35:e,40:t}),({htmlAttributes:e,style:t})=>[0,(e?16:0)|(t?512:0)]]},$$scope:{ctx:e}}});let u=e[5];const d=e=>e[37].id;for(let a=0;a<u.length;a+=1){let t=nq(e,u,a),n=d(t);c.set(n,l[a]=pq(n,t))}let p=[e[35],{style:o="--cell-height:31px;"+e[36]}],$={};for(let m=0;m<p.length;m+=1)$=a($,p[m]);return{c(){t=F("div"),rt(n.$$.fragment),r=V();for(let e=0;e<l.length;e+=1)l[e].c();s=V(),K(t,$),te(t,"svelte-1rwxxuc",!0)},m(e,o){P(e,t,o),ot(n,t,null),A(t,r);for(let n=0;n<l.length;n+=1)l[n].m(t,null);P(e,s,o),i=!0},p(e,r){const s={};8388608&r[0]|4625&r[1]&&(s.$$scope={dirty:r,ctx:e}),n.$set(s),131188&r[0]|1&r[1]&&(u=e[5],Fe(),l=Qe(l,r,d,1,e,u,c,t,Je,pq,null,nq),He()),K(t,$=et(p,[16&r[1]&&e[35],(!i||32&r[1]&&o!==(o="--cell-height:31px;"+e[36]))&&{style:o}])),te(t,"svelte-1rwxxuc",!0)},i(e){if(!i){qe(n.$$.fragment,e);for(let e=0;e<u.length;e+=1)qe(l[e]);i=!0}},o(e){Ve(n.$$.fragment,e);for(let t=0;t<l.length;t+=1)Ve(l[t]);i=!1},d(e){e&&R(t),st(n);for(let t=0;t<l.length;t+=1)l[t].d();e&&R(s)}}}function mq(e,t){let n,r,o,s=(t[2][t[32].index]||t[3])&&uq(t);return{key:e,first:null,c(){n=j(),s&&s.c(),r=j(),this.first=n},m(e,t){P(e,n,t),s&&s.m(e,t),P(e,r,t),o=!0},p(e,n){(t=e)[2][t[32].index]||t[3]?s?(s.p(t,n),12&n[0]|1&n[1]&&qe(s,1)):(s=uq(t),s.c(),qe(s,1),s.m(r.parentNode,r)):s&&(Fe(),Ve(s,1,1,(()=>{s=null})),He())},i(e){o||(qe(s),o=!0)},o(e){Ve(s),o=!1},d(e){e&&R(n),s&&s.d(e),e&&R(r)}}}function fq(e){let t,n,r=[],o=new Map,s=e[31];const i=e=>e[32].key;for(let a=0;a<s.length;a+=1){let t=tq(e,s,a),n=i(t);o.set(n,r[a]=mq(n,t))}return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=j()},m(e,o){for(let t=0;t<r.length;t+=1)r[t].m(e,o);P(e,t,o),n=!0},p(e,n){8519804&n[0]|561&n[1]&&(s=e[31],Fe(),r=Qe(r,n,i,1,e,s,o,t.parentNode,Je,mq,t,tq),He())},i(e){if(!n){for(let e=0;e<s.length;e+=1)qe(r[e]);n=!0}},o(e){for(let t=0;t<r.length;t+=1)Ve(r[t]);n=!1},d(e){for(let t=0;t<r.length;t+=1)r[t].d(e);e&&R(t)}}}function gq(e){let t,n,r,o;return t=new GL({props:{$$slots:{default:[cq]},$$scope:{ctx:e}}}),r=new uP({props:{itemCount:e[9],paddingBottom:30,itemSize:e[29],$$slots:{default:[fq,({items:e})=>({31:e}),({items:e})=>[0,e?1:0]]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment),n=V(),rt(r.$$.fragment)},m(e,s){ot(t,e,s),P(e,n,s),ot(r,e,s),o=!0},p(e,n){const o={};6291489&n[0]|4096&n[1]&&(o.$$scope={dirty:n,ctx:e}),t.$set(o);const s={};512&n[0]&&(s.itemCount=e[9]),8519804&n[0]|4097&n[1]&&(s.$$scope={dirty:n,ctx:e}),r.$set(s)},i(e){o||(qe(t.$$.fragment,e),qe(r.$$.fragment,e),o=!0)},o(e){Ve(t.$$.fragment,e),Ve(r.$$.fragment,e),o=!1},d(e){st(t,e),e&&R(n),st(r,e)}}}function hq(e){let t;return{c(){t=q("No results found")},m(e,n){P(e,t,n)},p:s,d(e){e&&R(t)}}}function yq(e){let t,n,r,o,s,i,a,l=e[23].leftBound+"",c=Math.min(e[10],e[23].rightBound)+"";return{c(){t=F("div"),n=q("Showing "),r=q(l),o=q("-"),s=q(c),i=q(" of "),a=q(e[10])},m(e,l){P(e,t,l),A(t,n),A(t,r),A(t,o),A(t,s),A(t,i),A(t,a)},p(e,t){8388608&t[0]&&l!==(l=e[23].leftBound+"")&&X(r,l),8389632&t[0]&&c!==(c=Math.min(e[10],e[23].rightBound)+"")&&X(s,c),1024&t[0]&&X(a,e[10])},d(e){e&&R(t)}}}function vq(e){let t,n;return t=new SH({props:{queryRunner:e[0]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1&n[0]&&(r.queryRunner=e[0]),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function bq(e){let t,n,r,o;const s=[iq,sq,oq],i=[];function a(e,t){return e[16].length?e[12]?1:2:0}return n=a(e),r=i[n]=s[n](e),{c(){t=F("div"),r.c(),B(t,"data-identifier","query-run-result"),B(t,"class","svelte-1rwxxuc")},m(e,r){P(e,t,r),i[n].m(t,null),o=!0},p(e,o){let l=n;n=a(e),n===l?i[n].p(e,o):(Fe(),Ve(i[l],1,1,(()=>{i[l]=null})),He(),r=i[n],r?r.p(e,o):(r=i[n]=s[n](e),r.c()),qe(r,1),r.m(t,null))},i(e){o||(qe(r),o=!0)},o(e){Ve(r),o=!1},d(e){e&&R(t),i[n].d()}}}const wq="row-control",xq=e=>e.id;function Sq(e,t,n){let r,o,i,a,l,c,u,d,p,f,g,h,y,v,b,w,x,S,C,k,D,I,_,T,M,E,O=s,A=s,L=s,N=s,P=s,R=s,z=s;e.$$.on_destroy.push((()=>O())),e.$$.on_destroy.push((()=>A())),e.$$.on_destroy.push((()=>L())),e.$$.on_destroy.push((()=>N())),e.$$.on_destroy.push((()=>P())),e.$$.on_destroy.push((()=>R())),e.$$.on_destroy.push((()=>z()));let{queryHandler:F}=t,{isExplorationPage:H=!1}=t;const q=new dt([[wq,50]]);return e.$$set=e=>{"queryHandler"in e&&n(0,F=e.queryHandler),"isExplorationPage"in e&&n(1,H=e.isExplorationPage)},e.$$.update=()=>{1&e.$$.dirty[0]&&(n(20,({query:r,processedColumns:o,rowsData:i,pagination:a,runState:l,selection:c,inspector:u}=F),r,(n(7,o),A(),A=$(o,(e=>n(26,D=e))),o),(n(8,i),O(),O=$(i,(e=>n(25,k=e))),i),(n(19,a),z(),z=$(a,(e=>n(23,E=e))),a),(n(18,l),L(),L=$(l,(e=>n(27,I=e))),l),(n(6,c),n(0,F)),(n(17,u),n(0,F))),N(),N=$(r,(e=>n(28,_=e)))),268435456&e.$$.dirty[0]&&n(16,({initial_columns:d}=_),d),448&e.$$.dirty[0]&&n(15,p=new $H({selection:c,toast:Uf,getRows:()=>m(i).rows,getColumnsMap:()=>m(o),getRecordSummaries:()=>new dt})),64&e.$$.dirty[0]&&(n(14,({selectedCells:f,columnsSelectedWhenTheTableIsEmpty:g}=c),f,(n(13,g),R(),R=$(g,(e=>n(22,M=e))),g)),P(),P=$(f,(e=>n(21,T=e)))),134217728&e.$$.dirty[0]&&n(4,h=I?.state),134217728&e.$$.dirty[0]&&n(12,y="failure"===I?.state?I.errors:void 0),67108864&e.$$.dirty[0]&&n(5,v=[...D.values()]),32&e.$$.dirty[0]&&n(11,b=v.length?[{id:wq},...v]:[]),33554432&e.$$.dirty[0]&&n(2,w=k.rows),33554432&e.$$.dirty[0]&&n(10,x=k.totalCount),20&e.$$.dirty[0]&&n(3,S=("success"===h||"processing"===h)&&!w.length),12&e.$$.dirty[0]&&n(9,C=S?1:w.length)},[F,H,w,S,h,v,c,o,i,C,x,b,y,g,f,p,d,u,l,a,r,T,M,E,q,k,D,I,_,()=>cN,e=>{F.setPagination(e.detail)}]}class Cq extends at{constructor(e){super(),it(this,e,Sq,bq,p,{queryHandler:0,isExplorationPage:1},null,[-1,-1])}}function kq(e){let t,n,r,o,s,i,a,l,c;return i=new SH({props:{queryRunner:e[0]}}),l=new Cq({props:{queryHandler:e[0]}}),{c(){t=F("section"),n=F("header"),r=F("span"),r.textContent="Result",o=V(),s=F("div"),rt(i.$$.fragment),a=V(),rt(l.$$.fragment),B(r,"class","title svelte-1gzxbr"),B(s,"class","actions svelte-1gzxbr"),B(n,"class","svelte-1gzxbr"),B(t,"data-identifier","result"),B(t,"class","svelte-1gzxbr")},m(e,u){P(e,t,u),A(t,n),A(n,r),A(n,o),A(n,s),ot(i,s,null),A(t,a),ot(l,t,null),c=!0},p(e,[t]){const n={};1&t&&(n.queryRunner=e[0]),i.$set(n);const r={};1&t&&(r.queryHandler=e[0]),l.$set(r)},i(e){c||(qe(i.$$.fragment,e),qe(l.$$.fragment,e),c=!0)},o(e){Ve(i.$$.fragment,e),Ve(l.$$.fragment,e),c=!1},d(e){e&&R(t),st(i),st(l)}}}function Dq(e,t,n){let{queryHandler:r}=t;return e.$$set=e=>{"queryHandler"in e&&n(0,r=e.queryHandler)},[r]}class Iq extends at{constructor(e){super(),it(this,e,Dq,kq,p,{queryHandler:0})}}function _q(e){let t,n,r;return n=new oH({props:{queryManager:e[1],linkCollapsibleOpenState:e[0],$$slots:{default:[Aq]},$$scope:{ctx:e}}}),{c(){t=F("div"),rt(n.$$.fragment),B(t,"class","content-pane svelte-182edct")},m(e,o){P(e,t,o),ot(n,t,null),r=!0},p(e,t){const r={};2&t&&(r.queryManager=e[1]),1&t&&(r.linkCollapsibleOpenState=e[0]),4150&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(qe(n.$$.fragment,e),r=!0)},o(e){Ve(n.$$.fragment,e),r=!1},d(e){e&&R(t),st(n)}}}function Tq(e){let t,n,r,o,s="success"===e[7].requestStatus.state&&0===e[7].data.size&&Lq(e);return{c(){t=F("div"),s&&s.c(),n=V(),r=F("div"),r.textContent="Get started by selecting a table and adding columns",B(r,"class","help-text svelte-182edct"),B(t,"class","initial-content svelte-182edct")},m(e,i){P(e,t,i),s&&s.m(t,null),A(t,n),A(t,r),o=!0},p(e,r){"success"===e[7].requestStatus.state&&0===e[7].data.size?s?128&r&&qe(s,1):(s=Lq(e),s.c(),qe(s,1),s.m(t,n)):s&&(Fe(),Ve(s,1,1,(()=>{s=null})),He())},i(e){o||(qe(s),o=!0)},o(e){Ve(s),o=!1},d(e){e&&R(t),s&&s.d()}}}function Mq(e){let t,n;return t=new jR({props:{isInspectorOpen:e[4],queryHandler:e[1],canEditMetadata:e[2],$$slots:{default:[Oq]},$$scope:{ctx:e}}}),t.$on("delete",e[11]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};16&n&&(r.isInspectorOpen=e[4]),2&n&&(r.queryHandler=e[1]),4&n&&(r.canEditMetadata=e[2]),4098&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Eq(e){let t;return{c(){t=F("div"),t.textContent="Get started by adding columns from the left",B(t,"class","help-text svelte-182edct")},m(e,n){P(e,t,n)},p:s,i:s,o:s,d(e){e&&R(t)}}}function Oq(e){let t,n;return t=new Iq({props:{queryHandler:e[1]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.queryHandler=e[1]),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Aq(e){let t,n,r,o;const s=[Eq,Mq],i=[];function a(e,t){return e[5]?0:1}return t=a(e),n=i[t]=s[t](e),{c(){n.c(),r=j()},m(e,n){i[t].m(e,n),P(e,r,n),o=!0},p(e,o){let l=t;t=a(e),t===l?i[t].p(e,o):(Fe(),Ve(i[l],1,1,(()=>{i[l]=null})),He(),n=i[t],n?n.p(e,o):(n=i[t]=s[t](e),n.c()),qe(n,1),n.m(r.parentNode,r))},i(e){o||(qe(n),o=!0)},o(e){Ve(n),o=!1},d(e){i[t].d(e),e&&R(r)}}}function Lq(e){let t,n,r;return n=new En({props:{$$slots:{body:[Pq],title:[Nq]},$$scope:{ctx:e}}}),{c(){t=F("div"),rt(n.$$.fragment),B(t,"class","tutorial-holder svelte-182edct")},m(e,o){P(e,t,o),ot(n,t,null),r=!0},i(e){r||(qe(n.$$.fragment,e),r=!0)},o(e){Ve(n.$$.fragment,e),r=!1},d(e){e&&R(t),st(n)}}}function Nq(e){let t;return{c(){t=F("span"),t.textContent="Create and Share Explorations of Your Data",B(t,"slot","title")},m(e,n){P(e,t,n)},p:s,d(e){e&&R(t)}}}function Pq(e){let t;return{c(){t=F("span"),t.textContent="Use Data Explorer to analyze and share your data. Explorations are\n              based on tables in your schema, to get started choose a table and\n              start adding columns and transformations.",B(t,"slot","body")},m(e,n){P(e,t,n)},p:s,d(e){e&&R(t)}}}function Rq(e){let t,n,r,o,s,i,a,l;function c(t){e[8](t)}function u(t){e[9](t)}let d={queryManager:e[1],canEditMetadata:e[2]};void 0!==e[0]&&(d.linkCollapsibleOpenState=e[0]),void 0!==e[4]&&(d.isInspectorOpen=e[4]),n=new w_({props:d}),we.push((()=>nt(n,"linkCollapsibleOpenState",c))),we.push((()=>nt(n,"isInspectorOpen",u))),n.$on("close",e[10]);const p=[Tq,_q],$=[];function m(e,t){return e[3].base_table?1:0}return i=m(e),a=$[i]=p[i](e),{c(){t=F("div"),rt(n.$$.fragment),s=V(),a.c(),B(t,"class","data-explorer svelte-182edct")},m(e,r){P(e,t,r),ot(n,t,null),A(t,s),$[i].m(t,null),l=!0},p(e,[s]){const l={};2&s&&(l.queryManager=e[1]),4&s&&(l.canEditMetadata=e[2]),!r&&1&s&&(r=!0,l.linkCollapsibleOpenState=e[0],Te((()=>r=!1))),!o&&16&s&&(o=!0,l.isInspectorOpen=e[4],Te((()=>o=!1))),n.$set(l);let c=i;i=m(e),i===c?$[i].p(e,s):(Fe(),Ve($[c],1,1,(()=>{$[c]=null})),He(),a=$[i],a?a.p(e,s):(a=$[i]=p[i](e),a.c()),qe(a,1),a.m(t,null))},i(e){l||(qe(n.$$.fragment,e),qe(a),l=!0)},o(e){Ve(n.$$.fragment,e),Ve(a),l=!1},d(e){e&&R(t),st(n),$[i].d()}}}function zq(e,t,n){let r,o,i,a,l=s;f(e,gw,(e=>n(7,a=e))),e.$$.on_destroy.push((()=>l()));let{queryManager:c}=t,{linkCollapsibleOpenState:u={}}=t,{canEditMetadata:d}=t,p=!0;return e.$$set=e=>{"queryManager"in e&&n(1,c=e.queryManager),"linkCollapsibleOpenState"in e&&n(0,u=e.linkCollapsibleOpenState),"canEditMetadata"in e&&n(2,d=e.canEditMetadata)},e.$$.update=()=>{2&e.$$.dirty&&(n(6,({query:r}=c),r),l(),l=$(r,(e=>n(3,i=e)))),8&e.$$.dirty&&n(5,o=0===i.initial_columns.length)},[u,c,d,i,p,o,r,a,function(e){u=e,n(0,u)},function(e){p=e,n(4,p)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)}]}class Fq extends at{constructor(e){super(),it(this,e,zq,Rq,p,{queryManager:1,linkCollapsibleOpenState:0,canEditMetadata:2})}}class Hq{static encode(e){return btoa(unescape(encodeURIComponent(e))).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}static decode(e){const t=e.replace(/-/g,"+").replace(/_/g,"/");return decodeURIComponent(escape(atob(t)))}}class qq{static baseTable(e){return{id:e.id,name:e.name}}static terseSummarizedColumn(e){return{id:e.id,name:e.name}}static terseSummarization(e){return{baseTable:qq.baseTable(e.baseTable),columns:e.columns.map((e=>qq.terseSummarizedColumn(e))),terseGrouping:e.terseGrouping}}}function Vq(e){return Hq.encode(JSON.stringify(qq.terseSummarization(e)))}function jq(e,t,n){return`${Hg(e,t)}#${Vq({baseTable:n,columns:[],terseGrouping:[]})}`}function Wq(e){let t;return{c(){t=q("Warning: This action is permanent and once deleted, the table cannot be\n    recovered.")},m(e,n){P(e,t,n)},d(e){e&&R(t)}}}function Uq(e){let t,n,r,o,s,i,a,l,c,u,d,p;function $(t){e[3](t)}let m={autofocus:!0};return void 0!==e[1]&&(m.value=e[1]),l=new di({props:m}),we.push((()=>nt(l,"value",$))),d=new dk({props:{$$slots:{default:[Wq]},$$scope:{ctx:e}}}),{c(){t=F("div"),n=F("p"),r=q("To confirm the deletion of the "),o=F("strong"),s=q(e[0]),i=q(" table, please enter\n    the table name into the input field below."),a=V(),rt(l.$$.fragment),u=V(),rt(d.$$.fragment),B(n,"class","svelte-lbyl48"),B(t,"class","table-delete-confirmation-body svelte-lbyl48")},m(e,c){P(e,t,c),A(t,n),A(n,r),A(n,o),A(o,s),A(n,i),A(t,a),ot(l,t,null),A(t,u),ot(d,t,null),p=!0},p(e,[t]){(!p||1&t)&&X(s,e[0]);const n={};!c&&2&t&&(c=!0,n.value=e[1],Te((()=>c=!1))),l.$set(n);const r={};32&t&&(r.$$scope={dirty:t,ctx:e}),d.$set(r)},i(e){p||(qe(l.$$.fragment,e),qe(d.$$.fragment,e),p=!0)},o(e){Ve(l.$$.fragment,e),Ve(d.$$.fragment,e),p=!1},d(e){e&&R(t),st(l),st(d)}}}function Yq(e,t,n){let r,{tableName:o}=t,s="",{canProceed:i}=Kf;return f(e,i,(e=>n(4,r=e))),e.$$set=e=>{"tableName"in e&&n(0,o=e.tableName)},e.$$.update=()=>{3&e.$$.dirty&&k(i,r=s.trim().toLowerCase()===o.toLowerCase(),r)},[o,s,i,function(e){s=e,n(1,s)}]}class Bq extends at{constructor(e){super(),it(this,e,Yq,Uq,p,{tableName:0})}}const Kq=e=>({}),Gq=e=>({getNameValidationErrors:e[0],onUpdate:e[1]});function Xq(e){let t;const n=e[4].default,r=g(n,e,e[3],Gq);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,[o]){r&&r.p&&(!t||8&o)&&v(r,n,e,e[3],t?y(n,e[3],o,Kq):b(e[3]),Gq)},i(e){t||(qe(r,e),t=!0)},o(e){Ve(r,e),t=!1},d(e){r&&r.d(e)}}}function Jq(e,t,n){let r,o;f(e,Fh,(e=>n(5,r=e))),f(e,Cv,(e=>n(6,o=e)));let{$$slots:s={},$$scope:i}=t,{tableId:a}=t;return e.$$set=e=>{"tableId"in e&&n(2,a=e.tableId),"$$scope"in e&&n(3,i=e.$$scope)},[function(e){return e.trim()?function(e){const t=[...o.data.values()].filter((t=>t.name===e));return t.length>0&&t[0].id!==a}(e)?["A table with that name already exists."]:[]:["Name cannot be empty."]},async function(e){await function(e,t){const n=$h(`/api/db/v0/tables/${e}/`,t);return new lt(((t,r)=>{n.then((n=>(hv(e,n),t(n))),r)}),(()=>{n.cancel()}))}(a,e),r&&await mv(r)},a,i,s]}class Zq extends at{constructor(e){super(),it(this,e,Jq,Xq,p,{tableId:2})}}function Qq(e){let t,n=e[7]+"";return{c(){t=q(n)},m(e,n){P(e,t,n)},p(e,r){128&r&&n!==(n=e[7]+"")&&X(t,n)},d(e){e&&R(t)}}}function eV(e){let t,n,r,o,s;return r=new mm({props:{$$slots:{default:[Qq]},$$scope:{ctx:e}}}),{c(){t=F("span"),n=q("Edit "),rt(r.$$.fragment),o=q(" Table"),B(t,"slot","title")},m(e,i){P(e,t,i),A(t,n),ot(r,t,null),A(t,o),s=!0},p(e,t){const n={};384&t&&(n.$$scope={dirty:t,ctx:e}),r.$set(n)},i(e){s||(qe(r.$$.fragment,e),s=!0)},o(e){Ve(r.$$.fragment,e),s=!1},d(e){e&&R(t),st(r)}}}function tV(e){let t,n;function r(...t){return e[2](e[6],...t)}return t=new _C({props:{controller:e[1],save:r,getNameValidationErrors:e[5],getInitialName:e[3],getInitialDescription:e[4],$$slots:{title:[eV,({initialName:e})=>({7:e}),({initialName:e})=>e?128:0]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(n,o){e=n;const s={};2&o&&(s.controller=e[1]),64&o&&(s.save=r),32&o&&(s.getNameValidationErrors=e[5]),1&o&&(s.getInitialName=e[3]),1&o&&(s.getInitialDescription=e[4]),384&o&&(s.$$scope={dirty:o,ctx:e}),t.$set(s)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function nV(e){let t,n;return t=new Zq({props:{tableId:e[0].id,$$slots:{default:[tV,({getNameValidationErrors:e,onUpdate:t})=>({5:e,6:t}),({getNameValidationErrors:e,onUpdate:t})=>(e?32:0)|(t?64:0)]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const r={};1&n&&(r.tableId=e[0].id),355&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function rV(e,t,n){let{table:r}=t,{modalController:o}=t;return e.$$set=e=>{"table"in e&&n(0,r=e.table),"modalController"in e&&n(1,o=e.modalController)},[r,o,(e,t,n)=>e({name:t,description:n}),()=>r.name??"",()=>r.description??""]}class oV extends at{constructor(e){super(),it(this,e,rV,nV,p,{table:0,modalController:1})}}function sV(e){let t,n;return t=new kl({props:{lines:2,popoverPlacements:["bottom","left","top","right"],$$slots:{default:[iV]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};524320&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function iV(e){let t;return{c(){t=q(e[5])},m(e,n){P(e,t,n)},p(e,n){32&n&&X(t,e[5])},d(e){e&&R(t)}}}function aV(e){let t;return{c(){t=q("Needs Import Confirmation")},m(e,n){P(e,t,n)},d(e){e&&R(t)}}}function lV(e){let t,n,r,o;t=new Yp({props:{href:e[6],icon:sf,$$slots:{default:[cV]},$$scope:{ctx:e}}});let s=e[1]&&uV(e);return{c(){rt(t.$$.fragment),n=V(),s&&s.c(),r=j()},m(e,i){ot(t,e,i),P(e,n,i),s&&s.m(e,i),P(e,r,i),o=!0},p(e,n){const o={};64&n&&(o.href=e[6]),524288&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o),e[1]?s?(s.p(e,n),2&n&&qe(s,1)):(s=uV(e),s.c(),qe(s,1),s.m(r.parentNode,r)):s&&(Fe(),Ve(s,1,1,(()=>{s=null})),He())},i(e){o||(qe(t.$$.fragment,e),qe(s),o=!0)},o(e){Ve(t.$$.fragment,e),Ve(s),o=!1},d(e){st(t,e),e&&R(n),s&&s.d(e),e&&R(r)}}}function cV(e){let t;return{c(){t=q("Explore Table")},m(e,n){P(e,t,n)},d(e){e&&R(t)}}}function uV(e){let t,n;return t=new qp({props:{icon:Im,$$slots:{default:[dV]},$$scope:{ctx:e}}}),t.$on("click",e[10]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};524288&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function dV(e){let t;return{c(){t=q("Edit Table")},m(e,n){P(e,t,n)},d(e){e&&R(t)}}}function pV(e){let t,n;return t=new qp({props:{danger:!0,icon:km,$$slots:{default:[$V]},$$scope:{ctx:e}}}),t.$on("click",e[9]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};524288&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function $V(e){let t;return{c(){t=q("Delete Table")},m(e,n){P(e,t,n)},d(e){e&&R(t)}}}function mV(e){let t,n,r,o=!e[2]&&lV(e),s=e[1]&&pV(e);return{c(){o&&o.c(),t=V(),s&&s.c(),n=j()},m(e,i){o&&o.m(e,i),P(e,t,i),s&&s.m(e,i),P(e,n,i),r=!0},p(e,r){e[2]?o&&(Fe(),Ve(o,1,1,(()=>{o=null})),He()):o?(o.p(e,r),4&r&&qe(o,1)):(o=lV(e),o.c(),qe(o,1),o.m(t.parentNode,t)),e[1]?s?(s.p(e,r),2&r&&qe(s,1)):(s=pV(e),s.c(),qe(s,1),s.m(n.parentNode,n)):s&&(Fe(),Ve(s,1,1,(()=>{s=null})),He())},i(e){r||(qe(o),qe(s),r=!0)},o(e){Ve(o),Ve(s),r=!1},d(e){o&&o.d(e),e&&R(t),s&&s.d(e),e&&R(n)}}}function fV(e){let t,n,r,o,s,i,l;const c=[Wm];let d={};for(let u=0;u<c.length;u+=1)d=a(d,c[u]);return n=new Wr({props:d}),{c(){t=F("button"),rt(n.$$.fragment),r=V(),o=F("span"),o.textContent="Find a Record",B(o,"class","label svelte-1uih7mh"),B(t,"class","bottom-button passthrough svelte-1uih7mh")},m(a,c){P(a,t,c),ot(n,t,null),A(t,r),A(t,o),s=!0,i||(l=[W(t,"mouseenter",e[16]),W(t,"mouseleave",e[17]),W(t,"click",e[11])],i=!0)},p(e,t){const r=0&t?et(c,[tt(Wm)]):{};n.$set(r)},i(e){s||(qe(n.$$.fragment,e),s=!0)},o(e){Ve(n.$$.fragment,e),s=!1},d(e){e&&R(t),st(n),i=!1,u(l)}}}function gV(e){let t,n,r,o,s,i,a,l,c,d,p,$,m,f,g,h,y,v,b,w,x;s=new hb({props:{table:e[0]}});let S=e[5]&&sV(e),C=e[2]&&aV();g=new xc({props:{showArrow:!1,triggerAppearance:"ghost",triggerClass:"dropdown-menu-button",closeOnInnerClick:!0,placements:["bottom-end","right-start","left-start"],label:"",icon:Lm,size:"small",$$slots:{default:[mV]},$$scope:{ctx:e}}});let k=!e[2]&&fV(e);return v=new oV({props:{modalController:e[8],table:e[0]}}),{c(){t=F("div"),n=F("a"),r=F("div"),o=F("div"),rt(s.$$.fragment),i=V(),a=F("div"),l=V(),c=F("div"),S&&S.c(),d=V(),p=F("div"),C&&C.c(),m=V(),f=F("div"),rt(g.$$.fragment),h=V(),k&&k.c(),y=V(),rt(v.$$.fragment),B(o,"class","top-content svelte-1uih7mh"),B(a,"class","fake-button svelte-1uih7mh"),B(r,"class","top svelte-1uih7mh"),B(c,"class","description svelte-1uih7mh"),B(p,"class","bottom svelte-1uih7mh"),B(n,"class","link passthrough svelte-1uih7mh"),B(n,"href",e[7]),B(n,"aria-label",$=e[0].name),B(f,"class","menu-container svelte-1uih7mh"),B(t,"class","table-card svelte-1uih7mh"),te(t,"hovering-menu-trigger",e[3]),te(t,"hovering-bottom-button",e[4]),te(t,"unconfirmed-import",e[2])},m(u,$){P(u,t,$),A(t,n),A(n,r),A(r,o),ot(s,o,null),A(r,i),A(r,a),A(n,l),A(n,c),S&&S.m(c,null),A(n,d),A(n,p),C&&C.m(p,null),A(t,m),A(t,f),ot(g,f,null),A(t,h),k&&k.m(t,null),P(u,y,$),ot(v,u,$),b=!0,w||(x=[W(f,"mouseenter",e[14]),W(f,"mouseleave",e[15])],w=!0)},p(e,[r]){const o={};1&r&&(o.table=e[0]),s.$set(o),e[5]?S?(S.p(e,r),32&r&&qe(S,1)):(S=sV(e),S.c(),qe(S,1),S.m(c,null)):S&&(Fe(),Ve(S,1,1,(()=>{S=null})),He()),e[2]?C||(C=aV(),C.c(),C.m(p,null)):C&&(C.d(1),C=null),(!b||128&r)&&B(n,"href",e[7]),(!b||1&r&&$!==($=e[0].name))&&B(n,"aria-label",$);const i={};524358&r&&(i.$$scope={dirty:r,ctx:e}),g.$set(i),e[2]?k&&(Fe(),Ve(k,1,1,(()=>{k=null})),He()):k?(k.p(e,r),4&r&&qe(k,1)):(k=fV(e),k.c(),qe(k,1),k.m(t,null)),(!b||8&r)&&te(t,"hovering-menu-trigger",e[3]),(!b||16&r)&&te(t,"hovering-bottom-button",e[4]),(!b||4&r)&&te(t,"unconfirmed-import",e[2]);const a={};1&r&&(a.table=e[0]),v.$set(a)},i(e){b||(qe(s.$$.fragment,e),qe(S),qe(g.$$.fragment,e),qe(k),qe(v.$$.fragment,e),b=!0)},o(e){Ve(s.$$.fragment,e),Ve(S),Ve(g.$$.fragment,e),Ve(k),Ve(v.$$.fragment,e),b=!1},d(e){e&&R(t),st(s),S&&S.d(),C&&C.d(),st(g),k&&k.d(),e&&R(y),st(v,e),w=!1,u(x)}}}function hV(e,t,n){let r,o,s,i;const a=Qf(),l=Wf.spawnModalController();let{table:c}=t,{database:u}=t,{schema:d}=t,{canExecuteDDL:p}=t,$=!1,m=!1;return e.$$set=e=>{"table"in e&&n(0,c=e.table),"database"in e&&n(12,u=e.database),"schema"in e&&n(13,d=e.schema),"canExecuteDDL"in e&&n(1,p=e.canExecuteDDL)},e.$$.update=()=>{1&e.$$.dirty&&n(2,r=iv(c)),12293&e.$$.dirty&&n(7,o=r?Fg(u.name,d.id,c.id,{useColumnTypeInference:!0}):jg(u.name,d.id,c.id)),12289&e.$$.dirty&&n(6,s=jq(u.name,d.id,c)),1&e.$$.dirty&&n(5,i=c.description??"")},[c,p,r,$,m,i,s,o,l,function(){Gf({identifierType:"Table",body:{component:Bq,props:{tableName:c.name}},onProceed:async()=>{await yv(u,d,c.id)}})},function(){l.open()},function(){a.navigateToRecordPage({tableId:c.id})},u,d,()=>{n(3,$=!0)},()=>{n(3,$=!1)},()=>{n(4,m=!0)},()=>{n(4,m=!1)}]}class yV extends at{constructor(e){super(),it(this,e,hV,gV,p,{table:0,database:12,schema:13,canExecuteDDL:1})}}function vV(e,t,n){const r=e.slice();return r[4]=t[n],r}function bV(e){let t,n;return t=new vI({props:{icon:hf,$$slots:{default:[wV]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};128&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function wV(e){let t,n;return{c(){t=F("p"),t.textContent="No Tables",n=V()},m(e,r){P(e,t,r),P(e,n,r)},p:s,d(e){e&&R(t),e&&R(n)}}}function xV(e,t){let n,r,o;return r=new yV({props:{canExecuteDDL:t[3],table:t[4],database:t[1],schema:t[2]}}),{key:e,first:null,c(){n=j(),rt(r.$$.fragment),this.first=n},m(e,t){P(e,n,t),ot(r,e,t),o=!0},p(e,n){t=e;const o={};8&n&&(o.canExecuteDDL=t[3]),1&n&&(o.table=t[4]),2&n&&(o.database=t[1]),4&n&&(o.schema=t[2]),r.$set(o)},i(e){o||(qe(r.$$.fragment,e),o=!0)},o(e){Ve(r.$$.fragment,e),o=!1},d(e){e&&R(n),st(r,e)}}}function SV(e){let t,n,r=[],o=new Map,s=e[0];const i=e=>e[4].id;for(let l=0;l<s.length;l+=1){let t=vV(e,s,l),n=i(t);o.set(n,r[l]=xV(n,t))}let a=null;return s.length||(a=bV(e)),{c(){t=F("div");for(let e=0;e<r.length;e+=1)r[e].c();a&&a.c(),B(t,"class","container svelte-12ub9ef")},m(e,o){P(e,t,o);for(let n=0;n<r.length;n+=1)r[n].m(t,null);a&&a.m(t,null),n=!0},p(e,[n]){15&n&&(s=e[0],Fe(),r=Qe(r,n,i,1,e,s,o,t,Je,xV,null,vV),He(),!s.length&&a?a.p(e,n):s.length?a&&(Fe(),Ve(a,1,1,(()=>{a=null})),He()):(a=bV(e),a.c(),qe(a,1),a.m(t,null)))},i(e){if(!n){for(let e=0;e<s.length;e+=1)qe(r[e]);n=!0}},o(e){for(let t=0;t<r.length;t+=1)Ve(r[t]);n=!1},d(e){e&&R(t);for(let t=0;t<r.length;t+=1)r[t].d();a&&a.d()}}}function CV(e,t,n){let{tables:r}=t,{database:o}=t,{schema:s}=t,{canExecuteDDL:i}=t;return e.$$set=e=>{"tables"in e&&n(0,r=e.tables),"database"in e&&n(1,o=e.database),"schema"in e&&n(2,s=e.schema),"canExecuteDDL"in e&&n(3,i=e.canExecuteDDL)},[r,o,s,i]}class kV extends at{constructor(e){super(),it(this,e,CV,SV,p,{tables:0,database:1,schema:2,canExecuteDDL:3})}}function DV(e){let t,n,r,o,s,i;return s=new hb({props:{table:e[3]}}),{c(){t=F("div"),n=F("span"),n.textContent="Based on",r=V(),o=F("div"),rt(s.$$.fragment),B(n,"class","meta svelte-1h6i4hz"),B(o,"class","horizontal-container svelte-1h6i4hz"),B(t,"class","horizontal-container svelte-1h6i4hz")},m(e,a){P(e,t,a),A(t,n),A(t,r),A(t,o),ot(s,o,null),i=!0},p(e,t){const n={};8&t&&(n.table=e[3]),s.$set(n)},i(e){i||(qe(s.$$.fragment,e),i=!0)},o(e){Ve(s.$$.fragment,e),i=!1},d(e){e&&R(t),st(s)}}}function IV(e){let t,n,r,o,s,i,l,c,u,d,p=e[0].name+"";const $=[sf];let m={};for(let g=0;g<$.length;g+=1)m=a(m,$[g]);o=new Wr({props:m});let f=e[3]&&DV(e);return{c(){t=F("a"),n=F("div"),r=F("div"),rt(o.$$.fragment),s=V(),i=F("span"),l=q(p),c=V(),f&&f.c(),B(r,"class","horizontal-container name-and-icon svelte-1h6i4hz"),B(n,"class","container svelte-1h6i4hz"),B(t,"class","link-container svelte-1h6i4hz"),B(t,"href",u=qg(e[1].name,e[2].id,e[0].id))},m(e,a){P(e,t,a),A(t,n),A(n,r),ot(o,r,null),A(r,s),A(r,i),A(i,l),A(n,c),f&&f.m(n,null),d=!0},p(e,[r]){const s=0&r?et($,[tt(sf)]):{};o.$set(s),(!d||1&r)&&p!==(p=e[0].name+"")&&X(l,p),e[3]?f?(f.p(e,r),8&r&&qe(f,1)):(f=DV(e),f.c(),qe(f,1),f.m(n,null)):f&&(Fe(),Ve(f,1,1,(()=>{f=null})),He()),(!d||7&r&&u!==(u=qg(e[1].name,e[2].id,e[0].id)))&&B(t,"href",u)},i(e){d||(qe(o.$$.fragment,e),qe(f),d=!0)},o(e){Ve(o.$$.fragment,e),Ve(f),d=!1},d(e){e&&R(t),st(o),f&&f.d()}}}function _V(e,t,n){let r,o;f(e,Cv,(e=>n(4,o=e)));let{exploration:s}=t,{database:i}=t,{schema:a}=t;return e.$$set=e=>{"exploration"in e&&n(0,s=e.exploration),"database"in e&&n(1,i=e.database),"schema"in e&&n(2,a=e.schema)},e.$$.update=()=>{17&e.$$.dirty&&n(3,r=o.data.get(s.base_table))},[s,i,a,r,o]}class TV extends at{constructor(e){super(),it(this,e,_V,IV,p,{exploration:0,database:1,schema:2})}}function MV(e,t,n){const r=e.slice();return r[4]=t[n],r[6]=n,r}function EV(e){let t,n;return t=new vI({props:{icon:sf,$$slots:{default:[OV]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};128&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function OV(e){let t,n;return{c(){t=F("p"),t.textContent="No Explorations",n=V()},m(e,r){P(e,t,r),P(e,n,r)},p:s,d(e){e&&R(t),e&&R(n)}}}function AV(e){let t;return{c(){t=F("div"),B(t,"class","divider svelte-15dd43z")},m(e,n){P(e,t,n)},d(e){e&&R(t)}}}function LV(e,t){let n,r,o,s,i;r=new TV({props:{exploration:t[4],database:t[1],schema:t[2]}});let a=t[6]!==t[0].length-1&&AV();return{key:e,first:null,c(){n=j(),rt(r.$$.fragment),o=V(),a&&a.c(),s=j(),this.first=n},m(e,t){P(e,n,t),ot(r,e,t),P(e,o,t),a&&a.m(e,t),P(e,s,t),i=!0},p(e,n){t=e;const o={};1&n&&(o.exploration=t[4]),2&n&&(o.database=t[1]),4&n&&(o.schema=t[2]),r.$set(o),t[6]!==t[0].length-1?a||(a=AV(),a.c(),a.m(s.parentNode,s)):a&&(a.d(1),a=null)},i(e){i||(qe(r.$$.fragment,e),i=!0)},o(e){Ve(r.$$.fragment,e),i=!1},d(e){e&&R(n),st(r,e),e&&R(o),a&&a.d(e),e&&R(s)}}}function NV(e){let t,n,r=[],o=new Map,s=e[0];const i=e=>e[4].id;for(let l=0;l<s.length;l+=1){let t=MV(e,s,l),n=i(t);o.set(n,r[l]=LV(n,t))}let a=null;return s.length||(a=EV(e)),{c(){t=F("div");for(let e=0;e<r.length;e+=1)r[e].c();a&&a.c(),B(t,"class","container svelte-15dd43z"),te(t,"bordered",e[0].length>0&&e[3])},m(e,o){P(e,t,o);for(let n=0;n<r.length;n+=1)r[n].m(t,null);a&&a.m(t,null),n=!0},p(e,[l]){7&l&&(s=e[0],Fe(),r=Qe(r,l,i,1,e,s,o,t,Je,LV,null,MV),He(),!s.length&&a?a.p(e,l):s.length?a&&(Fe(),Ve(a,1,1,(()=>{a=null})),He()):(a=EV(e),a.c(),qe(a,1),a.m(t,null))),(!n||9&l)&&te(t,"bordered",e[0].length>0&&e[3])},i(e){if(!n){for(let e=0;e<s.length;e+=1)qe(r[e]);n=!0}},o(e){for(let t=0;t<r.length;t+=1)Ve(r[t]);n=!1},d(e){e&&R(t);for(let t=0;t<r.length;t+=1)r[t].d();a&&a.d()}}}function PV(e,t,n){let{explorations:r}=t,{database:o}=t,{schema:s}=t,{bordered:i=!0}=t;return e.$$set=e=>{"explorations"in e&&n(0,r=e.explorations),"database"in e&&n(1,o=e.database),"schema"in e&&n(2,s=e.schema),"bordered"in e&&n(3,i=e.bordered)},[r,o,s,i]}class RV extends at{constructor(e){super(),it(this,e,PV,NV,p,{explorations:0,database:1,schema:2,bordered:3})}}function zV(e){let t,n;return t=new Tr({}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function FV(e){let t,n,r=e[1]&&zV();const o=e[5].default,s=g(o,e,e[6],null);return{c(){r&&r.c(),t=V(),s&&s.c()},m(e,o){r&&r.m(e,o),P(e,t,o),s&&s.m(e,o),n=!0},p(e,i){e[1]?r?2&i&&qe(r,1):(r=zV(),r.c(),qe(r,1),r.m(t.parentNode,t)):r&&(Fe(),Ve(r,1,1,(()=>{r=null})),He()),s&&s.p&&(!n||64&i)&&v(s,o,e,e[6],n?y(o,e[6],i,null):b(e[6]),null)},i(e){n||(qe(r),qe(s,e),n=!0)},o(e){Ve(r),Ve(s,e),n=!1},d(e){r&&r.d(e),e&&R(t),s&&s.d(e)}}}function HV(e){let t,n;return t=new Ln({props:{disabled:e[1],appearance:"plain-primary",class:e[0],$$slots:{default:[FV]},$$scope:{ctx:e}}}),t.$on("click",e[2]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const r={};2&n&&(r.disabled=e[1]),1&n&&(r.class=e[0]),66&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function qV(e,t,n){let{$$slots:r={},$$scope:o}=t,{database:s}=t,{schema:i}=t,{class:a=""}=t,l=!1;return e.$$set=e=>{"database"in e&&n(3,s=e.database),"schema"in e&&n(4,i=e.schema),"class"in e&&n(0,a=e.class),"$$scope"in e&&n(6,o=e.$$scope)},[a,l,async function(){n(1,l=!0);const e=await vv(s,i,{});n(1,l=!1),hg.goto(jg(s.name,i.id,e.id),!1)},s,i,r,o]}class VV extends at{constructor(e){super(),it(this,e,qV,HV,p,{database:3,schema:4,class:0})}}function jV(e){let t;return{c(){t=F("span"),t.textContent="You've created a new schema, now add tables to it.",B(t,"slot","title")},m(e,n){P(e,t,n)},p:s,d(e){e&&R(t)}}}function WV(e){let t;return{c(){t=F("span"),t.textContent="Tables store your data. It's good to have one table per entity. An entity is\n    a thing you wish to keep data about. For example, in your personal financial\n    schema, you may have a table for your bank accounts and another for your\n    transactions. You can have as many tables as you wish.",B(t,"slot","body")},m(e,n){P(e,t,n)},p:s,d(e){e&&R(t)}}}function UV(e){let t;return{c(){t=F("span"),t.textContent="From Scratch"},m(e,n){P(e,t,n)},p:s,d(e){e&&R(t)}}}function YV(e){let t;return{c(){t=q("Import from a File")},m(e,n){P(e,t,n)},d(e){e&&R(t)}}}function BV(e){let t,n,r,o,s,i,a,l;return s=new VV({props:{class:"padding-zero",database:e[0],schema:e[1],$$slots:{default:[UV]},$$scope:{ctx:e}}}),a=new pn({props:{href:Rg(e[0].name,e[1].id),$$slots:{default:[YV]},$$scope:{ctx:e}}}),{c(){t=F("div"),n=F("span"),n.textContent="How do you want to create your table?",r=V(),o=F("div"),rt(s.$$.fragment),i=V(),rt(a.$$.fragment),B(n,"class","svelte-doup50"),B(o,"class","new-table-tutorial-actions svelte-doup50"),B(t,"class","new-table-tutorial-footer svelte-doup50"),B(t,"slot","footer")},m(e,c){P(e,t,c),A(t,n),A(t,r),A(t,o),ot(s,o,null),A(o,i),ot(a,o,null),l=!0},p(e,t){const n={};1&t&&(n.database=e[0]),2&t&&(n.schema=e[1]),4&t&&(n.$$scope={dirty:t,ctx:e}),s.$set(n);const r={};3&t&&(r.href=Rg(e[0].name,e[1].id)),4&t&&(r.$$scope={dirty:t,ctx:e}),a.$set(r)},i(e){l||(qe(s.$$.fragment,e),qe(a.$$.fragment,e),l=!0)},o(e){Ve(s.$$.fragment,e),Ve(a.$$.fragment,e),l=!1},d(e){e&&R(t),st(s),st(a)}}}function KV(e){let t,n;return t=new En({props:{$$slots:{footer:[BV],body:[WV],title:[jV]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const r={};7&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function GV(e,t,n){let{database:r}=t,{schema:o}=t;return e.$$set=e=>{"database"in e&&n(0,r=e.database),"schema"in e&&n(1,o=e.schema)},[r,o]}class XV extends at{constructor(e){super(),it(this,e,GV,KV,p,{database:0,schema:1})}}function JV(e){let t;return{c(){t=F("span"),t.textContent="It's time to use your tables. Create your first exploration.",B(t,"slot","title")},m(e,n){P(e,t,n)},p:s,d(e){e&&R(t)}}}function ZV(e){let t;return{c(){t=F("span"),t.textContent="Explorations let you query yourdata to uncover trends and insights. They\n    may be stored and run anytime to see the latest data. Explorations make\n    great reports. You might, for example, create an exploration that shows your\n    monthly spending.",B(t,"slot","body")},m(e,n){P(e,t,n)},p:s,d(e){e&&R(t)}}}function QV(e){let t;return{c(){t=q("Open Data Explorer")},m(e,n){P(e,t,n)},d(e){e&&R(t)}}}function ej(e){let t,n;return t=new pn({props:{slot:"footer",href:Hg(e[0].name,e[1].id),$$slots:{default:[QV]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};3&n&&(r.href=Hg(e[0].name,e[1].id)),4&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function tj(e){let t,n;return t=new En({props:{$$slots:{footer:[ej],body:[ZV],title:[JV]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const r={};7&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function nj(e,t,n){let{database:r}=t,{schema:o}=t;return e.$$set=e=>{"database"in e&&n(0,r=e.database),"schema"in e&&n(1,o=e.schema)},[r,o]}class rj extends at{constructor(e){super(),it(this,e,nj,tj,p,{database:0,schema:1})}}function oj(e){let t;return{c(){t=q("From Scratch")},m(e,n){P(e,t,n)},d(e){e&&R(t)}}}function sj(e){let t;return{c(){t=q("From Data Import")},m(e,n){P(e,t,n)},d(e){e&&R(t)}}}function ij(e){let t,n,r,o;return t=new qp({props:{$$slots:{default:[oj]},$$scope:{ctx:e}}}),t.$on("click",e[3]),r=new Yp({props:{href:Rg(e[0].name,e[1].id),$$slots:{default:[sj]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment),n=V(),rt(r.$$.fragment)},m(e,s){ot(t,e,s),P(e,n,s),ot(r,e,s),o=!0},p(e,n){const o={};16&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o);const s={};3&n&&(s.href=Rg(e[0].name,e[1].id)),16&n&&(s.$$scope={dirty:n,ctx:e}),r.$set(s)},i(e){o||(qe(t.$$.fragment,e),qe(r.$$.fragment,e),o=!0)},o(e){Ve(t.$$.fragment,e),Ve(r.$$.fragment,e),o=!1},d(e){st(t,e),e&&R(n),st(r,e)}}}function aj(e){let t,n;const r=[xm];let o={};for(let s=0;s<r.length;s+=1)o=a(o,r[s]);return t=new Wr({props:o}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const o=0&n?et(r,[tt(xm)]):{};t.$set(o)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function lj(e){let t,n;return t=new Tr({}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p:s,i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function cj(e){let t,n,r,o,s,i;const a=[lj,aj],l=[];function c(e,t){return e[2]?0:1}return n=c(e),r=l[n]=a[n](e),{c(){t=F("div"),r.c(),o=V(),s=F("span"),s.textContent="New Table",B(t,"slot","trigger")},m(e,r){P(e,t,r),l[n].m(t,null),A(t,o),A(t,s),i=!0},p(e,s){let i=n;n=c(e),n===i?l[n].p(e,s):(Fe(),Ve(l[i],1,1,(()=>{l[i]=null})),He(),r=l[n],r?r.p(e,s):(r=l[n]=a[n](e),r.c()),qe(r,1),r.m(t,o))},i(e){i||(qe(r),i=!0)},o(e){Ve(r),i=!1},d(e){e&&R(t),l[n].d()}}}function uj(e){let t,n;return t=new xc({props:{showArrow:!0,triggerAppearance:"primary",closeOnInnerClick:!0,label:"New Table",$$slots:{trigger:[cj],default:[ij]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const r={};23&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function dj(e,t,n){let{database:r}=t,{schema:o}=t,s=!1;return e.$$set=e=>{"database"in e&&n(0,r=e.database),"schema"in e&&n(1,o=e.schema)},[r,o,s,async function(){n(2,s=!0);const e=await vv(r,o,{});n(2,s=!1),hg.goto(jg(r.name,o.id,e.id),!1)}]}class pj extends at{constructor(e){super(),it(this,e,dj,uj,p,{database:0,schema:1})}}function $j(e,t,n){const r=e.slice();return r[1]=t[n],r[3]=n,r}function mj(e,t){let n,r,o,s;return r=new $l({props:{loading:!0}}),{key:e,first:null,c(){n=F("div"),rt(r.$$.fragment),o=V(),B(n,"class","table-skeleton svelte-urq83"),this.first=n},m(e,t){P(e,n,t),ot(r,n,null),A(n,o),s=!0},p(e,t){},i(e){s||(qe(r.$$.fragment,e),s=!0)},o(e){Ve(r.$$.fragment,e),s=!1},d(e){e&&R(n),st(r)}}}function fj(e){let t,n,r=[],o=new Map,s=Array(e[0]);const i=e=>e[3];for(let a=0;a<s.length;a+=1){let t=$j(e,s,a),n=i(t);o.set(n,r[a]=mj(n))}return{c(){t=F("div");for(let e=0;e<r.length;e+=1)r[e].c();B(t,"class","table-skeleton-container svelte-urq83")},m(e,o){P(e,t,o);for(let n=0;n<r.length;n+=1)r[n].m(t,null);n=!0},p(e,[n]){1&n&&(s=Array(e[0]),Fe(),r=Qe(r,n,i,1,e,s,o,t,Je,mj,null,$j),He())},i(e){if(!n){for(let e=0;e<s.length;e+=1)qe(r[e]);n=!0}},o(e){for(let t=0;t<r.length;t+=1)Ve(r[t]);n=!1},d(e){e&&R(t);for(let t=0;t<r.length;t+=1)r[t].d()}}}function gj(e,t,n){let{numTables:r=9}=t;return e.$$set=e=>{"numTables"in e&&n(0,r=e.numTables)},[r]}class hj extends at{constructor(e){super(),it(this,e,gj,fj,p,{numTables:0})}}function yj(e){let t,n,r;return n=new $l({props:{loading:!0}}),{c(){t=F("div"),rt(n.$$.fragment),B(t,"class","exploration-skeleton-container svelte-1rmp9hx")},m(e,o){P(e,t,o),ot(n,t,null),r=!0},p:s,i(e){r||(qe(n.$$.fragment,e),r=!0)},o(e){Ve(n.$$.fragment,e),r=!1},d(e){e&&R(t),st(n)}}}class vj extends at{constructor(e){super(),it(this,e,null,yj,p,{})}}function bj(e){let t,n;return t=new pj({props:{database:e[5],schema:e[6]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};32&n&&(r.database=e[5]),64&n&&(r.schema=e[6]),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function wj(e){let t,n,r=e[4]&&bj(e);return{c(){r&&r.c(),t=j()},m(e,o){r&&r.m(e,o),P(e,t,o),n=!0},p(e,n){e[4]?r?(r.p(e,n),16&n&&qe(r,1)):(r=bj(e),r.c(),qe(r,1),r.m(t.parentNode,t)):r&&(Fe(),Ve(r,1,1,(()=>{r=null})),He())},i(e){n||(qe(r),n=!0)},o(e){Ve(r),n=!1},d(e){r&&r.d(e),e&&R(t)}}}function xj(e){let t,n;return t=new kV({props:{canExecuteDDL:e[4],tables:[...e[0].values()],database:e[5],schema:e[6]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};16&n&&(r.canExecuteDDL=e[4]),1&n&&(r.tables=[...e[0].values()]),32&n&&(r.database=e[5]),64&n&&(r.schema=e[6]),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Sj(e){let t,n;return t=new XV({props:{database:e[5],schema:e[6]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};32&n&&(r.database=e[5]),64&n&&(r.schema=e[6]),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Cj(e){let t,n;return t=new hj({props:{numTables:e[6].num_tables}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};64&n&&(r.numTables=e[6].num_tables),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function kj(e){let t,n;return t=new RV({props:{bordered:!1,explorations:[...e[1].values()],database:e[5],schema:e[6]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.explorations=[...e[1].values()]),32&n&&(r.database=e[5]),64&n&&(r.schema=e[6]),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Dj(e){let t,n;return t=new rj({props:{database:e[5],schema:e[6]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};32&n&&(r.database=e[5]),64&n&&(r.schema=e[6]),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Ij(e){let t,n;return t=new vj({}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p:s,i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function _j(e){let t,n,r,o,s,i,a,l;return n=new gI({props:{title:"Explore your Data"}}),a=new pn({props:{href:Hg(e[5].name,e[6].id),$$slots:{default:[Tj]},$$scope:{ctx:e}}}),{c(){t=F("div"),rt(n.$$.fragment),r=V(),o=F("span"),o.textContent="Explorations let you query your data to uncover trends and insights.",s=V(),i=F("div"),rt(a.$$.fragment),B(t,"class","vertical-container svelte-36ix5v")},m(e,c){P(e,t,c),ot(n,t,null),A(t,r),A(t,o),A(t,s),A(t,i),ot(a,i,null),l=!0},p(e,t){const n={};96&t&&(n.href=Hg(e[5].name,e[6].id)),8192&t&&(n.$$scope={dirty:t,ctx:e}),a.$set(n)},i(e){l||(qe(n.$$.fragment,e),qe(a.$$.fragment,e),l=!0)},o(e){Ve(n.$$.fragment,e),Ve(a.$$.fragment,e),l=!1},d(e){e&&R(t),st(n),st(a)}}}function Tj(e){let t;return{c(){t=q("Open Data Explorer")},m(e,n){P(e,t,n)},d(e){e&&R(t)}}}function Mj(e){let t,n,r,o,s,i,a,l,c,u,d,p,$,m,f;r=new gI({props:{title:"Tables",$$slots:{action:[wj]},$$scope:{ctx:e}}});const g=[Cj,Sj,xj],h=[];function y(e,t){return e[2]?0:e[9]?1:2}s=y(e),i=h[s]=g[s](e),u=new gI({props:{title:"Saved Explorations"}});const v=[Ij,Dj,kj],b=[];function w(e,t){return e[3]?0:e[8]?1:2}p=w(e),$=b[p]=v[p](e);let x=e[7]&&_j(e);return{c(){t=F("div"),n=F("div"),rt(r.$$.fragment),o=V(),i.c(),a=V(),l=F("div"),c=F("div"),rt(u.$$.fragment),d=V(),$.c(),m=V(),x&&x.c(),B(n,"class","vertical-container tables svelte-36ix5v"),B(c,"class","vertical-container svelte-36ix5v"),B(l,"class","vertical-container explorations svelte-36ix5v"),B(t,"class","container svelte-36ix5v")},m(e,i){P(e,t,i),A(t,n),ot(r,n,null),A(n,o),h[s].m(n,null),A(t,a),A(t,l),A(l,c),ot(u,c,null),A(c,d),b[p].m(c,null),A(l,m),x&&x.m(l,null),f=!0},p(e,[t]){const o={};8304&t&&(o.$$scope={dirty:t,ctx:e}),r.$set(o);let a=s;s=y(e),s===a?h[s].p(e,t):(Fe(),Ve(h[a],1,1,(()=>{h[a]=null})),He(),i=h[s],i?i.p(e,t):(i=h[s]=g[s](e),i.c()),qe(i,1),i.m(n,null));let u=p;p=w(e),p===u?b[p].p(e,t):(Fe(),Ve(b[u],1,1,(()=>{b[u]=null})),He(),$=b[p],$?$.p(e,t):($=b[p]=v[p](e),$.c()),qe($,1),$.m(c,null)),e[7]?x?(x.p(e,t),128&t&&qe(x,1)):(x=_j(e),x.c(),qe(x,1),x.m(l,null)):x&&(Fe(),Ve(x,1,1,(()=>{x=null})),He())},i(e){f||(qe(r.$$.fragment,e),qe(i),qe(u.$$.fragment,e),qe($),qe(x),f=!0)},o(e){Ve(r.$$.fragment,e),Ve(i),Ve(u.$$.fragment,e),Ve($),Ve(x),f=!1},d(e){e&&R(t),st(r),h[s].d(),st(u),b[p].d(),x&&x.d()}}}function Ej(e,t,n){let r,o,s,i,a,{tablesMap:l}=t,{explorationsMap:c}=t,{isTablesLoading:u=!1}=t,{isExplorationsLoading:d=!1}=t,{canExecuteDDL:p}=t,{canEditMetadata:$}=t,{database:m}=t,{schema:f}=t;return e.$$set=e=>{"tablesMap"in e&&n(0,l=e.tablesMap),"explorationsMap"in e&&n(1,c=e.explorationsMap),"isTablesLoading"in e&&n(2,u=e.isTablesLoading),"isExplorationsLoading"in e&&n(3,d=e.isExplorationsLoading),"canExecuteDDL"in e&&n(4,p=e.canExecuteDDL),"canEditMetadata"in e&&n(10,$=e.canEditMetadata),"database"in e&&n(5,m=e.database),"schema"in e&&n(6,f=e.schema)},e.$$.update=()=>{1&e.$$.dirty&&n(12,r=l.size>0),2&e.$$.dirty&&n(11,o=c.size>0),4112&e.$$.dirty&&n(9,s=!r&&p),7168&e.$$.dirty&&n(8,i=r&&!o&&$),6152&e.$$.dirty&&n(7,a=r&&o&&!d)},[l,c,u,d,p,m,f,a,i,s,$,o,r]}class Oj extends at{constructor(e){super(),it(this,e,Ej,Mj,p,{tablesMap:0,explorationsMap:1,isTablesLoading:2,isExplorationsLoading:3,canExecuteDDL:4,canEditMetadata:10,database:5,schema:6})}}function Aj(e){let t,n;return t=new pj({props:{database:e[0],schema:e[1]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.database=e[0]),2&n&&(r.schema=e[1]),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Lj(e){let t,n,r=e[2]&&Aj(e);return{c(){r&&r.c(),t=j()},m(e,o){r&&r.m(e,o),P(e,t,o),n=!0},p(e,n){e[2]?r?(r.p(e,n),4&n&&qe(r,1)):(r=Aj(e),r.c(),qe(r,1),r.m(t.parentNode,t)):r&&(Fe(),Ve(r,1,1,(()=>{r=null})),He())},i(e){n||(qe(r),n=!0)},o(e){Ve(r),n=!1},d(e){r&&r.d(e),e&&R(t)}}}function Nj(e){let t,n,r,o,s,i=Eb(e[4],"results")+"";return{c(){t=F("p"),n=q(i),r=q("\n      for all tables matching\n      "),o=F("strong"),s=q(e[3])},m(e,i){P(e,t,i),A(t,n),A(t,r),A(t,o),A(o,s)},p(e,t){16&t&&i!==(i=Eb(e[4],"results")+"")&&X(n,i),8&t&&X(s,e[3])},d(e){e&&R(t)}}}function Pj(e){let t,n;return t=new kV({props:{canExecuteDDL:e[2],tables:e[4],database:e[0],schema:e[1]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};4&n&&(r.canExecuteDDL=e[2]),16&n&&(r.tables=e[4]),1&n&&(r.database=e[0]),2&n&&(r.schema=e[1]),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Rj(e){let t,n;return t=new XV({props:{database:e[0],schema:e[1]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.database=e[0]),2&n&&(r.schema=e[1]),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function zj(e){let t,n,r,o;const s=[Rj,Pj],i=[];function a(e,t){return e[5]?0:1}return t=a(e),n=i[t]=s[t](e),{c(){n.c(),r=j()},m(e,n){i[t].m(e,n),P(e,r,n),o=!0},p(e,o){let l=t;t=a(e),t===l?i[t].p(e,o):(Fe(),Ve(i[l],1,1,(()=>{i[l]=null})),He(),n=i[t],n?n.p(e,o):(n=i[t]=s[t](e),n.c()),qe(n,1),n.m(r.parentNode,r))},i(e){o||(qe(n),o=!0)},o(e){Ve(n),o=!1},d(e){i[t].d(e),e&&R(r)}}}function Fj(e){let t,n,r;function o(t){e[8](t)}let s={searchPlaceholder:"Search Tables",$$slots:{content:[zj],resultInfo:[Nj],action:[Lj]},$$scope:{ctx:e}};return void 0!==e[3]&&(s.searchQuery=e[3]),t=new mC({props:s}),we.push((()=>nt(t,"searchQuery",o))),t.$on("clear",e[6]),{c(){rt(t.$$.fragment)},m(e,n){ot(t,e,n),r=!0},p(e,[r]){const o={};575&r&&(o.$$scope={dirty:r,ctx:e}),!n&&8&r&&(n=!0,o.searchQuery=e[3],Te((()=>n=!1))),t.$set(o)},i(e){r||(qe(t.$$.fragment,e),r=!0)},o(e){Ve(t.$$.fragment,e),r=!1},d(e){st(t,e)}}}function Hj(e,t,n){let r,o,{tablesMap:s}=t,{database:i}=t,{schema:a}=t,{canExecuteDDL:l}=t,c="";return e.$$set=e=>{"tablesMap"in e&&n(7,s=e.tablesMap),"database"in e&&n(0,i=e.database),"schema"in e&&n(1,a=e.schema),"canExecuteDDL"in e&&n(2,l=e.canExecuteDDL)},e.$$.update=()=>{var t;132&e.$$.dirty&&n(5,r=0===s.size&&l),136&e.$$.dirty&&n(4,(t=c,o=[...s.values()].filter((e=>e.name.toLowerCase().includes(t.trim().toLowerCase())))))},[i,a,l,c,o,r,function(){n(3,c="")},s,function(e){c=e,n(3,c)}]}class qj extends at{constructor(e){super(),it(this,e,Hj,Fj,p,{tablesMap:7,database:0,schema:1,canExecuteDDL:2})}}function Vj(e){let t;return{c(){t=q("Open Data Explorer")},m(e,n){P(e,t,n)},d(e){e&&R(t)}}}function jj(e){let t,n;return t=new pn({props:{href:Hg(e[0].name,e[1].id),$$slots:{default:[Vj]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};3&n&&(r.href=Hg(e[0].name,e[1].id)),1024&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Wj(e){let t,n,r,o,s,i=Eb(e[3],"results")+"";return{c(){t=F("p"),n=q(i),r=q("\n      for all explorations matching\n      "),o=F("strong"),s=q(e[2])},m(e,i){P(e,t,i),A(t,n),A(t,r),A(t,o),A(o,s)},p(e,t){8&t&&i!==(i=Eb(e[3],"results")+"")&&X(n,i),4&t&&X(s,e[2])},d(e){e&&R(t)}}}function Uj(e){let t,n;return t=new RV({props:{explorations:e[3],database:e[0],schema:e[1]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};8&n&&(r.explorations=e[3]),1&n&&(r.database=e[0]),2&n&&(r.schema=e[1]),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Yj(e){let t,n;return t=new rj({props:{database:e[0],schema:e[1]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.database=e[0]),2&n&&(r.schema=e[1]),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Bj(e){let t,n,r,o;const s=[Yj,Uj],i=[];function a(e,t){return e[4]?0:1}return t=a(e),n=i[t]=s[t](e),{c(){n.c(),r=j()},m(e,n){i[t].m(e,n),P(e,r,n),o=!0},p(e,o){let l=t;t=a(e),t===l?i[t].p(e,o):(Fe(),Ve(i[l],1,1,(()=>{i[l]=null})),He(),n=i[t],n?n.p(e,o):(n=i[t]=s[t](e),n.c()),qe(n,1),n.m(r.parentNode,r))},i(e){o||(qe(n),o=!0)},o(e){Ve(n),o=!1},d(e){i[t].d(e),e&&R(r)}}}function Kj(e){let t,n,r;function o(t){e[9](t)}let s={searchPlaceholder:"Search Explorations",$$slots:{content:[Bj],resultInfo:[Wj],action:[jj]},$$scope:{ctx:e}};return void 0!==e[2]&&(s.searchQuery=e[2]),t=new mC({props:s}),we.push((()=>nt(t,"searchQuery",o))),t.$on("clear",e[5]),{c(){rt(t.$$.fragment)},m(e,n){ot(t,e,n),r=!0},p(e,[r]){const o={};1055&r&&(o.$$scope={dirty:r,ctx:e}),!n&&4&r&&(n=!0,o.searchQuery=e[2],Te((()=>n=!1))),t.$set(o)},i(e){r||(qe(t.$$.fragment,e),r=!0)},o(e){Ve(t.$$.fragment,e),r=!1},d(e){st(t,e)}}}function Gj(e,t,n){let r,o,{database:s}=t,{schema:i}=t,{explorationsMap:a}=t,{hasTablesToExplore:l}=t,{canEditMetadata:c}=t,u="";return e.$$set=e=>{"database"in e&&n(0,s=e.database),"schema"in e&&n(1,i=e.schema),"explorationsMap"in e&&n(6,a=e.explorationsMap),"hasTablesToExplore"in e&&n(7,l=e.hasTablesToExplore),"canEditMetadata"in e&&n(8,c=e.canEditMetadata)},e.$$.update=()=>{var t;448&e.$$.dirty&&n(4,r=0===a.size&&l&&c),68&e.$$.dirty&&n(3,(t=u,o=[...a.values()].filter((e=>e.name.toLowerCase().includes(t.trim().toLowerCase())))))},[s,i,u,o,r,function(){n(2,u="")},a,l,c,function(e){u=e,n(2,u)}]}class Xj extends at{constructor(e){super(),it(this,e,Gj,Kj,p,{database:0,schema:1,explorationsMap:6,hasTablesToExplore:7,canEditMetadata:8})}}function Jj(e){let t,n;return t=new hy({props:{$$slots:{default:[eW]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};8208&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Zj(e){let t;return{c(){t=F("div"),t.textContent="Loading"},m(e,n){P(e,t,n)},p:s,i:s,o:s,d(e){e&&R(t)}}}function Qj(e){let t,n;return t=new pD({props:{accessControlObject:"schema",usersWithAccess:e[5],usersWithoutAccess:e[6],addAccessForUser:e[8],removeAccessForUser:e[9],getUserRoles:e[10]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};32&n&&(r.usersWithAccess=e[5]),64&n&&(r.usersWithoutAccess=e[6]),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function eW(e){let t,n=e[4].errors.join(", ")+"";return{c(){t=q(n)},m(e,n){P(e,t,n)},p(e,r){16&r&&n!==(n=e[4].errors.join(", ")+"")&&X(t,n)},d(e){e&&R(t)}}}function tW(e){let t,n,r,o;const s=[Qj,Zj,Jj],i=[];function a(e,t){return"success"===e[4]?.state?0:"processing"===e[4]?.state?1:"failure"===e[4]?.state?2:-1}return~(t=a(e))&&(n=i[t]=s[t](e)),{c(){n&&n.c(),r=j()},m(e,n){~t&&i[t].m(e,n),P(e,r,n),o=!0},p(e,o){let l=t;t=a(e),t===l?~t&&i[t].p(e,o):(n&&(Fe(),Ve(i[l],1,1,(()=>{i[l]=null})),He()),~t?(n=i[t],n?n.p(e,o):(n=i[t]=s[t](e),n.c()),qe(n,1),n.m(r.parentNode,r)):n=null)},i(e){o||(qe(n),o=!0)},o(e){Ve(n),o=!1},d(e){~t&&i[t].d(e),e&&R(r)}}}function nW(e){let t,n=e[1].name+"";return{c(){t=q(n)},m(e,n){P(e,t,n)},p(e,r){2&r&&n!==(n=e[1].name+"")&&X(t,n)},d(e){e&&R(t)}}}function rW(e){let t,n,r,o;return n=new mm({props:{$$slots:{default:[nW]},$$scope:{ctx:e}}}),{c(){t=q("Manage "),rt(n.$$.fragment),r=q(" Schema Access")},m(e,s){P(e,t,s),ot(n,e,s),P(e,r,s),o=!0},p(e,t){const r={};8194&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){o||(qe(n.$$.fragment,e),o=!0)},o(e){Ve(n.$$.fragment,e),o=!1},d(e){e&&R(t),st(n,e),e&&R(r)}}}function oW(e){let t,n;return t=new Bd({props:{controller:e[0],size:"medium",closeOn:["button","esc","overlay"],$$slots:{title:[rW],default:[tW]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const r={};1&n&&(r.controller=e[0]),8306&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function sW(e,t,n){let r,o,i,a,l,c=s,u=s;e.$$.on_destroy.push((()=>c())),e.$$.on_destroy.push((()=>u()));let{controller:d}=t,{database:p}=t,{schema:m}=t;const g=jv(),{requestStatus:h}=g;return f(e,h,(e=>n(4,i=e))),e.$$set=e=>{"controller"in e&&n(0,d=e.controller),"database"in e&&n(11,p=e.database),"schema"in e&&n(1,m=e.schema)},e.$$.update=()=>{2&e.$$.dirty&&(n(3,r=g.getNormalUsersWithoutDirectSchemaRole(m)),u(),u=$(r,(e=>n(6,l=e)))),2050&e.$$.dirty&&(n(2,o=g.getUsersWithAccessToSchema(p,m)),c(),c=$(o,(e=>n(5,a=e))))},[d,m,o,r,i,a,l,h,async function(e,t){await g.addSchemaRoleForUser(e.id,m,t)},async function(e){await g.removeSchemaAccessForUser(e.id,m)},function(e){const t=new Map,n=e.getRoleForDb(p);n&&t.set("database",n.role);const r=e.getRoleForSchema(m);return r&&t.set("schema",r.role),t.size?t:void 0},p]}class iW extends at{constructor(e){super(),it(this,e,sW,oW,p,{controller:0,database:11,schema:1})}}const aW=e=>({}),lW=e=>({slot:"bottom"});function cW(e){let t,n,r,o;const s=[$W,pW],i=[];function a(e,t){return e[8]?0:1}return n=a(e),r=i[n]=s[n](e),{c(){t=F("div"),r.c(),B(t,"class","tab-container svelte-jadtkf")},m(e,r){P(e,t,r),i[n].m(t,null),o=!0},p(e,o){let l=n;n=a(e),n===l?i[n].p(e,o):(Fe(),Ve(i[l],1,1,(()=>{i[l]=null})),He(),r=i[n],r?r.p(e,o):(r=i[n]=s[n](e),r.c()),qe(r,1),r.m(t,null))},i(e){o||(qe(r),o=!0)},o(e){Ve(r),o=!1},d(e){e&&R(t),i[n].d()}}}function uW(e){let t,n,r,o;const s=[fW,mW],i=[];function a(e,t){return e[9]?0:1}return n=a(e),r=i[n]=s[n](e),{c(){t=F("div"),r.c(),B(t,"class","tab-container svelte-jadtkf")},m(e,r){P(e,t,r),i[n].m(t,null),o=!0},p(e,o){let l=n;n=a(e),n===l?i[n].p(e,o):(Fe(),Ve(i[l],1,1,(()=>{i[l]=null})),He(),r=i[n],r?r.p(e,o):(r=i[n]=s[n](e),r.c()),qe(r,1),r.m(t,null))},i(e){o||(qe(r),o=!0)},o(e){Ve(r),o=!1},d(e){e&&R(t),i[n].d()}}}function dW(e){let t,n,r;return n=new Oj({props:{canExecuteDDL:e[5],canEditMetadata:e[11],isTablesLoading:e[9],isExplorationsLoading:e[8],tablesMap:e[4],explorationsMap:e[3],database:e[0],schema:e[1]}}),{c(){t=F("div"),rt(n.$$.fragment),B(t,"class","tab-container svelte-jadtkf")},m(e,o){P(e,t,o),ot(n,t,null),r=!0},p(e,t){const r={};32&t&&(r.canExecuteDDL=e[5]),2048&t&&(r.canEditMetadata=e[11]),512&t&&(r.isTablesLoading=e[9]),256&t&&(r.isExplorationsLoading=e[8]),16&t&&(r.tablesMap=e[4]),8&t&&(r.explorationsMap=e[3]),1&t&&(r.database=e[0]),2&t&&(r.schema=e[1]),n.$set(r)},i(e){r||(qe(n.$$.fragment,e),r=!0)},o(e){Ve(n.$$.fragment,e),r=!1},d(e){e&&R(t),st(n)}}}function pW(e){let t,n;return t=new Xj({props:{canEditMetadata:e[11],hasTablesToExplore:!!e[4].size,explorationsMap:e[3],database:e[0],schema:e[1]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};2048&n&&(r.canEditMetadata=e[11]),16&n&&(r.hasTablesToExplore=!!e[4].size),8&n&&(r.explorationsMap=e[3]),1&n&&(r.database=e[0]),2&n&&(r.schema=e[1]),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function $W(e){let t,n;return t=new vj({}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p:s,i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function mW(e){let t,n;return t=new qj({props:{canExecuteDDL:e[5],tablesMap:e[4],database:e[0],schema:e[1]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};32&n&&(r.canExecuteDDL=e[5]),16&n&&(r.tablesMap=e[4]),1&n&&(r.database=e[0]),2&n&&(r.schema=e[1]),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function fW(e){let t,n;return t=new hj({props:{numTables:e[1].num_tables}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.numTables=e[1].num_tables),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function gW(e){let t,n,r,o;const s=[dW,uW,cW],i=[];function a(e,t){return"overview"===e[7]?.id?0:"tables"===e[7]?.id?1:"explorations"===e[7]?.id?2:-1}return~(t=a(e))&&(n=i[t]=s[t](e)),{c(){n&&n.c(),r=j()},m(e,n){~t&&i[t].m(e,n),P(e,r,n),o=!0},p(e,o){let l=t;t=a(e),t===l?~t&&i[t].p(e,o):(n&&(Fe(),Ve(i[l],1,1,(()=>{i[l]=null})),He()),~t?(n=i[t],n?n.p(e,o):(n=i[t]=s[t](e),n.c()),qe(n,1),n.m(r.parentNode,r)):n=null)},i(e){o||(qe(n),o=!0)},o(e){Ve(n),o=!1},d(e){~t&&i[t].d(e),e&&R(r)}}}function hW(e){let t,n,r=e[25].count+"";return{c(){t=F("span"),n=q(r),B(t,"class","count svelte-jadtkf")},m(e,r){P(e,t,r),A(t,n)},p(e,t){33554432&t&&r!==(r=e[25].count+"")&&X(n,r)},d(e){e&&R(t)}}}function yW(e){let t,n,r,o,s=e[25].label+"",i=void 0!==e[25].count&&hW(e);return{c(){t=F("div"),n=F("span"),r=q(s),o=V(),i&&i.c(),B(t,"slot","tab"),B(t,"class","tab-header-container svelte-jadtkf")},m(e,s){P(e,t,s),A(t,n),A(n,r),A(t,o),i&&i.m(t,null)},p(e,n){33554432&n&&s!==(s=e[25].label+"")&&X(r,s),void 0!==e[25].count?i?i.p(e,n):(i=hW(e),i.c(),i.m(t,null)):i&&(i.d(1),i=null)},d(e){e&&R(t),i&&i.d()}}}function vW(e){let t,n;return t=new ud({props:{activeTab:e[7],tabs:e[2],uniformTabWidth:!1,$$slots:{tab:[yW,({tab:e})=>({25:e}),({tab:e})=>e?33554432:0],default:[gW]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};128&n&&(r.activeTab=e[7]),4&n&&(r.tabs=e[2]),50334651&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function bW(e){let t,n;return t=new Ln({props:{appearance:"secondary",$$slots:{default:[wW]},$$scope:{ctx:e}}}),t.$on("click",e[15]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};16777216&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function wW(e){let t,n,r,o;const s=[Im];let i={};for(let l=0;l<s.length;l+=1)i=a(i,s[l]);return t=new Wr({props:i}),{c(){rt(t.$$.fragment),n=V(),r=F("span"),r.textContent="Edit Schema"},m(e,s){ot(t,e,s),P(e,n,s),P(e,r,s),o=!0},p(e,n){const r=0&n?et(s,[tt(Im)]):{};t.$set(r)},i(e){o||(qe(t.$$.fragment,e),o=!0)},o(e){Ve(t.$$.fragment,e),o=!1},d(e){st(t,e),e&&R(n),e&&R(r)}}}function xW(e){let t,n;return t=new Ln({props:{appearance:"secondary",$$slots:{default:[SW]},$$scope:{ctx:e}}}),t.$on("click",e[16]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};16777216&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function SW(e){let t,n,r,o;const s=[Rm];let i={};for(let l=0;l<s.length;l+=1)i=a(i,s[l]);return t=new Wr({props:i}),{c(){rt(t.$$.fragment),n=V(),r=F("span"),r.textContent="Manage Access"},m(e,s){ot(t,e,s),P(e,n,s),P(e,r,s),o=!0},p(e,n){const r=0&n?et(s,[tt(Rm)]):{};t.$set(r)},i(e){o||(qe(t.$$.fragment,e),o=!0)},o(e){Ve(t.$$.fragment,e),o=!1},d(e){st(t,e),e&&R(n),e&&R(r)}}}function CW(e){let t,n,r,o=!e[6]&&e[5]&&bW(e),s=e[10]&&xW(e);return{c(){t=F("div"),o&&o.c(),n=V(),s&&s.c(),B(t,"slot","action")},m(e,i){P(e,t,i),o&&o.m(t,null),A(t,n),s&&s.m(t,null),r=!0},p(e,r){!e[6]&&e[5]?o?(o.p(e,r),96&r&&qe(o,1)):(o=bW(e),o.c(),qe(o,1),o.m(t,n)):o&&(Fe(),Ve(o,1,1,(()=>{o=null})),He()),e[10]?s?(s.p(e,r),1024&r&&qe(s,1)):(s=xW(e),s.c(),qe(s,1),s.m(t,null)):s&&(Fe(),Ve(s,1,1,(()=>{s=null})),He())},i(e){r||(qe(o),qe(s),r=!0)},o(e){Ve(o),Ve(s),r=!1},d(e){e&&R(t),o&&o.d(),s&&s.d()}}}function kW(e){let t,n,r=e[1].description+"";return{c(){t=F("span"),n=q(r),B(t,"class","description")},m(e,r){P(e,t,r),A(t,n)},p(e,t){2&t&&r!==(r=e[1].description+"")&&X(n,r)},d(e){e&&R(t)}}}function DW(e){let t;const n=e[23].default,r=g(n,e,e[24],lW),o=r||function(e){let t,n=e[1].description&&kW(e);return{c(){n&&n.c(),t=j()},m(e,r){n&&n.m(e,r),P(e,t,r)},p(e,r){e[1].description?n?n.p(e,r):(n=kW(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(e){n&&n.d(e),e&&R(t)}}}(e);return{c(){o&&o.c()},m(e,n){o&&o.m(e,n),t=!0},p(e,s){r?r.p&&(!t||16777216&s)&&v(r,n,e,e[24],t?y(n,e[24],s,aW):b(e[24]),lW):o&&o.p&&(!t||2&s)&&o.p(e,t?s:-1)},i(e){t||(qe(o,e),t=!0)},o(e){Ve(o,e),t=!1},d(e){o&&o.d(e)}}}function IW(e){let t,n;return t=new KS({props:{slot:"secondary-header",theme:"light",pageTitleAndMetaProps:{name:e[1].name,type:"schema",icon:$f},$$slots:{bottom:[DW],action:[CW]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.pageTitleAndMetaProps={name:e[1].name,type:"schema",icon:$f}),16778338&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function _W(e){let t,n,r,o,s,i,a,l;return document.title=t=hS(e[1].name),r=new rS({props:{restrictWidth:!0,cssVariables:{"--max-layout-width":"var(--max-layout-width-console-pages)"},$$slots:{"secondary-header":[IW],default:[vW]},$$scope:{ctx:e}}}),s=new VC({props:{controller:e[13],database:e[0],schema:e[1]}}),a=new iW({props:{controller:e[14],database:e[0],schema:e[1]}}),{c(){n=V(),rt(r.$$.fragment),o=V(),rt(s.$$.fragment),i=V(),rt(a.$$.fragment)},m(e,t){P(e,n,t),ot(r,e,t),P(e,o,t),ot(s,e,t),P(e,i,t),ot(a,e,t),l=!0},p(e,[n]){(!l||2&n)&&t!==(t=hS(e[1].name))&&(document.title=t);const o={};16781311&n&&(o.$$scope={dirty:n,ctx:e}),r.$set(o);const i={};1&n&&(i.database=e[0]),2&n&&(i.schema=e[1]),s.$set(i);const c={};1&n&&(c.database=e[0]),2&n&&(c.schema=e[1]),a.$set(c)},i(e){l||(qe(r.$$.fragment,e),qe(s.$$.fragment,e),qe(a.$$.fragment,e),l=!0)},o(e){Ve(r.$$.fragment,e),Ve(s.$$.fragment,e),Ve(a.$$.fragment,e),l=!1},d(e){e&&R(n),st(r,e),e&&R(o),st(s,e),e&&R(i),st(a,e)}}}function TW(e,t,n){let r,o,s,i,a,l,c,u,d,p,$,m,g,h,y;f(e,gw,(e=>n(19,m=e))),f(e,Cv,(e=>n(20,g=e))),f(e,kv,(e=>n(21,h=e)));let{$$slots:v={},$$scope:b}=t,{database:w}=t,{schema:x}=t,{section:S}=t;const C=Uv();f(e,C,(e=>n(22,y=e)));const k=Wf.spawnModalController(),D=Wf.spawnModalController();var I,_;return I="opened_schema",_={database_name:w.name,schema_name:x.name,source:"schema_page"},window.dispatchEvent(new CustomEvent("userAction",{detail:{eventName:I,metadata:_}})),e.$$set=e=>{"database"in e&&n(0,w=e.database),"schema"in e&&n(1,x=e.schema),"section"in e&&n(17,S=e.section),"$$scope"in e&&n(24,b=e.$$scope)},e.$$.update=()=>{4194304&e.$$.dirty&&n(18,r=y),262147&e.$$.dirty&&n(5,o=r?.hasPermission({database:w,schema:x},"canExecuteDDL")??!1),262147&e.$$.dirty&&n(11,s=r?.hasPermission({database:w,schema:x},"canEditMetadata")??!1),262147&e.$$.dirty&&n(10,i=r?.hasPermission({database:w,schema:x},"canEditPermissions")),3145760&e.$$.dirty&&n(4,a=o?g.data:h),524288&e.$$.dirty&&n(3,l=m.data),1048576&e.$$.dirty&&n(9,c=g.state===rh.Loading),524288&e.$$.dirty&&n(8,u="processing"===m.requestStatus.state),27&e.$$.dirty&&n(2,d=[{label:"Overview",id:"overview",href:Lg(w.name,x.id)},{label:"Tables",id:"tables",count:a.size,href:Ng(w.name,x.id)},{label:"Explorations",id:"explorations",count:l.size,href:Pg(w.name,x.id)}]),131076&e.$$.dirty&&n(7,p=d.find((e=>e.id===S))||d[0]),2&e.$$.dirty&&n(6,$="public"===x.name)},[w,x,d,l,a,o,$,p,u,c,i,s,C,k,D,function(){k.open()},function(){D.open()},S,r,m,g,h,y,v,b]}class MW extends at{constructor(e){super(),it(this,e,TW,_W,p,{database:0,schema:1,section:17})}}const EW=e=>({meta:64&e}),OW=e=>({meta:e[6]});function AW(e){let t,n,r;t=new dS({props:{meta:e[6]}}),t.$on("load",e[3]),t.$on("unload",e[4]);const o=e[2].default,s=g(o,e,e[5],OW);return{c(){rt(t.$$.fragment),n=V(),s&&s.c()},m(e,o){ot(t,e,o),P(e,n,o),s&&s.m(e,o),r=!0},p(e,n){const i={};64&n&&(i.meta=e[6]),t.$set(i),s&&s.p&&(!r||96&n)&&v(s,o,e,e[5],r?y(o,e[5],n,EW):b(e[5]),OW)},i(e){r||(qe(t.$$.fragment,e),qe(s,e),r=!0)},o(e){Ve(t.$$.fragment,e),Ve(s,e),r=!1},d(e){st(t,e),e&&R(n),s&&s.d(e)}}}function LW(e){let t,n;return t=new Tg({props:{path:e[0],firstmatch:e[1],$$slots:{default:[AW,({meta:e})=>({6:e}),({meta:e})=>e?64:0]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const r={};1&n&&(r.path=e[0]),2&n&&(r.firstmatch=e[1]),96&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function NW(e,t,n){let{$$slots:r={},$$scope:o}=t,{path:s}=t,{firstmatch:i=!1}=t;return e.$$set=e=>{"path"in e&&n(0,s=e.path),"firstmatch"in e&&n(1,i=e.firstmatch),"$$scope"in e&&n(5,o=e.$$scope)},[s,i,r,function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},o]}class PW extends at{constructor(e){super(),it(this,e,NW,LW,p,{path:0,firstmatch:1})}}const RW=e=>({meta:2&e,path:2&e}),zW=e=>({meta:e[1].meta,path:e[1].routePath.name});function FW(e,t,n){const r=e.slice();return r[8]=t[n],r}function HW(e,t){let n,r,o;return r=new PW({props:{path:t[8].path,firstmatch:!0}}),r.$on("load",(function(...e){return t[6](t[8],...e)})),r.$on("unload",(function(){return t[7](t[8])})),{key:e,first:null,c(){n=j(),rt(r.$$.fragment),this.first=n},m(e,t){P(e,n,t),ot(r,e,t),o=!0},p(e,n){t=e;const o={};1&n&&(o.path=t[8].path),r.$set(o)},i(e){o||(qe(r.$$.fragment,e),o=!0)},o(e){Ve(r.$$.fragment,e),o=!1},d(e){e&&R(n),st(r,e)}}}function qW(e){let t;const n=e[5].default,r=g(n,e,e[4],zW);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||18&o)&&v(r,n,e,e[4],t?y(n,e[4],o,RW):b(e[4]),zW)},i(e){t||(qe(r,e),t=!0)},o(e){Ve(r,e),t=!1},d(e){r&&r.d(e)}}}function VW(e){let t,n,r,o=[],s=new Map,i=e[0];const a=e=>e[8].name;for(let c=0;c<i.length;c+=1){let t=FW(e,i,c),n=a(t);s.set(n,o[c]=HW(n,t))}let l=e[1]&&qW(e);return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=V(),l&&l.c(),n=j()},m(e,s){for(let t=0;t<o.length;t+=1)o[t].m(e,s);P(e,t,s),l&&l.m(e,s),P(e,n,s),r=!0},p(e,[r]){13&r&&(i=e[0],Fe(),o=Qe(o,r,a,1,e,i,s,t.parentNode,Je,HW,t,FW),He()),e[1]?l?(l.p(e,r),2&r&&qe(l,1)):(l=qW(e),l.c(),qe(l,1),l.m(n.parentNode,n)):l&&(Fe(),Ve(l,1,1,(()=>{l=null})),He())},i(e){if(!r){for(let e=0;e<i.length;e+=1)qe(o[e]);qe(l),r=!0}},o(e){for(let t=0;t<o.length;t+=1)Ve(o[t]);Ve(l),r=!1},d(e){for(let t=0;t<o.length;t+=1)o[t].d(e);e&&R(t),l&&l.d(e),e&&R(n)}}}function jW(e,t,n){let r,{$$slots:o={},$$scope:s}=t,{paths:i}=t;function a(e,t){n(1,r={routePath:e,meta:t})}async function l(e){await Ie(),r?.routePath===e&&n(1,r=void 0)}return e.$$set=e=>{"paths"in e&&n(0,i=e.paths),"$$scope"in e&&n(4,s=e.$$scope)},[i,r,a,l,s,o,(e,t)=>a(e,t.detail),e=>l(e)]}class WW extends at{constructor(e){super(),it(this,e,jW,VW,p,{paths:0})}}function UW(e){let t,n;return t=new Fq({props:{queryManager:e[0],canEditMetadata:e[1]}}),t.$on("close",e[6]),t.$on("delete",e[5]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.queryManager=e[0]),2&n&&(r.canEditMetadata=e[1]),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function YW(e){let t,n,r,o;return document.title=t=hS(e[3].name??"Data Explorer"),r=new rS({props:{fitViewport:!0,$$slots:{default:[UW]},$$scope:{ctx:e}}}),{c(){n=V(),rt(r.$$.fragment)},m(e,t){P(e,n,t),ot(r,e,t),o=!0},p(e,[n]){(!o||8&n)&&t!==(t=hS(e[3].name??"Data Explorer"))&&(document.title=t);const s={};1027&n&&(s.$$scope={dirty:n,ctx:e}),r.$set(s)},i(e){o||(qe(r.$$.fragment,e),o=!0)},o(e){Ve(r.$$.fragment,e),o=!1},d(e){e&&R(n),st(r,e)}}}function BW(e,t,n){let r,o,i,a,l=s;e.$$.on_destroy.push((()=>l()));const c=Uv();f(e,c,(e=>n(9,a=e)));let{database:u}=t,{schema:d}=t,{queryManager:p}=t;return e.$$set=e=>{"database"in e&&n(7,u=e.database),"schema"in e&&n(8,d=e.schema),"queryManager"in e&&n(0,p=e.queryManager)},e.$$.update=()=>{1&e.$$.dirty&&(n(2,({query:r}=p),r),l(),l=$(r,(e=>n(3,i=e)))),896&e.$$.dirty&&n(1,o=a?.hasPermission({database:u,schema:d},"canEditMetadata")??!1)},[p,o,r,i,c,function(){hg.goto(Lg(u.name,d.id))},function(){i.id&&hg.goto(qg(u.name,d.id,i.id))},u,d,a]}class KW extends at{constructor(e){super(),it(this,e,BW,YW,p,{database:7,schema:8,queryManager:0})}}function GW(e){let t,n;return t=new uI({props:{item:{type:"simple",href:Hg(e[0].name,e[1].id),label:"Data Explorer",icon:sf}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};3&n&&(r.item={type:"simple",href:Hg(e[0].name,e[1].id),label:"Data Explorer",icon:sf}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function XW(e){let t,n,r,o;const s=[ZW,JW],i=[];function a(e,t){return e[5].name?0:1}return t=a(e),n=i[t]=s[t](e),{c(){n.c(),r=j()},m(e,n){i[t].m(e,n),P(e,r,n),o=!0},p(e,o){let l=t;t=a(e),t===l?i[t].p(e,o):(Fe(),Ve(i[l],1,1,(()=>{i[l]=null})),He(),n=i[t],n?n.p(e,o):(n=i[t]=s[t](e),n.c()),qe(n,1),n.m(r.parentNode,r))},i(e){o||(qe(n),o=!0)},o(e){Ve(n),o=!1},d(e){i[t].d(e),e&&R(r)}}}function JW(e){let t,n;return t=new uI({props:{item:{type:"simple",href:Vg(e[0].name,e[1].id,e[5].id),label:"Data Explorer",icon:sf}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};35&n&&(r.item={type:"simple",href:Vg(e[0].name,e[1].id,e[5].id),label:"Data Explorer",icon:sf}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function ZW(e){let t,n,r,o;return t=new uI({props:{item:{type:"exploration",database:e[0],schema:e[1],query:{id:e[5].id,name:e[5].name}}}}),r=new uI({props:{item:{type:"simple",href:Vg(e[0].name,e[1].id,e[5].id),label:"Edit",icon:Im}}}),{c(){rt(t.$$.fragment),n=V(),rt(r.$$.fragment)},m(e,s){ot(t,e,s),P(e,n,s),ot(r,e,s),o=!0},p(e,n){const o={};35&n&&(o.item={type:"exploration",database:e[0],schema:e[1],query:{id:e[5].id,name:e[5].name}}),t.$set(o);const s={};35&n&&(s.item={type:"simple",href:Vg(e[0].name,e[1].id,e[5].id),label:"Edit",icon:Im}),r.$set(s)},i(e){o||(qe(t.$$.fragment,e),qe(r.$$.fragment,e),o=!0)},o(e){Ve(t.$$.fragment,e),Ve(r.$$.fragment,e),o=!1},d(e){st(t,e),e&&R(n),st(r,e)}}}function QW(e){let t,n;return t=new cS({props:{$$slots:{default:[tU]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};32768&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function eU(e){let t,n;return t=new KW({props:{queryManager:e[3],database:e[0],schema:e[1]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};8&n&&(r.queryManager=e[3]),1&n&&(r.database=e[0]),2&n&&(r.schema=e[1]),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function tU(e){let t;return{c(){t=q("Exploration not found.")},m(e,n){P(e,t,n)},d(e){e&&R(t)}}}function nU(e){let t,n,r,o,s,i,a;const l=[XW,GW],c=[];function u(e,t){return e[5]?.id?0:1}t=u(e),n=c[t]=l[t](e);const d=[eU,QW],p=[];function $(e,t){return e[3]?0:e[2]?1:-1}return~(o=$(e))&&(s=p[o]=d[o](e)),{c(){n.c(),r=V(),s&&s.c(),i=j()},m(e,n){c[t].m(e,n),P(e,r,n),~o&&p[o].m(e,n),P(e,i,n),a=!0},p(e,[a]){let m=t;t=u(e),t===m?c[t].p(e,a):(Fe(),Ve(c[m],1,1,(()=>{c[m]=null})),He(),n=c[t],n?n.p(e,a):(n=c[t]=l[t](e),n.c()),qe(n,1),n.m(r.parentNode,r));let f=o;o=$(e),o===f?~o&&p[o].p(e,a):(s&&(Fe(),Ve(p[f],1,1,(()=>{p[f]=null})),He()),~o?(s=p[o],s?s.p(e,a):(s=p[o]=d[o](e),s.c()),qe(s,1),s.m(i.parentNode,i)):s=null)},i(e){a||(qe(n),qe(s),a=!0)},o(e){Ve(n),Ve(s),a=!1},d(e){c[t].d(e),e&&R(r),~o&&p[o].d(e),e&&R(i)}}}function rU(e,t,n){let r,o,i,a=s,l=()=>(a(),a=$(y,(e=>n(5,i=e))),y);f(e,hg,(e=>n(8,r=e))),f(e,gM,(e=>n(9,o=e))),e.$$.on_destroy.push((()=>a()));let c,u,{database:d}=t,{schema:p}=t,{queryId:g}=t,h=!1,y=$t(void 0);function v(e){c?.destroy(),n(3,c=new MP({query:new OL(e),abstractTypeMap:o.data,onSave:async e=>{try{const t=Vg(d.name,p.id,e.id);hg.goto(t,!0)}catch(t){console.error("There was an error when updating the URL",t)}}})),l(n(4,y=c.query)),n(2,h=!1)}function b(){c?.destroy(),n(2,h=!0),l(n(4,y=$t(void 0))),n(3,c=void 0)}function w(){if(c&&void 0===c.getQueryModel().id)return;const{hash:e}=r;if(e)try{const t=function(e){const t=JSON.parse(Hq.decode(e));if(!t.baseTable)return;const{baseTable:n}=t;let r=[],o=[];if(!t.terseGrouping?.length||!t.columns)return{base_table:n.id};const s=new Map(t.columns.map((e=>[e.id,e]))),i=t.terseGrouping.filter((e=>s.has(e[0]))),a=i.map((e=>s.get(e[0]))).filter((e=>void 0!==e));if(0===a.length)return{base_table:n.id};const l=a[0],c=i[0][1],u=t.columns.find((e=>!a.includes(e))),d=u?[u]:[];r=[...a,...d].map((e=>({alias:e.name,id:e.id})));const p=a.map(((e,t)=>({input_alias:e.name,output_alias:`${e.name}_grouped`,preproc:0===t?c:void 0}))),$=d.map((e=>({input_alias:e.name,output_alias:`${n.name}_agged`,function:"count"})));o=[{type:"summarize",spec:{base_grouping_column:l.name,grouping_expressions:p,aggregation_expressions:$}}];const m=p.reduce(((e,t)=>({...e,[t.output_alias]:`${t.input_alias} group`})),{}),f=$.reduce(((e,t)=>({...e,[t.output_alias]:`${n.name} count`})),m);return{base_table:n.id,initial_columns:r,transformations:o,display_names:f}}(e);return hg.location.hash.clear(),void v(t??{})}catch{console.error("Unable to create query model from hash",e)}v({})}async function x(e){if(Number.isNaN(e))b();else if(!c||c.getQueryModel().id!==e){u?.cancel(),u=function(e){const t=m(Fh);let n;return t?new lt(((r,o)=>{const s=m(fw(t)),i=s.data.get(e);i?r(i):"success"!==s.requestStatus.state?(n=dh(`/api/db/v0/queries/${e}/`),n.then((e=>r(e)),(e=>o(e)))):o(new Error("Query not found"))}),(()=>{n?.cancel()})):new lt((e=>e()))}(e);try{v(await u)}catch{b()}}}return l(),e.$$set=e=>{"database"in e&&n(0,d=e.database),"schema"in e&&n(1,p=e.schema),"queryId"in e&&n(6,g=e.queryId)},e.$$.update=()=>{var t;64&e.$$.dirty&&((t=g)?x(t):w())},[d,p,h,c,y,i,g]}class oU extends at{constructor(e){super(),it(this,e,rU,nU,p,{database:0,schema:1,queryId:6})}}class sU{constructor(){e(this,"fetched",mt(new dt)),e(this,"bespoke",mt(new dt)),e(this,"combined",void 0),this.combined=ft([this.bespoke,this.fetched],(([e,t])=>Bw(e,t)))}subscribe(e,t){return this.combined.subscribe(e,t)}setFetchedSummaries(e){this.fetched.set(e)}addBespokeRecordSummary({columnId:e,recordId:t,recordSummary:n}){const r=new dt([[e,new dt([[t,n]])]]);this.bespoke.update((e=>Bw(e,r)))}}var iU={exports:{}},aU={exports:{}};!function(e){var t=function(e){var t,n=Object.prototype,r=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",a=o.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(E){l=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var o=t&&t.prototype instanceof g?t:g,s=Object.create(o.prototype),i=new _(r||[]);return s._invoke=function(e,t,n){var r=d;return function(o,s){if(r===$)throw new Error("Generator is already running");if(r===m){if("throw"===o)throw s;return M()}for(n.method=o,n.arg=s;;){var i=n.delegate;if(i){var a=k(i,n);if(a){if(a===f)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===d)throw r=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=$;var l=u(e,t,n);if("normal"===l.type){if(r=n.done?m:p,l.arg===f)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r=m,n.method="throw",n.arg=l.arg)}}}(e,n,i),s}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(E){return{type:"throw",arg:E}}}e.wrap=c;var d="suspendedStart",p="suspendedYield",$="executing",m="completed",f={};function g(){}function h(){}function y(){}var v={};v[s]=function(){return this};var b=Object.getPrototypeOf,w=b&&b(b(T([])));w&&w!==n&&r.call(w,s)&&(v=w);var x=y.prototype=g.prototype=Object.create(v);function S(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function C(e,t){function n(o,s,i,a){var l=u(e[o],e,s);if("throw"!==l.type){var c=l.arg,d=c.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,a)}),(function(e){n("throw",e,i,a)})):t.resolve(d).then((function(e){c.value=e,i(c)}),(function(e){return n("throw",e,i,a)}))}a(l.arg)}var o;this._invoke=function(e,r){function s(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(s,s):s()}}function k(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,k(e,n),"throw"===n.method))return f;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var o=u(r,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,f;var s=o.arg;return s?s.done?(n[e.resultName]=s.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,f):s:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,f)}function D(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(D,this),this.reset(!0)}function T(e){if(e){var n=e[s];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}return{next:M}}function M(){return{value:t,done:!0}}return h.prototype=x.constructor=y,y.constructor=h,h.displayName=l(y,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,l(e,a,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},S(C.prototype),C.prototype[i]=function(){return this},e.AsyncIterator=C,e.async=function(t,n,r,o,s){void 0===s&&(s=Promise);var i=new C(c(t,n,r,o),s);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},S(x),l(x,a,"Generator"),x[s]=function(){return this},x.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=T,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return a.type="throw",a.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var s=this.tryEntries.length-1;s>=0;--s){var i=this.tryEntries[s],a=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(l&&c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var s=o;break}}s&&("break"===e||"continue"===e)&&s.tryLoc<=t&&t<=s.finallyLoc&&(s=null);var i=s?s.completion:{};return i.type=e,i.arg=t,s?(this.method="next",this.next=s.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;I(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:T(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),f}},e}(e.exports);try{regeneratorRuntime=t}catch(n){Function("r","regeneratorRuntime = r")(t)}}(aU),function(e){e.exports=aU.exports}(iU);var lU={},cU={exports:{}};!function(e){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.default=e.exports,e.exports.__esModule=!0}(cU);var uU={exports:{}},dU={exports:{}},pU={exports:{}};!function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.default=e.exports,e.exports.__esModule=!0}(pU),function(e){var t=pU.exports;e.exports=function(e){if(Array.isArray(e))return t(e)},e.exports.default=e.exports,e.exports.__esModule=!0}(dU);var $U={exports:{}};!function(e){e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.default=e.exports,e.exports.__esModule=!0}($U);var mU={exports:{}};!function(e){var t=pU.exports;e.exports=function(e,n){if(e){if("string"==typeof e)return t(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?t(e,n):void 0}},e.exports.default=e.exports,e.exports.__esModule=!0}(mU);var fU={exports:{}};!function(e){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.default=e.exports,e.exports.__esModule=!0}(fU),function(e){var t=dU.exports,n=$U.exports,r=mU.exports,o=fU.exports;e.exports=function(e){return t(e)||n(e)||r(e)||o()},e.exports.default=e.exports,e.exports.__esModule=!0}(uU);var gU={},hU={};hU.notUndefined=function(e){return void 0!==e};var yU=hU.notUndefined;gU.isIterable=function(e){return null!=e&&yU(e[Symbol.iterator])};var vU={};vU.isLoopable=gU.isIterable;var bU={},wU=hU.notUndefined;bU.isWrappable=function(e){return null==e||wU(e[Symbol.iterator])};var xU={},SU=iU.exports,CU=SU.mark(DU),kU=SU.mark(IU);function DU(e){return SU.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.delegateYield(e,"t0",1);case 1:case"end":return t.stop()}}),CU)}function IU(e){return SU.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null==e){t.next=2;break}return t.delegateYield(e,"t0",2);case 2:case"end":return t.stop()}}),kU)}xU.wrap=DU,xU.nullableWrap=IU;var _U={},TU=uU.exports;function MU(e,t){var n=e.fn,r=e.validateArgs,o=e.variadic,s=e.reduces,i=e.growRight,a=e.minArgs,l=e.maxArgs,c=e.isIterable,u=e.iterableType,d=e.applyOnIterableArgs,p=e.IterableClass;if(t.length>a){var $=!0,m=o?t.findIndex((function(e,t){return c(e)&&t>=a})):Math.min(l,t.length-1),f=o?t.length:m+1;if(o)for(var g=m;g<t.length;g++)$=$&&c(t[g]);else $=c(t[m]);if(t.length>l&&(-1===m||!$)){var h=o?"...".concat(u,"s"):u,y="".concat(n.name," takes up to ").concat(l," arguments, followed by ").concat(h,". ")+"You already passed ".concat(t.length," arguments");throw o?new Error("".concat(y," and the following arguments were not all ").concat(u,"s")):new Error("".concat(y," and the last argument was not ").concat(u))}if(m>=0&&$){for(var v=m;v<f;v++)t[v]=d(t[v]);var b=o?t.slice(m):t[m];return t.splice(m),i||t.reverse(),t.unshift(b),r(t),s?n.apply(void 0,TU(t)):new p(n,t)}}return EU(e,t)}function EU(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];if(0===r.length)throw new Error("Cannot make a partial application with no arguments");return r.unshift.apply(r,TU(t)),MU(e,r)}}_U.curry=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.length,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return function(){for(var o=arguments.length,s=new Array(o),i=0;i<o;i++)s[i]=arguments[i];return n<=s.length?t.apply(void 0,TU(r).concat(s)):e(t,n-s.length,[].concat(TU(r),s))}},_U.variadicCurryWithValidation=EU;var OU={},AU=Symbol.for("_");OU._=AU;var LU=Symbol("__iterate");OU.__iterate=LU;var NU=Symbol("split");OU.split=NU;var PU,RU=cU.exports,zU=uU.exports,FU=gU.isIterable,HU=vU.isLoopable,qU=bU.isWrappable,VU=xU.nullableWrap,jU=_U.variadicCurryWithValidation,WU=OU,UU=WU._,YU=WU.__iterate;function BU(e){if(qU(e))return FU(e)?e:VU(e);throw"function"==typeof e.next?new TypeError("iter-tools received a value that looked like an iterator but was not iterable. Get help fixing this: https://github.com/iter-tools/iter-tools/wiki/Making-iterators-iterable"):new TypeError("Expected an iterable, null, or undefined")}function KU(e,t){this[UU]={fn:e,args:t,staticIterator:null}}function GU(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];KU.apply(this,t)}lU.wrap=VU,lU.isIterable=FU,lU.isLoopable=HU,lU.isWrappable=qU,lU.ensureIterable=BU,lU.callReturn=function(e){"return"in e&&e.return()},lU.BaseIterableIterator=KU,Object.assign(KU.prototype,(RU(PU={constructor:KU},YU,(function(){var e=this[UU],t=e.fn,n=e.args;return t.apply(void 0,zU(n))})),RU(PU,"next",(function(){var e=this[UU];return e.staticIterator=e.staticIterator||this[YU](),e.staticIterator.next()})),RU(PU,"return",(function(e){var t=this[UU];return t.staticIterator=t.staticIterator||this[YU](),t.staticIterator.return(e)})),RU(PU,"throw",(function(e){var t=this[UU];return t.staticIterator=t.staticIterator||this[YU](),t.staticIterator.throw(e)})),PU)),lU.IterableIterator=GU,GU.prototype=Object.assign(Object.create(KU.prototype),RU({constructor:GU},Symbol.iterator,(function(){return this[YU]()}))),lU.cache=function(e){return zU(e)},lU.wrapWithIterableIterator=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.validateArgs,r=void 0===n?function(e){return e}:n;return function(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return r(n),new GU(e,n)}};lU.iterableCurry=function(e,t){return jU(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.validateArgs,r=void 0===n?function(e){}:n,o=t.variadic,s=void 0!==o&&o,i=t.reduces,a=void 0!==i&&i,l=t.growRight,c=void 0!==l&&l,u=t.minArgs,d=void 0===u?e.length-1:u,p=t.maxArgs,$=void 0===p?e.length-1:p,m=t.applyOnIterableArgs;return{fn:e,validateArgs:r,variadic:s,reduces:a,growRight:c,minArgs:d,maxArgs:$,isIterable:qU,iterableType:"iterable",applyOnIterableArgs:void 0===m?BU:m,IterableClass:GU}}(e,t))};var XU={},JU=iU.exports,ZU=JU.mark(nY),QU=lU,eY=QU.wrapWithIterableIterator,tY=QU.ensureIterable;function nY(){var e,t,n,r,o,s,i=arguments;return JU.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:for(e=i.length,t=new Array(e),n=0;n<e;n++)t[n]=i[n];r=0,o=t;case 2:if(!(r<o.length)){a.next=8;break}return s=o[r],a.delegateYield(tY(s),"t0",5);case 5:r++,a.next=2;break;case 8:case"end":return a.stop()}}),ZU)}XU.__concat=nY;var rY=eY(nY);XU.concat=rY;var oY={},sY={};function iY(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return aY(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return aY(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,i=!0,a=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){a=!0,s=e},f:function(){try{i||null==n.return||n.return()}finally{if(a)throw s}}}}function aY(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var lY=lU.iterableCurry;function cY(e,t){var n,r=t,o=iY(e);try{for(o.s();!(n=o.n()).done;){r=n.value}}catch(s){o.e(s)}finally{o.f()}return r}sY.__takeLastOr=cY;var uY=lY(cY,{reduces:!0});sY.takeLastOr=uY;var dY=lU.iterableCurry,pY=sY.__takeLastOr;function $Y(e){return pY(e,void 0)}oY.__takeLast=$Y;var mY=dY($Y,{reduces:!0});oY.takeLast=mY;const fY=XU.concat;const gY=oY.takeLast,hY="::";function yY(e,t){return`${String(e)}::${t}`}function vY(e){return e.split(hY).slice(0,-1).join(hY)}function bY(e){return function(e){let t;for(const{state:n}of e){if(n===sh)return n;t=t?ih(n,t):n}return t}(fY(e.cellModificationStatus.values(),e.rowCreationStatus.values(),e.rowDeletionStatus.values()))}function wY(e){return{count:e.count,eqValue:e.eq_value,firstValue:e.first_value,lastValue:e.last_value,resultIndices:e.result_indices}}function xY(e){return"record"in e}function SY(e){return"record"in e&&"isNew"in e&&e.isNew}function CY(e){return"isNewHelpText"in e}function kY(e){return"group"in e}function DY(e){return"isAddPlaceholder"in e}function IY(e){return SY(e)&&!DY(e)}function _Y(e){return xY(e)&&Object.entries(e.record).length>0}function TY(e,t){if(xY(e)&&void 0!==t){const n=e.record[t];if(Mt(n))return String(n)}return e.identifier}function MY(e,t){const n=t.find((e=>e.primary_key));if(!n)throw new Error("No primary key column found.");const r=e[n.id];if("string"!=typeof r&&"number"!=typeof r)throw new Error("Primary key value is not a string or number.");return r}function EY(e,t,n){return`__${t}_${e}_${n}`}function OY(e,t,n){return{record:e,identifier:EY("normal",n,t),rowIndex:t}}class AY{constructor({tableId:t,meta:n,columnsDataStore:r,contextualFilters:o,shareConsumer:s}){e(this,"tableId",void 0),e(this,"url",void 0),e(this,"meta",void 0),e(this,"columnsDataStore",void 0),e(this,"state",void 0),e(this,"savedRecords",void 0),e(this,"savedRecordRowsWithGroupHeaders",void 0),e(this,"newRecords",void 0),e(this,"recordSummaries",new sU),e(this,"grouping",void 0),e(this,"totalCount",void 0),e(this,"error",void 0),e(this,"promise",void 0),e(this,"createPromises",void 0),e(this,"updatePromises",void 0),e(this,"fetchCallback",void 0),e(this,"requestParamsUnsubscriber",void 0),e(this,"contextualFilters",void 0),e(this,"shareConsumer",void 0),this.tableId=t,this.shareConsumer=s,this.state=mt(rh.Loading),this.savedRecordRowsWithGroupHeaders=mt([]),this.newRecords=mt([]),this.savedRecords=ft(this.savedRecordRowsWithGroupHeaders,(e=>e.filter((e=>!kY(e))))),this.grouping=mt(void 0),this.totalCount=mt(void 0),this.error=mt(void 0),this.meta=n,this.columnsDataStore=r,this.contextualFilters=o,this.url=`/api/db/v0/tables/${this.tableId}/records/`,this.fetch(),this.requestParamsUnsubscriber=this.meta.recordsRequestParamsData.subscribe((()=>{this.fetch()}))}async fetch(e=!1){this.promise?.cancel();const{offset:t}=m(this.meta.pagination);this.savedRecordRowsWithGroupHeaders.update((n=>{let r=[...n];r.length=Math.min(r.length,m(this.meta.pagination).size);let o=-1;return r=r.map((n=>(o+=1,e&&n?n:{state:"loading",identifier:EY("dummy",t,o),rowIndex:o,record:{}}))),r})),this.error.set(void 0),e||(this.state.set(rh.Loading),this.newRecords.set([]),this.meta.clearAllStatusesAndErrors());try{const e=m(this.meta.recordsRequestParamsData),o=[...this.contextualFilters].map((([e,t])=>({columnId:e,conditionId:"equal",value:t}))),s=ah({...{...(r={...e,filtering:e.filtering.withEntries(o),shareConsumer:this.shareConsumer}).pagination.recordsRequestParams(),...r.sorting.recordsRequestParamsIncludingGrouping(r.grouping),...r.grouping.recordsRequestParams(),...r.filtering.recordsRequestParams(),...r.searchFuzzy.recordsRequestParams()},...r.shareConsumer?.getQueryParams()});this.promise=dh(`${this.url}?${s}`);const i=await this.promise,a=i.count||0,l=i.grouping?{columnIds:(n=i.grouping).columns,preprocIds:n.preproc??[],mode:n.mode,groups:(n.groups??[]).map(wY)}:void 0;i.preview_data&&this.recordSummaries.setFetchedSummaries(Yw(i.preview_data));const c=function({records:e,offset:t,grouping:n}){if((n?.columnIds??[]).length>0){const r=[];let o=0;return n?.groups.forEach(((s,i)=>{const a={};n.columnIds.forEach((e=>{void 0!==s.eqValue[e]?a[e]=s.eqValue[e]:a[e]=s.firstValue[e]})),r.push({group:s,identifier:EY("groupHeader",t,i),groupValues:a}),s.resultIndices.forEach((n=>{const s=e[n];r.push(OY(s,o,t)),o+=1}))})),r}return e.map(((e,n)=>OY(e,n,t)))}({records:i.results,offset:t,grouping:l}),u={state:rh.Done,savedRecordRowsWithGroupHeaders:c,grouping:l,totalCount:a};return this.savedRecordRowsWithGroupHeaders.set(c),this.state.set(rh.Done),this.grouping.set(l),this.totalCount.set(a),this.error.set(void 0),this.fetchCallback?.(u),u}catch(o){this.state.set(rh.Error),this.error.set(o instanceof Error?o.message:"Unable to load records")}var n,r}async deleteSelected(e){const t=this.getRecordRows(),n=m(this.columnsDataStore.pkColumn),r=[],o=[];e.forEach((e=>{const s=t[e];if(s){const e=TY(s,n?.id);n?.id&&Mt(s.record[n?.id])?r.push(e):o.push(e)}}));const s=[...r,...o];if(0===s.length)return;this.meta.rowDeletionStatus.setMultiple(s,{state:"processing"});const i=new Set,a=new Map;o.length>0&&o.forEach((e=>i.add(e)));const l=r;let c=i.size>0;if(l.length>0){const e=[...l],t=`/api/ui/v0/tables/${this.tableId}/records/delete/`;try{await mh(t,{pks:e}),l.forEach((e=>i.add(e)))}catch(p){a.set(l.join(","),Dl(p))}c=!0}const u=m(this.savedRecords),d=new Set(u.map((e=>TY(e,n?.id))));if(this.newRecords.set([]),c&&await this.fetch(!0),this.meta.rowCreationStatus.delete(Array.from(d,String)),this.meta.clearAllStatusesAndErrorsForRows([...i]),this.meta.rowDeletionStatus.setEntries([...a.entries()].map((([e,t])=>[e,{state:"failure",errors:[t]}]))),this.meta.rowDeletionStatus.clear(),a.size>0){const e=`Unable to delete ${Mb(l,"rows")}.`,t=[...a.values()].join("\n");throw new Error(`${e} ${t}`)}}async updateCell(e,t){const{record:n}=e,r=m(this.columnsDataStore.pkColumn);if(void 0===r)return console.error("Unable to update record for a row without a primary key"),e;const o=n[r.id];if(void 0===o)return console.error("Unable to update record for a row with a missing primary key value"),e;const s=yY(TY(e,r.id),t.id);this.meta.cellModificationStatus.set(s,{state:"processing"}),this.updatePromises?.get(s)?.cancel();const i=$h(`${this.url}${String(o)}/`,{[t.id]:n[t.id]});this.updatePromises||(this.updatePromises=new Map),this.updatePromises.set(s,i);try{const t=await i;return this.meta.cellModificationStatus.set(s,{state:"success"}),{...e,record:t.results[0]}}catch(a){this.meta.cellModificationStatus.set(s,{state:"failure",errors:[`Unable to save cell. ${Dl(a)}`]})}finally{this.updatePromises.get(s)===i&&this.updatePromises.delete(s)}return e}getNewEmptyRecord(){const{offset:e}=m(this.meta.pagination),t=this.getRecordRows(),n=EY("new",e,kt());return{record:Object.fromEntries(m(this.columnsDataStore.columns).filter((e=>null===e.default)).map((e=>[String(e.id),null]))),identifier:n,isNew:!0,rowIndex:t.length}}async createRecord(e){const t=m(this.columnsDataStore.pkColumn),n=m(this.columnsDataStore.columns),r=TY(e,t?.id);if(function({row:e,rowKey:t,columns:n,cellClientSideErrors:r}){n.forEach((n=>{!function({cellValue:e,column:t,cellKey:n,cellClientSideErrors:r}){const o=function(e,t){const n=[];return null!==e||t.nullable||n.push("Cell value cannot be NULL for this column."),void 0!==e||t.default||n.push("This column requires an initial value."),n}(e,t);o.length?r.set(n,o):r.delete(n)}({cellValue:e.record[String(n.id)],column:n,cellKey:yY(t,n.id),cellClientSideErrors:r})}))}({row:e,rowKey:r,columns:n,cellClientSideErrors:this.meta.cellClientSideErrors}),m(this.meta.rowsWithClientSideErrors).has(r))return e;const o=TY(e,t?.id);this.meta.rowCreationStatus.set(o,{state:"processing"}),this.createPromises?.get(o)?.cancel();const s={...Object.fromEntries(this.contextualFilters),...e.record},i=ph(this.url,s);this.createPromises||(this.createPromises=new Map),this.createPromises.set(o,i);try{const n=(await i).results[0];let r={...e,record:n};if(DY(r)){const{isAddPlaceholder:e,...t}=r;r=t}const s=TY(r,t?.id);return this.meta.rowCreationStatus.delete(o),this.meta.rowCreationStatus.set(s,{state:"success"}),this.newRecords.update((t=>t.map((t=>t.identifier===e.identifier?r:t)))),this.totalCount.update((e=>(e??0)+1)),r}catch(a){this.meta.rowCreationStatus.set(o,{state:"failure",errors:[Dl(a)]})}finally{this.createPromises.get(o)===i&&this.createPromises.delete(o)}return e}async createOrUpdateRecord(e,t){const n=m(this.columnsDataStore.pkColumn);let r;return!m(this.newRecords).find((t=>t.identifier===e.identifier))&&DY(e)&&this.newRecords.update((t=>{const{isAddPlaceholder:n,...r}=e;return[...t,r]})),r=n?.id&&SY(e)&&void 0===e.record[n?.id]?await this.createRecord(e):await this.updateCell(e,t),r}async addEmptyRecord(){const e=this.getNewEmptyRecord();this.newRecords.update((t=>t.concat(e))),await this.createRecord(e)}getRecordRows(){return[...m(this.savedRecords),...m(this.newRecords)]}destroy(){this.promise?.cancel(),this.promise=void 0,this.requestParamsUnsubscriber()}}class LY extends ct{constructor({tableId:t,hiddenColumns:n,shareConsumer:r}){var o;super(),e(this,"tableId",void 0),e(this,"promise",void 0),e(this,"api",void 0),e(this,"fetchedColumns",mt([])),e(this,"fetchStatus",mt(void 0)),e(this,"hiddenColumns",void 0),e(this,"columns",void 0),e(this,"pkColumn",void 0),e(this,"shareConsumer",void 0),this.tableId=t,this.shareConsumer=r,this.api=(o=`/api/db/v0/tables/${this.tableId}/columns/`,{get:e=>dh(lh(o,e)),add:e=>ph(o,e),remove:e=>mh(`${o}${e}/`),update:(e,t)=>$h(`${o}${e}/`,t)}),this.hiddenColumns=new ht(n),this.columns=ft([this.fetchedColumns,this.hiddenColumns],(([e,t])=>e.filter((e=>!t.has(e.id))))),this.pkColumn=ft(this.fetchedColumns,(e=>e.find((e=>e.primary_key)))),this.fetch()}async fetch(){try{this.fetchStatus.set({state:"processing"}),this.promise?.cancel(),this.promise=this.api.get({limit:500,...this.shareConsumer?.getQueryParams()});const e=(await this.promise).results;return this.fetchedColumns.set(e),this.fetchStatus.set({state:"success"}),await this.dispatch("columnsFetched",e),e}catch(e){return void this.fetchStatus.set({state:"failure",errors:[Dl(e)]})}finally{this.promise=void 0}}async add(e){const t=await this.api.add(e);return await this.dispatch("columnAdded",t),await this.fetch(),t}async rename(e,t){await this.api.update(e,{name:t}),await this.dispatch("columnRenamed",e)}async setNullabilityOfColumn(e,t){if(e.primary_key)throw new Error(`Column "${e.name}" cannot allow NULL because it is a primary key.`);await this.api.update(e.id,{nullable:t}),await this.fetch()}async patch(e,t){const n=await this.api.update(e,{...t});return await this.fetch(),await this.dispatch("columnPatched",n),n}destroy(){this.promise?.cancel(),this.promise=void 0,super.destroy()}async deleteColumn(e){await this.api.remove(e),await this.dispatch("columnDeleted",e),await this.fetch()}}function NY(e){const t=[{column_id:[e.columnId]}];return void 0!==e.value&&t.push({literal:[e.value]}),{[e.conditionId]:t}}function PY(e){return[e.columnId,e.conditionId,e.value]}function RY(e){return{columnId:e[0],conditionId:e[1],value:e[2]}}const zY=["and","or"],FY=zY[0];class HY{constructor({combination:t,entries:n}={}){e(this,"combination",void 0),e(this,"entries",void 0),this.combination=t??FY,this.entries=n??[]}withEntries(e){return new HY({combination:this.combination,entries:[...this.entries,...e]})}withEntry(e){return this.withEntries([e])}withoutEntry(e){return new HY({combination:this.combination,entries:[...this.entries.slice(0,e),...this.entries.slice(e+1)]})}withoutColumns(e){return new HY({combination:this.combination,entries:this.entries.filter((t=>!e.includes(t.columnId)))})}withCombination(e){return new HY({combination:e,entries:this.entries})}equals(e){if(this.entries.length!==e.entries.length||this.combination!==e.combination)return!1;for(let t=0;t<e.entries.length;t+=1){const n=this.entries[t],r=e.entries[t];if(n.columnId!==r.columnId||n.conditionId!==r.conditionId||n.value!==r.value)return!1}return!0}recordsRequestParams(){if(!this.entries.length)return{};const e=this.entries.map(NY);if(1===e.length)return{filter:e[0]};return{filter:"and"===this.combination?{and:e}:{or:e}}}terse(){return[this.combination,this.entries.map(PY)]}static fromTerse(e){return new HY({combination:zY.find((t=>t===e[0]))??FY,entries:e[1].map(RY)})}}class qY{constructor({entries:t}={}){e(this,"entries",void 0),this.entries=t??[]}hasColumn(e){return this.entries.some((t=>t.columnId===e))}withEntry(e){return new qY({entries:[...this.entries,e]})}withReplacedEntry(e,t){return new qY({entries:this.entries.map(((n,r)=>r===e?t:n))})}withoutEntry(e){return new qY({entries:[...this.entries.slice(0,e),...this.entries.slice(e+1)]})}withoutColumns(e){return new qY({entries:this.entries.filter((t=>!e.includes(t.columnId)))})}withPreprocForColumn(e,t){return new qY({entries:this.entries.map((n=>n.columnId===e?{columnId:e,preprocFnId:t}:n))})}recordsRequestParams(){if(!this.entries.length)return{};const e={columns:[],preproc:[]};return this.entries.forEach((t=>{e.columns.push(t.columnId),e.preproc?.push(t.preprocFnId??null)})),e.preproc?.every((e=>!Mt(e)))&&(e.preproc=null),{grouping:e}}terse(){return this.entries.map((e=>e.preprocFnId?[e.columnId,e.preprocFnId]:[e.columnId]))}static fromTerse(e){return new qY({entries:e.map((e=>({columnId:e[0],preprocFnId:e[1]??void 0})))})}}const VY=new Map([["ASCENDING","asc"],["DESCENDING","desc"]]);function jY(e){const t=VY.get(e);if(!t)throw new Error(`Invalid sort direction: ${e}`);return t}class WY extends dt{constructor(e=[]){[...e].forEach((([,e])=>{if(!function(e){return uF.includes(e)}(e))throw new Error(`Invalid sort direction: ${e}`)})),super(e)}recordsRequestParams(){const e=[...this].map((([e,t])=>({field:e,direction:jY(t)})));return e.length?{order_by:e}:{}}recordsRequestParamsIncludingGrouping(e){const t=new WY(e.entries.map((e=>[e.columnId,"ASCENDING"])));return t.withEntries(this).recordsRequestParams()}terse(){return[...this].map((([e,t])=>[e,t]))}static fromTerse(e){return new WY(e.map((([e,t])=>[e,t])))}}function UY(e){return"string"==typeof e?e.trim().length>0:null!=e}class YY extends dt{constructor(e=[]){super(e),this.valueIsValid=UY}recordsRequestParams(){return 0===this.size?{}:{search_fuzzy:[...this].map((([e,t])=>({field:e,literal:t})))}}}function BY(e){return{pagination:e?.pagination??new FL,sorting:e?.sorting??new WY,grouping:e?.grouping??new qY,filtering:e?.filtering??new HY}}function KY(e){return Hq.encode(JSON.stringify(function(e){const t=BY(e);return[t.pagination.terse(),t.sorting.terse(),t.grouping.terse(),t.filtering.terse()]}(e)))}function GY(e){return t=JSON.parse(Hq.decode(e)),{pagination:FL.fromTerse(t[0]),sorting:WY.fromTerse(t[1]),grouping:qY.fromTerse(t[2]),filtering:HY.fromTerse(t[3])};var t}const XY=KY(BY());class JY{constructor(t){e(this,"pagination",void 0),e(this,"sorting",void 0),e(this,"grouping",void 0),e(this,"filtering",void 0),e(this,"searchFuzzy",void 0),e(this,"cellClientSideErrors",new gt),e(this,"rowsWithClientSideErrors",void 0),e(this,"cellModificationStatus",new gt),e(this,"rowDeletionStatus",new gt),e(this,"rowCreationStatus",new gt),e(this,"rowStatus",void 0),e(this,"sheetState",void 0),e(this,"serialization",void 0),e(this,"recordsRequestParamsData",void 0);const n=BY(t);this.pagination=mt(n.pagination),this.sorting=mt(n.sorting),this.grouping=mt(n.grouping),this.filtering=mt(n.filtering),this.searchFuzzy=mt(new YY),this.rowsWithClientSideErrors=ft(this.cellClientSideErrors,(e=>new ut([...e.keys()].map(vY)))),this.rowStatus=ft([this.cellClientSideErrors,this.cellModificationStatus,this.rowDeletionStatus,this.rowCreationStatus],(([e,t,n,r])=>function({cellClientSideErrors:e,cellModificationStatus:t,rowCreationStatus:n,rowDeletionStatus:r}){const o=[...e.keys()].map(vY),s=[...t].reduce(((e,[t,n])=>"failure"===n.state?e.with(vY(t)):e),new ut),i=new dt([...o,...s].map((e=>[e,{errorsFromWholeRowAndCells:["This row contains a cell with an error."]}]))),a=n.withEntries(r).mapValues((e=>({wholeRowState:e.state,errorsFromWholeRowAndCells:"failure"===e.state?e.errors:[]})));return i.withEntries(a,(function(e,t){return{wholeRowState:e.wholeRowState??t.wholeRowState,errorsFromWholeRowAndCells:[...e.errorsFromWholeRowAndCells??[],...t.errorsFromWholeRowAndCells??[]]}})).mapValues((function(e){return{errorsFromWholeRowAndCells:[],...e}}))}({cellClientSideErrors:e,cellModificationStatus:t,rowDeletionStatus:n,rowCreationStatus:r}))),this.sheetState=ft([this.cellModificationStatus,this.rowDeletionStatus,this.rowCreationStatus],(([e,t,n])=>bY({cellModificationStatus:e,rowDeletionStatus:t,rowCreationStatus:n}))),this.serialization=ft([this.pagination,this.sorting,this.grouping,this.filtering],(([e,t,n,r])=>{const o=KY({pagination:e,sorting:t,grouping:n,filtering:r});return o===XY?"":o})),this.recordsRequestParamsData=ft([this.pagination,this.sorting,this.grouping,this.filtering,this.searchFuzzy],(([e,t,n,r,o])=>({pagination:e,sorting:t,grouping:n,filtering:r,searchFuzzy:o})))}clearAllStatusesAndErrorsForRows(e){this.rowCreationStatus.delete(e),this.rowDeletionStatus.delete(e);const t=new Set(e);this.cellClientSideErrors.delete([...this.cellClientSideErrors.getKeys()].filter((([e])=>t.has(vY(e))))),this.cellModificationStatus.delete([...this.cellModificationStatus.getKeys()].filter((([e])=>t.has(vY(e)))))}clearAllStatusesAndErrors(){this.rowCreationStatus.clear(),this.rowDeletionStatus.clear(),this.cellClientSideErrors.clear(),this.cellModificationStatus.clear()}static fromSerialization(e){try{return new JY(GY(e))}catch(t){return}}}class ZY{constructor(t,n,r){e(this,"meta",void 0),e(this,"columnsDataStore",void 0),e(this,"recordsData",void 0),e(this,"scrollOffset",void 0),e(this,"horizontalScrollOffset",void 0),e(this,"isTableInspectorVisible",void 0),e(this,"customizedColumnWidths",void 0),e(this,"columnPlacements",void 0),e(this,"rowWidth",void 0),e(this,"displayableRecords",void 0),this.meta=t,this.columnsDataStore=n,this.recordsData=r,this.horizontalScrollOffset=mt(0),this.scrollOffset=mt(0),this.isTableInspectorVisible=mt(!0),this.customizedColumnWidths=new gt,this.columnPlacements=ft([this.columnsDataStore.columns,this.customizedColumnWidths],(([e,t])=>{let n=0;const r=new Map;return e.forEach((({id:e})=>{const o=t.get(e)??160;r.set(e,{width:o,left:n}),n+=o})),r})),this.rowWidth=ft(this.columnPlacements,(e=>[...e.values()].reduce(((e,t)=>e+t.width),0)));const{savedRecordRowsWithGroupHeaders:o,newRecords:s}=this.recordsData;this.displayableRecords=ft([o,s],(([e,t])=>{let n=e;const r=n.filter((e=>xY(e)));return t.length>0&&(n=n.concat({identifier:"__new_help_text",isNewHelpText:!0}).concat(t)),n=n.concat({...this.recordsData.getNewEmptyRecord(),rowIndex:r.length+t.length,isAddPlaceholder:!0}),n}))}}class QY{constructor({tableId:t,shareConsumer:n}){var r;e(this,"tableId",void 0),e(this,"store",void 0),e(this,"promise",void 0),e(this,"api",void 0),e(this,"shareConsumer",void 0),e(this,"uniqueColumns",void 0),this.tableId=t,this.shareConsumer=n,this.store=mt({state:rh.Loading,constraints:[]}),this.uniqueColumns=ft(this.store,(({constraints:e})=>new Set(e.filter((e=>"unique"===e.type&&1===e.columns.length)).map((e=>e.columns[0]))))),this.api=(r=`/api/db/v0/tables/${this.tableId}/constraints/`,{get:e=>dh(lh(r,e)),add:e=>ph(r,e),remove:e=>mh(`${r}${e}/`)}),this.fetch()}set(e){this.store.set(e)}update(e){this.store.update(e)}subscribe(e){return this.store.subscribe(e)}get(){return m(this.store)}async fetch(){this.update((e=>({...e,state:rh.Loading})));try{this.promise?.cancel(),this.promise=this.api.get({limit:500,...this.shareConsumer?.getQueryParams()});const e=await this.promise,t={state:rh.Done,constraints:e.results};return this.set(t),t}catch(e){this.set({state:rh.Error,error:e instanceof Error?e.message:void 0,constraints:[]})}finally{this.promise=void 0}}async add(e){const t=await this.api.add(e);return await this.fetch(),t}async remove(e){await this.api.remove(e),await this.fetch()}async setUniquenessOfColumn(e,t){if(e.primary_key){if(!t)throw new Error(`Column "${e.name}" must remain unique because it is a primary key.`);return}if(t===m(this.uniqueColumns).has(e.id))return;if(t)return void(await this.add({type:"unique",columns:[e.id]}));const{constraints:n}=m(this.store),r=function(e,t){return e.filter((function(e){return e.columns.length===t.length&&e.columns.every((e=>t.includes(e)))}))}(n,[e.id]).filter((e=>"unique"===e.type));await Promise.all(r.map((e=>this.api.remove(e.id)))),await this.fetch()}destroy(){this.promise?.cancel(),this.promise=void 0}}function eB(e){return"foreignkey"===e.type}function tB({tableId:e,column:t,columnIndex:n,constraints:r,abstractTypeMap:o,hasEnhancedPrimaryKeyCell:s}){const i=iM(t.type,o),a=r.filter((e=>e.columns.includes(t.id))),l=a.filter((e=>1===e.columns.length)),c=a.filter((e=>1!==e.columns.length)),u=function(e,t){return e.filter(eB).filter((e=>1===e.columns.length&&e.columns.includes(t)))}(l,t.id)[0],d=(s??!0)&&t.primary_key,p=u?u.referent_table:void 0;return{id:t.id,column:t,columnIndex:n,exclusiveConstraints:l,sharedConstraints:c,linkFk:u,abstractType:i,initialInputValue:nL(t,void 0,i.cellInfo),cellComponentAndProps:eL({cellInfo:i.cellInfo,column:t,fkTargetTableId:p,pkTargetTableId:d?e:void 0}),inputComponentAndProps:tL(t,p,i.cellInfo),allowedFiltersMap:mL(i.identifier,u),preprocFunctions:TM(i.identifier),formatCellValue:rL(t,t.id)}}class nB{constructor(t){e(this,"id",void 0),e(this,"meta",void 0),e(this,"columnsDataStore",void 0),e(this,"processedColumns",void 0),e(this,"constraintsDataStore",void 0),e(this,"recordsData",void 0),e(this,"display",void 0),e(this,"isLoading",void 0),e(this,"selection",void 0),e(this,"table",void 0),e(this,"shareConsumer",void 0);const n=t.contextualFilters??new Map;this.id=t.id,this.meta=t.meta??new JY,this.shareConsumer=t.shareConsumer,this.columnsDataStore=new LY({tableId:this.id,hiddenColumns:n.keys(),shareConsumer:this.shareConsumer}),this.constraintsDataStore=new QY({tableId:this.id,shareConsumer:this.shareConsumer}),this.recordsData=new AY({tableId:this.id,meta:this.meta,columnsDataStore:this.columnsDataStore,contextualFilters:n,shareConsumer:this.shareConsumer}),this.display=new ZY(this.meta,this.columnsDataStore,this.recordsData),this.processedColumns=ft([this.columnsDataStore.columns,this.constraintsDataStore],(([e,n])=>new Map(e.map(((e,r)=>[e.id,tB({tableId:this.id,column:e,columnIndex:r,constraints:n.constraints,abstractTypeMap:t.abstractTypesMap,hasEnhancedPrimaryKeyCell:t.hasEnhancedPrimaryKeyCell})]))))),this.table=t.table,this.selection=new kP({getColumns:()=>[...m(this.processedColumns).values()],getColumnOrder:()=>av([...m(this.processedColumns).values()],this.table),getRows:()=>this.recordsData.getRecordRows(),getMaxSelectionRowIndex:()=>{const e=m(this.recordsData.totalCount)??0,t=m(this.recordsData.savedRecords),n=m(this.recordsData.newRecords),r=m(this.meta.pagination),{offset:o}=r,s=r.size;return Math.min(s,e-o,t.length)+n.length}}),this.isLoading=ft([this.columnsDataStore.fetchStatus,this.constraintsDataStore,this.recordsData.state],(([e,t,n])=>"processing"===e?.state||t.state===rh.Loading||n===rh.Loading)),this.columnsDataStore.on("columnRenamed",(async()=>{await this.refresh()})),this.columnsDataStore.on("columnAdded",(async()=>{await this.recordsData.fetch()})),this.columnsDataStore.on("columnDeleted",(async e=>{this.meta.sorting.update((t=>t.without(e))),this.meta.grouping.update((t=>t.withoutColumns([e]))),this.meta.filtering.update((t=>t.withoutColumns([e]))),await this.constraintsDataStore.fetch()})),this.columnsDataStore.on("columnPatched",(async()=>{await this.recordsData.fetch()}))}refresh(){return Promise.all([this.columnsDataStore.fetch(),this.recordsData.fetch(),this.constraintsDataStore.fetch()])}refreshAfterColumnExtraction(e,t){return this.meta.sorting.update((n=>{const r=e.find((e=>n.has(e)));if(r&&t&&!n.has(t)){const o=n.get(r);return n.without(e).with(t,o??"ASCENDING")}return n.without(e)})),this.meta.filtering.update((t=>t.withoutColumns(e))),this.meta.grouping.update((n=>e.some((e=>n.hasColumn(e)))&&t&&!n.hasColumn(t)?n.withoutColumns(e).withEntry({columnId:t}):n.withoutColumns(e))),this.refresh()}destroy(){this.recordsData.destroy(),this.constraintsDataStore.destroy(),this.columnsDataStore.destroy(),this.selection.destroy()}}const rB={};function oB(e){const t=mt(e);return ge(rB,t),t}function sB(){return he(rB)}class iB{constructor(t){e(this,"id",void 0),e(this,"columnsDataStore",void 0),e(this,"constraintsDataStore",void 0),e(this,"processedColumns",void 0),e(this,"isLoading",void 0),this.id=t.id,this.columnsDataStore=new LY({tableId:this.id}),this.constraintsDataStore=new QY({tableId:this.id}),this.processedColumns=ft([this.columnsDataStore.columns,this.constraintsDataStore],(([e,n])=>new Map(e.map(((e,r)=>[e.id,tB({tableId:this.id,column:e,columnIndex:r,constraints:n.constraints,abstractTypeMap:t.abstractTypesMap})]))))),this.isLoading=ft([this.columnsDataStore.fetchStatus,this.constraintsDataStore],(([e,t])=>"processing"===e?.state||t.state===rh.Loading))}refresh(){return Promise.all([this.columnsDataStore.fetch(),this.constraintsDataStore.fetch()])}destroy(){this.constraintsDataStore.destroy(),this.columnsDataStore.destroy()}}function aB(e,t,n){let r,o,i,a,l,c,u,d,p,m,g,h,y,v,b,w,x,S,C=s,k=s,D=s,I=s,_=s,T=s,M=s;e.$$.on_destroy.push((()=>C())),e.$$.on_destroy.push((()=>k())),e.$$.on_destroy.push((()=>D())),e.$$.on_destroy.push((()=>I())),e.$$.on_destroy.push((()=>_())),e.$$.on_destroy.push((()=>T())),e.$$.on_destroy.push((()=>M()));const E=sB();f(e,E,(e=>n(22,S=e)));let O,A,L,N,{api:P}=t;var R;R=()=>{n(9,O=x),n(10,A=w),n(11,L=v),n(12,N=b)},de().$$.before_update.push(R);let z,F,H=0,q=0;return e.$$set=e=>{"api"in e&&n(8,P=e.api)},e.$$.update=()=>{4194304&e.$$.dirty&&n(15,({recordsData:r,display:o,meta:i}=S),r,(n(13,o),n(22,S)),(n(14,i),n(22,S))),32768&e.$$.dirty&&(n(6,({newRecords:a,state:l}=r),a,(n(5,l),k(),k=$(l,(e=>n(17,h=e))),l)),D(),D=$(a,(e=>n(27,y=e)))),16384&e.$$.dirty&&(n(4,({sorting:c,filtering:u,grouping:d,pagination:p}=i),c,(n(3,u),T(),T=$(u,(e=>n(20,w=e))),u),(n(2,d),I(),I=$(d,(e=>n(18,v=e))),d),(n(1,p),_(),_=$(p,(e=>n(19,b=e))),p)),M(),M=$(c,(e=>n(21,x=e)))),8192&e.$$.dirty&&(n(0,({displayableRecords:m}=o),m),C(),C=$(m,(e=>n(16,g=e)))),3940096&e.$$.dirty&&(O===x&&A===w&&L===v&&N===b||P.scrollToTop()),196608&e.$$.dirty&&async function(e,t){if(z!==v||v.entries.length>0&&F!==e)return await Ie(),P.recalculateHeightsAfterIndex(0),z=v,void(F=e);const n=t.length??0,r=y.length??0;if(H!==r){const e=Math.max(q-H-3,0);await Ie(),H<r&&P.scrollToBottom(),H=r,q=n,P.recalculateHeightsAfterIndex(e)}}(h,g)},[m,p,d,u,c,l,a,E,P,O,A,L,N,o,i,r,g,h,v,b,w,x,S]}class lB extends at{constructor(e){super(),it(this,e,aB,null,p,{api:8})}}function cB(e){let t,n,r,o=[{class:"new-record-message"},e[1],{style:r=e[2]+";min-width:400px;"}],s={};for(let i=0;i<o.length;i+=1)s=a(s,o[i]);return{c(){t=F("div"),n=q("New records will be repositioned on refresh"),K(t,s),te(t,"svelte-1omvatk",!0)},m(e,r){P(e,t,r),A(t,n)},p(e,n){K(t,s=et(o,[{class:"new-record-message"},2&n&&e[1],4&n&&r!==(r=e[2]+";min-width:400px;")&&{style:r}])),te(t,"svelte-1omvatk",!0)},d(e){e&&R(t)}}}function uB(e){let t,n;return t=new sN({props:{index:0,columnSpan:e[0]+1,$$slots:{default:[cB,({htmlAttributes:e,style:t})=>({1:e,2:t}),({htmlAttributes:e,style:t})=>(e?2:0)|(t?4:0)]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const r={};1&n&&(r.columnSpan=e[0]+1),14&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function dB(e,t,n){let{columnCount:r}=t;return e.$$set=e=>{"columnCount"in e&&n(0,r=e.columnCount)},[r]}class pB extends at{constructor(e){super(),it(this,e,dB,uB,p,{columnCount:0})}}function $B(e){let t,n;return{c(){t=F("span"),n=q(e[2]),B(t,"class","preproc svelte-11781fh")},m(e,r){P(e,t,r),A(t,n)},p(e,t){4&t&&X(n,e[2])},d(e){e&&R(t)}}}function mB(e){let t,n;return t=new QM({props:{value:e[3]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};8&n&&(r.value=e[3]),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function fB(e){let t,n;return t=new MA({props:{recordSummary:e[6],recordId:e[4],recordPageHref:e[5]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};64&n&&(r.recordSummary=e[6]),16&n&&(r.recordId=e[4]),32&n&&(r.recordPageHref=e[5]),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function gB(e){let t,n,r,o,s,i,a,l,c,u=(e[0].get(e[1])?.column.name??"")+"",d=e[2]&&$B(e);const p=[fB,mB],$=[];function m(e,t){return e[6]?0:1}return a=m(e),l=$[a]=p[a](e),{c(){t=F("span"),n=F("span"),r=q(u),o=V(),d&&d.c(),s=V(),i=F("span"),l.c(),B(n,"class","name svelte-11781fh"),B(i,"class","value svelte-11781fh"),B(t,"class","tag svelte-11781fh")},m(e,l){P(e,t,l),A(t,n),A(n,r),A(n,o),d&&d.m(n,null),A(t,s),A(t,i),$[a].m(i,null),c=!0},p(e,[t]){(!c||3&t)&&u!==(u=(e[0].get(e[1])?.column.name??"")+"")&&X(r,u),e[2]?d?d.p(e,t):(d=$B(e),d.c(),d.m(n,null)):d&&(d.d(1),d=null);let o=a;a=m(e),a===o?$[a].p(e,t):(Fe(),Ve($[o],1,1,(()=>{$[o]=null})),He(),l=$[a],l?l.p(e,t):(l=$[a]=p[a](e),l.c()),qe(l,1),l.m(i,null))},i(e){c||(qe(l),c=!0)},o(e){Ve(l),c=!1},d(e){e&&R(t),d&&d.d(),$[a].d()}}}function hB(e,t,n){let r,o,s,i;f(e,FA,(e=>n(8,i=e)));let{processedColumnsMap:a}=t,{recordSummariesForSheet:l}=t,{columnId:c}=t,{preprocName:u}=t,{cellValue:d}=t;return e.$$set=e=>{"processedColumnsMap"in e&&n(0,a=e.processedColumnsMap),"recordSummariesForSheet"in e&&n(7,l=e.recordSummariesForSheet),"columnId"in e&&n(1,c=e.columnId),"preprocName"in e&&n(2,u=e.preprocName),"cellValue"in e&&n(3,d=e.cellValue)},e.$$.update=()=>{8&e.$$.dirty&&n(4,r=String(d)),146&e.$$.dirty&&n(6,o=l.get(String(c))?.get(r)),275&e.$$.dirty&&n(5,s=i({tableId:a?.get(c)?.linkFk?.referent_table,recordId:r}))},[a,c,u,d,r,s,o,l,i]}class yB extends at{constructor(e){super(),it(this,e,hB,gB,p,{processedColumnsMap:0,recordSummariesForSheet:7,columnId:1,preprocName:2,cellValue:3})}}function vB(e,t,n){const r=e.slice();return r[11]=t[n],r[13]=n,r}function bB(e,t){let n,r,o;return r=new yB({props:{processedColumnsMap:t[0],cellValue:t[1].groupValues?t[1].groupValues[t[11]]:void 0,recordSummariesForSheet:t[3],columnId:t[11],preprocName:t[5][t[13]]}}),{key:e,first:null,c(){n=j(),rt(r.$$.fragment),this.first=n},m(e,t){P(e,n,t),ot(r,e,t),o=!0},p(e,n){t=e;const o={};1&n&&(o.processedColumnsMap=t[0]),18&n&&(o.cellValue=t[1].groupValues?t[1].groupValues[t[11]]:void 0),8&n&&(o.recordSummariesForSheet=t[3]),16&n&&(o.columnId=t[11]),48&n&&(o.preprocName=t[5][t[13]]),r.$set(o)},i(e){o||(qe(r.$$.fragment,e),o=!0)},o(e){Ve(r.$$.fragment,e),o=!1},d(e){e&&R(n),st(r,e)}}}function wB(e){let t,n=e[2].count+"";return{c(){t=q(n)},m(e,n){P(e,t,n)},p(e,r){4&r&&n!==(n=e[2].count+"")&&X(t,n)},d(e){e&&R(t)}}}function xB(e){let t,n,r,o,s,i,l,c,u,d=[],p=new Map;n=new rE({props:{color:"var(--sand-200)"}});let $=e[4];const m=e=>e[11];for(let a=0;a<$.length;a+=1){let t=vB(e,$,a),n=m(t);p.set(n,d[a]=bB(n,t))}l=new fn({props:{$$slots:{default:[wB]},$$scope:{ctx:e}}});let f=[e[9],{style:c=e[10]},{class:"group-header"}],g={};for(let h=0;h<f.length;h+=1)g=a(g,f[h]);return{c(){t=F("div"),rt(n.$$.fragment),r=V(),o=F("div");for(let e=0;e<d.length;e+=1)d[e].c();s=V(),i=F("div"),rt(l.$$.fragment),B(i,"class","count-container svelte-178oaf1"),B(o,"class","groups-data svelte-178oaf1"),K(t,g),te(t,"svelte-178oaf1",!0)},m(e,a){P(e,t,a),ot(n,t,null),A(t,r),A(t,o);for(let t=0;t<d.length;t+=1)d[t].m(o,null);A(o,s),A(o,i),ot(l,i,null),u=!0},p(e,n){59&n&&($=e[4],Fe(),d=Qe(d,n,m,1,e,$,p,o,Je,bB,s,vB),He());const r={};16388&n&&(r.$$scope={dirty:n,ctx:e}),l.$set(r),K(t,g=et(f,[512&n&&e[9],(!u||1024&n&&c!==(c=e[10]))&&{style:c},{class:"group-header"}])),te(t,"svelte-178oaf1",!0)},i(e){if(!u){qe(n.$$.fragment,e);for(let e=0;e<$.length;e+=1)qe(d[e]);qe(l.$$.fragment,e),u=!0}},o(e){Ve(n.$$.fragment,e);for(let t=0;t<d.length;t+=1)Ve(d[t]);Ve(l.$$.fragment,e),u=!1},d(e){e&&R(t),st(n);for(let t=0;t<d.length;t+=1)d[t].d();st(l)}}}function SB(e){let t,n;return t=new sN({props:{index:0,columnSpan:e[0].size+1,$$slots:{default:[xB,({htmlAttributes:e,style:t})=>({9:e,10:t}),({htmlAttributes:e,style:t})=>(e?512:0)|(t?1024:0)]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const r={};1&n&&(r.columnSpan=e[0].size+1),17983&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function CB(e,t,n){let r,o,s,i,{processedColumnsMap:a}=t,{row:l}=t,{grouping:c}=t,{group:u}=t,{recordSummariesForSheet:d}=t;return e.$$set=e=>{"processedColumnsMap"in e&&n(0,a=e.processedColumnsMap),"row"in e&&n(1,l=e.row),"grouping"in e&&n(6,c=e.grouping),"group"in e&&n(2,u=e.group),"recordSummariesForSheet"in e&&n(3,d=e.recordSummariesForSheet)},e.$$.update=()=>{64&e.$$.dirty&&n(4,({columnIds:r,preprocIds:o}=c),r,(n(8,o),n(6,c))),17&e.$$.dirty&&n(7,s=r.map((e=>a.get(e)?.preprocFunctions??[]))),384&e.$$.dirty&&n(5,i=o.map(((e,t)=>e?s[t].find((t=>t.id===e))?.name:void 0)))},[a,l,u,d,r,i,c,s,o]}class kB extends at{constructor(e){super(),it(this,e,CB,SB,p,{processedColumnsMap:0,row:1,grouping:6,group:2,recordSummariesForSheet:3})}}function DB(e){let t,n,r,o,s,i,a,l;return t=new rE({props:{when:e[0],color:"var(--cell-bg-color-row-selected)"}}),r=new rE({props:{when:e[1],color:"var(--cell-bg-color-processing)"}}),s=new rE({props:{when:e[2],color:"var(--cell-bg-color-error)"}}),a=new rE({props:{class:"cell-bg-row-hover",color:"var(--cell-bg-color-row-hover, var(--cell-bg-color-base, white))"}}),{c(){rt(t.$$.fragment),n=V(),rt(r.$$.fragment),o=V(),rt(s.$$.fragment),i=V(),rt(a.$$.fragment)},m(e,c){ot(t,e,c),P(e,n,c),ot(r,e,c),P(e,o,c),ot(s,e,c),P(e,i,c),ot(a,e,c),l=!0},p(e,[n]){const o={};1&n&&(o.when=e[0]),t.$set(o);const i={};2&n&&(i.when=e[1]),r.$set(i);const a={};4&n&&(a.when=e[2]),s.$set(a)},i(e){l||(qe(t.$$.fragment,e),qe(r.$$.fragment,e),qe(s.$$.fragment,e),qe(a.$$.fragment,e),l=!0)},o(e){Ve(t.$$.fragment,e),Ve(r.$$.fragment,e),Ve(s.$$.fragment,e),Ve(a.$$.fragment,e),l=!1},d(e){st(t,e),e&&R(n),st(r,e),e&&R(o),st(s,e),e&&R(i),st(a,e)}}}function IB(e,t,n){let{isSelected:r=!1}=t,{isProcessing:o=!1}=t,{hasErrors:s=!1}=t;return e.$$set=e=>{"isSelected"in e&&n(0,r=e.isSelected),"isProcessing"in e&&n(1,o=e.isProcessing),"hasErrors"in e&&n(2,s=e.hasErrors)},[r,o,s]}class _B extends at{constructor(e){super(),it(this,e,IB,DB,p,{isSelected:0,isProcessing:1,hasErrors:2})}}function TB(e){let t,n,r,o,s,i=e[0].join(" ")+"";return{c(){t=F("div"),n=q(i),B(t,"class","errors svelte-1sujiaa")},m(i,a){P(i,t,a),A(t,n),o||(s=[D(on.call(null,t)),D(r=rn.call(null,t,{reference:e[3],options:{placement:"top-start"}}))],o=!0)},p(e,t){1&t&&i!==(i=e[0].join(" ")+"")&&X(n,i),r&&d(r.update)&&8&t&&r.update.call(null,{reference:e[3],options:{placement:"top-start"}})},d(e){e&&R(t),o=!1,u(s)}}}function MB(e){let t,n,r,o,i=e[3]&&e[2]&&TB(e);return{c(){t=H("svg"),n=H("path"),r=V(),i&&i.c(),o=j(),B(n,"d","M 0 0 L 10 0 L 10 10 Z"),B(n,"class","svelte-1sujiaa"),B(t,"class","error-indicator svelte-1sujiaa"),B(t,"viewBox","0 0 10 10")},m(s,a){P(s,t,a),A(t,n),e[6](t),P(s,r,a),i&&i.m(s,a),P(s,o,a)},p(e,[t]){e[3]&&e[2]?i?i.p(e,t):(i=TB(e),i.c(),i.m(o.parentNode,o)):i&&(i.d(1),i=null)},i:s,o:s,d(n){n&&R(t),e[6](null),n&&R(r),i&&i.d(n),n&&R(o)}}}function EB(e,t,n){let r,o,s,{errors:i}=t,{forceShowErrors:a=!1}=t,l=!1;function c(){n(5,l=!0)}function u(){n(5,l=!1)}return pe((()=>{const e=s?.parentElement;return e?(e.addEventListener("mouseenter",c),e.addEventListener("mouseleave",u),()=>{e.removeEventListener("mouseenter",c),e.removeEventListener("mouseleave",u)}):()=>{}})),e.$$set=e=>{"errors"in e&&n(0,i=e.errors),"forceShowErrors"in e&&n(4,a=e.forceShowErrors)},e.$$.update=()=>{2&e.$$.dirty&&n(3,r=s?.parentElement),48&e.$$.dirty&&n(2,o=l||a)},[i,s,o,r,a,l,function(e){we[e?"unshift":"push"]((()=>{s=e,n(1,s)}))}]}class OB extends at{constructor(e){super(),it(this,e,EB,MB,p,{errors:0,forceShowErrors:4})}}class AB extends ct{async beginAddingNewFilteringEntry(e){await this.dispatch("openDropdown"),await Ie(),await this.dispatch("addFilter",e),await Ie(),await this.dispatch("activateLastFilterInput")}onOpenDropdown(e){return this.on("openDropdown",e)}onAddFilter(e){return this.on("addFilter",e)}onActivateLastFilterInput(e){return this.on("activateLastFilterInput",e)}}const LB=Symbol("ImperativeFilterController");function NB(){return he(LB)}function PB(e){let t,n;return t=new qp({props:{icon:wm,$$slots:{default:[FB]},$$scope:{ctx:e}}}),t.$on("click",e[10]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1073741888&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function RB(e){let t;return{c(){t=q("Filter Column")},m(e,n){P(e,t,n)},d(e){e&&R(t)}}}function zB(e){let t;return{c(){t=q("Add Filter")},m(e,n){P(e,t,n)},d(e){e&&R(t)}}}function FB(e){let t;function n(e,t){return e[6]>0?zB:RB}let r=n(e),o=r(e);return{c(){o.c(),t=j()},m(e,n){o.m(e,n),P(e,t,n)},p(e,s){r!==(r=n(e))&&(o.d(1),o=r(e),o&&(o.c(),o.m(t.parentNode,t)))},d(e){o.d(e),e&&R(t)}}}function HB(e){let t,n;return t=new qp({props:{icon:Vm,$$slots:{default:[qB]},$$scope:{ctx:e}}}),t.$on("click",e[11]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1073741888&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function qB(e){let t,n,r=Eb(e[6],"filters",{casing:"title",countWhenSingular:"hidden"})+"";return{c(){t=q("Remove "),n=q(r)},m(e,r){P(e,t,r),P(e,n,r)},p(e,t){64&t&&r!==(r=Eb(e[6],"filters",{casing:"title",countWhenSingular:"hidden"})+"")&&X(n,r)},d(e){e&&R(t),e&&R(n)}}}function VB(e){let t,n;return t=new qp({props:{icon:Ym,$$slots:{default:[WB]},$$scope:{ctx:e}}}),t.$on("click",e[27]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1073741840&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function jB(e){let t,n;return t=new qp({props:{icon:Ym,$$slots:{default:[UB]},$$scope:{ctx:e}}}),t.$on("click",e[12]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1073741840&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function WB(e){let t,n,r=e[4].ASCENDING+"";return{c(){t=q("Sort "),n=q(r)},m(e,r){P(e,t,r),P(e,n,r)},p(e,t){16&t&&r!==(r=e[4].ASCENDING+"")&&X(n,r)},d(e){e&&R(t),e&&R(n)}}}function UB(e){let t,n,r,o=e[4].ASCENDING+"";return{c(){t=q("Remove "),n=q(o),r=q(" Sorting")},m(e,o){P(e,t,o),P(e,n,o),P(e,r,o)},p(e,t){16&t&&o!==(o=e[4].ASCENDING+"")&&X(n,o)},d(e){e&&R(t),e&&R(n),e&&R(r)}}}function YB(e){let t,n;return t=new qp({props:{icon:Bm,$$slots:{default:[KB]},$$scope:{ctx:e}}}),t.$on("click",e[28]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1073741840&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function BB(e){let t,n;return t=new qp({props:{icon:Bm,$$slots:{default:[GB]},$$scope:{ctx:e}}}),t.$on("click",e[12]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1073741840&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function KB(e){let t,n,r=e[4].DESCENDING+"";return{c(){t=q("Sort "),n=q(r)},m(e,r){P(e,t,r),P(e,n,r)},p(e,t){16&t&&r!==(r=e[4].DESCENDING+"")&&X(n,r)},d(e){e&&R(t),e&&R(n)}}}function GB(e){let t,n,r,o=e[4].DESCENDING+"";return{c(){t=q("Remove "),n=q(o),r=q(" Sorting")},m(e,o){P(e,t,o),P(e,n,o),P(e,r,o)},p(e,t){16&t&&o!==(o=e[4].DESCENDING+"")&&X(n,o)},d(e){e&&R(t),e&&R(n),e&&R(r)}}}function XB(e){let t,n;return t=new qp({props:{icon:cf,$$slots:{default:[ZB]},$$scope:{ctx:e}}}),t.$on("click",e[14]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1073741824&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function JB(e){let t,n;return t=new qp({props:{icon:cf,$$slots:{default:[QB]},$$scope:{ctx:e}}}),t.$on("click",e[15]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1073741824&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function ZB(e){let t;return{c(){t=q("Group by Column")},m(e,n){P(e,t,n)},d(e){e&&R(t)}}}function QB(e){let t;return{c(){t=q("Remove Grouping")},m(e,n){P(e,t,n)},d(e){e&&R(t)}}}function eK(e){let t,n,r,o,s,i,a,l,c,u,d,p,$=e[7]&&PB(e),m=e[6]>0&&HB(e);const f=[jB,VB],g=[];function h(e,t){return"ASCENDING"===e[5]?0:1}r=h(e),o=g[r]=f[r](e);const y=[BB,YB],v=[];function b(e,t){return"DESCENDING"===e[5]?0:1}i=b(e),a=v[i]=y[i](e);const w=[JB,XB],x=[];function S(e,t){return e[3]?0:1}return c=S(e),u=x[c]=w[c](e),{c(){$&&$.c(),t=V(),m&&m.c(),n=V(),o.c(),s=V(),a.c(),l=V(),u.c(),d=j()},m(e,o){$&&$.m(e,o),P(e,t,o),m&&m.m(e,o),P(e,n,o),g[r].m(e,o),P(e,s,o),v[i].m(e,o),P(e,l,o),x[c].m(e,o),P(e,d,o),p=!0},p(e,[p]){e[7]?$?($.p(e,p),128&p&&qe($,1)):($=PB(e),$.c(),qe($,1),$.m(t.parentNode,t)):$&&(Fe(),Ve($,1,1,(()=>{$=null})),He()),e[6]>0?m?(m.p(e,p),64&p&&qe(m,1)):(m=HB(e),m.c(),qe(m,1),m.m(n.parentNode,n)):m&&(Fe(),Ve(m,1,1,(()=>{m=null})),He());let C=r;r=h(e),r===C?g[r].p(e,p):(Fe(),Ve(g[C],1,1,(()=>{g[C]=null})),He(),o=g[r],o?o.p(e,p):(o=g[r]=f[r](e),o.c()),qe(o,1),o.m(s.parentNode,s));let k=i;i=b(e),i===k?v[i].p(e,p):(Fe(),Ve(v[k],1,1,(()=>{v[k]=null})),He(),a=v[i],a?a.p(e,p):(a=v[i]=y[i](e),a.c()),qe(a,1),a.m(l.parentNode,l));let D=c;c=S(e),c===D?x[c].p(e,p):(Fe(),Ve(x[D],1,1,(()=>{x[D]=null})),He(),u=x[c],u?u.p(e,p):(u=x[c]=w[c](e),u.c()),qe(u,1),u.m(d.parentNode,d))},i(e){p||(qe($),qe(m),qe(o),qe(a),qe(u),p=!0)},o(e){Ve($),Ve(m),Ve(o),Ve(a),Ve(u),p=!1},d(e){$&&$.d(e),e&&R(t),m&&m.d(e),e&&R(n),g[r].d(e),e&&R(s),v[i].d(e),e&&R(l),x[c].d(e),e&&R(d)}}}function tK(e,t,n){let r,o,i,a,l,c,u,d,p,m,g,h,y,v,b,w,x,S,C=s,k=s,D=s;f(e,Xh,(e=>n(24,w=e))),f(e,vh,(e=>n(25,x=e))),e.$$.on_destroy.push((()=>C())),e.$$.on_destroy.push((()=>k())),e.$$.on_destroy.push((()=>D()));const I=Uv();f(e,I,(e=>n(26,S=e)));let{processedColumn:_}=t;const T=NB(),M=sB();function E(e){i.update((t=>t.with(c,e)))}f(e,M,(e=>n(23,b=e)));return e.$$set=e=>{"processedColumn"in e&&n(16,_=e.processedColumn)},e.$$.update=()=>{117440512&e.$$.dirty&&n(19,r=!!S?.hasPermission({database:x,schema:w},"canViewLinkedEntities")),589824&e.$$.dirty&&n(7,o=!_.linkFk||r),8388608&e.$$.dirty&&(n(1,({meta:{sorting:i,grouping:a,filtering:l}}=b),i,(n(0,a),C(),C=$(a,(e=>n(20,h=e))),a),(n(2,l),D(),D=$(l,(e=>n(22,v=e))),l)),k(),k=$(i,(e=>n(21,y=e)))),65536&e.$$.dirty&&n(17,c=_.id),4325376&e.$$.dirty&&n(18,u=v.entries.filter((e=>e.columnId===c))),262144&e.$$.dirty&&n(6,d=u.length),2162688&e.$$.dirty&&n(5,p=y.get(_.id)),65536&e.$$.dirty&&n(4,m=dF(_.abstractType.cellInfo.type,!!_.linkFk)),1179648&e.$$.dirty&&n(3,g=h.hasColumn(c))},[a,i,l,g,m,p,d,o,I,M,function(){T?.beginAddingNewFilteringEntry(c)},function(){l.update((e=>e.withoutColumns([c])))},function(){i.update((e=>e.without(c)))},E,function(){a.update((e=>e.withEntry({columnId:c,preprocFnId:void 0})))},function(){a.update((e=>e.withoutColumns([c])))},_,c,u,r,h,y,v,b,w,x,S,()=>E("ASCENDING"),()=>E("DESCENDING")]}class nK extends at{constructor(e){super(),it(this,e,tK,eK,p,{processedColumn:16})}}const rK=e=>`Once deleted, the ${Mb(e,"records")} cannot be recovered. Are you sure you want to proceed?`;function oK(e){let t,n;return t=new Yp({props:{href:e[3]({recordId:e[0]})||"",icon:wr,$$slots:{default:[sK]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};9&n&&(r.href=e[3]({recordId:e[0]})||""),8192&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function sK(e){let t;return{c(){t=q("Go to Record Page")},m(e,n){P(e,t,n)},d(e){e&&R(t)}}}function iK(e){let t,n;return t=new qp({props:{icon:km,$$slots:{default:[aK]},$$scope:{ctx:e}}}),t.$on("click",e[5]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};8192&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function aK(e){let t;return{c(){t=q("Delete Record")},m(e,n){P(e,t,n)},d(e){e&&R(t)}}}function lK(e){let t,n,r,o=e[1]&&oK(e),s=e[2]&&iK(e);return{c(){o&&o.c(),t=V(),s&&s.c(),n=j()},m(e,i){o&&o.m(e,i),P(e,t,i),s&&s.m(e,i),P(e,n,i),r=!0},p(e,[r]){e[1]?o?(o.p(e,r),2&r&&qe(o,1)):(o=oK(e),o.c(),qe(o,1),o.m(t.parentNode,t)):o&&(Fe(),Ve(o,1,1,(()=>{o=null})),He()),e[2]?s?(s.p(e,r),4&r&&qe(s,1)):(s=iK(e),s.c(),qe(s,1),s.m(n.parentNode,n)):s&&(Fe(),Ve(s,1,1,(()=>{s=null})),He())},i(e){r||(qe(o),qe(s),r=!0)},o(e){Ve(o),Ve(s),r=!1},d(e){o&&o.d(e),e&&R(t),s&&s.d(e),e&&R(n)}}}function cK(e,t,n){let r,o,s,i,a,l,c,u;f(e,Xh,(e=>n(11,l=e))),f(e,vh,(e=>n(12,c=e))),f(e,FA,(e=>n(3,u=e)));let{row:d}=t,{recordPk:p}=t,{recordsData:$}=t;const m=Uv();return f(e,m,(e=>n(10,a=e))),e.$$set=e=>{"row"in e&&n(6,d=e.row),"recordPk"in e&&n(0,p=e.recordPk),"recordsData"in e&&n(7,$=e.recordsData)},e.$$.update=()=>{4096&e.$$.dirty&&n(9,r=c),2048&e.$$.dirty&&n(8,o=l),1792&e.$$.dirty&&n(2,s=!!a?.hasPermission({database:r,schema:o},"canEditTableRecords")),1792&e.$$.dirty&&n(1,i=!!a?.hasPermission({database:r,schema:o},"canViewLinkedEntities"))},[p,i,s,u,m,async function(){if(xY(d)){const e=[Number(d.rowIndex)];Gf({identifierType:"Record",body:rK(e),onProceed:()=>$.deleteSelected(e),onError:e=>Uf.fromError(e),onSuccess:()=>Uf.success({title:"Record deleted successfully!"})})}},d,$,o,r,a,l,c]}class uK extends at{constructor(e){super(),it(this,e,cK,lK,p,{row:6,recordPk:0,recordsData:7})}}function dK(e){let t,n;return t=new _B({props:{hasErrors:e[4]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};16&n[0]&&(r.hasErrors=e[4]),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function pK(e){let t,n,r,o,s,i;t=new Cp({props:{$$slots:{default:[$K]},$$scope:{ctx:e}}});let a=e[12]&&mK(e),l=e[15]&&e[11]&&gK(e);return s=new wp({}),{c(){rt(t.$$.fragment),n=V(),a&&a.c(),r=V(),l&&l.c(),o=V(),rt(s.$$.fragment)},m(e,c){ot(t,e,c),P(e,n,c),a&&a.m(e,c),P(e,r,c),l&&l.m(e,c),P(e,o,c),ot(s,e,c),i=!0},p(e,n){const s={};33554432&n[1]&&(s.$$scope={dirty:n,ctx:e}),t.$set(s),e[12]?a?(a.p(e,n),4096&n[0]&&qe(a,1)):(a=mK(e),a.c(),qe(a,1),a.m(r.parentNode,r)):a&&(Fe(),Ve(a,1,1,(()=>{a=null})),He()),e[15]&&e[11]?l?(l.p(e,n),34816&n[0]&&qe(l,1)):(l=gK(e),l.c(),qe(l,1),l.m(o.parentNode,o)):l&&(Fe(),Ve(l,1,1,(()=>{l=null})),He())},i(e){i||(qe(t.$$.fragment,e),qe(a),qe(l),qe(s.$$.fragment,e),i=!0)},o(e){Ve(t.$$.fragment,e),Ve(a),Ve(l),Ve(s.$$.fragment,e),i=!1},d(e){st(t,e),e&&R(n),a&&a.d(e),e&&R(r),l&&l.d(e),e&&R(o),st(s,e)}}}function $K(e){let t;return{c(){t=q("Cell")},m(e,n){P(e,t,n)},d(e){e&&R(t)}}}function mK(e){let t,n;return t=new qp({props:{icon:Um,disabled:!e[19],$$slots:{default:[fK]},$$scope:{ctx:e}}}),t.$on("click",e[52]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};524288&n[0]&&(r.disabled=!e[19]),33554432&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function fK(e){let t,n,r;return n=new YM({}),{c(){t=q("Set to "),rt(n.$$.fragment)},m(e,o){P(e,t,o),ot(n,e,o),r=!0},i(e){r||(qe(n.$$.fragment,e),r=!0)},o(e){Ve(n.$$.fragment,e),r=!1},d(e){e&&R(t),st(n,e)}}}function gK(e){let t,n;return t=new Yp({props:{icon:uf,href:e[11],$$slots:{default:[hK]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};2048&n[0]&&(r.href=e[11]),33554432&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function hK(e){let t;return{c(){t=q("Go To Linked Record")},m(e,n){P(e,t,n)},d(e){e&&R(t)}}}function yK(e){let t;return{c(){t=q("Column")},m(e,n){P(e,t,n)},d(e){e&&R(t)}}}function vK(e){let t,n,r,o,s,i;return t=new wp({}),r=new Cp({props:{$$slots:{default:[bK]},$$scope:{ctx:e}}}),s=new uK({props:{recordPk:e[8],recordsData:e[1],row:e[3]}}),{c(){rt(t.$$.fragment),n=V(),rt(r.$$.fragment),o=V(),rt(s.$$.fragment)},m(e,a){ot(t,e,a),P(e,n,a),ot(r,e,a),P(e,o,a),ot(s,e,a),i=!0},p(e,t){const n={};33554432&t[1]&&(n.$$scope={dirty:t,ctx:e}),r.$set(n);const o={};256&t[0]&&(o.recordPk=e[8]),2&t[0]&&(o.recordsData=e[1]),8&t[0]&&(o.row=e[3]),s.$set(o)},i(e){i||(qe(t.$$.fragment,e),qe(r.$$.fragment,e),qe(s.$$.fragment,e),i=!0)},o(e){Ve(t.$$.fragment,e),Ve(r.$$.fragment,e),Ve(s.$$.fragment,e),i=!1},d(e){st(t,e),e&&R(n),st(r,e),e&&R(o),st(s,e)}}}function bK(e){let t;return{c(){t=q("Row")},m(e,n){P(e,t,n)},d(e){e&&R(t)}}}function wK(e){let t,n,r,o,s,i,a,l=(e[12]||e[15])&&pK(e);n=new Cp({props:{$$slots:{default:[yK]},$$scope:{ctx:e}}}),o=new nK({props:{processedColumn:e[6]}});let c=(e[12]||e[15])&&vK(e);return{c(){l&&l.c(),t=V(),rt(n.$$.fragment),r=V(),rt(o.$$.fragment),s=V(),c&&c.c(),i=j()},m(e,u){l&&l.m(e,u),P(e,t,u),ot(n,e,u),P(e,r,u),ot(o,e,u),P(e,s,u),c&&c.m(e,u),P(e,i,u),a=!0},p(e,r){e[12]||e[15]?l?(l.p(e,r),36864&r[0]&&qe(l,1)):(l=pK(e),l.c(),qe(l,1),l.m(t.parentNode,t)):l&&(Fe(),Ve(l,1,1,(()=>{l=null})),He());const s={};33554432&r[1]&&(s.$$scope={dirty:r,ctx:e}),n.$set(s);const a={};64&r[0]&&(a.processedColumn=e[6]),o.$set(a),e[12]||e[15]?c?(c.p(e,r),36864&r[0]&&qe(c,1)):(c=vK(e),c.c(),qe(c,1),c.m(i.parentNode,i)):c&&(Fe(),Ve(c,1,1,(()=>{c=null})),He())},i(e){a||(qe(l),qe(n.$$.fragment,e),qe(o.$$.fragment,e),qe(c),a=!0)},o(e){Ve(l),Ve(n.$$.fragment,e),Ve(o.$$.fragment,e),Ve(c),a=!1},d(e){l&&l.d(e),e&&R(t),st(n,e),e&&R(r),st(o,e),e&&R(s),c&&c.d(e),e&&R(i)}}}function xK(e){let t,n;return t=new OB({props:{errors:e[14],forceShowErrors:e[21]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};16384&n[0]&&(r.errors=e[14]),2097152&n[0]&&(r.forceShowErrors=e[21]),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function SK(e){let t,n,r,o,s,i,l,c,u,d,p,$;n=new rE({props:{when:e[18],color:"var(--cell-bg-color-error)"}}),o=new rE({props:{when:!e[16],color:"var(--cell-bg-color-disabled)"}});let m=!(e[16]&&e[21])&&dK(e);l=new kR({props:{columnFabric:e[6],isActive:e[21],isSelectedInRange:e[20],value:e[0],isProcessing:e[17],canViewLinkedEntities:e[10],recordSummary:e[27].get(String(e[9].id))?.get(String(e[0])),setRecordSummary:e[48],showAsSkeleton:e[28]===rh.Loading,disabled:!e[16],horizontalAlignment:e[9].primary_key?"left":void 0}}),l.$on("movementKeyDown",e[30]),l.$on("activate",e[49]),l.$on("update",e[32]),l.$on("onSelectionStart",e[50]),l.$on("onMouseEnterCellWhileSelection",e[51]),u=new Is({props:{$$slots:{default:[wK]},$$scope:{ctx:e}}});let f=e[14].length&&xK(e),g=[{class:"cell editable-cell"},e[54],{style:p=e[55]}],h={};for(let y=0;y<g.length;y+=1)h=a(h,g[y]);return{c(){t=F("div"),rt(n.$$.fragment),r=V(),rt(o.$$.fragment),s=V(),m&&m.c(),i=V(),rt(l.$$.fragment),c=V(),rt(u.$$.fragment),d=V(),f&&f.c(),K(t,h),te(t,"error",e[18]),te(t,"modified","success"===e[13]?.state),te(t,"is-active",e[21]),te(t,"is-processing",e[17]),te(t,"is-pk",e[9].primary_key),te(t,"is-selected",e[20]),te(t,"svelte-6927nu",!0)},m(e,a){P(e,t,a),ot(n,t,null),A(t,r),ot(o,t,null),A(t,s),m&&m.m(t,null),A(t,i),ot(l,t,null),A(t,c),ot(u,t,null),A(t,d),f&&f.m(t,null),$=!0},p(e,r){const s={};262144&r[0]&&(s.when=e[18]),n.$set(s);const a={};65536&r[0]&&(a.when=!e[16]),o.$set(a),e[16]&&e[21]?m&&(Fe(),Ve(m,1,1,(()=>{m=null})),He()):m?(m.p(e,r),2162688&r[0]&&qe(m,1)):(m=dK(e),m.c(),qe(m,1),m.m(t,i));const c={};64&r[0]&&(c.columnFabric=e[6]),2097152&r[0]&&(c.isActive=e[21]),1048576&r[0]&&(c.isSelectedInRange=e[20]),1&r[0]&&(c.value=e[0]),131072&r[0]&&(c.isProcessing=e[17]),1024&r[0]&&(c.canViewLinkedEntities=e[10]),134218241&r[0]&&(c.recordSummary=e[27].get(String(e[9].id))?.get(String(e[0]))),50331648&r[0]&&(c.setRecordSummary=e[48]),268435456&r[0]&&(c.showAsSkeleton=e[28]===rh.Loading),65536&r[0]&&(c.disabled=!e[16]),512&r[0]&&(c.horizontalAlignment=e[9].primary_key?"left":void 0),l.$set(c);const d={};563530&r[0]|33554432&r[1]&&(d.$$scope={dirty:r,ctx:e}),u.$set(d),e[14].length?f?(f.p(e,r),16384&r[0]&&qe(f,1)):(f=xK(e),f.c(),qe(f,1),f.m(t,null)):f&&(Fe(),Ve(f,1,1,(()=>{f=null})),He()),K(t,h=et(g,[{class:"cell editable-cell"},8388608&r[1]&&e[54],(!$||16777216&r[1]&&p!==(p=e[55]))&&{style:p}])),te(t,"error",e[18]),te(t,"modified","success"===e[13]?.state),te(t,"is-active",e[21]),te(t,"is-processing",e[17]),te(t,"is-pk",e[9].primary_key),te(t,"is-selected",e[20]),te(t,"svelte-6927nu",!0)},i(e){$||(qe(n.$$.fragment,e),qe(o.$$.fragment,e),qe(m),qe(l.$$.fragment,e),qe(u.$$.fragment,e),qe(f),$=!0)},o(e){Ve(n.$$.fragment,e),Ve(o.$$.fragment,e),Ve(m),Ve(l.$$.fragment,e),Ve(u.$$.fragment,e),Ve(f),$=!1},d(e){e&&R(t),st(n),st(o),m&&m.d(),st(l),st(u),f&&f.d()}}}function CK(e){let t,n;return t=new eN({props:{columnIdentifierKey:e[9].id,$$slots:{default:[SK,({htmlAttributes:e,style:t})=>({54:e,55:t}),({htmlAttributes:e,style:t})=>[0,(e?8388608:0)|(t?16777216:0)]]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};512&n[0]&&(r.columnIdentifierKey=e[9].id),457178975&n[0]|58720256&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function kK(e,t,n){let r,o,i,a,l,c,u,d,p,m,g,h,y,v,b,w,x,S,C,k,D,I,_,T,M,E,O,A,L,N,P,R,z,F,H=s,q=()=>(H(),H=$(te,(e=>n(41,E=e))),te),V=s,j=()=>(V(),V=$(Q,(e=>n(42,O=e))),Q),W=s,U=s,Y=s,B=s;f(e,FA,(e=>n(40,M=e))),f(e,Xh,(e=>n(46,P=e))),f(e,vh,(e=>n(47,R=e))),e.$$.on_destroy.push((()=>H())),e.$$.on_destroy.push((()=>V())),e.$$.on_destroy.push((()=>W())),e.$$.on_destroy.push((()=>U())),e.$$.on_destroy.push((()=>Y())),e.$$.on_destroy.push((()=>B()));let{recordsData:K}=t,{selection:G}=t,{row:X}=t,{rowHasErrors:J=!1}=t,{key:Z}=t,{modificationStatusMap:Q}=t;j();let{processedColumn:ee}=t,{clientSideErrorMap:te}=t;q();let{value:ne}=t,{rowKey:re}=t;const oe=Uv();async function se(e){if(e===ne)return;n(0,ne=e);const t=SY(X)?await K.createOrUpdateRecord(X,u):await K.updateCell(X,u);n(0,ne=t.record?.[u.id]??ne)}f(e,oe,(e=>n(45,N=e)));return e.$$set=e=>{"recordsData"in e&&n(1,K=e.recordsData),"selection"in e&&n(2,G=e.selection),"row"in e&&n(3,X=e.row),"rowHasErrors"in e&&n(4,J=e.rowHasErrors),"key"in e&&n(33,Z=e.key),"modificationStatusMap"in e&&j(n(5,Q=e.modificationStatusMap)),"processedColumn"in e&&n(6,ee=e.processedColumn),"clientSideErrorMap"in e&&q(n(7,te=e.clientSideErrorMap)),"value"in e&&n(0,ne=e.value),"rowKey"in e&&n(8,re=e.rowKey)},e.$$.update=()=>{65536&e.$$.dirty[1]&&n(39,r=R),32768&e.$$.dirty[1]&&n(38,o=P),16768&e.$$.dirty[1]&&n(12,i=!!N?.hasPermission({database:r,schema:o},"canEditTableRecords")),16768&e.$$.dirty[1]&&n(10,a=!!N?.hasPermission({database:r,schema:o},"canViewLinkedEntities")),2&e.$$.dirty[0]&&(n(26,l=K.state),B(),B=$(l,(e=>n(28,F=e)))),2&e.$$.dirty[0]&&(n(25,({recordSummaries:c}=K),c),Y(),Y=$(c,(e=>n(27,z=e)))),64&e.$$.dirty[0]&&n(9,({column:u,linkFk:d}=ee),u,(n(34,d),n(6,ee))),512&e.$$.dirty[0]&&n(24,p=u.id),4&e.$$.dirty[0]&&(n(23,({activeCell:m,selectedCells:g}=G),m,(n(22,g),W(),W=$(g,(e=>n(43,A=e))),g)),U(),U=$(m,(e=>n(44,L=e)))),72&e.$$.dirty[0]|8192&e.$$.dirty[1]&&n(21,h=L&&gP(L,X,ee)),72&e.$$.dirty[0]|4096&e.$$.dirty[1]&&n(20,y=xP(A,X,ee)&&A.size>1),2052&e.$$.dirty[1]&&n(13,v=O.get(Z)),8192&e.$$.dirty[0]&&n(37,b="failure"===v?.state?v?.errors:[]),1028&e.$$.dirty[1]&&n(36,w=E.get(Z)??[]),96&e.$$.dirty[1]&&n(14,x=[...b,...w]),513&e.$$.dirty[0]&&n(19,S=u.nullable&&null!==ne),16384&e.$$.dirty[0]&&n(18,C=!!x.length),8192&e.$$.dirty[0]&&n(17,k="processing"===v?.state),4608&e.$$.dirty[0]&&n(16,D=!u.primary_key&&i),512&e.$$.dirty[1]&&n(35,I=M),1&e.$$.dirty[0]|24&e.$$.dirty[1]&&n(11,_=d?I({tableId:d.referent_table,recordId:ne}):void 0),3072&e.$$.dirty[0]&&n(15,T=_&&a)},[ne,K,G,X,J,Q,ee,te,re,u,a,_,i,v,x,T,D,k,C,S,y,h,g,m,p,c,l,z,F,oe,async function(e){const{originalEvent:t}=e.detail,n=G.handleKeyEventsOnActiveCell(t);n&&(t.stopPropagation(),t.preventDefault(),await async function(e){"moved"===e&&(await Ie(),yP())}(n))},se,async function(e){await se(e.detail.value)},Z,d,I,w,b,o,r,M,E,O,A,L,N,P,R,(e,t)=>c.addBespokeRecordSummary({columnId:String(p),recordId:e,recordSummary:t}),()=>{G.activateCell(X,ee)},()=>{G.onStartSelection(X,ee)},()=>{G.onMouseEnterCellWhileSelection(X,ee)},()=>se(null)]}class DK extends at{constructor(e){super(),it(this,e,kK,CK,p,{recordsData:1,selection:2,row:3,rowHasErrors:4,key:33,modificationStatusMap:5,processedColumn:6,clientSideErrorMap:7,value:0,rowKey:8},null,[-1,-1])}}function IK(e){let t,n,r,o=e[0].rowIndex+(IY(e[0])?(e[10]??0)-e[11].length-e[12].length:e[13].offset)+1+"",i=IY(e[0]),a=i&&TK();return{c(){t=F("span"),n=q(o),r=V(),a&&a.c(),B(t,"class","number")},m(e,o){P(e,t,o),A(t,n),A(t,r),a&&a.m(t,null)},p(e,r){15361&r&&o!==(o=e[0].rowIndex+(IY(e[0])?(e[10]??0)-e[11].length-e[12].length:e[13].offset)+1+"")&&X(n,o),1&r&&(i=IY(e[0])),i?a||(a=TK(),a.c(),a.m(t,null)):a&&(a.d(1),a=null)},i:s,o:s,d(e){e&&R(t),a&&a.d()}}}function _K(e){let t,n;const r=[xm];let o={};for(let s=0;s<r.length;s+=1)o=a(o,r[s]);return t=new Wr({props:o}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const o=0&n?et(r,[tt(xm)]):{};t.$set(o)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function TK(e){let t;return{c(){t=q("*")},m(e,n){P(e,t,n)},d(e){e&&R(t)}}}function MK(e){let t,n;const r=[{class:"mod-indicator"},{size:"0.9em"},kr];let o={};for(let s=0;s<r.length;s+=1)o=a(o,r[s]);return t=new Wr({props:o}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const o=0&n?et(r,[r[0],r[1],tt(kr)]):{};t.$set(o)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function EK(e){let t,n;return t=new OB({props:{errors:e[3]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};8&n&&(r.errors=e[3]),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function OK(e){let t,n,r,o,s,i,a,l,c,u,d,p,$;t=new rE({props:{color:"var(--cell-bg-color-header)"}}),r=new _B({props:{isSelected:e[1],hasErrors:e[2]}});const m=[_K,IK],f=[];function g(e,t){return 1&t&&(i=null),1&t&&(a=null),null==i&&(i=!!DY(e[0])),i?0:(null==a&&(a=!!xY(e[0])),a?1:-1)}~(l=g(e,-1))&&(c=f[l]=m[l](e));let h="processing"===e[4]&&MK(),y=e[3].length&&EK(e);return{c(){rt(t.$$.fragment),n=V(),rt(r.$$.fragment),o=V(),s=F("div"),c&&c.c(),u=V(),h&&h.c(),d=V(),y&&y.c(),p=j(),B(s,"class","control svelte-b0v79h")},m(e,i){ot(t,e,i),P(e,n,i),ot(r,e,i),P(e,o,i),P(e,s,i),~l&&f[l].m(s,null),P(e,u,i),h&&h.m(e,i),P(e,d,i),y&&y.m(e,i),P(e,p,i),$=!0},p(e,[t]){const n={};2&t&&(n.isSelected=e[1]),4&t&&(n.hasErrors=e[2]),r.$set(n);let o=l;l=g(e,t),l===o?~l&&f[l].p(e,t):(c&&(Fe(),Ve(f[o],1,1,(()=>{f[o]=null})),He()),~l?(c=f[l],c?c.p(e,t):(c=f[l]=m[l](e),c.c()),qe(c,1),c.m(s,null)):c=null),"processing"===e[4]?h?(h.p(e,t),16&t&&qe(h,1)):(h=MK(),h.c(),qe(h,1),h.m(d.parentNode,d)):h&&(Fe(),Ve(h,1,1,(()=>{h=null})),He()),e[3].length?y?(y.p(e,t),8&t&&qe(y,1)):(y=EK(e),y.c(),qe(y,1),y.m(p.parentNode,p)):y&&(Fe(),Ve(y,1,1,(()=>{y=null})),He())},i(e){$||(qe(t.$$.fragment,e),qe(r.$$.fragment,e),qe(c),qe(h),qe(y),$=!0)},o(e){Ve(t.$$.fragment,e),Ve(r.$$.fragment,e),Ve(c),Ve(h),Ve(y),$=!1},d(e){st(t,e),e&&R(n),st(r,e),e&&R(o),e&&R(s),~l&&f[l].d(),e&&R(u),h&&h.d(e),e&&R(d),y&&y.d(e),e&&R(p)}}}function AK(e,t,n){let r,o,i,a,l,c,u,d,p,m,f,g,h,y,v=s,b=s,w=s,x=s,S=s;e.$$.on_destroy.push((()=>v())),e.$$.on_destroy.push((()=>b())),e.$$.on_destroy.push((()=>w())),e.$$.on_destroy.push((()=>x())),e.$$.on_destroy.push((()=>S()));let{primaryKeyColumnId:C}=t,{row:k}=t,{meta:D}=t,{recordsData:I}=t,{isSelected:_=!1}=t,{hasErrors:T=!1}=t;return e.$$set=e=>{"primaryKeyColumnId"in e&&n(14,C=e.primaryKeyColumnId),"row"in e&&n(0,k=e.row),"meta"in e&&n(15,D=e.meta),"recordsData"in e&&n(16,I=e.recordsData),"isSelected"in e&&n(1,_=e.isSelected),"hasErrors"in e&&n(2,T=e.hasErrors)},e.$$.update=()=>{32768&e.$$.dirty&&(n(9,({pagination:r,rowStatus:o}=D),r,(n(8,o),v(),v=$(o,(e=>n(19,m=e))),o)),S(),S=$(r,(e=>n(13,y=e)))),65536&e.$$.dirty&&(n(7,({savedRecords:i,newRecords:a,totalCount:l}=I),i,(n(6,a),x(),x=$(a,(e=>n(12,h=e))),a),(n(5,l),b(),b=$(l,(e=>n(10,f=e))),l)),w(),w=$(i,(e=>n(11,g=e)))),16385&e.$$.dirty&&n(18,c=TY(k,C)),786432&e.$$.dirty&&n(17,u=m.get(c)),131072&e.$$.dirty&&n(4,d=u?.wholeRowState),131072&e.$$.dirty&&n(3,p=u?.errorsFromWholeRowAndCells??[])},[k,_,T,p,d,l,a,i,o,r,f,g,h,y,C,D,I,u,c,m]}class LK extends at{constructor(e){super(),it(this,e,AK,OK,p,{primaryKeyColumnId:14,row:0,meta:15,recordsData:16,isSelected:1,hasErrors:2})}}function NK(e,t,n){const r=e.slice();return r[38]=t[n][0],r[39]=t[n][1],r[40]=t,r[41]=n,r}function PK(e){let t,n,r,o;return t=new LK({props:{primaryKeyColumnId:e[6],row:e[0],meta:e[7],recordsData:e[3],isSelected:e[10],hasErrors:e[8]}}),r=new Is({props:{$$slots:{default:[RK]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment),n=V(),rt(r.$$.fragment)},m(e,s){ot(t,e,s),P(e,n,s),ot(r,e,s),o=!0},p(e,n){const o={};64&n[0]&&(o.primaryKeyColumnId=e[6]),1&n[0]&&(o.row=e[0]),128&n[0]&&(o.meta=e[7]),8&n[0]&&(o.recordsData=e[3]),1024&n[0]&&(o.isSelected=e[10]),256&n[0]&&(o.hasErrors=e[8]),t.$set(o);const s={};41&n[0]|4096&n[1]&&(s.$$scope={dirty:n,ctx:e}),r.$set(s)},i(e){o||(qe(t.$$.fragment,e),qe(r.$$.fragment,e),o=!0)},o(e){Ve(t.$$.fragment,e),Ve(r.$$.fragment,e),o=!1},d(e){st(t,e),e&&R(n),st(r,e)}}}function RK(e){let t,n;return t=new uK({props:{recordPk:e[5],recordsData:e[3],row:e[0]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};32&n[0]&&(r.recordPk=e[5]),8&n[0]&&(r.recordsData=e[3]),1&n[0]&&(r.row=e[0]),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function zK(e){let t,n,r,o,s,i=xY(e[0]),l=i&&PK(e),c=[e[42],{style:n=e[1]}],d={};for(let u=0;u<c.length;u+=1)d=a(d,c[u]);return{c(){t=F("div"),l&&l.c(),K(t,d),te(t,"svelte-13v63yp",!0)},m(n,i){P(n,t,i),l&&l.m(t,null),r=!0,o||(s=[W(t,"mousedown",e[26]),W(t,"mouseenter",e[27])],o=!0)},p(e,o){1&o[0]&&(i=xY(e[0])),i?l?(l.p(e,o),1&o[0]&&qe(l,1)):(l=PK(e),l.c(),qe(l,1),l.m(t,null)):l&&(Fe(),Ve(l,1,1,(()=>{l=null})),He()),K(t,d=et(c,[2048&o[1]&&e[42],(!r||2&o[0]&&n!==(n=e[1]))&&{style:n}])),te(t,"svelte-13v63yp",!0)},i(e){r||(qe(l),r=!0)},o(e){Ve(l),r=!1},d(e){e&&R(t),l&&l.d(),o=!1,u(s)}}}function FK(e){let t,n,r=[],o=new Map,s=[...e[21]];const i=e=>e[38];for(let a=0;a<s.length;a+=1){let t=NK(e,s,a),n=i(t);o.set(n,r[a]=VK(n,t))}return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=j()},m(e,o){for(let t=0;t<r.length;t+=1)r[t].m(e,o);P(e,t,o),n=!0},p(e,n){2294317&n[0]&&(s=[...e[21]],Fe(),r=Qe(r,n,i,1,e,s,o,t.parentNode,Je,VK,t,NK),He())},i(e){if(!n){for(let e=0;e<s.length;e+=1)qe(r[e]);n=!0}},o(e){for(let t=0;t<r.length;t+=1)Ve(r[t]);n=!1},d(e){for(let t=0;t<r.length;t+=1)r[t].d(e);e&&R(t)}}}function HK(e){let t,n;return t=new kB({props:{row:e[0],grouping:e[22],group:e[0].group,processedColumnsMap:e[21],recordSummariesForSheet:e[23]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1&n[0]&&(r.row=e[0]),4194304&n[0]&&(r.grouping=e[22]),1&n[0]&&(r.group=e[0].group),2097152&n[0]&&(r.processedColumnsMap=e[21]),8388608&n[0]&&(r.recordSummariesForSheet=e[23]),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function qK(e){let t,n;return t=new pB({props:{columnCount:e[21].size}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};2097152&n[0]&&(r.columnCount=e[21].size),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function VK(e,t){let n,r,o,s;function i(e){t[35](e,t[38])}let a={selection:t[2],row:t[0],rowHasErrors:t[9],key:yY(t[5],t[38]),modificationStatusMap:t[17],clientSideErrorMap:t[16],processedColumn:t[39],recordsData:t[3],rowKey:t[5]};return void 0!==t[0].record[t[38]]&&(a.value=t[0].record[t[38]]),r=new DK({props:a}),we.push((()=>nt(r,"value",i))),{key:e,first:null,c(){n=j(),rt(r.$$.fragment),this.first=n},m(e,t){P(e,n,t),ot(r,e,t),s=!0},p(e,n){t=e;const s={};4&n[0]&&(s.selection=t[2]),1&n[0]&&(s.row=t[0]),512&n[0]&&(s.rowHasErrors=t[9]),2097184&n[0]&&(s.key=yY(t[5],t[38])),131072&n[0]&&(s.modificationStatusMap=t[17]),65536&n[0]&&(s.clientSideErrorMap=t[16]),2097152&n[0]&&(s.processedColumn=t[39]),8&n[0]&&(s.recordsData=t[3]),32&n[0]&&(s.rowKey=t[5]),!o&&2097153&n[0]&&(o=!0,s.value=t[0].record[t[38]],Te((()=>o=!1))),r.$set(s)},i(e){s||(qe(r.$$.fragment,e),s=!0)},o(e){Ve(r.$$.fragment,e),s=!1},d(e){e&&R(n),st(r,e)}}}function jK(e){let t,n,r,o,s,i,l,c,u,d,p,$;n=new eN({props:{columnIdentifierKey:-1,isStatic:!0,isControlCell:!0,$$slots:{default:[zK,({htmlAttributes:e,style:t})=>({42:e,1:t}),({htmlAttributes:e,style:t})=>[t?2:0,e?2048:0]]},$$scope:{ctx:e}}});const m=[qK,HK,FK],f=[];function g(e,t){return 1&t[0]&&(o=null),4194305&t[0]&&(s=null),1&t[0]&&(i=null),null==o&&(o=!!CY(e[0])),o?0:(null==s&&(s=!!(kY(e[0])&&e[22]&&e[0].group)),s?1:(null==i&&(i=!!xY(e[0])),i?2:-1))}~(l=g(e,[-1,-1]))&&(c=f[l]=m[l](e));let h=[{class:"row"},e[36],{style:u="--cell-height:31px;"+e[37]}],y={};for(let v=0;v<h.length;v+=1)y=a(y,h[v]);return{c(){t=F("div"),rt(n.$$.fragment),r=V(),c&&c.c(),K(t,y),te(t,"selected",e[10]),te(t,"processing","processing"===e[4]),te(t,"failed",e[9]),te(t,"created","success"===e[12]),te(t,"is-new",IY(e[0])),te(t,"is-group-header",kY(e[0])),te(t,"is-add-placeholder",DY(e[0])),te(t,"svelte-13v63yp",!0)},m(o,s){P(o,t,s),ot(n,t,null),A(t,r),~l&&f[l].m(t,null),d=!0,p||($=W(t,"mousedown",e[25]),p=!0)},p(e,r){const o={};1515&r[0]|6144&r[1]&&(o.$$scope={dirty:r,ctx:e}),n.$set(o);let s=l;l=g(e,r),l===s?~l&&f[l].p(e,r):(c&&(Fe(),Ve(f[s],1,1,(()=>{f[s]=null})),He()),~l?(c=f[l],c?c.p(e,r):(c=f[l]=m[l](e),c.c()),qe(c,1),c.m(t,null)):c=null),K(t,y=et(h,[{class:"row"},32&r[1]&&e[36],(!d||64&r[1]&&u!==(u="--cell-height:31px;"+e[37]))&&{style:u}])),te(t,"selected",e[10]),te(t,"processing","processing"===e[4]),te(t,"failed",e[9]),te(t,"created","success"===e[12]),te(t,"is-new",IY(e[0])),te(t,"is-group-header",kY(e[0])),te(t,"is-add-placeholder",DY(e[0])),te(t,"svelte-13v63yp",!0)},i(e){d||(qe(n.$$.fragment,e),qe(c),d=!0)},o(e){Ve(n.$$.fragment,e),Ve(c),d=!1},d(e){e&&R(t),st(n),~l&&f[l].d(),p=!1,$()}}}function WK(e){let t,n;return t=new fP({props:{style:e[1],$$slots:{default:[jK,({htmlAttributes:e,styleString:t})=>({36:e,37:t}),({htmlAttributes:e,styleString:t})=>[0,(e?32:0)|(t?64:0)]]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};2&n[0]&&(r.style=e[1]),14882815&n[0]|4192&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function UK(e,t,n){let r,o,i,a,l,c,u,d,p,m,g,h,y,v,b,w,x,S,C,k,D,I,_,T,M,E,O,A,L,N=s,P=s,R=s,z=s,F=s,H=s,q=s;e.$$.on_destroy.push((()=>N())),e.$$.on_destroy.push((()=>P())),e.$$.on_destroy.push((()=>R())),e.$$.on_destroy.push((()=>z())),e.$$.on_destroy.push((()=>F())),e.$$.on_destroy.push((()=>H())),e.$$.on_destroy.push((()=>q()));let{row:V}=t,{style:j}=t;const W=sB();f(e,W,(e=>n(34,E=e)));return e.$$set=e=>{"row"in e&&n(0,V=e.row),"style"in e&&n(1,j=e.style)},e.$$.update=()=>{8&e.$$.dirty[1]&&n(3,({recordsData:r,columnsDataStore:o,meta:i,processedColumns:a,selection:l}=E),r,(n(29,o),n(34,E)),(n(7,i),n(34,E)),(n(20,a),F(),F=$(a,(e=>n(21,O=e))),a),(n(2,l),n(34,E))),128&e.$$.dirty[0]&&(n(19,({rowStatus:c,rowCreationStatus:u,cellModificationStatus:d,cellClientSideErrors:p}=i),c,(n(18,u),R(),R=$(u,(e=>n(32,T=e))),u),(n(17,d),n(7,i),n(34,E)),(n(16,p),n(7,i),n(34,E))),P(),P=$(c,(e=>n(31,_=e)))),8&e.$$.dirty[0]&&(n(15,({grouping:m,recordSummaries:g}=r),m,(n(14,g),q(),q=$(g,(e=>n(23,L=e))),g)),H(),H=$(m,(e=>n(22,A=e)))),536870912&e.$$.dirty[0]&&(n(13,({pkColumn:h}=o),h),z(),z=$(h,(e=>n(33,M=e)))),4&e.$$.dirty[1]&&n(6,y=M?.id),65&e.$$.dirty[0]&&n(5,v=TY(V,y)),32&e.$$.dirty[0]|2&e.$$.dirty[1]&&n(12,b=T.get(v)?.state),32&e.$$.dirty[0]|1&e.$$.dirty[1]&&n(28,w=_.get(v)),268435456&e.$$.dirty[0]&&n(4,x=w?.wholeRowState),4&e.$$.dirty[0]&&(n(11,({selectedCells:S}=l),S),N(),N=$(S,(e=>n(30,I=e)))),1073741825&e.$$.dirty[0]&&n(10,C=xY(V)&&((e,t)=>e.valuesArray().some((e=>e.startsWith(`${t.rowIndex}-`))))(I,V)),16&e.$$.dirty[0]&&n(9,k="failure"===x),268435456&e.$$.dirty[0]&&n(8,D=!!w?.errorsFromWholeRowAndCells?.length)},[V,j,l,r,x,v,y,i,D,k,C,S,b,h,g,m,p,d,u,c,a,O,A,L,W,function(){DY(V)&&(r.addEmptyRecord(),l.selectAndActivateFirstDataEntryCellInLastRow())},()=>{xY(V)&&!DY(V)&&l.onRowSelectionStart(V)},()=>{xY(V)&&!DY(V)&&l.onMouseEnterRowHeaderWhileSelection(V)},w,o,I,_,T,M,E,function(t,r){e.$$.not_equal(V.record[r],t)&&(V.record[r]=t,n(0,V))}]}class YK extends at{constructor(e){super(),it(this,e,UK,WK,p,{row:0,style:1},null,[-1,-1])}}function BK(e,t,n){const r=e.slice();return r[28]=t[n],r}function KK(e,t,n){const r=e.slice();return r[25]=t[n],r[26]=t,r[27]=n,r}function GK(e){let t,n,r=[],o=new Map,s=e[5];const i=e=>e[28];for(let a=0;a<s.length;a+=1){let t=BK(e,s,a),n=i(t);o.set(n,r[a]=JK(n,t))}return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=j()},m(e,o){for(let t=0;t<r.length;t+=1)r[t].m(e,o);P(e,t,o),n=!0},p(e,n){288&n[0]&&(s=e[5],Fe(),r=Qe(r,n,i,1,e,s,o,t.parentNode,Je,JK,t,BK),He())},i(e){if(!n){for(let e=0;e<s.length;e+=1)qe(r[e]);n=!0}},o(e){for(let t=0;t<r.length;t+=1)Ve(r[t]);n=!1},d(e){for(let t=0;t<r.length;t+=1)r[t].d(e);e&&R(t)}}}function XK(e){let t,n;return t=new uP({props:{itemCount:e[5].length,paddingBottom:30,itemSize:e[10],itemKey:e[20],$$slots:{default:[eG,({items:e,api:t})=>({23:e,24:t}),({items:e,api:t})=>[(e?8388608:0)|(t?16777216:0)]]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};32&n[0]&&(r.itemCount=e[5].length),32&n[0]&&(r.itemKey=e[20]),25165872&n[0]|1&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function JK(e,t){let n,r,o;return r=new YK({props:{style:{position:"relative",height:t[8](t[28])},row:t[28]}}),{key:e,first:null,c(){n=j(),rt(r.$$.fragment),this.first=n},m(e,t){P(e,n,t),ot(r,e,t),o=!0},p(e,n){t=e;const o={};32&n[0]&&(o.style={position:"relative",height:t[8](t[28])}),32&n[0]&&(o.row=t[28]),r.$set(o)},i(e){o||(qe(r.$$.fragment,e),o=!0)},o(e){Ve(r.$$.fragment,e),o=!1},d(e){e&&R(n),st(r,e)}}}function ZK(e){let t,n,r;function o(t){e[19](t,e[25])}let s={style:e[25].style};return void 0!==e[5][e[25].index]&&(s.row=e[5][e[25].index]),t=new YK({props:s}),we.push((()=>nt(t,"row",o))),{c(){rt(t.$$.fragment)},m(e,n){ot(t,e,n),r=!0},p(r,o){e=r;const s={};8388608&o[0]&&(s.style=e[25].style),!n&&8388640&o[0]&&(n=!0,s.row=e[5][e[25].index],Te((()=>n=!1))),t.$set(s)},i(e){r||(qe(t.$$.fragment,e),r=!0)},o(e){Ve(t.$$.fragment,e),r=!1},d(e){st(t,e)}}}function QK(e,t){let n,r,o,s=t[5][t[25].index]&&!(DY(t[5][t[25].index])&&!t[4]),i=s&&ZK(t);return{key:e,first:null,c(){n=j(),i&&i.c(),r=j(),this.first=n},m(e,t){P(e,n,t),i&&i.m(e,t),P(e,r,t),o=!0},p(e,n){t=e,8388656&n[0]&&(s=t[5][t[25].index]&&!(DY(t[5][t[25].index])&&!t[4])),s?i?(i.p(t,n),8388656&n[0]&&qe(i,1)):(i=ZK(t),i.c(),qe(i,1),i.m(r.parentNode,r)):i&&(Fe(),Ve(i,1,1,(()=>{i=null})),He())},i(e){o||(qe(i),o=!0)},o(e){Ve(i),o=!1},d(e){e&&R(n),i&&i.d(e),e&&R(r)}}}function eG(e){let t,n,r,o,s=[],i=new Map;t=new lB({props:{api:e[24]}});let a=e[23];const l=e=>e[25].key;for(let c=0;c<a.length;c+=1){let t=KK(e,a,c),n=l(t);i.set(n,s[c]=QK(n,t))}return{c(){rt(t.$$.fragment),n=V();for(let e=0;e<s.length;e+=1)s[e].c();r=j()},m(e,i){ot(t,e,i),P(e,n,i);for(let t=0;t<s.length;t+=1)s[t].m(e,i);P(e,r,i),o=!0},p(e,n){const o={};16777216&n[0]&&(o.api=e[24]),t.$set(o),8388656&n[0]&&(a=e[23],Fe(),s=Qe(s,n,l,1,e,a,i,r.parentNode,Je,QK,r,KK),He())},i(e){if(!o){qe(t.$$.fragment,e);for(let e=0;e<a.length;e+=1)qe(s[e]);o=!0}},o(e){Ve(t.$$.fragment,e);for(let t=0;t<s.length;t+=1)Ve(s[t]);o=!1},d(e){st(t,e),e&&R(n);for(let t=0;t<s.length;t+=1)s[t].d(e);e&&R(r)}}}function tG(e){let t,n,r,o;const s=[XK,GK],i=[];function a(e,t){return e[0]?0:1}return t=a(e),n=i[t]=s[t](e),{c(){n.c(),r=j()},m(e,n){i[t].m(e,n),P(e,r,n),o=!0},p(e,o){let l=t;t=a(e),t===l?i[t].p(e,o):(Fe(),Ve(i[l],1,1,(()=>{i[l]=null})),He(),n=i[t],n?n.p(e,o):(n=i[t]=s[t](e),n.c()),qe(n,1),n.m(r.parentNode,r))},i(e){o||(qe(n),o=!0)},o(e){Ve(n),o=!1},d(e){i[t].d(e),e&&R(r)}}}function nG(e){let t,n,r=e[3],o=tG(e);return{c(){o.c(),t=j()},m(e,r){o.m(e,r),P(e,t,r),n=!0},p(e,n){8&n[0]&&p(r,r=e[3])?(Fe(),Ve(o,1,1,s),He(),o=tG(e),o.c(),qe(o,1),o.m(t.parentNode,t)):o.p(e,n)},i(e){n||(qe(o),n=!0)},o(e){Ve(o),n=!1},d(e){e&&R(t),o.d(e)}}}function rG(e,t,n){let r,o,i,a,l,c,u,d,p,m,g,h,y,v,b,w=s,x=s;f(e,Xh,(e=>n(17,v=e))),f(e,vh,(e=>n(18,b=e))),e.$$.on_destroy.push((()=>w())),e.$$.on_destroy.push((()=>x()));const S=sB();f(e,S,(e=>n(15,h=e)));const C=Uv();f(e,C,(e=>n(16,y=e)));let{usesVirtualList:k=!1}=t;function D(e){return CY(e)?24:kY(e)?64:cN}function I(e,t){return t?TY(t,g?.id):`__index_${e}`}return e.$$set=e=>{"usesVirtualList"in e&&n(0,k=e.usesVirtualList)},e.$$.update=()=>{262144&e.$$.dirty[0]&&n(14,r=b),131072&e.$$.dirty[0]&&n(13,o=v),90112&e.$$.dirty[0]&&n(4,i=!!y?.hasPermission({database:r,schema:o},"canEditTableRecords")),32768&e.$$.dirty[0]&&n(3,({id:a,display:l,columnsDataStore:c,selection:u}=h),a,(n(12,l),n(15,h)),(n(11,c),n(15,h))),4096&e.$$.dirty[0]&&(n(2,({displayableRecords:d}=l),d),w(),w=$(d,(e=>n(5,m=e)))),2048&e.$$.dirty[0]&&(n(1,({pkColumn:p}=c),p),x(),x=$(p,(e=>n(22,g=e))))},[k,p,d,a,i,m,S,C,D,I,function(e){const t=m?.[e];return t?D(t):cN},c,l,o,r,h,y,v,b,function(t,n){e.$$.not_equal(m[n.index],t)&&(m[n.index]=t,d.set(m))},e=>I(e,m[e])]}class oG extends at{constructor(e){super(),it(this,e,rG,nG,p,{usesVirtualList:0},null,[-1,-1])}}function sG(e){let t,n;const r=[{column:e[0]},e[1]];let o={};for(let s=0;s<r.length;s+=1)o=a(o,r[s]);return t=new dL({props:o}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const o=3&n?et(r,[1&n&&{column:e[0]},2&n&&tt(e[1])]):{};t.$set(o)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function iG(e,t,n){let r;const o=["processedColumn"];let s=x(t,o),{processedColumn:i}=t;return e.$$set=e=>{t=a(a({},t),w(e)),n(1,s=x(t,o)),"processedColumn"in e&&n(2,i=e.processedColumn)},e.$$.update=()=>{var t;4&e.$$.dirty&&n(0,r={...(t=i).column,constraintsType:t.linkFk?[t.linkFk.type]:void 0})},[r,s,i]}class aG extends at{constructor(e){super(),it(this,e,iG,sG,p,{processedColumn:2})}}function lG(e){let t,n,r,o,s=e[3]&&cG(e),i=e[4]&&uG(),a=e[2]&&dG();return{c(){t=F("div"),s&&s.c(),n=V(),i&&i.c(),r=V(),a&&a.c(),B(t,"class","indicator-icons svelte-16ujqv6")},m(e,l){P(e,t,l),s&&s.m(t,null),A(t,n),i&&i.m(t,null),A(t,r),a&&a.m(t,null),o=!0},p(e,o){e[3]?s?(s.p(e,o),8&o&&qe(s,1)):(s=cG(e),s.c(),qe(s,1),s.m(t,n)):s&&(Fe(),Ve(s,1,1,(()=>{s=null})),He()),e[4]?i?(i.p(e,o),16&o&&qe(i,1)):(i=uG(),i.c(),qe(i,1),i.m(t,r)):i&&(Fe(),Ve(i,1,1,(()=>{i=null})),He()),e[2]?a?(a.p(e,o),4&o&&qe(a,1)):(a=dG(),a.c(),qe(a,1),a.m(t,null)):a&&(Fe(),Ve(a,1,1,(()=>{a=null})),He())},i(e){o||(qe(s),qe(i),qe(a),o=!0)},o(e){Ve(s),Ve(i),Ve(a),o=!1},d(e){e&&R(t),s&&s.d(),i&&i.d(),a&&a.d()}}}function cG(e){let t,n;const r=["ASCENDING"===e[3]?Ym:Bm];let o={};for(let s=0;s<r.length;s+=1)o=a(o,r[s]);return t=new Wr({props:o}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const o=8&n?et(r,[tt("ASCENDING"===e[3]?Ym:Bm)]):{};t.$set(o)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function uG(e){let t,n;const r=[lf];let o={};for(let s=0;s<r.length;s+=1)o=a(o,r[s]);return t=new Wr({props:o}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const o=0&n?et(r,[tt(lf)]):{};t.$set(o)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function dG(e){let t,n;const r=[cf];let o={};for(let s=0;s<r.length;s+=1)o=a(o,r[s]);return t=new Wr({props:o}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const o=0&n?et(r,[tt(cf)]):{};t.$set(o)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function pG(e){let t,n,r,o,s,i,a,l,c;n=new rE({props:{when:e[1],color:"var(--cell-bg-color-row-selected)"}}),s=new aG({props:{processedColumn:e[0]}});let d=(e[3]||e[4]||e[2])&&lG(e);return{c(){t=F("div"),rt(n.$$.fragment),r=V(),o=F("div"),rt(s.$$.fragment),i=V(),d&&d.c(),B(o,"class","header-cell-btn btn btn-ghost size-medium  svelte-16ujqv6"),Z(o,"cursor","inherit"),B(t,"class","header-cell-root svelte-16ujqv6")},m(u,p){P(u,t,p),ot(n,t,null),A(t,r),A(t,o),ot(s,o,null),A(o,i),d&&d.m(o,null),a=!0,l||(c=[W(o,"click",e[14]),W(o,"mousedown",e[15]),W(o,"mouseenter",e[16])],l=!0)},p(e,[t]){const r={};2&t&&(r.when=e[1]),n.$set(r);const i={};1&t&&(i.processedColumn=e[0]),s.$set(i),e[3]||e[4]||e[2]?d?(d.p(e,t),28&t&&qe(d,1)):(d=lG(e),d.c(),qe(d,1),d.m(o,null)):d&&(Fe(),Ve(d,1,1,(()=>{d=null})),He())},i(e){a||(qe(n.$$.fragment,e),qe(s.$$.fragment,e),qe(d),a=!0)},o(e){Ve(n.$$.fragment,e),Ve(s.$$.fragment,e),Ve(d),a=!1},d(e){e&&R(t),st(n),st(s),d&&d.d(),l=!1,u(c)}}}function $G(e,t,n){let r,o,i,a,l,c,u,d,p,m,g,h=s,y=s,v=s;e.$$.on_destroy.push((()=>h())),e.$$.on_destroy.push((()=>y())),e.$$.on_destroy.push((()=>v()));let{processedColumn:b}=t,{isSelected:w=!1}=t;const x=sB();return f(e,x,(e=>n(13,g=e))),e.$$set=e=>{"processedColumn"in e&&n(0,b=e.processedColumn),"isSelected"in e&&n(1,w=e.isSelected)},e.$$.update=()=>{8192&e.$$.dirty&&n(9,({meta:r}=g),r),512&e.$$.dirty&&(n(7,({filtering:o,sorting:i,grouping:a}=r),o,(n(6,i),y(),y=$(i,(e=>n(11,p=e))),i),(n(5,a),h(),h=$(a,(e=>n(10,d=e))),a)),v(),v=$(o,(e=>n(12,m=e)))),4097&e.$$.dirty&&n(4,l=m.entries.some((e=>e.columnId===b.id))),2049&e.$$.dirty&&n(3,c=p.get(b.id)),1025&e.$$.dirty&&n(2,u=d.entries.some((e=>e.columnId===b.id)))},[b,w,u,c,l,a,i,o,x,r,d,p,m,g,function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)}]}class mG extends at{constructor(e){super(),it(this,e,$G,pG,p,{processedColumn:0,isSelected:1})}}function fG(e){let t,n=e[7]+"";return{c(){t=q(n)},m(e,n){P(e,t,n)},p(e,r){128&r&&n!==(n=e[7]+"")&&X(t,n)},d(e){e&&R(t)}}}function gG(e){let t,n;return t=new nb({props:{icon:e[6].getIcon(),$$slots:{default:[fG]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};64&n&&(r.icon=e[6].getIcon()),384&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function hG(e){let t,n;return t=new Uu({props:{options:e[2],getLabel:yG,value:e[3],valuesAreEqual:vG,offsetOnFocus:2,disabled:e[1],$$slots:{default:[gG,({option:e,label:t})=>({6:e,7:t}),({option:e,label:t})=>(e?64:0)|(t?128:0)]},$$scope:{ctx:e}}}),t.$on("change",e[5]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const r={};4&n&&(r.options=e[2]),8&n&&(r.value=e[3]),2&n&&(r.disabled=e[1]),448&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}const yG=e=>e?.name??"",vG=(e,t)=>e?.identifier===t?.identifier;function bG(e,t,n){let r,o,s;f(e,gM,(e=>n(4,s=e)));let{value:i=cM}=t,{disabled:a=!1}=t;return e.$$set=e=>{"value"in e&&n(0,i=e.value),"disabled"in e&&n(1,a=e.disabled)},e.$$.update=()=>{var t;17&e.$$.dirty&&n(3,r=iM(i,s.data)),16&e.$$.dirty&&n(2,(t=s.data,o=[...t.values()].filter((e=>!lM[e.identifier])).sort(((e,t)=>e.name.localeCompare(t.name)))))},[i,a,o,r,s,e=>{n(0,i=e.detail?function(e){return e.defaultDbType?e.defaultDbType:e.dbTypes.size>0?[...e.dbTypes][0]:cM}(e.detail):cM)}]}class wG extends at{constructor(e){super(),it(this,e,bG,hG,p,{value:0,disabled:1})}}function xG(e){let t,n;const r=[{class:"opt"},xm,{size:"0.9em"}];let o={};for(let s=0;s<r.length;s+=1)o=a(o,r[s]);return t=new Wr({props:o}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const o=0&n?et(r,[r[0],tt(xm),r[2]]):{};t.$set(o)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function SG(e){let t,n;return t=new Tr({}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p:s,i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function CG(e){let t,n,r,o;const s=[SG,xG],i=[];function a(e,t){return e[4]?0:1}return t=a(e),n=i[t]=s[t](e),{c(){n.c(),r=j()},m(e,n){i[t].m(e,n),P(e,r,n),o=!0},p(e,o){let l=t;t=a(e),t===l?i[t].p(e,o):(Fe(),Ve(i[l],1,1,(()=>{i[l]=null})),He(),n=i[t],n?n.p(e,o):(n=i[t]=s[t](e),n.c()),qe(n,1),n.m(r.parentNode,r))},i(e){o||(qe(n),o=!0)},o(e){Ve(n),o=!1},d(e){i[t].d(e),e&&R(r)}}}function kG(e){let t,n,r,o,s,i,a,l;function c(){return e[11](e[14])}return n=new By({props:{field:e[1],label:"Column Name",layout:"stacked"}}),o=new By({props:{field:e[6],input:{component:wG},label:"Select Type",layout:"stacked"}}),a=new Zy({props:{form:e[0],proceedButton:{label:"Add"},onProceed:c,onCancel:e[14],catchErrors:!0}}),{c(){t=F("div"),rt(n.$$.fragment),r=V(),rt(o.$$.fragment),s=V(),i=F("div"),rt(a.$$.fragment),B(i,"class","submit svelte-1ci5n5s"),B(t,"slot","content"),B(t,"class","new-column-dropdown svelte-1ci5n5s")},m(e,c){P(e,t,c),ot(n,t,null),A(t,r),ot(o,t,null),A(t,s),A(t,i),ot(a,i,null),l=!0},p(t,r){e=t;const o={};2&r&&(o.field=e[1]),n.$set(o);const s={};1&r&&(s.form=e[0]),16384&r&&(s.onProceed=c),16384&r&&(s.onCancel=e[14]),a.$set(s)},i(e){l||(qe(n.$$.fragment,e),qe(o.$$.fragment,e),qe(a.$$.fragment,e),l=!0)},o(e){Ve(n.$$.fragment,e),Ve(o.$$.fragment,e),Ve(a.$$.fragment,e),l=!1},d(e){e&&R(t),st(n),st(o),st(a)}}}function DG(e){let t,n;return t=new ma({props:{closeOnInnerClick:!1,triggerAppearance:"secondary",showArrow:!1,ariaLabel:"New Column",disabled:e[4],$$slots:{content:[kG,({close:e})=>({14:e}),({close:e})=>e?16384:0],trigger:[CG]},$$scope:{ctx:e}}}),t.$on("close",(function(){d(e[0].reset)&&e[0].reset.apply(this,arguments)})),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(n,[r]){e=n;const o={};16&r&&(o.disabled=e[4]),49171&r&&(o.$$scope={dirty:r,ctx:e}),t.$set(o)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function IG(e,t,n){let r,o,i,a,l,c,u,d,p,m,g=s,h=s,y=s;e.$$.on_destroy.push((()=>g())),e.$$.on_destroy.push((()=>h())),e.$$.on_destroy.push((()=>y()));const v=sB();f(e,v,(e=>n(10,p=e)));const b=rv(void 0);async function w(e){const t={name:u,type:c,nullable:!0,primary_key:!1};await r.add(t),e()}f(e,b,(e=>n(12,c=e)));return e.$$.update=()=>{1024&e.$$.dirty&&n(8,({columnsDataStore:r}=p),r),256&e.$$.dirty&&(n(3,({columns:o}=r),o),h(),h=$(o,(e=>n(9,d=e)))),512&e.$$.dirty&&(n(1,i=rv("",[iL(d)])),g(),g=$(i,(e=>n(13,u=e)))),2&e.$$.dirty&&n(0,a=sv({columnName:i,columnType:b})),1&e.$$.dirty&&(n(2,({isSubmitting:l}=a),l),y(),y=$(l,(e=>n(4,m=e))))},[a,i,l,o,m,v,b,w,r,d,p,e=>w(e)]}class _G extends at{constructor(e){super(),it(this,e,IG,DG,p,{})}}function TG(e){let t,n,r,o;const s=e[5].default,i=g(s,e,e[4],null);return{c(){t=F("div"),i&&i.c(),B(t,"class","draggable svelte-3gs1al"),B(t,"draggable",e[0]),te(t,"draggable_active",e[0])},m(s,a){P(s,t,a),i&&i.m(t,null),n=!0,r||(o=W(t,"dragstart",e[6]),r=!0)},p(e,[r]){i&&i.p&&(!n||16&r)&&v(i,s,e,e[4],n?y(s,e[4],r,null):b(e[4]),null),(!n||1&r)&&B(t,"draggable",e[0]),(!n||1&r)&&te(t,"draggable_active",e[0])},i(e){n||(qe(i,e),n=!0)},o(e){Ve(i,e),n=!1},d(e){e&&R(t),i&&i.d(e),r=!1,o()}}}function MG(e,t,n){let r,{$$slots:o={},$$scope:s}=t,{selection:i}=t,{selectionInProgress:a=!0}=t,{column:l}=t;return e.$$set=e=>{"selection"in e&&n(1,i=e.selection),"selectionInProgress"in e&&n(2,a=e.selectionInProgress),"column"in e&&n(3,l=e.column),"$$scope"in e&&n(4,s=e.$$scope)},e.$$.update=()=>{14&e.$$.dirty&&n(0,r=!a&&i&&i.isCompleteColumnSelected(l))},[r,i,a,l,s,o,function(t){ve.call(this,e,t)}]}class EG extends at{constructor(e){super(),it(this,e,MG,TG,p,{selection:1,selectionInProgress:2,column:3})}}const OG=e=>({}),AG=e=>({class:"drag-over"});function LG(e){let t,n,r,o;const s=e[10].default,i=g(s,e,e[9],AG);return{c(){t=F("div"),i&&i.c(),B(t,"class","droppable svelte-15893zs"),te(t,"is_selected",e[0]),te(t,"dragged_over",e[1]),te(t,"dragged_over_right",e[3]),te(t,"dragged_over_left",e[2])},m(s,a){P(s,t,a),i&&i.m(t,null),n=!0,r||(o=[W(t,"drop",e[11]),W(t,"dragover",NG),W(t,"dragenter",e[12]),W(t,"dragleave",e[13])],r=!0)},p(e,[r]){i&&i.p&&(!n||512&r)&&v(i,s,e,e[9],n?y(s,e[9],r,OG):b(e[9]),AG),(!n||1&r)&&te(t,"is_selected",e[0]),(!n||2&r)&&te(t,"dragged_over",e[1]),(!n||8&r)&&te(t,"dragged_over_right",e[3]),(!n||4&r)&&te(t,"dragged_over_left",e[2])},i(e){n||(qe(i,e),n=!0)},o(e){Ve(i,e),n=!1},d(e){e&&R(t),i&&i.d(e),r=!1,u(o)}}}const NG=e=>e.preventDefault();function PG(e,t,n){let r,o,s,i,{$$slots:a={},$$scope:l}=t,{locationOfFirstDraggedColumn:c}=t,{columnLocation:u}=t,{isSelected:d=!1}=t;function p(e){e.preventDefault(),n(1,i+=1)}function $(){n(1,i-=1)}return e.$$set=e=>{"locationOfFirstDraggedColumn"in e&&n(6,c=e.locationOfFirstDraggedColumn),"columnLocation"in e&&n(7,u=e.columnLocation),"isSelected"in e&&n(0,d=e.isSelected),"$$scope"in e&&n(9,l=e.$$scope)},e.$$.update=()=>{192&e.$$.dirty&&n(8,r=void 0!==c?c-u:0),256&e.$$.dirty&&n(3,o=r<0),256&e.$$.dirty&&n(2,s=r>0),64&e.$$.dirty&&n(1,i=void 0===c?0:i)},[d,i,s,o,p,$,c,u,r,l,a,function(t){ve.call(this,e,t)},e=>p(e),()=>$()]}class RG extends at{constructor(e){super(),it(this,e,PG,LG,p,{locationOfFirstDraggedColumn:6,columnLocation:7,isSelected:0})}}function zG(e,t,n){const r=e.slice();return r[28]=t[n][0],r[29]=t[n][1],r}function FG(e){let t,n,r=[e[26],{style:n=e[27]}],o={};for(let s=0;s<r.length;s+=1)o=a(o,r[s]);return{c(){t=F("div"),K(t,o),te(t,"svelte-1vwp6b3",!0)},m(e,n){P(e,t,n)},p(e,s){K(t,o=et(r,[67108864&s[0]&&e[26],134217728&s[0]&&n!==(n=e[27])&&{style:n}])),te(t,"svelte-1vwp6b3",!0)},d(e){e&&R(t)}}}function HG(e){let t,n;return t=new RG({props:{locationOfFirstDraggedColumn:0,columnLocation:-1,$$slots:{default:[FG]},$$scope:{ctx:e}}}),t.$on("drop",e[18]),t.$on("dragover",XG),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};201326592&n[0]|2&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function qG(e){let t,n;return t=new mG({props:{processedColumn:e[29],isSelected:wP(e[3],e[2],e[29])}}),t.$on("mousedown",(function(){return e[19](e[29])})),t.$on("mouseenter",(function(){return e[20](e[29])})),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(n,r){e=n;const o={};1024&r[0]&&(o.processedColumn=e[29]),1036&r[0]&&(o.isSelected=wP(e[3],e[2],e[29])),t.$set(o)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function VG(e){let t,n;return t=new RG({props:{locationOfFirstDraggedColumn:e[4],columnLocation:e[5].indexOf(e[28].toString()),isSelected:wP(e[3],e[2],e[29]),$$slots:{default:[qG]},$$scope:{ctx:e}}}),t.$on("drop",(function(){return e[21](e[29])})),t.$on("dragover",JG),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(n,r){e=n;const o={};16&r[0]&&(o.locationOfFirstDraggedColumn=e[4]),1056&r[0]&&(o.columnLocation=e[5].indexOf(e[28].toString())),1036&r[0]&&(o.isSelected=wP(e[3],e[2],e[29])),1038&r[0]|2&r[1]&&(o.$$scope={dirty:r,ctx:e}),t.$set(o)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function jG(e){let t,n;return t=new nK({props:{processedColumn:e[29]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1024&n[0]&&(r.processedColumn=e[29]),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function WG(e){let t,n,r,o,s,i,l,c,u;r=new EG({props:{column:e[29],selection:e[1],selectionInProgress:e[11],$$slots:{default:[VG]},$$scope:{ctx:e}}}),r.$on("dragstart",e[22]),s=new lN({props:{columnIdentifierKey:e[28]}}),l=new Is({props:{$$slots:{default:[jG]},$$scope:{ctx:e}}});let d=[e[26],{style:c=e[27]}],p={};for(let $=0;$<d.length;$+=1)p=a(p,d[$]);return{c(){t=F("div"),n=F("div"),rt(r.$$.fragment),o=V(),rt(s.$$.fragment),i=V(),rt(l.$$.fragment),K(n,p),te(n,"svelte-1vwp6b3",!0)},m(e,a){P(e,t,a),A(t,n),ot(r,n,null),A(n,o),ot(s,n,null),A(n,i),ot(l,n,null),u=!0},p(e,t){const o={};1024&t[0]&&(o.column=e[29]),2&t[0]&&(o.selection=e[1]),2048&t[0]&&(o.selectionInProgress=e[11]),1086&t[0]|2&t[1]&&(o.$$scope={dirty:t,ctx:e}),r.$set(o);const i={};1024&t[0]&&(i.columnIdentifierKey=e[28]),s.$set(i);const a={};1024&t[0]|2&t[1]&&(a.$$scope={dirty:t,ctx:e}),l.$set(a),K(n,p=et(d,[67108864&t[0]&&e[26],(!u||134217728&t[0]&&c!==(c=e[27]))&&{style:c}])),te(n,"svelte-1vwp6b3",!0)},i(e){u||(qe(r.$$.fragment,e),qe(s.$$.fragment,e),qe(l.$$.fragment,e),u=!0)},o(e){Ve(r.$$.fragment,e),Ve(s.$$.fragment,e),Ve(l.$$.fragment,e),u=!1},d(e){e&&R(t),st(r),st(s),st(l)}}}function UG(e,t){let n,r,o;return r=new eN({props:{columnIdentifierKey:t[28],$$slots:{default:[WG,({htmlAttributes:e,style:t})=>({26:e,27:t}),({htmlAttributes:e,style:t})=>[(e?67108864:0)|(t?134217728:0)]]},$$scope:{ctx:t}}}),{key:e,first:null,c(){n=j(),rt(r.$$.fragment),this.first=n},m(e,t){P(e,n,t),ot(r,e,t),o=!0},p(e,n){t=e;const o={};1024&n[0]&&(o.columnIdentifierKey=t[28]),201329726&n[0]|2&n[1]&&(o.$$scope={dirty:n,ctx:t}),r.$set(o)},i(e){o||(qe(r.$$.fragment,e),o=!0)},o(e){Ve(r.$$.fragment,e),o=!1},d(e){e&&R(n),st(r,e)}}}function YG(e){let t,n;return t=new eN({props:{columnIdentifierKey:-2,$$slots:{default:[BG,({htmlAttributes:e,style:t})=>({26:e,27:t}),({htmlAttributes:e,style:t})=>[(e?67108864:0)|(t?134217728:0)]]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};201326592&n[0]|2&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function BG(e){let t,n,r,o;n=new _G({});let s=[e[26],{class:"new-column-cell"},{style:r=e[27]}],i={};for(let l=0;l<s.length;l+=1)i=a(i,s[l]);return{c(){t=F("div"),rt(n.$$.fragment),K(t,i),te(t,"svelte-1vwp6b3",!0)},m(e,r){P(e,t,r),ot(n,t,null),o=!0},p(e,n){K(t,i=et(s,[67108864&n[0]&&e[26],{class:"new-column-cell"},(!o||134217728&n[0]&&r!==(r=e[27]))&&{style:r}])),te(t,"svelte-1vwp6b3",!0)},i(e){o||(qe(n.$$.fragment,e),o=!0)},o(e){Ve(n.$$.fragment,e),o=!1},d(e){e&&R(t),st(n)}}}function KG(e){let t,n,r,o,s,i=[],a=new Map;t=new eN({props:{columnIdentifierKey:-1,isStatic:!0,isControlCell:!0,$$slots:{default:[HG,({htmlAttributes:e,style:t})=>({26:e,27:t}),({htmlAttributes:e,style:t})=>[(e?67108864:0)|(t?134217728:0)]]},$$scope:{ctx:e}}});let l=[...e[10]];const c=e=>e[28];for(let d=0;d<l.length;d+=1){let t=zG(e,l,d),n=c(t);a.set(n,i[d]=UG(n,t))}let u=e[0]&&YG(e);return{c(){rt(t.$$.fragment),n=V();for(let e=0;e<i.length;e+=1)i[e].c();r=V(),u&&u.c(),o=j()},m(e,a){ot(t,e,a),P(e,n,a);for(let t=0;t<i.length;t+=1)i[t].m(e,a);P(e,r,a),u&&u.m(e,a),P(e,o,a),s=!0},p(e,n){const s={};201326592&n[0]|2&n[1]&&(s.$$scope={dirty:n,ctx:e}),t.$set(s),201354302&n[0]&&(l=[...e[10]],Fe(),i=Qe(i,n,c,1,e,l,a,r.parentNode,Je,UG,r,zG),He()),e[0]?u?(u.p(e,n),1&n[0]&&qe(u,1)):(u=YG(e),u.c(),qe(u,1),u.m(o.parentNode,o)):u&&(Fe(),Ve(u,1,1,(()=>{u=null})),He())},i(e){if(!s){qe(t.$$.fragment,e);for(let e=0;e<l.length;e+=1)qe(i[e]);qe(u),s=!0}},o(e){Ve(t.$$.fragment,e);for(let t=0;t<i.length;t+=1)Ve(i[t]);Ve(u),s=!1},d(e){st(t,e),e&&R(n);for(let t=0;t<i.length;t+=1)i[t].d(e);e&&R(r),u&&u.d(e),e&&R(o)}}}function GG(e){let t,n;return t=new GL({props:{$$slots:{default:[KG]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};3135&n[0]|2&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}const XG=e=>e.preventDefault(),JG=e=>e.preventDefault();function ZG(e,t,n){let r,o,i,a,l,c,u,d,p,m,g,h,y=s,v=s,b=s,w=s;e.$$.on_destroy.push((()=>y())),e.$$.on_destroy.push((()=>v())),e.$$.on_destroy.push((()=>b())),e.$$.on_destroy.push((()=>w()));const x=sB();f(e,x,(e=>n(17,g=e)));let S,{hasNewColumnButton:C=!1}=t,{columnOrder:k}=t,{table:D}=t,I=[],_=[];function T(){for(const e of d.keys()){const t=e.toString();n(5,r=[...new Set(r)]),r.includes(t)||n(5,r=[...r,t])}n(5,r),n(15,k);for(const e of r)u.map(String).includes(e)?(I.push(e),S||n(4,S=r.indexOf(e))):_.push(e)}function M(e){if(u.length>0&&e&&u[0]===e.id)return n(4,S=void 0),I=[],void(_=[]);e?_.splice(r.indexOf(e.id.toString()),0,...I):_.splice(0,0,...I),function(e,t){Mv(e,{column_order:[...new Set(t)]})}(D,_.map(Number)),n(4,S=void 0),I=[],_=[]}return e.$$set=e=>{"hasNewColumnButton"in e&&n(0,C=e.hasNewColumnButton),"columnOrder"in e&&n(15,k=e.columnOrder),"table"in e&&n(16,D=e.table)},e.$$.update=()=>{32768&e.$$.dirty[0]&&n(15,k=k??[]),32768&e.$$.dirty[0]&&n(5,r=k.map(String)),131072&e.$$.dirty[0]&&n(1,({selection:o,processedColumns:i}=g),o,(n(9,i),y(),y=$(i,(e=>n(10,d=e))),i)),2&e.$$.dirty[0]&&(n(8,({selectedCells:a,columnsSelectedWhenTheTableIsEmpty:l,selectionInProgress:c}=o),a,(n(7,l),v(),v=$(l,(e=>n(2,p=e))),l),(n(6,c),w(),w=$(c,(e=>n(11,h=e))),c)),b(),b=$(a,(e=>n(3,m=e)))),14&e.$$.dirty[0]&&(u=o.getSelectedUniqueColumnsId(m,p))},[C,o,p,m,S,r,c,l,a,i,d,h,x,T,M,k,D,g,()=>M(),e=>o.onColumnSelectionStart(e),e=>o.onMouseEnterColumnHeaderWhileSelection(e),e=>M(e),()=>T()]}class QG extends at{constructor(e){super(),it(this,e,ZG,GG,p,{hasNewColumnButton:0,columnOrder:15,table:16},null,[-1,-1])}}function eX(e){let t,n;return t=new Ln({props:{disabled:e[3],size:"medium",appearance:"primary",$$slots:{default:[tX]},$$scope:{ctx:e}}}),t.$on("click",e[38]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};8&n[0]&&(r.disabled=e[3]),512&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function tX(e){let t,n,r,o;const s=[xm];let i={};for(let l=0;l<s.length;l+=1)i=a(i,s[l]);return t=new Wr({props:i}),{c(){rt(t.$$.fragment),n=V(),r=F("span"),r.textContent="New Record"},m(e,s){ot(t,e,s),P(e,n,s),P(e,r,s),o=!0},p(e,n){const r=0&n?et(s,[tt(xm)]):{};t.$set(r)},i(e){o||(qe(t.$$.fragment,e),o=!0)},o(e){Ve(t.$$.fragment,e),o=!1},d(e){st(t,e),e&&R(n),e&&R(r)}}}function nX(e){let t;return{c(){t=q("No records found")},m(e,n){P(e,t,n)},p:s,d(e){e&&R(t)}}}function rX(e){let t,n,r,o,s,i,a,l=Eb(e[4],"records")+"",c=e[19].length>0&&oX(e);return{c(){t=q("Showing "),n=q(e[14]),r=q(" to "),o=q(e[8]),s=V(),c&&c.c(),i=q("\n        of "),a=q(l)},m(e,l){P(e,t,l),P(e,n,l),P(e,r,l),P(e,o,l),P(e,s,l),c&&c.m(e,l),P(e,i,l),P(e,a,l)},p(e,t){16384&t[0]&&X(n,e[14]),256&t[0]&&X(o,e[8]),e[19].length>0?c?c.p(e,t):(c=oX(e),c.c(),c.m(i.parentNode,i)):c&&(c.d(1),c=null),16&t[0]&&l!==(l=Eb(e[4],"records")+"")&&X(a,l)},d(e){e&&R(t),e&&R(n),e&&R(r),e&&R(o),e&&R(s),c&&c.d(e),e&&R(i),e&&R(a)}}}function oX(e){let t,n,r,o,s,i=e[19].length+"",a=Mb(e[19],"records")+"";return{c(){t=q("(+ "),n=q(i),r=q(" new "),o=q(a),s=q(")")},m(e,i){P(e,t,i),P(e,n,i),P(e,r,i),P(e,o,i),P(e,s,i)},p(e,t){524288&t[0]&&i!==(i=e[19].length+"")&&X(n,i),524288&t[0]&&a!==(a=Mb(e[19],"records")+"")&&X(o,a)},d(e){e&&R(t),e&&R(n),e&&R(r),e&&R(o),e&&R(s)}}}function sX(e){let t,n,r,o,s,i,a,l,c,u,d,p=e[7]&&eX(e);function $(e,t){return e[9]>0&&e[4]?rX:e[1]!==rh.Loading?nX:void 0}let m=$(e),f=m&&m(e);function g(t){e[39](t)}let h={totalCount:e[4]??0,pageSizeOptions:"widget"===e[0]?[]:void 0,hiddenWhenPossible:"widget"===e[0]};return void 0!==e[5]&&(h.pagination=e[5]),a=new cH({props:h}),we.push((()=>nt(a,"pagination",g))),u=new bH({props:{state:e[6]}}),u.$on("click",e[22]),{c(){t=F("div"),n=F("div"),p&&p.c(),r=V(),o=F("div"),f&&f.c(),s=V(),i=F("div"),rt(a.$$.fragment),c=V(),rt(u.$$.fragment),B(o,"class","record-count"),B(n,"class","status-pane-items-section svelte-14gcgi5"),B(i,"class","status-pane-items-section svelte-14gcgi5"),B(t,"class","status-pane svelte-14gcgi5"),te(t,"context-widget","widget"===e[0]),te(t,"context-page","page"===e[0]),te(t,"context-shared-consumer-page","shared-consumer-page"===e[0])},m(e,l){P(e,t,l),A(t,n),p&&p.m(n,null),A(n,r),A(n,o),f&&f.m(o,null),A(t,s),A(t,i),ot(a,i,null),A(i,c),ot(u,i,null),d=!0},p(e,s){e[7]?p?(p.p(e,s),128&s[0]&&qe(p,1)):(p=eX(e),p.c(),qe(p,1),p.m(n,r)):p&&(Fe(),Ve(p,1,1,(()=>{p=null})),He()),m===(m=$(e))&&f?f.p(e,s):(f&&f.d(1),f=m&&m(e),f&&(f.c(),f.m(o,null)));const i={};16&s[0]&&(i.totalCount=e[4]??0),1&s[0]&&(i.pageSizeOptions="widget"===e[0]?[]:void 0),1&s[0]&&(i.hiddenWhenPossible="widget"===e[0]),!l&&32&s[0]&&(l=!0,i.pagination=e[5],Te((()=>l=!1))),a.$set(i);const c={};64&s[0]&&(c.state=e[6]),u.$set(c),(!d||1&s[0])&&te(t,"context-widget","widget"===e[0]),(!d||1&s[0])&&te(t,"context-page","page"===e[0]),(!d||1&s[0])&&te(t,"context-shared-consumer-page","shared-consumer-page"===e[0])},i(e){d||(qe(p),qe(a.$$.fragment,e),qe(u.$$.fragment,e),d=!0)},o(e){Ve(p),Ve(a.$$.fragment,e),Ve(u.$$.fragment,e),d=!1},d(e){e&&R(t),p&&p.d(),f&&f.d(),st(a),st(u)}}}function iX(e,t,n){let r,o,i,a,l,c,u,d,p,m,g,h,y,v,b,w,x,S,C,k,D,I,_,T,M,E,O,A,L,N,P,R,z,F,H=s,q=s,V=s,j=s,W=s,U=s,Y=s;f(e,Xh,(e=>n(36,R=e))),f(e,vh,(e=>n(37,z=e))),e.$$.on_destroy.push((()=>H())),e.$$.on_destroy.push((()=>q())),e.$$.on_destroy.push((()=>V())),e.$$.on_destroy.push((()=>j())),e.$$.on_destroy.push((()=>W())),e.$$.on_destroy.push((()=>U())),e.$$.on_destroy.push((()=>Y()));const B=sB();f(e,B,(e=>n(31,T=e)));const K=Uv();f(e,K,(e=>n(35,P=e)));let{context:G="page"}=t;return e.$$set=e=>{"context"in e&&n(0,G=e.context)},e.$$.update=()=>{64&e.$$.dirty[1]&&n(30,r=z),32&e.$$.dirty[1]&&n(29,o=R),1610612736&e.$$.dirty[0]|16&e.$$.dirty[1]&&n(24,i=!!P?.hasPermission({database:r,schema:o},"canEditTableRecords")),1&e.$$.dirty[1]&&n(2,({recordsData:a,meta:l,isLoading:c,columnsDataStore:u,constraintsDataStore:d,selection:p}=T),a,(n(28,l),n(31,T)),(n(18,c),H(),H=$(c,(e=>n(3,M=e))),c),(n(27,u),n(31,T)),(n(17,d),q(),q=$(d,(e=>n(32,E=e))),d),(n(16,p),n(31,T))),268435456&e.$$.dirty[0]&&(n(15,({pagination:m}=l),m),U(),U=$(m,(e=>n(5,N=e)))),32&e.$$.dirty[0]&&n(26,({size:g,leftBound:h,rightBound:y}=N),g,(n(14,h),n(5,N)),(n(25,y),n(5,N))),4&e.$$.dirty[0]&&(n(13,({totalCount:v,state:b,newRecords:w}=a),v,(n(12,b),W(),W=$(b,(e=>n(34,L=e))),b),(n(11,w),Y(),Y=$(w,(e=>n(19,F=e))),w)),j(),j=$(v,(e=>n(4,A=e)))),8&e.$$.dirty[1]&&n(1,x=L),134217728&e.$$.dirty[0]&&(n(10,S=u.fetchStatus),V(),V=$(S,(e=>n(33,O=e)))),67108880&e.$$.dirty[0]&&n(9,C=Qt(A??0,g)),33554448&e.$$.dirty[0]&&n(8,k=Math.min(A??0,y)),2&e.$$.dirty[0]|6&e.$$.dirty[1]&&n(23,D="failure"===O?.state||x===rh.Error||E.state===rh.Error),16777217&e.$$.dirty[0]&&n(7,I="widget"!==G&&i),8388616&e.$$.dirty[0]&&n(6,_=(()=>{let e;return M&&(e="loading"),D&&(e="error"),e})())},[G,x,a,M,A,N,_,I,k,C,S,w,b,v,h,m,p,d,c,F,B,K,function(){T.refresh()},D,i,y,g,u,l,o,r,T,E,O,L,P,R,z,()=>{a.addEmptyRecord(),p.selectAndActivateFirstDataEntryCellInLastRow()},function(e){N=e,m.set(N)}]}class aX extends at{constructor(e){super(),it(this,e,iX,sX,p,{context:0},null,[-1,-1])}}function lX(e){return!e.name.match(/[{}]/)}function cX(e,t){const n=(t.match(/\{\d+\}/g)??[]).map((e=>parseInt(e.slice(1,-1),10)));return e.filter((e=>n.includes(e.id)))}function uX(e){return Qh((t=>cX(e,t).length>0),"The template must reference at least one column, otherwise the record summary will be the same for all records.")}class dX{constructor(t){e(this,"columns",void 0),this.columns=t.filter(lX)}getColumnName(e){return this.columns.find((t=>t.id===e))?.name}getColumnId(e){return this.columns.find((t=>t.name===e))?.id}format(e){return e.replace(/\{\d+\}/g,(e=>{const t=parseInt(e.slice(1,-1),10),n=this.getColumnName(t);return void 0===n?e:`{${n}}`}))}parse(e){const t=e;return{value:e.replace(/\{[^{}]+\}/g,(e=>{const t=e.slice(1,-1),n=this.getColumnId(t);return void 0===n?e:`{${n}}`})),intermediateDisplay:t}}}function pX(e,t,n){const r=e.slice();return r[9]=t[n],r}function $X(e,t){let n,r,o;return r=new qp({props:{label:t[9].name,icon:t[5](t[9])}}),r.$on("click",(function(){return t[7](t[9])})),{key:e,first:null,c(){n=j(),rt(r.$$.fragment),this.first=n},m(e,t){P(e,n,t),ot(r,e,t),o=!0},p(e,n){t=e;const o={};1&n&&(o.label=t[9].name),1&n&&(o.icon=t[5](t[9])),r.$set(o)},i(e){o||(qe(r.$$.fragment,e),o=!0)},o(e){Ve(r.$$.fragment,e),o=!1},d(e){e&&R(n),st(r,e)}}}function mX(e){let t,n,r=[],o=new Map,s=e[0];const i=e=>e[9].id;for(let a=0;a<s.length;a+=1){let t=pX(e,s,a),n=i(t);o.set(n,r[a]=$X(n,t))}return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=j()},m(e,o){for(let t=0;t<r.length;t+=1)r[t].m(e,o);P(e,t,o),n=!0},p(e,n){35&n&&(s=e[0],Fe(),r=Qe(r,n,i,1,e,s,o,t.parentNode,Je,$X,t,pX),He())},i(e){if(!n){for(let e=0;e<s.length;e+=1)qe(r[e]);n=!0}},o(e){for(let t=0;t<r.length;t+=1)Ve(r[t]);n=!1},d(e){for(let t=0;t<r.length;t+=1)r[t].d(e);e&&R(t)}}}function fX(e){let t,n;return t=new xc({props:{label:"Append Column",icon:xm,disabled:e[2],$$slots:{default:[mX]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const r={};4&n&&(r.disabled=e[2]),4099&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function gX(e,t,n){let r,o,i,a=s;e.$$.on_destroy.push((()=>a()));const l=sB();f(e,l,(e=>n(6,i=e)));let{columns:c}=t,{onSelect:u}=t,{disabled:d=!1}=t;return e.$$set=e=>{"columns"in e&&n(0,c=e.columns),"onSelect"in e&&n(1,u=e.onSelect),"disabled"in e&&n(2,d=e.disabled)},e.$$.update=()=>{64&e.$$.dirty&&(n(3,({processedColumns:r}=i),r),a(),a=$(r,(e=>n(8,o=e))))},[c,u,d,r,l,function(e){const t=aL(e.id,o);if(t?.includes("primary"))return rf;if(t?.includes("foreignkey"))return vf;const n=oL(e);return Array.isArray(n)?n[0]:n},i,e=>u(e)]}class hX extends at{constructor(e){super(),it(this,e,gX,fX,p,{columns:0,onSelect:1,disabled:2})}}function yX(e){let t,n,r,o,s,i;const l=[{formatter:e[3]},{disabled:e[2]},e[5]];function c(t){e[6](t)}let u={};for(let d=0;d<l.length;d+=1)u=a(u,l[d]);return void 0!==e[0]&&(u.value=e[0]),t=new Ti({props:u}),we.push((()=>nt(t,"value",c))),s=new hX({props:{columns:e[1],onSelect:e[4],disabled:e[2]}}),{c(){rt(t.$$.fragment),r=V(),o=F("span"),rt(s.$$.fragment),B(o,"class","column-insert svelte-86c15b")},m(e,n){ot(t,e,n),P(e,r,n),P(e,o,n),ot(s,o,null),i=!0},p(e,[r]){const o=44&r?et(l,[8&r&&{formatter:e[3]},4&r&&{disabled:e[2]},32&r&&tt(e[5])]):{};!n&&1&r&&(n=!0,o.value=e[0],Te((()=>n=!1))),t.$set(o);const i={};2&r&&(i.columns=e[1]),4&r&&(i.disabled=e[2]),s.$set(i)},i(e){i||(qe(t.$$.fragment,e),qe(s.$$.fragment,e),i=!0)},o(e){Ve(t.$$.fragment,e),Ve(s.$$.fragment,e),i=!1},d(e){st(t,e),e&&R(r),e&&R(o),st(s)}}}function vX(e,t,n){let r;const o=["value","columns","disabled"];let s=x(t,o),{value:i}=t,{columns:l}=t,{disabled:c=!1}=t;return e.$$set=e=>{t=a(a({},t),w(e)),n(5,s=x(t,o)),"value"in e&&n(0,i=e.value),"columns"in e&&n(1,l=e.columns),"disabled"in e&&n(2,c=e.disabled)},e.$$.update=()=>{2&e.$$.dirty&&n(3,r=new dX(l))},[i,l,c,r,function(e){n(0,i=`${i}{${e.id}}`)},s,function(e){i=e,n(0,i)}]}class bX extends at{constructor(e){super(),it(this,e,vX,yX,p,{value:0,columns:1,disabled:2})}}function wX(e,t,n){const r=e.slice();return r[36]=t[n],r}function xX(e){let t,n,r,o,s=e[1]&&CX(e),i=e[2]&&DX(e),a=e[6]&&AX();return{c(){s&&s.c(),t=V(),i&&i.c(),n=V(),a&&a.c(),r=j()},m(e,l){s&&s.m(e,l),P(e,t,l),i&&i.m(e,l),P(e,n,l),a&&a.m(e,l),P(e,r,l),o=!0},p(e,o){e[1]?s?(s.p(e,o),2&o[0]&&qe(s,1)):(s=CX(e),s.c(),qe(s,1),s.m(t.parentNode,t)):s&&(Fe(),Ve(s,1,1,(()=>{s=null})),He()),e[2]?i?(i.p(e,o),4&o[0]&&qe(i,1)):(i=DX(e),i.c(),qe(i,1),i.m(n.parentNode,n)):i&&(Fe(),Ve(i,1,1,(()=>{i=null})),He()),e[6]?a||(a=AX(),a.c(),a.m(r.parentNode,r)):a&&(a.d(1),a=null)},i(e){o||(qe(s),qe(i),o=!0)},o(e){Ve(s),Ve(i),o=!1},d(e){s&&s.d(e),e&&R(t),i&&i.d(e),e&&R(n),a&&a.d(e),e&&R(r)}}}function SX(e){let t,n;return t=new Tr({}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p:s,i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function CX(e){let t,n,r,o,s,i,a,l,c,u;return i=new mm({props:{$$slots:{default:[kX]},$$scope:{ctx:e}}}),c=new MA({props:{recordSummary:e[1]}}),{c(){t=F("div"),t.textContent="Preview",n=V(),r=F("div"),o=F("div"),s=q("Shows how links to\n          "),rt(i.$$.fragment),a=q("\n          records will appear."),l=V(),rt(c.$$.fragment),B(t,"class","heading svelte-1hlltog"),B(o,"class","help svelte-1hlltog"),B(r,"class","content svelte-1hlltog")},m(e,d){P(e,t,d),P(e,n,d),P(e,r,d),A(r,o),A(o,s),ot(i,o,null),A(o,a),A(r,l),ot(c,r,null),u=!0},p(e,t){const n={};1&t[0]|256&t[1]&&(n.$$scope={dirty:t,ctx:e}),i.$set(n);const r={};2&t[0]&&(r.recordSummary=e[1]),c.$set(r)},i(e){u||(qe(i.$$.fragment,e),qe(c.$$.fragment,e),u=!0)},o(e){Ve(i.$$.fragment,e),Ve(c.$$.fragment,e),u=!1},d(e){e&&R(t),e&&R(n),e&&R(r),st(i),st(c)}}}function kX(e){let t,n=e[0].name+"";return{c(){t=q(n)},m(e,n){P(e,t,n)},p(e,r){1&r[0]&&n!==(n=e[0].name+"")&&X(t,n)},d(e){e&&R(t)}}}function DX(e){let t,n,r,o,s,i,a,l,c;function u(t){e[34](t)}let d={options:[!1,!0],getRadioLabel:NX,ariaLabel:"Template type",isInline:!0,disabled:e[16]};void 0!==e[15]&&(d.value=e[15]),o=new al({props:d}),we.push((()=>nt(o,"value",u)));let p=e[15]&&IX(e);return l=new Zy({props:{form:e[8],onProceed:e[18],onCancel:e[8].reset,proceedButton:{label:"Save"},initiallyHidden:!0,size:"small"}}),{c(){t=F("div"),t.textContent="Template",n=V(),r=F("div"),rt(o.$$.fragment),i=V(),p&&p.c(),a=V(),rt(l.$$.fragment),B(t,"class","heading svelte-1hlltog"),B(r,"class","content svelte-1hlltog")},m(e,s){P(e,t,s),P(e,n,s),P(e,r,s),ot(o,r,null),A(r,i),p&&p.m(r,null),A(r,a),ot(l,r,null),c=!0},p(e,t){const n={};65536&t[0]&&(n.disabled=e[16]),!s&&32768&t[0]&&(s=!0,n.value=e[15],Te((()=>s=!1))),o.$set(n),e[15]?p?(p.p(e,t),32768&t[0]&&qe(p,1)):(p=IX(e),p.c(),qe(p,1),p.m(r,a)):p&&(Fe(),Ve(p,1,1,(()=>{p=null})),He());const i={};256&t[0]&&(i.form=e[8]),256&t[0]&&(i.onCancel=e[8].reset),l.$set(i)},i(e){c||(qe(o.$$.fragment,e),qe(p),qe(l.$$.fragment,e),c=!0)},o(e){Ve(o.$$.fragment,e),Ve(p),Ve(l.$$.fragment,e),c=!1},d(e){e&&R(t),e&&R(n),e&&R(r),st(o),p&&p.d(),st(l)}}}function IX(e){let t,n,r,o;t=new By({props:{field:e[3],input:{component:bX,props:{columns:e[5]}}}});let s=e[7].length&&_X(e);return{c(){rt(t.$$.fragment),n=V(),s&&s.c(),r=j()},m(e,i){ot(t,e,i),P(e,n,i),s&&s.m(e,i),P(e,r,i),o=!0},p(e,n){const o={};8&n[0]&&(o.field=e[3]),32&n[0]&&(o.input={component:bX,props:{columns:e[5]}}),t.$set(o),e[7].length?s?(s.p(e,n),128&n[0]&&qe(s,1)):(s=_X(e),s.c(),qe(s,1),s.m(r.parentNode,r)):s&&(Fe(),Ve(s,1,1,(()=>{s=null})),He())},i(e){o||(qe(t.$$.fragment,e),qe(s),o=!0)},o(e){Ve(t.$$.fragment,e),Ve(s),o=!1},d(e){st(t,e),e&&R(n),s&&s.d(e),e&&R(r)}}}function _X(e){let t,n;return t=new OC({props:{$$slots:{default:[OX]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};128&n[0]|256&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function TX(e){let t,n=e[36].id+"";return{c(){t=q(n)},m(e,n){P(e,t,n)},p(e,r){128&r[0]&&n!==(n=e[36].id+"")&&X(t,n)},d(e){e&&R(t)}}}function MX(e){let t,n=e[36].name+"";return{c(){t=q(n)},m(e,n){P(e,t,n)},p(e,r){128&r[0]&&n!==(n=e[36].name+"")&&X(t,n)},d(e){e&&R(t)}}}function EX(e){let t,n,r,o,s,i;return n=new mm({props:{$$slots:{default:[TX]},$$scope:{ctx:e}}}),o=new mm({props:{$$slots:{default:[MX]},$$scope:{ctx:e}}}),{c(){t=F("li"),rt(n.$$.fragment),r=q("\n                      references the column\n                      "),rt(o.$$.fragment),s=q(".\n                    ")},m(e,a){P(e,t,a),ot(n,t,null),A(t,r),ot(o,t,null),A(t,s),i=!0},p(e,t){const r={};128&t[0]|256&t[1]&&(r.$$scope={dirty:t,ctx:e}),n.$set(r);const s={};128&t[0]|256&t[1]&&(s.$$scope={dirty:t,ctx:e}),o.$set(s)},i(e){i||(qe(n.$$.fragment,e),qe(o.$$.fragment,e),i=!0)},o(e){Ve(n.$$.fragment,e),Ve(o.$$.fragment,e),i=!1},d(e){e&&R(t),st(n),st(o)}}}function OX(e){let t,n,r,o,s,i=e[7],a=[];for(let c=0;c<i.length;c+=1)a[c]=EX(wX(e,i,c));const l=e=>Ve(a[e],1,1,(()=>{a[e]=null}));return{c(){t=F("div"),n=F("p"),n.textContent="Because some column names contain curly braces, the following\n                  numerical values are used in place of column names within the\n                  above template:",r=V(),o=F("ul");for(let e=0;e<a.length;e+=1)a[e].c();B(o,"class","svelte-1hlltog"),B(t,"class","nonconformant-columns svelte-1hlltog")},m(e,i){P(e,t,i),A(t,n),A(t,r),A(t,o);for(let t=0;t<a.length;t+=1)a[t].m(o,null);s=!0},p(e,t){if(128&t[0]){let n;for(i=e[7],n=0;n<i.length;n+=1){const r=wX(e,i,n);a[n]?(a[n].p(r,t),qe(a[n],1)):(a[n]=EX(r),a[n].c(),qe(a[n],1),a[n].m(o,null))}for(Fe(),n=i.length;n<a.length;n+=1)l(n);He()}},i(e){if(!s){for(let e=0;e<i.length;e+=1)qe(a[e]);s=!0}},o(e){a=a.filter(Boolean);for(let t=0;t<a.length;t+=1)Ve(a[t]);s=!1},d(e){e&&R(t),z(a,e)}}}function AX(e){let t;return{c(){t=F("span"),t.textContent="No record summary available.",B(t,"class","null-text svelte-1hlltog")},m(e,n){P(e,t,n)},d(e){e&&R(t)}}}function LX(e){let t,n,r,o;const s=[SX,xX],i=[];function a(e,t){return e[14]?0:1}return n=a(e),r=i[n]=s[n](e),{c(){t=F("div"),r.c(),B(t,"class","record-summary-config")},m(e,r){P(e,t,r),i[n].m(t,null),o=!0},p(e,o){let l=n;n=a(e),n===l?i[n].p(e,o):(Fe(),Ve(i[l],1,1,(()=>{i[l]=null})),He(),r=i[n],r?r.p(e,o):(r=i[n]=s[n](e),r.c()),qe(r,1),r.m(t,null))},i(e){o||(qe(r),o=!0)},o(e){Ve(r),o=!1},d(e){e&&R(t),i[n].d()}}}const NX=e=>e?"Custom":"Default";function PX(e,t,n){let r,o,i,a,l,c,u,d,p,m,g,h,y,v,b,w,x,S,C,k,D,I,_,T,M,E,O,A,L,N,P,R=s,z=s,F=s,H=s,q=s,V=s,j=s,W=s;f(e,Xh,(e=>n(32,O=e))),f(e,vh,(e=>n(33,A=e))),e.$$.on_destroy.push((()=>R())),e.$$.on_destroy.push((()=>z())),e.$$.on_destroy.push((()=>F())),e.$$.on_destroy.push((()=>H())),e.$$.on_destroy.push((()=>q())),e.$$.on_destroy.push((()=>V())),e.$$.on_destroy.push((()=>j())),e.$$.on_destroy.push((()=>W()));let{table:U}=t,{tabularData:Y}=t;const B=Uv();return f(e,B,(e=>n(28,I=e))),e.$$set=e=>{"table"in e&&n(0,U=e.table),"tabularData"in e&&n(19,Y=e.tabularData)},e.$$.update=()=>{4&e.$$.dirty[1]&&n(21,r=A),2&e.$$.dirty[1]&&n(20,o=O),524288&e.$$.dirty[0]&&n(26,({recordsData:i,columnsDataStore:a,isLoading:l}=Y),i,(n(27,a),n(19,Y)),(n(13,l),V(),V=$(l,(e=>n(14,L=e))),l)),134217728&e.$$.dirty[0]&&(n(12,({columns:c}=a),c),H(),H=$(c,(e=>n(5,M=e)))),67108864&e.$$.dirty[0]&&(n(11,({savedRecords:u,recordSummaries:d}=i),u,(n(10,d),z(),z=$(d,(e=>n(29,_=e))),d)),q(),q=$(u,(e=>n(31,E=e)))),1&e.$$.dirty[1]&&n(22,p=E[0]),1&e.$$.dirty[0]&&n(25,m=U.settings.preview_settings.customized??!1),1&e.$$.dirty[0]&&n(24,g=U.settings.preview_settings.template??""),33554432&e.$$.dirty[0]&&(n(4,h=rv(m)),j(),j=$(h,(e=>n(15,N=e)))),16&e.$$.dirty[0]&&(n(9,y=h.disabled),W(),W=$(y,(e=>n(16,P=e)))),16777248&e.$$.dirty[0]&&(n(3,v=nv(g,[uX(M)])),F(),F=$(v,(e=>n(30,T=e)))),24&e.$$.dirty[0]&&(n(8,b=sv({customized:h,template:v})),R(),R=$(b,(e=>n(35,D=e)))),1073741856&e.$$.dirty[0]&&n(23,w=cX(M,T)),8388608&e.$$.dirty[0]&&n(7,x=w.filter((e=>!lX(e)))),1614807040&e.$$.dirty[0]&&n(1,S=(()=>{if(!p)return;const{record:e}=p;return function({template:e,record:t,transitiveData:n}){const r=Object.entries(t).map((([e,t])=>[Number(e),t]));return Gw({template:e,inputData:Kw(r),transitiveData:n})}({template:T,record:e,transitiveData:_})})()),271581184&e.$$.dirty[0]&&n(2,C=I?.hasPermission({database:r,schema:o},"canEditMetadata")),6&e.$$.dirty[0]&&n(6,k=!C&&!S)},[U,S,C,v,h,M,k,x,b,y,d,u,c,l,L,N,P,B,async function(){try{await function(e,t){const{customized:n}=t;return Mv(e,{preview_settings:n?t:{customized:n}})}(U,D.values)}catch(e){Uf.error(`Unable to save. ${Dl(e)}`)}},Y,o,r,p,w,g,m,i,a,I,_,T,E,O,A,function(e){N=e,h.set(N)}]}class RX extends at{constructor(e){super(),it(this,e,PX,LX,p,{table:0,tabularData:19},null,[-1,-1])}}function zX(e){let t,n;return t=new RX({props:{table:e[0],tabularData:e[1]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const r={};1&n&&(r.table=e[0]),2&n&&(r.tabularData=e[1]),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function FX(e,t,n){let r,o,s;f(e,gM,(e=>n(3,s=e)));let{table:i}=t;return e.$$set=e=>{"table"in e&&n(0,i=e.table)},e.$$.update=()=>{8&e.$$.dirty&&n(2,r=s.data),5&e.$$.dirty&&n(1,o=new nB({id:i.id,abstractTypesMap:r,meta:new JY({pagination:new FL({size:1})}),table:i}))},[i,o,r,s]}class HX extends at{constructor(e){super(),it(this,e,FX,zX,p,{table:0})}}function qX(e,t,n){const r=e.slice();return r[15]=t[n],r}function VX(e){let t,n,r,o,s,i,a;function l(t){e[14](t)}var c=e[6];function u(e){let t={disabled:e[5],autofocus:!0};return void 0!==e[2]&&(t.value=e[2]),{props:t}}c&&(n=new c(u(e)),we.push((()=>nt(n,"value",l))));let d=e[3].length&&WX(e);return i=new ro({props:{onProceed:e[10],onCancel:e[9],isProcessing:e[5],canProceed:e[7],proceedButton:{label:"Save"},size:"small"}}),{c(){t=F("div"),n&&rt(n.$$.fragment),o=V(),d&&d.c(),s=V(),rt(i.$$.fragment),B(t,"class","input-container svelte-1f8sel4")},m(e,r){P(e,t,r),n&&ot(n,t,null),A(t,o),d&&d.m(t,null),A(t,s),ot(i,t,null),a=!0},p(e,a){const p={};if(32&a&&(p.disabled=e[5]),!r&&4&a&&(r=!0,p.value=e[2],Te((()=>r=!1))),c!==(c=e[6])){if(n){Fe();const e=n;Ve(e.$$.fragment,1,0,(()=>{st(e,1)})),He()}c?(n=new c(u(e)),we.push((()=>nt(n,"value",l))),rt(n.$$.fragment),qe(n.$$.fragment,1),ot(n,t,o)):n=null}else c&&n.$set(p);e[3].length?d?d.p(e,a):(d=WX(e),d.c(),d.m(t,s)):d&&(d.d(1),d=null);const $={};32&a&&($.isProcessing=e[5]),128&a&&($.canProceed=e[7]),i.$set($)},i(e){a||(n&&qe(n.$$.fragment,e),qe(i.$$.fragment,e),a=!0)},o(e){n&&Ve(n.$$.fragment,e),Ve(i.$$.fragment,e),a=!1},d(e){e&&R(t),n&&st(n),d&&d.d(),st(i)}}}function jX(e){let t,n,r;var o=e[6];function s(e){return{props:{value:e[0],disabled:e[1]}}}return o&&(t=new o(s(e)),t.$on("focus",e[8])),{c(){t&&rt(t.$$.fragment),n=j()},m(e,o){t&&ot(t,e,o),P(e,n,o),r=!0},p(e,r){const i={};if(1&r&&(i.value=e[0]),2&r&&(i.disabled=e[1]),o!==(o=e[6])){if(t){Fe();const e=t;Ve(e.$$.fragment,1,0,(()=>{st(e,1)})),He()}o?(t=new o(s(e)),t.$on("focus",e[8]),rt(t.$$.fragment),qe(t.$$.fragment,1),ot(t,n.parentNode,n)):t=null}else o&&t.$set(i)},i(e){r||(t&&qe(t.$$.fragment,e),r=!0)},o(e){t&&Ve(t.$$.fragment,e),r=!1},d(e){e&&R(n),t&&st(t,e)}}}function WX(e){let t,n=e[3],r=[];for(let o=0;o<n.length;o+=1)r[o]=UX(qX(e,n,o));return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=j()},m(e,n){for(let t=0;t<r.length;t+=1)r[t].m(e,n);P(e,t,n)},p(e,o){if(8&o){let s;for(n=e[3],s=0;s<n.length;s+=1){const i=qX(e,n,s);r[s]?r[s].p(i,o):(r[s]=UX(i),r[s].c(),r[s].m(t.parentNode,t))}for(;s<r.length;s+=1)r[s].d(1);r.length=n.length}},d(e){z(r,e),e&&R(t)}}}function UX(e){let t,n,r=e[15]+"";return{c(){t=F("span"),n=q(r),B(t,"class","error svelte-1f8sel4")},m(e,r){P(e,t,r),A(t,n)},p(e,t){8&t&&r!==(r=e[15]+"")&&X(n,r)},d(e){e&&R(t)}}}function YX(e){let t,n,r,o;const s=[jX,VX],i=[];function a(e,t){return!e[4]||e[1]?0:1}return n=a(e),r=i[n]=s[n](e),{c(){t=F("div"),r.c(),B(t,"class","editable-text svelte-1f8sel4")},m(e,r){P(e,t,r),i[n].m(t,null),o=!0},p(e,[o]){let l=n;n=a(e),n===l?i[n].p(e,o):(Fe(),Ve(i[l],1,1,(()=>{i[l]=null})),He(),r=i[n],r?r.p(e,o):(r=i[n]=s[n](e),r.c()),qe(r,1),r.m(t,null))},i(e){o||(qe(r),o=!0)},o(e){Ve(r),o=!1},d(e){e&&R(t),i[n].d()}}}function BX(e,t,n){let r,o,s,{initialValue:i=""}=t,{onSubmit:a}=t,{getValidationErrors:l=(()=>[])}=t,{isLongText:c=!1}=t,{disabled:u=!1}=t,d=!1,p="",$=!1;return e.$$set=e=>{"initialValue"in e&&n(0,i=e.initialValue),"onSubmit"in e&&n(11,a=e.onSubmit),"getValidationErrors"in e&&n(12,l=e.getValidationErrors),"isLongText"in e&&n(13,c=e.isLongText),"disabled"in e&&n(1,u=e.disabled)},e.$$.update=()=>{4101&e.$$.dirty&&n(3,r=p===i?[]:l(p)),13&e.$$.dirty&&n(7,o=0===r.length&&p!==i),8192&e.$$.dirty&&n(6,s=c?gl:di)},[i,u,p,r,d,$,s,o,function(){n(2,p=i),n(4,d=!0)},function(){n(2,p=""),n(4,d=!1)},async function(){n(5,$=!0);try{await a(p),n(2,p=""),n(4,d=!1)}catch(e){Uf.error(Dl(e))}finally{n(5,$=!1)}},a,l,c,function(e){p=e,n(2,p)}]}class KX extends at{constructor(e){super(),it(this,e,BX,YX,p,{initialValue:0,onSubmit:11,getValidationErrors:12,isLongText:13,disabled:1})}}function GX(e){let t,n,r,o,s;return o=new KX({props:{initialValue:e[0].column.name,onSubmit:e[4],getValidationErrors:e[3],disabled:!e[1]}}),{c(){t=F("div"),n=F("span"),n.textContent="Name",r=V(),rt(o.$$.fragment),B(t,"class","rename-column-property-container svelte-yc3b2q")},m(e,i){P(e,t,i),A(t,n),A(t,r),ot(o,t,null),s=!0},p(e,[t]){const n={};1&t&&(n.initialValue=e[0].column.name),2&t&&(n.disabled=!e[1]),o.$set(n)},i(e){s||(qe(o.$$.fragment,e),s=!0)},o(e){Ve(o.$$.fragment,e),s=!1},d(e){e&&R(t),st(o)}}}function XX(e,t,n){let r,o,i=s;e.$$.on_destroy.push((()=>i()));let{column:a}=t,{columnsDataStore:l}=t,{canExecuteDDL:c}=t;return e.$$set=e=>{"column"in e&&n(0,a=e.column),"columnsDataStore"in e&&n(5,l=e.columnsDataStore),"canExecuteDDL"in e&&n(1,c=e.canExecuteDDL)},e.$$.update=()=>{32&e.$$.dirty&&(n(2,({columns:r}=l),r),i(),i=$(r,(e=>n(6,o=e))))},[a,c,r,function(e){return e===a.column.name?[]:e?o.map((e=>e.name)).includes(e)?["A column with that name already exists."]:[]:["Name cannot be empty."]},async function(e){try{await l.rename(a.id,e)}catch(t){Uf.error(`Unable to rename column. ${Dl(t)}`)}},l]}class JX extends at{constructor(e){super(),it(this,e,XX,GX,p,{column:0,columnsDataStore:5,canExecuteDDL:1})}}function ZX(e){let t;const n=e[1].default,r=g(n,e,e[2],null);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||4&o)&&v(r,n,e,e[2],t?y(n,e[2],o,null):b(e[2]),null)},i(e){t||(qe(r,e),t=!0)},o(e){Ve(r,e),t=!1},d(e){r&&r.d(e)}}}function QX(e){let t,n,r;return n=new $y({props:{icon:df,fullWidth:e[0],$$slots:{default:[ZX]},$$scope:{ctx:e}}}),{c(){t=F("div"),rt(n.$$.fragment),B(t,"class","outcome-box svelte-siey9s")},m(e,o){P(e,t,o),ot(n,t,null),r=!0},p(e,[t]){const r={};1&t&&(r.fullWidth=e[0]),4&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(qe(n.$$.fragment,e),r=!0)},o(e){Ve(n.$$.fragment,e),r=!1},d(e){e&&R(t),st(n)}}}function eJ(e,t,n){let{$$slots:r={},$$scope:o}=t,{fullWidth:s=!0}=t;return e.$$set=e=>{"fullWidth"in e&&n(0,s=e.fullWidth),"$$scope"in e&&n(2,o=e.$$scope)},[s,r,o]}class tJ extends at{constructor(e){super(),it(this,e,eJ,QX,p,{fullWidth:0})}}function nJ(e){let t,n,r;function o(t){e[3](t)}let s={options:e[1],getLabel:e[2]};return void 0!==e[0]&&(s.values=e[0]),t=new Va({props:s}),we.push((()=>nt(t,"values",o))),{c(){rt(t.$$.fragment)},m(e,n){ot(t,e,n),r=!0},p(e,[r]){const o={};2&r&&(o.options=e[1]),!n&&1&r&&(n=!0,o.values=e[0],Te((()=>n=!1))),t.$set(o)},i(e){r||(qe(t.$$.fragment,e),r=!0)},o(e){Ve(t.$$.fragment,e),r=!1},d(e){st(t,e)}}}function rJ(e,t,n){let{options:r}=t,{value:o=[]}=t;return e.$$set=e=>{"options"in e&&n(1,r=e.options),"value"in e&&n(0,o=e.value)},[o,r,function(e){return{component:aG,props:{processedColumn:e}}},function(e){o=e,n(0,o)}]}class oJ extends at{constructor(e){super(),it(this,e,rJ,nJ,p,{options:1,value:0})}}function sJ({constraints:e,columns:t,tables:n}){return e.map((e=>eB(e)?function({fkConstraint:e,columns:t,tables:n}){const r=n.get(e.referent_table);if(r)return{constraint:e,table:r,columns:e.columns.map((e=>t.get(e))).filter(Mt)}}({fkConstraint:e,columns:t,tables:n}):void 0)).filter(Mt)}function iJ(e){let t;return{c(){t=q("the current table")},m(e,n){P(e,t,n)},p:s,i:s,o:s,d(e){e&&R(t)}}}function aJ(e){let t,n;return t=new hb({props:{table:e[0],truncate:!1,bold:!0}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.table=e[0]),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function lJ(e){let t,n,r,o;const s=[aJ,iJ],i=[];function a(e,t){return e[0]?0:1}return t=a(e),n=i[t]=s[t](e),{c(){n.c(),r=j()},m(e,n){i[t].m(e,n),P(e,r,n),o=!0},p(e,[o]){let l=t;t=a(e),t===l?i[t].p(e,o):(Fe(),Ve(i[l],1,1,(()=>{i[l]=null})),He(),n=i[t],n?n.p(e,o):(n=i[t]=s[t](e),n.c()),qe(n,1),n.m(r.parentNode,r))},i(e){o||(qe(n),o=!0)},o(e){Ve(n),o=!1},d(e){i[t].d(e),e&&R(r)}}}function cJ(e,t,n){let{table:r}=t;return e.$$set=e=>{"table"in e&&n(0,r=e.table)},[r]}class uJ extends at{constructor(e){super(),it(this,e,cJ,lJ,p,{table:0})}}function dJ(e,t,n){const r=e.slice();return r[3]=t[n],r}function pJ(e){let t,n;return t=new aG({props:{processedColumn:e[3],truncate:!1,bold:!0}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.processedColumn=e[3]),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function $J(e){let t,n,r,o,s,i,a;r=new hb({props:{table:e[0],bold:!0,truncate:!1}});let l=e[1],c=[];for(let d=0;d<l.length;d+=1)c[d]=pJ(dJ(e,l,d));const u=e=>Ve(c[e],1,1,(()=>{c[e]=null}));return{c(){t=F("span"),n=F("span"),rt(r.$$.fragment),o=V(),s=F("span"),i=q("via\n    ");for(let e=0;e<c.length;e+=1)c[e].c();B(n,"class","table"),B(s,"class","columns"),B(t,"class","linked-table-name")},m(e,l){P(e,t,l),A(t,n),ot(r,n,null),A(t,o),A(t,s),A(s,i);for(let t=0;t<c.length;t+=1)c[t].m(s,null);a=!0},p(e,[t]){const n={};if(1&t&&(n.table=e[0]),r.$set(n),2&t){let n;for(l=e[1],n=0;n<l.length;n+=1){const r=dJ(e,l,n);c[n]?(c[n].p(r,t),qe(c[n],1)):(c[n]=pJ(r),c[n].c(),qe(c[n],1),c[n].m(s,null))}for(Fe(),n=l.length;n<c.length;n+=1)u(n);He()}},i(e){if(!a){qe(r.$$.fragment,e);for(let e=0;e<l.length;e+=1)qe(c[e]);a=!0}},o(e){Ve(r.$$.fragment,e),c=c.filter(Boolean);for(let t=0;t<c.length;t+=1)Ve(c[t]);a=!1},d(e){e&&R(t),st(r),z(c,e)}}}function mJ(e,t,n){let r,o,{linkedTable:s}=t;return e.$$set=e=>{"linkedTable"in e&&n(2,s=e.linkedTable)},e.$$.update=()=>{4&e.$$.dirty&&n(1,({columns:r,table:o}=s),r,(n(0,o),n(2,s)))},[o,r,s]}class fJ extends at{constructor(e){super(),it(this,e,mJ,$J,p,{linkedTable:2})}}function gJ(e){let t,n,r;function o(t){e[3](t)}let s={options:e[1],getLabel:e[2]};return void 0!==e[0]&&(s.value=e[0]),t=new Hc({props:s}),we.push((()=>nt(t,"value",o))),{c(){rt(t.$$.fragment)},m(e,n){ot(t,e,n),r=!0},p(e,[r]){const o={};2&r&&(o.options=e[1]),!n&&1&r&&(n=!0,o.value=e[0],Te((()=>n=!1))),t.$set(o)},i(e){r||(qe(t.$$.fragment,e),r=!0)},o(e){Ve(t.$$.fragment,e),r=!1},d(e){st(t,e)}}}function hJ(e,t,n){let{linkedTables:r}=t,{value:o}=t;return e.$$set=e=>{"linkedTables"in e&&n(1,r=e.linkedTables),"value"in e&&n(0,o=e.value)},[o,r,function(e){return void 0===e?"":{component:fJ,props:{linkedTable:e}}},function(e){o=e,n(0,o)}]}class yJ extends at{constructor(e){super(),it(this,e,hJ,gJ,p,{linkedTables:1,value:0})}}function vJ(e){let t,n,r,o;return r=new nb({props:{icon:vf,name:e[0],truncate:!1,bold:!0}}),{c(){t=F("span"),t.textContent="It is linked via a foreign key column:",n=V(),rt(r.$$.fragment)},m(e,s){P(e,t,s),P(e,n,s),ot(r,e,s),o=!0},p(e,[t]){const n={};1&t&&(n.name=e[0]),r.$set(n)},i(e){o||(qe(r.$$.fragment,e),o=!0)},o(e){Ve(r.$$.fragment,e),o=!1},d(e){e&&R(t),e&&R(n),st(r,e)}}}function bJ(e,t,n){let{newFkColumnName:r}=t;return e.$$set=e=>{"newFkColumnName"in e&&n(0,r=e.newFkColumnName)},[r]}class wJ extends at{constructor(e){super(),it(this,e,bJ,vJ,p,{newFkColumnName:0})}}function xJ(e){let t;return{c(){t=q("the new table")},m(e,n){P(e,t,n)},p:s,i:s,o:s,d(e){e&&R(t)}}}function SJ(e){let t,n;return t=new hb({props:{table:{name:e[0]},truncate:!1,bold:!0}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.table={name:e[0]}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function CJ(e){let t,n,r,o;const s=[SJ,xJ],i=[];function a(e,t){return e[0]?0:1}return t=a(e),n=i[t]=s[t](e),{c(){n.c(),r=j()},m(e,n){i[t].m(e,n),P(e,r,n),o=!0},p(e,[o]){let l=t;t=a(e),t===l?i[t].p(e,o):(Fe(),Ve(i[l],1,1,(()=>{i[l]=null})),He(),n=i[t],n?n.p(e,o):(n=i[t]=s[t](e),n.c()),qe(n,1),n.m(r.parentNode,r))},i(e){o||(qe(n),o=!0)},o(e){Ve(n),o=!1},d(e){i[t].d(e),e&&R(r)}}}function kJ(e,t,n){let{name:r}=t;return e.$$set=e=>{"name"in e&&n(0,r=e.name)},[r]}class DJ extends at{constructor(e){super(),it(this,e,kJ,CJ,p,{name:0})}}function IJ(e){let t,n;return t=new By({props:{field:e[2],input:{component:yJ,props:{linkedTables:e[11]}},label:"Linked Table",layout:"stacked"}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};4&n[0]&&(r.field=e[2]),2048&n[0]&&(r.input={component:yJ,props:{linkedTables:e[11]}}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function _J(e){let t,n;return t=new By({props:{field:e[4],label:"Name of New Table",layout:"stacked",$$slots:{help:[TJ]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};16&n[0]&&(r.field=e[4]),262144&n[0]|64&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function TJ(e){let t,n,r,o;return r=new uJ({props:{table:e[18]}}),{c(){t=F("span"),n=q("The new table that will be linked to\n        "),rt(r.$$.fragment),B(t,"slot","help")},m(e,s){P(e,t,s),A(t,n),ot(r,t,null),o=!0},p(e,t){const n={};262144&t[0]&&(n.table=e[18]),r.$set(n)},i(e){o||(qe(r.$$.fragment,e),o=!0)},o(e){Ve(r.$$.fragment,e),o=!1},d(e){e&&R(t),st(r)}}}function MJ(e){let t,n,r;return n=new DJ({props:{name:e[14]}}),{c(){t=q("into\n        "),rt(n.$$.fragment)},m(e,o){P(e,t,o),ot(n,e,o),r=!0},p(e,t){const r={};16384&t[0]&&(r.name=e[14]),n.$set(r)},i(e){r||(qe(n.$$.fragment,e),r=!0)},o(e){Ve(n.$$.fragment,e),r=!1},d(e){e&&R(t),st(n,e)}}}function EJ(e){let t,n,r,o,s,i=e[14]&&MJ(e);return{c(){t=F("span"),n=q("Select the columns you want to "),r=q(e[10]),o=V(),i&&i.c(),B(t,"slot","help")},m(e,a){P(e,t,a),A(t,n),A(t,r),A(t,o),i&&i.m(t,null),s=!0},p(e,n){(!s||1024&n[0])&&X(r,e[10]),e[14]?i?(i.p(e,n),16384&n[0]&&qe(i,1)):(i=MJ(e),i.c(),qe(i,1),i.m(t,null)):i&&(Fe(),Ve(i,1,1,(()=>{i=null})),He())},i(e){s||(qe(i),s=!0)},o(e){Ve(i),s=!1},d(e){e&&R(t),i&&i.d()}}}function OJ(e){let t,n,r,o,s,i;return r=new uJ({props:{table:e[18]}}),s=new By({props:{field:e[3],label:"Column Name"}}),{c(){t=F("p"),n=q("A new column will be added to\n          "),rt(r.$$.fragment),o=V(),rt(s.$$.fragment)},m(e,a){P(e,t,a),A(t,n),ot(r,t,null),P(e,o,a),ot(s,e,a),i=!0},p(e,t){const n={};262144&t[0]&&(n.table=e[18]),r.$set(n);const o={};8&t[0]&&(o.field=e[3]),s.$set(o)},i(e){i||(qe(r.$$.fragment,e),qe(s.$$.fragment,e),i=!0)},o(e){Ve(r.$$.fragment,e),Ve(s.$$.fragment,e),i=!1},d(e){e&&R(t),st(r),e&&R(o),st(s,e)}}}function AJ(e){let t,n,r,o,s,i,a,l,c,u,d=Mb(e[7],"columns")+"";s=new uJ({props:{table:e[18]}}),a=new DJ({props:{name:e[14]}});let p="newTable"===e[6]&&OJ(e);return{c(){t=F("p"),n=q("The "),r=q(d),o=q(" above will be removed from\n        "),rt(s.$$.fragment),i=q("\n        and added to\n        "),rt(a.$$.fragment),l=V(),p&&p.c(),c=j()},m(e,d){P(e,t,d),A(t,n),A(t,r),A(t,o),ot(s,t,null),A(t,i),ot(a,t,null),P(e,l,d),p&&p.m(e,d),P(e,c,d),u=!0},p(e,t){(!u||128&t[0])&&d!==(d=Mb(e[7],"columns")+"")&&X(r,d);const n={};262144&t[0]&&(n.table=e[18]),s.$set(n);const o={};16384&t[0]&&(o.name=e[14]),a.$set(o),"newTable"===e[6]?p?(p.p(e,t),64&t[0]&&qe(p,1)):(p=OJ(e),p.c(),qe(p,1),p.m(c.parentNode,c)):p&&(Fe(),Ve(p,1,1,(()=>{p=null})),He())},i(e){u||(qe(s.$$.fragment,e),qe(a.$$.fragment,e),qe(p),u=!0)},o(e){Ve(s.$$.fragment,e),Ve(a.$$.fragment,e),Ve(p),u=!1},d(e){e&&R(t),st(s),st(a),e&&R(l),p&&p.d(e),e&&R(c)}}}function LJ(e){let t,n;return t=new tJ({props:{$$slots:{default:[AJ]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};278728&n[0]|64&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function NJ(e){let t,n,r,o,s,i,a;const l=[_J,IJ],c=[];function u(e,t){return"newTable"===e[6]?0:1}return t=u(e),n=c[t]=l[t](e),o=new By({props:{field:e[1],input:{component:oJ,props:{options:e[5]}},label:`Columns to ${e[9]}`,layout:"stacked",$$slots:{help:[EJ]},$$scope:{ctx:e}}}),i=new Ay({props:{$$slots:{default:[LJ]},$$scope:{ctx:e}}}),{c(){n.c(),r=V(),rt(o.$$.fragment),s=V(),rt(i.$$.fragment)},m(e,n){c[t].m(e,n),P(e,r,n),ot(o,e,n),P(e,s,n),ot(i,e,n),a=!0},p(e,s){let a=t;t=u(e),t===a?c[t].p(e,s):(Fe(),Ve(c[a],1,1,(()=>{c[a]=null})),He(),n=c[t],n?n.p(e,s):(n=c[t]=l[t](e),n.c()),qe(n,1),n.m(r.parentNode,r));const d={};2&s[0]&&(d.field=e[1]),32&s[0]&&(d.input={component:oJ,props:{options:e[5]}}),512&s[0]&&(d.label=`Columns to ${e[9]}`),17408&s[0]|64&s[1]&&(d.$$scope={dirty:s,ctx:e}),o.$set(d);const p={};278728&s[0]|64&s[1]&&(p.$$scope={dirty:s,ctx:e}),i.$set(p)},i(e){a||(qe(n),qe(o.$$.fragment,e),qe(i.$$.fragment,e),a=!0)},o(e){Ve(n),Ve(o.$$.fragment,e),Ve(i.$$.fragment,e),a=!1},d(e){c[t].d(e),e&&R(r),st(o,e),e&&R(s),st(i,e)}}}function PJ(e){let t;return{c(){t=q("Extract Columns Into a New Table")},m(e,n){P(e,t,n)},d(e){e&&R(t)}}}function RJ(e){let t;return{c(){t=q("Move Columns To Linked Table")},m(e,n){P(e,t,n)},d(e){e&&R(t)}}}function zJ(e){let t;function n(e,t){return"existingTable"===e[6]?RJ:PJ}let r=n(e),o=r(e);return{c(){t=F("span"),o.c(),B(t,"slot","title")},m(e,n){P(e,t,n),o.m(t,null)},p(e,s){r!==(r=n(e))&&(o.d(1),o=r(e),o&&(o.c(),o.m(t,null)))},d(e){e&&R(t),o.d()}}}function FJ(e){let t,n;return t=new Zy({props:{form:e[13],slot:"footer",proceedButton:{label:e[12]},onProceed:e[20],onCancel:e[31]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};8192&n[0]&&(r.form=e[13]),4096&n[0]&&(r.proceedButton={label:e[12]}),1&n[0]&&(r.onCancel=e[31]),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function HJ(e){let t,n;return t=new Bd({props:{controller:e[0],$$slots:{footer:[FJ],title:[zJ],default:[NJ]},$$scope:{ctx:e}}}),t.$on("close",(function(){d(e[13].reset)&&e[13].reset.apply(this,arguments)})),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(n,r){e=n;const o={};1&r[0]&&(o.controller=e[0]),294655&r[0]|64&r[1]&&(o.$$scope={dirty:r,ctx:e}),t.$set(o)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function qJ(e,t,n){let r,o,i,a,l,c,u,d,p,g,h,y,v,b,w,x,S,C,D,I,_,T,M,E,O,A,L,N,P,R,z,F=s,H=s,q=s,V=s,j=s,W=s,U=s,Y=s;f(e,Cv,(e=>n(27,L=e))),f(e,Dv,(e=>n(29,P=e))),f(e,_v,(e=>n(18,z=e))),e.$$.on_destroy.push((()=>F())),e.$$.on_destroy.push((()=>H())),e.$$.on_destroy.push((()=>q())),e.$$.on_destroy.push((()=>V())),e.$$.on_destroy.push((()=>j())),e.$$.on_destroy.push((()=>W())),e.$$.on_destroy.push((()=>U())),e.$$.on_destroy.push((()=>Y()));const B=sB();f(e,B,(e=>n(25,T=e)));let{controller:K}=t;return e.$$set=e=>{"controller"in e&&n(0,K=e.controller)},e.$$.update=()=>{var t;33554432&e.$$.dirty[0]&&(n(8,({processedColumns:r,constraintsDataStore:o,selection:i}=T),r,(n(17,o),Y(),Y=$(o,(e=>n(30,R=e))),o)),U(),U=$(r,(e=>n(28,N=e)))),1073741824&e.$$.dirty[0]&&n(22,({constraints:a}=R),a),268435456&e.$$.dirty[0]&&n(5,l=[...N.values()]),1&e.$$.dirty[0]&&(n(16,({targetType:c,columns:u,isOpen:d}=K),c,(n(1,u),V(),V=$(u,(e=>n(7,E=e))),u),(n(15,d),W(),W=$(d,(e=>n(34,A=e))),d)),F(),F=$(c,(e=>n(6,I=e)))),128&e.$$.dirty[0]&&n(23,p=new Set(E.map((e=>e.column.name)))),8388640&e.$$.dirty[0]&&n(21,g=l.map((e=>e.column)).filter((e=>!p.has(e.name)))),536870912&e.$$.dirty[0]&&(n(4,y=rv("",[P])),j(),j=$(y,(e=>n(26,O=e)))),2097152&e.$$.dirty[0]&&(n(3,v=rv("",[iL(g)])),q(),q=$(v,(e=>n(33,M=e)))),83886144&e.$$.dirty[0]&&n(14,b="newTable"===I?O:_?.table.name??""),94&e.$$.dirty[0]&&n(13,w="newTable"===I?sv({columns:u,tableName:y,newFkColumnName:v}):sv({columns:u,linkedTable:h},[ay([h,u],(e=>function(e,t){const n=t.find((t=>e.columns.some((e=>e.id===t.id))));return n?Zh((r=n.column.name,o=e.table.name,`Cannot move linking column "${r}" to its linked table "${o}".`)):{type:"valid"};var r,o}(...e)))])),64&e.$$.dirty[0]&&n(12,x="existingTable"===I?"Move Columns":"Create Table and Move Columns"),406847488&e.$$.dirty[0]&&n(11,S=sJ({constraints:a,columns:N,tables:L.data})),64&e.$$.dirty[0]&&n(10,C="newTable"===I?"extract":"move"),64&e.$$.dirty[0]&&n(9,D="newTable"===I?"Extract":"Move"),69206016&e.$$.dirty[0]&&k(v,M=sL({name:O},g),M),128&e.$$.dirty[0]&&(t=E,A&&0!==t.length&&i.intersectSelectedRowsWithGivenColumns(t))},n(2,h=rv(void 0)),H(),H=$(h,(e=>n(24,_=e))),[K,u,h,v,y,l,I,E,r,D,C,S,x,w,b,d,c,o,z,B,async function(){const e=M,t=O,n=[],o=E,s=o.map((e=>e.id));try{if("existingTable"===I){const e=_?.table.id;if(!e)throw new Error("No target table selected");await function(e,t,n){return ph(`/api/db/v0/tables/${e}/move_columns/`,{move_columns:t,target_table:n})}(T.id,s,e);const t=_?.columns??[];let r;1===t.length&&(r=t[0].column.id),n.push(T.refreshAfterColumnExtraction(s,r))}else{const e=await function({id:e,idsOfColumnsToExtract:t,extractedTableName:n,newFkColumnName:r}){return ph(`/api/db/v0/tables/${e}/split_table/`,{extract_columns:t,extracted_table_name:n,relationship_fk_column_name:r})}({id:T.id,idsOfColumnsToExtract:s,extractedTableName:t,newFkColumnName:M});n.push(wv(e.extracted_table)),n.push(T.refreshAfterColumnExtraction(s,e.fk_column))}if("newTable"===I)Uf.success({title:`A new table ${t} has been created with the extracted ${Mb(o,"columns")}`,contentComponent:wJ,contentComponentProps:{newFkColumnName:e}});else{const e=o.map((e=>e.column.name)),t=`${e.length>1?`Columns ${e.join(",")} have`:`Column ${e[0]} has`} been moved to table '${_?.table.name}'`;Uf.success(t)}if(K.close(),await Promise.all(n),"newTable"===I){const e=[...m(r).values()].slice(-1)[0];i.toggleColumnSelection(e),await Ie(),hP(document.querySelector('[data-sheet-element="cell"].is-selected'))}}catch(a){Uf.error(Dl(a))}},g,a,p,_,T,O,L,N,P,R,()=>K.close()]}class VJ extends at{constructor(e){super(),it(this,e,qJ,HJ,p,{controller:0},null,[-1,-1])}}class jJ extends md{constructor(...t){super(...t),e(this,"targetType",mt("newTable")),e(this,"columns",rv([],[ey((e=>e.some((e=>e.column.primary_key))),"The primary key column cannot be moved.")]))}}function WJ(e){let t,n,r,o,s,i,l,c,u,d,p;const $=[Nm];let m={};for(let h=0;h<$.length;h+=1)m=a(m,$[h]);r=new Wr({props:m});const f=[br];let g={};for(let h=0;h<f.length;h+=1)g=a(g,f[h]);return d=new Wr({props:g}),{c(){t=F("div"),n=F("div"),rt(r.$$.fragment),o=V(),s=F("span"),i=q("Extract "),l=q(e[1]),c=q(" Into a New Table"),u=V(),rt(d.$$.fragment),B(t,"class","action-item svelte-lo2o6r")},m(e,a){P(e,t,a),A(t,n),ot(r,n,null),A(n,o),A(n,s),A(s,i),A(s,l),A(s,c),A(t,u),ot(d,t,null),p=!0},p(e,t){const n=0&t?et($,[tt(Nm)]):{};r.$set(n),(!p||2&t)&&X(l,e[1]);const o=0&t?et(f,[tt(br)]):{};d.$set(o)},i(e){p||(qe(r.$$.fragment,e),qe(d.$$.fragment,e),p=!0)},o(e){Ve(r.$$.fragment,e),Ve(d.$$.fragment,e),p=!1},d(e){e&&R(t),st(r),st(d)}}}function UJ(e){let t,n;return t=new Ln({props:{$$slots:{default:[YJ]},$$scope:{ctx:e}}}),t.$on("click",e[8]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};16386&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function YJ(e){let t,n,r,o,s,i,l,c,u,d,p;const $=[Pm];let m={};for(let h=0;h<$.length;h+=1)m=a(m,$[h]);r=new Wr({props:m});const f=[br];let g={};for(let h=0;h<f.length;h+=1)g=a(g,f[h]);return d=new Wr({props:g}),{c(){t=F("div"),n=F("div"),rt(r.$$.fragment),o=V(),s=F("span"),i=q("Move "),l=q(e[1]),c=q(" to Linked Table"),u=V(),rt(d.$$.fragment),B(t,"class","action-item svelte-lo2o6r")},m(e,a){P(e,t,a),A(t,n),ot(r,n,null),A(n,o),A(n,s),A(s,i),A(s,l),A(s,c),A(t,u),ot(d,t,null),p=!0},p(e,t){const n=0&t?et($,[tt(Pm)]):{};r.$set(n),(!p||2&t)&&X(l,e[1]);const o=0&t?et(f,[tt(br)]):{};d.$set(o)},i(e){p||(qe(r.$$.fragment,e),qe(d.$$.fragment,e),p=!0)},o(e){Ve(r.$$.fragment,e),Ve(d.$$.fragment,e),p=!1},d(e){e&&R(t),st(r),st(d)}}}function BJ(e){let t,n;return t=new Ln({props:{appearance:"outline-primary",$$slots:{default:[KJ]},$$scope:{ctx:e}}}),t.$on("click",e[12]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};16384&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function KJ(e){let t,n,r,o;const s=[km];let i={};for(let l=0;l<s.length;l+=1)i=a(i,s[l]);return t=new Wr({props:i}),{c(){rt(t.$$.fragment),n=V(),r=F("span"),r.textContent="Delete Column"},m(e,s){ot(t,e,s),P(e,n,s),P(e,r,s),o=!0},p(e,n){const r=0&n?et(s,[tt(km)]):{};t.$set(r)},i(e){o||(qe(t.$$.fragment,e),o=!0)},o(e){Ve(t.$$.fragment,e),o=!1},d(e){st(t,e),e&&R(n),e&&R(r)}}}function GJ(e){let t,n,r,o,s,i,a;n=new Ln({props:{$$slots:{default:[WJ]},$$scope:{ctx:e}}}),n.$on("click",e[7]);let l=e[0]&&UJ(e),c=e[2]&&BJ(e);return i=new VJ({props:{controller:e[5]}}),{c(){t=F("div"),rt(n.$$.fragment),r=V(),l&&l.c(),o=V(),c&&c.c(),s=V(),rt(i.$$.fragment),B(t,"class","actions-container svelte-lo2o6r")},m(e,u){P(e,t,u),ot(n,t,null),A(t,r),l&&l.m(t,null),A(t,o),c&&c.m(t,null),P(e,s,u),ot(i,e,u),a=!0},p(e,[r]){const s={};16386&r&&(s.$$scope={dirty:r,ctx:e}),n.$set(s),e[0]?l?(l.p(e,r),1&r&&qe(l,1)):(l=UJ(e),l.c(),qe(l,1),l.m(t,o)):l&&(Fe(),Ve(l,1,1,(()=>{l=null})),He()),e[2]?c?(c.p(e,r),4&r&&qe(c,1)):(c=BJ(e),c.c(),qe(c,1),c.m(t,null)):c&&(Fe(),Ve(c,1,1,(()=>{c=null})),He())},i(e){a||(qe(n.$$.fragment,e),qe(l),qe(c),qe(i.$$.fragment,e),a=!0)},o(e){Ve(n.$$.fragment,e),Ve(l),Ve(c),Ve(i.$$.fragment,e),a=!1},d(e){e&&R(t),st(n),l&&l.d(),c&&c.d(),e&&R(s),st(i,e)}}}function XJ(e,t,n){let r,o,i,a,l,c,u,d=s;e.$$.on_destroy.push((()=>d()));const p=sB();f(e,p,(e=>n(11,u=e)));const m=new jJ(Wf.getPropsForNewModal());let{columns:g}=t;function h(e){Gf({identifierType:"column",identifierName:e.column.name,body:["All objects related to this column will be affected.","This could break existing tables and views.","Are you sure you want to proceed?"],onProceed:()=>o.deleteColumn(e.id)})}return e.$$set=e=>{"columns"in e&&n(9,g=e.columns)},e.$$.update=()=>{2048&e.$$.dirty&&(n(3,({processedColumns:r,columnsDataStore:o}=u),r),d(),d=$(r,(e=>n(10,c=e)))),512&e.$$.dirty&&n(2,i=1===g.length?g[0]:void 0),512&e.$$.dirty&&n(1,a=Mb(g,"columns","title")),1024&e.$$.dirty&&n(0,l=[...c].some((([,e])=>e.linkFk)))},[l,a,i,r,p,m,h,function(){m.targetType.set("newTable"),m.columns.set(g),m.open()},function(){m.targetType.set("existingTable"),m.columns.set(g),m.open()},g,c,u,()=>i&&h(i)]}class JJ extends at{constructor(e){super(),it(this,e,XJ,GJ,p,{columns:9})}}function ZJ(e){let t,n;return t=new $o({props:{disabled:e[2]||!e[0],checked:!e[3]}}),t.$on("change",e[7]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};5&n&&(r.disabled=e[2]||!e[0]),8&n&&(r.checked=!e[3]),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function QJ(e){let t,n;const r=[{class:"opt"},kr];let o={};for(let s=0;s<r.length;s+=1)o=a(o,r[s]);return t=new Wr({props:o}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const o=0&n?et(r,[r[0],tt(kr)]):{};t.$set(o)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function eZ(e){let t,n,r,o;const s=[QJ,ZJ],i=[];function a(e,t){return e[2]?0:1}return t=a(e),n=i[t]=s[t](e),{c(){n.c(),r=j()},m(e,n){i[t].m(e,n),P(e,r,n),o=!0},p(e,o){let l=t;t=a(e),t===l?i[t].p(e,o):(Fe(),Ve(i[l],1,1,(()=>{i[l]=null})),He(),n=i[t],n?n.p(e,o):(n=i[t]=s[t](e),n.c()),qe(n,1),n.m(r.parentNode,r))},i(e){o||(qe(n),o=!0)},o(e){Ve(n),o=!1},d(e){i[t].d(e),e&&R(r)}}}function tZ(e){let t;return{c(){t=q("Enable this option to make sure that the column only contains unique\n        values. Useful for columns that contain identifiers, such as a person's\n        ID number or emails.")},m(e,n){P(e,t,n)},d(e){e&&R(t)}}}function nZ(e){let t,n,r,o;return r=new ni({props:{$$slots:{default:[tZ]},$$scope:{ctx:e}}}),{c(){t=F("span"),n=q("Restrict to Unique\n      "),rt(r.$$.fragment),B(t,"slot","label")},m(e,s){P(e,t,s),A(t,n),ot(r,t,null),o=!0},p(e,t){const n={};8192&t&&(n.$$scope={dirty:t,ctx:e}),r.$set(n)},i(e){o||(qe(r.$$.fragment,e),o=!0)},o(e){Ve(r.$$.fragment,e),o=!1},d(e){e&&R(t),st(r)}}}function rZ(e){let t,n;return t=new $o({props:{disabled:e[1]||!e[0],checked:!e[4]}}),t.$on("change",e[6]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};3&n&&(r.disabled=e[1]||!e[0]),16&n&&(r.checked=!e[4]),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function oZ(e){let t,n;const r=[{class:"opt"},kr];let o={};for(let s=0;s<r.length;s+=1)o=a(o,r[s]);return t=new Wr({props:o}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const o=0&n?et(r,[r[0],tt(kr)]):{};t.$set(o)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function sZ(e){let t,n,r,o;const s=[oZ,rZ],i=[];function a(e,t){return e[1]?0:1}return t=a(e),n=i[t]=s[t](e),{c(){n.c(),r=j()},m(e,n){i[t].m(e,n),P(e,r,n),o=!0},p(e,o){let l=t;t=a(e),t===l?i[t].p(e,o):(Fe(),Ve(i[l],1,1,(()=>{i[l]=null})),He(),n=i[t],n?n.p(e,o):(n=i[t]=s[t](e),n.c()),qe(n,1),n.m(r.parentNode,r))},i(e){o||(qe(n),o=!0)},o(e){Ve(n),o=!1},d(e){i[t].d(e),e&&R(r)}}}function iZ(e){let t;return{c(){t=q("Enable this option to prevent null values in the column. Null values are\n        empty values that are not the same as zero or an empty string.")},m(e,n){P(e,t,n)},d(e){e&&R(t)}}}function aZ(e){let t,n,r,o,s,i;return s=new ni({props:{$$slots:{default:[iZ]},$$scope:{ctx:e}}}),{c(){t=F("span"),n=q("Disallow "),r=F("span"),r.textContent="NULL",o=q(" Values\n      "),rt(s.$$.fragment),B(r,"class","null svelte-1zy9hs"),B(t,"slot","label")},m(e,a){P(e,t,a),A(t,n),A(t,r),A(t,o),ot(s,t,null),i=!0},p(e,t){const n={};8192&t&&(n.$$scope={dirty:t,ctx:e}),s.$set(n)},i(e){i||(qe(s.$$.fragment,e),i=!0)},o(e){Ve(s.$$.fragment,e),i=!1},d(e){e&&R(t),st(s)}}}function lZ(e){let t,n,r,o,s;return n=new Io({props:{layout:"inline-input-first",$$slots:{label:[nZ],default:[eZ]},$$scope:{ctx:e}}}),o=new Io({props:{layout:"inline-input-first",$$slots:{label:[aZ],default:[sZ]},$$scope:{ctx:e}}}),{c(){t=F("div"),rt(n.$$.fragment),r=V(),rt(o.$$.fragment),B(t,"class","column-options svelte-1zy9hs")},m(e,i){P(e,t,i),ot(n,t,null),A(t,r),ot(o,t,null),s=!0},p(e,[t]){const r={};8205&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r);const s={};8211&t&&(s.$$scope={dirty:t,ctx:e}),o.$set(s)},i(e){s||(qe(n.$$.fragment,e),qe(o.$$.fragment,e),s=!0)},o(e){Ve(n.$$.fragment,e),Ve(o.$$.fragment,e),s=!1},d(e){e&&R(t),st(n),st(o)}}}function cZ(e,t,n){let r,o,i,a,l=s;e.$$.on_destroy.push((()=>l()));let{column:c}=t,{columnsDataStore:u}=t,{constraintsDataStore:d}=t,{canExecuteDDL:p}=t,m=!1,f=!1;const g=fe();return e.$$set=e=>{"column"in e&&n(8,c=e.column),"columnsDataStore"in e&&n(9,u=e.columnsDataStore),"constraintsDataStore"in e&&n(10,d=e.constraintsDataStore),"canExecuteDDL"in e&&n(0,p=e.canExecuteDDL)},e.$$.update=()=>{256&e.$$.dirty&&n(4,r=c.column.nullable),1024&e.$$.dirty&&(n(5,({uniqueColumns:o}=d),o),l(),l=$(o,(e=>n(11,a=e)))),2304&e.$$.dirty&&n(3,i=!(c.column.primary_key||a.has(c.id)))},[p,m,f,i,r,o,async function(){n(1,m=!0);try{const e=!r;await u.setNullabilityOfColumn(c.column,e),Uf.success(`Column "${c.column.name}" will ${e?"":"no longer "}allow NULL.`),g("close")}catch(e){Uf.error(`Unable to update "Allow NULL" of column "${c.column.name}". ${e.message}.`)}finally{n(1,m=!1)}},async function(){n(2,f=!0);try{const e=!i;await d.setUniquenessOfColumn(c.column,!e);const t=`Column "${c.column.name}" will ${e?"":"no longer "}allow duplicates.`;Uf.success({message:t}),g("close")}catch(e){const t=`Unable to update "Allow Duplicates" of column "${c.column.name}". ${e.message}.`;Uf.error({message:t})}finally{n(2,f=!1)}},c,u,d,a]}class uZ extends at{constructor(e){super(),it(this,e,cZ,lZ,p,{column:8,columnsDataStore:9,constraintsDataStore:10,canExecuteDDL:0})}}function dZ(e){let t,n;return t=new Hc({props:{options:e[3],value:e[1].max,getLabel:e[4]}}),t.$on("change",e[7]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.value=e[1].max),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function pZ(e){let t,n;return t=new Hc({props:{options:e[3],value:e[1].min,getLabel:e[4]}}),t.$on("change",e[8]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.value=e[1].min),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function $Z(e){let t,n,r,o,s,i,a,l,c,u,d;return n=new Io({props:{label:"Max Time Unit",layout:"stacked",$$slots:{default:[dZ]},$$scope:{ctx:e}}}),s=new Io({props:{label:"Min Time Unit",layout:"stacked",$$slots:{default:[pZ]},$$scope:{ctx:e}}}),{c(){t=F("div"),rt(n.$$.fragment),r=V(),o=F("div"),rt(s.$$.fragment),i=V(),a=F("div"),l=q("Format: "),c=F("span"),u=q(e[2]),B(t,"class","form-element form-input"),B(o,"class","form-element form-input"),B(c,"class","svelte-pv7mr1"),B(a,"class","form-element format svelte-pv7mr1")},m(e,p){P(e,t,p),ot(n,t,null),P(e,r,p),P(e,o,p),ot(s,o,null),P(e,i,p),P(e,a,p),A(a,l),A(a,c),A(c,u),d=!0},p(e,[t]){const r={};1026&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r);const o={};1026&t&&(o.$$scope={dirty:t,ctx:e}),s.$set(o),(!d||4&t)&&X(u,e[2])},i(e){d||(qe(n.$$.fragment,e),qe(s.$$.fragment,e),d=!0)},o(e){Ve(n.$$.fragment,e),Ve(s.$$.fragment,e),d=!1},d(e){e&&R(t),st(n),e&&R(r),e&&R(o),st(s),e&&R(i),e&&R(a)}}}function mZ(e,t,n){let r,o,i=s,a=()=>(i(),i=$(l,(e=>n(1,o=e))),l);e.$$.on_destroy.push((()=>i()));let{store:l}=t;a();const c=gT.getAllUnits(),u={d:"days",h:"hours",m:"minutes",s:"seconds",ms:"milliseconds"};function d(e){if(!e)return;let{min:t}=o;c.indexOf(e)>c.indexOf(o.min)&&(t=e),k(l,o={...o,max:e,min:t},o)}function p(e){if(!e)return;let{max:t}=o;c.indexOf(e)<c.indexOf(o.max)&&(t=e),k(l,o={...o,max:t,min:e},o)}return e.$$set=e=>{"store"in e&&a(n(0,l=e.store))},e.$$.update=()=>{2&e.$$.dirty&&n(2,r=new gT(o).getFormattingString())},[l,o,r,c,e=>(e&&u[e])??"",d,p,e=>d(e.detail),e=>p(e.detail)]}class fZ extends at{constructor(e){super(),it(this,e,mZ,$Z,p,{store:0})}}function gZ(e){return e?e.values:$t({})}function hZ(e){let t,n,r,o,i=(e[0]??"UNKNOWN")+"";return{c(){t=F("div"),n=q("Database type "),r=F("span"),o=q(i),B(r,"class","svelte-og216j"),B(t,"class","svelte-og216j")},m(e,s){P(e,t,s),A(t,n),A(t,r),A(r,o)},p(e,[t]){1&t&&i!==(i=(e[0]??"UNKNOWN")+"")&&X(o,i)},i:s,o:s,d(e){e&&R(t)}}}function yZ(e,t,n){let{type:r}=t;return e.$$set=e=>{"type"in e&&n(0,r=e.type)},[r]}class vZ extends at{constructor(e){super(),it(this,e,yZ,hZ,p,{type:0})}}function bZ(e){let t,n;return t=new vZ({props:{type:e[0]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.type=e[0]),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function wZ(e){let t,n,r,o;n=new vZ({props:{type:e[0]}});let s=e[1]&&xZ(e);return{c(){t=F("div"),rt(n.$$.fragment),r=V(),s&&s.c(),B(t,"class","type-options svelte-18383vq")},m(e,i){P(e,t,i),ot(n,t,null),A(t,r),s&&s.m(t,null),o=!0},p(e,r){const o={};1&r&&(o.type=e[0]),n.$set(o),e[1]?s?(s.p(e,r),2&r&&qe(s,1)):(s=xZ(e),s.c(),qe(s,1),s.m(t,null)):s&&(Fe(),Ve(s,1,1,(()=>{s=null})),He())},i(e){o||(qe(n.$$.fragment,e),qe(s),o=!0)},o(e){Ve(n.$$.fragment,e),Ve(s),o=!1},d(e){e&&R(t),st(n),s&&s.d()}}}function xZ(e){let t,n,r,o;return r=new um({props:{form:e[1]}}),{c(){t=F("div"),n=F("div"),rt(r.$$.fragment),B(n,"class","content svelte-18383vq"),B(t,"class","option-form db-opts svelte-18383vq")},m(e,s){P(e,t,s),A(t,n),ot(r,n,null),o=!0},p(e,t){const n={};2&t&&(n.form=e[1]),r.$set(n)},i(e){o||(qe(r.$$.fragment,e),o=!0)},o(e){Ve(r.$$.fragment,e),o=!1},d(e){e&&R(t),st(r)}}}function SZ(e){let t,n,r,o;const s=[wZ,bZ],i=[];function a(e,t){return e[1]?0:1}return t=a(e),n=i[t]=s[t](e),{c(){n.c(),r=j()},m(e,n){i[t].m(e,n),P(e,r,n),o=!0},p(e,[o]){let l=t;t=a(e),t===l?i[t].p(e,o):(Fe(),Ve(i[l],1,1,(()=>{i[l]=null})),He(),n=i[t],n?n.p(e,o):(n=i[t]=s[t](e),n.c()),qe(n,1),n.m(r.parentNode,r))},i(e){o||(qe(n),o=!0)},o(e){Ve(n),o=!1},d(e){i[t].d(e),e&&R(r)}}}function CZ(e,t,n){let r,o,i,a,l=s;e.$$.on_destroy.push((()=>l()));let{selectedAbstractType:c}=t,{selectedDbType:u}=t,{typeOptions:d}=t,{column:p}=t;const m=Wt();return m.addValidator("AbstractTypeConfigValidator",(()=>{let e=!0;if(o){const t=o.getValidationResult().isValid;e=e&&t}return e})),e.$$set=e=>{"selectedAbstractType"in e&&n(4,c=e.selectedAbstractType),"selectedDbType"in e&&n(0,u=e.selectedDbType),"typeOptions"in e&&n(3,d=e.typeOptions),"column"in e&&n(5,p=e.column)},e.$$.update=()=>{49&e.$$.dirty&&n(6,({dbOptionsConfig:r,dbForm:o,dbFormValues:i}=function(e,t,n){const r=e.getDbConfig?.()??void 0;let o;if(r){const e=n.type===t?r.constructDbFormValuesFromTypeOptions(n.type,n.type_options):{};o=g$(r.form,e)}return{dbOptionsConfig:r,dbForm:o,dbFormValues:gZ(o)}}(c,u,p)),r,(n(1,o),n(4,c),n(0,u),n(5,p)),(n(2,i),l(),l=$(i,(e=>n(7,a=e))),i)),192&e.$$.dirty&&function(e,t){if(t){const r=t.determineDbTypeAndOptions(e,p.type);n(3,d=r.typeOptions??{}),n(0,u=r.dbType),m.validate()}}(a,r)},[u,o,i,d,c,p,r,a]}class kZ extends at{constructor(e){super(),it(this,e,CZ,SZ,p,{selectedAbstractType:4,selectedDbType:0,typeOptions:3,column:5})}}function DZ(e){let t,n=e[9]+"";return{c(){t=q(n)},m(e,n){P(e,t,n)},p(e,r){512&r&&n!==(n=e[9]+"")&&X(t,n)},d(e){e&&R(t)}}}function IZ(e){let t,n;return t=new nb({props:{icon:e[8].getIcon(),$$slots:{default:[DZ]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};256&n&&(r.icon=e[8].getIcon()),1536&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function _Z(e){let t,n;return t=new Hc({props:{options:e[2],value:e[0],getLabel:MZ,autoSelect:"none",disabled:e[1],$$slots:{default:[IZ,({option:e,label:t})=>({8:e,9:t}),({option:e,label:t})=>(e?256:0)|(t?512:0)]},$$scope:{ctx:e}}}),t.$on("change",e[6]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};4&n&&(r.options=e[2]),1&n&&(r.value=e[0]),2&n&&(r.disabled=e[1]),1792&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function TZ(e){let t,n;return t=new Io({props:{label:"Data Type",layout:"stacked",$$slots:{default:[_Z]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const r={};1031&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}const MZ=e=>e?.name??"";function EZ(e,t,n){let r,o;f(e,gM,(e=>n(5,o=e)));const s=fe();let{column:i}=t,{selectedAbstractType:a}=t,{disabled:l=!1}=t;function c(e){if(e){if(a!==e){if(e.identifier===i.abstractType.identifier)s("reset");else if(e.defaultDbType)s("change",{type:e.defaultDbType,abstractType:e});else if(e.dbTypes.size>0){const[t]=e.dbTypes;s("change",{type:t,abstractType:e})}n(0,a=e)}}else console.error("This should never occur. AbstractType is undefined")}return e.$$set=e=>{"column"in e&&n(4,i=e.column),"selectedAbstractType"in e&&n(0,a=e.selectedAbstractType),"disabled"in e&&n(1,l=e.disabled)},e.$$.update=()=>{48&e.$$.dirty&&n(2,r=function(e,t,n){const r=new Set,o=sM(e,n);o&&r.add(o),t.forEach((e=>{const t=sM(e,n);t&&r.add(t)}));const s=[...r].sort(((e,t)=>e.name.localeCompare(t.name)));return o||s.push(oM),s}(i.type,i.valid_target_types??[],o.data).filter((e=>!["jsonlist","map"].includes(e.identifier))))},[a,l,r,c,i,o,e=>c(e.detail)]}class OZ extends at{constructor(e){super(),it(this,e,EZ,TZ,p,{column:4,selectedAbstractType:0,disabled:1})}}function AZ(e){let t,n,r=e[2],o=LZ(e);return{c(){o.c(),t=j()},m(e,r){o.m(e,r),P(e,t,r),n=!0},p(e,n){4&n&&p(r,r=e[2])?(Fe(),Ve(o,1,1,s),He(),o=LZ(e),o.c(),qe(o,1),o.m(t.parentNode,t)):o.p(e,n)},i(e){n||(qe(o),n=!0)},o(e){Ve(o),n=!1},d(e){e&&R(t),o.d(e)}}}function LZ(e){let t,n,r,o;function s(t){e[17](t)}function i(t){e[18](t)}let a={selectedAbstractType:e[2],column:e[0]};return void 0!==e[3]&&(a.selectedDbType=e[3]),void 0!==e[4]&&(a.typeOptions=e[4]),t=new kZ({props:a}),we.push((()=>nt(t,"selectedDbType",s))),we.push((()=>nt(t,"typeOptions",i))),{c(){rt(t.$$.fragment)},m(e,n){ot(t,e,n),o=!0},p(e,o){const s={};4&o&&(s.selectedAbstractType=e[2]),1&o&&(s.column=e[0]),!n&&8&o&&(n=!0,s.selectedDbType=e[3],Te((()=>n=!1))),!r&&16&o&&(r=!0,s.typeOptions=e[4],Te((()=>r=!1))),t.$set(s)},i(e){o||(qe(t.$$.fragment,e),o=!0)},o(e){Ve(t.$$.fragment,e),o=!1},d(e){st(t,e)}}}function NZ(e){let t,n,r,o,s=e[1]&&PZ(e);return r=new ro({props:{onProceed:e[12],onCancel:e[11],isProcessing:"processing"===e[5]?.state,canProceed:!e[6],proceedButton:{label:"Save"},size:"small"}}),{c(){t=F("div"),s&&s.c(),n=V(),rt(r.$$.fragment),B(t,"class","footer svelte-2rnxnh")},m(e,i){P(e,t,i),s&&s.m(t,null),A(t,n),ot(r,t,null),o=!0},p(e,o){e[1]?s?2&o&&qe(s,1):(s=PZ(e),s.c(),qe(s,1),s.m(t,n)):s&&(Fe(),Ve(s,1,1,(()=>{s=null})),He());const i={};32&o&&(i.isProcessing="processing"===e[5]?.state),64&o&&(i.canProceed=!e[6]),r.$set(i)},i(e){o||(qe(s),qe(r.$$.fragment,e),o=!0)},o(e){Ve(s),Ve(r.$$.fragment,e),o=!1},d(e){e&&R(t),s&&s.d(),st(r)}}}function PZ(e){let t,n;return t=new dk({props:{$$slots:{default:[RZ]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function RZ(e){let t;return{c(){t=F("span"),t.textContent="Data loss can result from changing the data type of a column. This\n          action cannot be undone.",B(t,"class","warning-alert svelte-2rnxnh")},m(e,n){P(e,t,n)},p:s,d(e){e&&R(t)}}}function zZ(e){let t,n,r,o,s;t=new OZ({props:{selectedAbstractType:e[2],column:e[0],disabled:"processing"===e[5]?.state}}),t.$on("change",e[15]),t.$on("reset",e[16]);let i=e[2]&&e[3]&&AZ(e),a=e[8]&&NZ(e);return{c(){rt(t.$$.fragment),n=V(),i&&i.c(),r=V(),a&&a.c(),o=j()},m(e,l){ot(t,e,l),P(e,n,l),i&&i.m(e,l),P(e,r,l),a&&a.m(e,l),P(e,o,l),s=!0},p(e,[n]){const s={};4&n&&(s.selectedAbstractType=e[2]),1&n&&(s.column=e[0]),32&n&&(s.disabled="processing"===e[5]?.state),t.$set(s),e[2]&&e[3]?i?(i.p(e,n),12&n&&qe(i,1)):(i=AZ(e),i.c(),qe(i,1),i.m(r.parentNode,r)):i&&(Fe(),Ve(i,1,1,(()=>{i=null})),He()),e[8]?a?(a.p(e,n),256&n&&qe(a,1)):(a=NZ(e),a.c(),qe(a,1),a.m(o.parentNode,o)):a&&(Fe(),Ve(a,1,1,(()=>{a=null})),He())},i(e){s||(qe(t.$$.fragment,e),qe(i),qe(a),s=!0)},o(e){Ve(t.$$.fragment,e),Ve(i),Ve(a),s=!1},d(e){st(t,e),e&&R(n),i&&i.d(e),e&&R(r),a&&a.d(e),e&&R(o)}}}function FZ(e,t,n){let r,o,i,a,l=s;e.$$.on_destroy.push((()=>l()));const c=fe();let u,{column:d}=t,{save:p}=t,{showWarnings:m=!0}=t,f=d.abstractType,g=d.type,h={...d.type_options??{}};const y=jt();function v(e){n(2,f=e.abstractType),n(3,g=e.type),n(4,h={...e.type_options??{}})}function b(e){const{type:t,abstractType:r}=e;n(3,g=t),n(2,f=r),n(4,h={})}pe((()=>{y.validate()}));return e.$$set=e=>{"column"in e&&n(0,d=e.column),"save"in e&&n(13,p=e.save),"showWarnings"in e&&n(1,m=e.showWarnings)},e.$$.update=()=>{29&e.$$.dirty&&n(8,r=f!==d.abstractType||g!==d.type||function(e,t){for(const n in t)if(Object.hasOwn(t,n)&&t[n]!==e[n])return!0;return!1}(d.type_options??{},h??{})),1&e.$$.dirty&&v(d),16420&e.$$.dirty&&n(6,i=!f||"processing"===u?.state||!a)},n(7,({validationResult:o}=y),o),l(),l=$(o,(e=>n(14,a=e))),[d,m,f,g,h,u,i,o,r,v,b,function(){v(d),n(5,u={state:"success"}),c("cancel")},async function(){n(5,u={state:"processing"});try{await p({type:g,type_options:{...h}}),n(5,u={state:"success"})}catch(e){const t=e instanceof Error?e.message:"Unable to change column type";Uf.error(t),n(5,u={state:"failure",errors:[t]})}},p,a,e=>b(e.detail),()=>v(d),function(e){g=e,n(3,g)},function(e){h=e,n(4,h)}]}class HZ extends at{constructor(e){super(),it(this,e,FZ,zZ,p,{column:0,save:13,showWarnings:1})}}function qZ(e){let t,n,r=e[2],o=jZ(e);return{c(){o.c(),t=j()},m(e,r){o.m(e,r),P(e,t,r),n=!0},p(e,n){4&n&&p(r,r=e[2])?(Fe(),Ve(o,1,1,s),He(),o=jZ(e),o.c(),qe(o,1),o.m(t.parentNode,t)):o.p(e,n)},i(e){n||(qe(o),n=!0)},o(e){Ve(o),n=!1},d(e){e&&R(t),o.d(e)}}}function VZ(e){let t,n,r,o;t=new OZ({props:{selectedAbstractType:e[0].abstractType,column:e[2],disabled:!0}});let s=e[1]&&WZ(e);return{c(){rt(t.$$.fragment),n=V(),s&&s.c(),r=j()},m(e,i){ot(t,e,i),P(e,n,i),s&&s.m(e,i),P(e,r,i),o=!0},p(e,n){const o={};1&n&&(o.selectedAbstractType=e[0].abstractType),4&n&&(o.column=e[2]),t.$set(o),e[1]?s?(s.p(e,n),2&n&&qe(s,1)):(s=WZ(e),s.c(),qe(s,1),s.m(r.parentNode,r)):s&&(Fe(),Ve(s,1,1,(()=>{s=null})),He())},i(e){o||(qe(t.$$.fragment,e),qe(s),o=!0)},o(e){Ve(t.$$.fragment,e),Ve(s),o=!1},d(e){st(t,e),e&&R(n),s&&s.d(e),e&&R(r)}}}function jZ(e){let t,n;return t=new HZ({props:{column:e[2],save:e[5]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};4&n&&(r.column=e[2]),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function WZ(e){let t,n;return t=new OC({props:{$$slots:{default:[UZ]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};514&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function UZ(e){let t,n;return{c(){t=F("span"),n=q(e[1]),B(t,"class","info-alert svelte-yz3a69")},m(e,r){P(e,t,r),A(t,n)},p(e,t){2&t&&X(n,e[1])},d(e){e&&R(t)}}}function YZ(e){let t,n,r,o;const s=[VZ,qZ],i=[];function a(e,t){return e[3]?0:1}return t=a(e),n=i[t]=s[t](e),{c(){n.c(),r=j()},m(e,n){i[t].m(e,n),P(e,r,n),o=!0},p(e,[o]){let l=t;t=a(e),t===l?i[t].p(e,o):(Fe(),Ve(i[l],1,1,(()=>{i[l]=null})),He(),n=i[t],n?n.p(e,o):(n=i[t]=s[t](e),n.c()),qe(n,1),n.m(r.parentNode,r))},i(e){o||(qe(n),o=!0)},o(e){Ve(n),o=!1},d(e){i[t].d(e),e&&R(r)}}}function BZ(e,t,n){let r,o,s,i,a;const l=sB();f(e,l,(e=>n(7,a=e)));let{column:c}=t,{canExecuteDDL:u}=t;return e.$$set=e=>{"column"in e&&n(0,c=e.column),"canExecuteDDL"in e&&n(6,u=e.canExecuteDDL)},e.$$.update=()=>{128&e.$$.dirty&&({columnsDataStore:r}=a),65&e.$$.dirty&&n(3,o=c.column.primary_key||!!c.linkFk||!u),1&e.$$.dirty&&n(2,s={...c.column,abstractType:c.abstractType}),1&e.$$.dirty&&n(1,i=c.column.primary_key?"The data type of the primary key column is restricted and cannot be changed.":c.linkFk?"The data type of the foreign key column is restricted to the data type of the primary key column and cannot be changed.":"")},[c,i,s,o,l,async function(e){await r.patch(c.id,{type:e.type,type_options:e.type_options,display_options:null,default:null})},u,a]}class KZ extends at{constructor(e){super(),it(this,e,BZ,YZ,p,{column:0,canExecuteDDL:6})}}function GZ(e){let t,n;const r=[of,{title:"This section affects the configuration of the database."}];let o={};for(let s=0;s<r.length;s+=1)o=a(o,r[s]);return t=new Wr({props:o}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const o=0&n?et(r,[tt(of),r[1]]):{};t.$set(o)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function XZ(e){let t,n,r,o,s,i=e[1]&&GZ();return{c(){t=F("div"),n=F("span"),r=q(e[0]),o=V(),i&&i.c(),B(t,"class","collapsible-header-container svelte-ytz1il")},m(e,a){P(e,t,a),A(t,n),A(n,r),A(t,o),i&&i.m(t,null),s=!0},p(e,[n]){(!s||1&n)&&X(r,e[0]),e[1]?i?(i.p(e,n),2&n&&qe(i,1)):(i=GZ(),i.c(),qe(i,1),i.m(t,null)):i&&(Fe(),Ve(i,1,1,(()=>{i=null})),He())},i(e){s||(qe(i),s=!0)},o(e){Ve(i),s=!1},d(e){e&&R(t),i&&i.d()}}}function JZ(e,t,n){let{title:r}=t,{isDbLevelConfiguration:o=!1}=t;return e.$$set=e=>{"title"in e&&n(0,r=e.title),"isDbLevelConfiguration"in e&&n(1,o=e.isDbLevelConfiguration)},[r,o]}class ZZ extends at{constructor(e){super(),it(this,e,JZ,XZ,p,{title:0,isDbLevelConfiguration:1})}}function QZ(e){let t,n,r,o,s;const i=[rf];let l={};for(let c=0;c<i.length;c+=1)l=a(l,i[c]);return n=new Wr({props:l}),{c(){t=F("div"),rt(n.$$.fragment),r=V(),o=F("span"),o.textContent="Primary Key",B(t,"class","specifier-tag svelte-sr6jyu")},m(e,i){P(e,t,i),ot(n,t,null),A(t,r),A(t,o),s=!0},p(e,t){const r=0&t?et(i,[tt(rf)]):{};n.$set(r)},i(e){s||(qe(n.$$.fragment,e),s=!0)},o(e){Ve(n.$$.fragment,e),s=!1},d(e){e&&R(t),st(n)}}}function eQ(e){let t,n,r,o,s,i,l,c,u;s=new hb({props:{table:e[2]}});const d=[wr];let p={};for(let $=0;$<d.length;$+=1)p=a(p,d[$]);return l=new Wr({props:p}),{c(){t=F("div"),n=F("span"),n.textContent="Linked To",r=V(),o=F("a"),rt(s.$$.fragment),i=V(),rt(l.$$.fragment),B(o,"class","specifier-tag svelte-sr6jyu"),B(o,"href",c=e[3]({tableId:e[1]})),B(t,"class","fk-container svelte-sr6jyu")},m(e,a){P(e,t,a),A(t,n),A(t,r),A(t,o),ot(s,o,null),A(o,i),ot(l,o,null),u=!0},p(e,t){const n={};4&t&&(n.table=e[2]),s.$set(n);const r=0&t?et(d,[tt(wr)]):{};l.$set(r),(!u||10&t&&c!==(c=e[3]({tableId:e[1]})))&&B(o,"href",c)},i(e){u||(qe(s.$$.fragment,e),qe(l.$$.fragment,e),u=!0)},o(e){Ve(s.$$.fragment,e),Ve(l.$$.fragment,e),u=!1},d(e){e&&R(t),st(s),st(l)}}}function tQ(e){let t,n,r,o;const s=[eQ,QZ],i=[];function a(e,t){return"foreignKey"===e[0]&&e[2]?0:"primaryKey"===e[0]?1:-1}return~(n=a(e))&&(r=i[n]=s[n](e)),{c(){t=F("div"),r&&r.c(),B(t,"class","specifier-tag-container svelte-sr6jyu")},m(e,r){P(e,t,r),~n&&i[n].m(t,null),o=!0},p(e,[o]){let l=n;n=a(e),n===l?~n&&i[n].p(e,o):(r&&(Fe(),Ve(i[l],1,1,(()=>{i[l]=null})),He()),~n?(r=i[n],r?r.p(e,o):(r=i[n]=s[n](e),r.c()),qe(r,1),r.m(t,null)):r=null)},i(e){o||(qe(r),o=!0)},o(e){Ve(r),o=!1},d(e){e&&R(t),~n&&i[n].d()}}}function nQ(e,t,n){let r,o,s,i;f(e,Cv,(e=>n(5,s=e))),f(e,HA,(e=>n(3,i=e)));let{type:a}=t,{column:l}=t;return e.$$set=e=>{"type"in e&&n(0,a=e.type),"column"in e&&n(4,l=e.column)},e.$$.update=()=>{16&e.$$.dirty&&n(1,r=l.linkFk?.referent_table),34&e.$$.dirty&&n(2,o=r?s.data.get(r):void 0)},[a,r,o,i,l,s]}class rQ extends at{constructor(e){super(),it(this,e,nQ,tQ,p,{type:0,column:4})}}function oQ(e){let t,n,r,o,s;return o=new um({props:{form:e[0],disabled:e[2]}}),{c(){t=F("div"),n=F("div"),r=F("div"),rt(o.$$.fragment),B(r,"class","content"),B(n,"class","option-form display-opts"),B(t,"class","type-options")},m(e,i){P(e,t,i),A(t,n),A(n,r),ot(o,r,null),s=!0},p(e,[t]){const n={};1&t&&(n.form=e[0]),4&t&&(n.disabled=e[2]),o.$set(n)},i(e){s||(qe(o.$$.fragment,e),s=!0)},o(e){Ve(o.$$.fragment,e),s=!1},d(e){e&&R(t),st(o)}}}function sQ(e,t,n){let r,o=s,i=()=>(o(),o=$(u,(e=>n(5,r=e))),u);e.$$.on_destroy.push((()=>o()));let{displayOptions:a}=t,{displayOptionsConfig:l}=t,{displayForm:c}=t,{displayFormValues:u}=t;i();let{disabled:d=!1}=t;const p=Wt();return p.addValidator("AbstractTypeConfigValidator",(()=>{let e=!0;if(c){const t=c.getValidationResult().isValid;e=e&&t}return e})),e.$$set=e=>{"displayOptions"in e&&n(3,a=e.displayOptions),"displayOptionsConfig"in e&&n(4,l=e.displayOptionsConfig),"displayForm"in e&&n(0,c=e.displayForm),"displayFormValues"in e&&i(n(1,u=e.displayFormValues)),"disabled"in e&&n(2,d=e.disabled)},e.$$.update=()=>{var t,o;48&e.$$.dirty&&(t=r,(o=l)&&(n(3,a=o?.determineDisplayOptions(t)??{}),p.validate()))},[c,u,d,a,l,r]}class iQ extends at{constructor(e){super(),it(this,e,sQ,oQ,p,{displayOptions:3,displayOptionsConfig:4,displayForm:0,displayFormValues:1,disabled:2})}}function aQ(e){let t;return{c(){t=F("span"),t.textContent="No formatting option for the column data type"},m(e,n){P(e,t,n)},p:s,i:s,o:s,d(e){e&&R(t)}}}function lQ(e){let t,n,r,o,s,i,a;function l(t){e[18](t)}let c={displayOptionsConfig:e[8],displayForm:e[7],displayFormValues:e[6],disabled:e[3]};void 0!==e[2]&&(c.displayOptions=e[2]),n=new iQ({props:c}),we.push((()=>nt(n,"displayOptions",l)));let d=e[1]&&cQ(e);return{c(){t=F("div"),rt(n.$$.fragment),o=V(),d&&d.c()},m(r,l){P(r,t,l),ot(n,t,null),A(t,o),d&&d.m(t,null),s=!0,i||(a=[W(t,"focus",e[13]),W(t,"mousedown",e[13])],i=!0)},p(e,o){const s={};256&o&&(s.displayOptionsConfig=e[8]),128&o&&(s.displayForm=e[7]),64&o&&(s.displayFormValues=e[6]),8&o&&(s.disabled=e[3]),!r&&4&o&&(r=!0,s.displayOptions=e[2],Te((()=>r=!1))),n.$set(s),e[1]?d?(d.p(e,o),2&o&&qe(d,1)):(d=cQ(e),d.c(),qe(d,1),d.m(t,null)):d&&(Fe(),Ve(d,1,1,(()=>{d=null})),He())},i(e){s||(qe(n.$$.fragment,e),qe(d),s=!0)},o(e){Ve(n.$$.fragment,e),Ve(d),s=!1},d(e){e&&R(t),st(n),d&&d.d(),i=!1,u(a)}}}function cQ(e){let t,n,r;return n=new ro({props:{onProceed:e[11],onCancel:e[12],isProcessing:"processing"===e[0]?.state,canProceed:!e[5],proceedButton:{label:"Save"},size:"small"}}),{c(){t=F("div"),rt(n.$$.fragment),B(t,"class","footer svelte-7jo0h2")},m(e,o){P(e,t,o),ot(n,t,null),r=!0},p(e,t){const r={};1&t&&(r.isProcessing="processing"===e[0]?.state),32&t&&(r.canProceed=!e[5]),n.$set(r)},i(e){r||(qe(n.$$.fragment,e),r=!0)},o(e){Ve(n.$$.fragment,e),r=!1},d(e){e&&R(t),st(n)}}}function uQ(e){let t,n,r,o;const s=[lQ,aQ],i=[];function a(e,t){return e[8]&&e[7]&&!e[4]?0:1}return t=a(e),n=i[t]=s[t](e),{c(){n.c(),r=j()},m(e,n){i[t].m(e,n),P(e,r,n),o=!0},p(e,[o]){let l=t;t=a(e),t===l?i[t].p(e,o):(Fe(),Ve(i[l],1,1,(()=>{i[l]=null})),He(),n=i[t],n?n.p(e,o):(n=i[t]=s[t](e),n.c()),qe(n,1),n.m(r.parentNode,r))},i(e){o||(qe(n),o=!0)},o(e){Ve(n),o=!1},d(e){i[t].d(e),e&&R(r)}}}function dQ(e,t,n){let r,o,i,a,l,c,u,d,p,m,g=s;e.$$.on_destroy.push((()=>g()));let{column:h}=t,{canEditMetadata:y}=t,v=!1;const b=sB();f(e,b,(e=>n(17,m=e)));let w,x={...h.column.display_options??{}};const S=jt();return e.$$set=e=>{"column"in e&&n(14,h=e.column),"canEditMetadata"in e&&n(15,y=e.canEditMetadata)},e.$$.update=()=>{131072&e.$$.dirty&&({columnsDataStore:r}=m),16384&e.$$.dirty&&n(8,({displayOptionsConfig:i,displayForm:a,displayFormValues:l}=function(e,t,n){const r=e.getDisplayConfig?.()??void 0;let o;if(r){const e=n.type===t?r.constructDisplayFormValuesFromDisplayOptions(n.display_options):{};o=g$(r.form,e,{"duration-config-menu":fZ})}return{displayOptionsConfig:r,displayForm:o,displayFormValues:gZ(o)}}(h.abstractType,h.column.type,{...h.column,abstractType:h.abstractType})),i,(n(7,a),n(14,h)),(n(6,l),n(14,h))),65537&e.$$.dirty&&n(5,c="processing"===w?.state||!p),16384&e.$$.dirty&&n(4,u=h.column.primary_key||!!h.linkFk),32769&e.$$.dirty&&n(3,d="processing"===w?.state||!y)},n(9,({validationResult:o}=S),o),g(),g=$(o,(e=>n(16,p=e))),[w,v,x,d,u,c,l,a,i,o,b,async function(){n(0,w={state:"processing"});try{await r.patch(h.id,{display_options:x}),n(1,v=!1),n(0,w={state:"success"})}catch(e){const t=e instanceof Error?e.message:"Unable to change column display options.";Uf.error(t),n(0,w={state:"failure",errors:[t]})}},function(){n(0,w={state:"success"}),n(2,x={}),n(1,v=!1)},function(){n(1,v=!0)},h,y,p,m,function(e){x=e,n(2,x)}]}class pQ extends at{constructor(e){super(),it(this,e,dQ,uQ,p,{column:14,canEditMetadata:15})}}function $Q(e){let t,n;return t=new Ja({props:{checked:e[2]}}),t.$on("change",e[11]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};4&n&&(r.checked=e[2]),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function mQ(e){let t;return{c(){t=F("span"),t.textContent="No Default Value",B(t,"slot","label")},m(e,n){P(e,t,n)},p:s,d(e){e&&R(t)}}}function fQ(e){let t,n;return t=new Ja({props:{checked:!e[2]}}),t.$on("change",e[11]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};4&n&&(r.checked=!e[2]),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function gQ(e){let t;return{c(){t=F("span"),t.textContent="Custom default",B(t,"slot","label")},m(e,n){P(e,t,n)},p:s,d(e){e&&R(t)}}}function hQ(e){let t,n,r;function o(t){e[18](t)}let s={componentAndProps:e[0].inputComponentAndProps,disabled:e[4],recordSummary:e[6],setRecordSummary:e[12]};return void 0!==e[3]&&(s.value=e[3]),t=new RM({props:s}),we.push((()=>nt(t,"value",o))),{c(){rt(t.$$.fragment)},m(e,n){ot(t,e,n),r=!0},p(e,r){const o={};1&r&&(o.componentAndProps=e[0].inputComponentAndProps),16&r&&(o.disabled=e[4]),64&r&&(o.recordSummary=e[6]),!n&&8&r&&(n=!0,o.value=e[3],Te((()=>n=!1))),t.$set(o)},i(e){r||(qe(t.$$.fragment,e),r=!0)},o(e){Ve(t.$$.fragment,e),r=!1},d(e){st(t,e)}}}function yQ(e){let t,n;return t=new ro({props:{onProceed:e[9],onCancel:e[10],isProcessing:"processing"===e[1]?.state,proceedButton:{label:"Save"},size:"small"}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.isProcessing="processing"===e[1]?.state),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function vQ(e){let t,n,r,o,s,i,a;n=new Io({props:{layout:"inline-input-first",$$slots:{label:[mQ],default:[$Q]},$$scope:{ctx:e}}}),o=new Io({props:{layout:"inline-input-first",$$slots:{label:[gQ],default:[fQ]},$$scope:{ctx:e}}});let l=!e[2]&&hQ(e),c=e[7]&&yQ(e);return{c(){t=F("div"),rt(n.$$.fragment),r=V(),rt(o.$$.fragment),s=V(),l&&l.c(),i=V(),c&&c.c(),B(t,"class","default-value-container svelte-w6n0k")},m(e,u){P(e,t,u),ot(n,t,null),A(t,r),ot(o,t,null),A(t,s),l&&l.m(t,null),A(t,i),c&&c.m(t,null),a=!0},p(e,[r]){const s={};2097156&r&&(s.$$scope={dirty:r,ctx:e}),n.$set(s);const a={};2097156&r&&(a.$$scope={dirty:r,ctx:e}),o.$set(a),e[2]?l&&(Fe(),Ve(l,1,1,(()=>{l=null})),He()):l?(l.p(e,r),4&r&&qe(l,1)):(l=hQ(e),l.c(),qe(l,1),l.m(t,i)),e[7]?c?(c.p(e,r),128&r&&qe(c,1)):(c=yQ(e),c.c(),qe(c,1),c.m(t,null)):c&&(Fe(),Ve(c,1,1,(()=>{c=null})),He())},i(e){a||(qe(n.$$.fragment,e),qe(o.$$.fragment,e),qe(l),qe(c),a=!0)},o(e){Ve(n.$$.fragment,e),Ve(o.$$.fragment,e),Ve(l),Ve(c),a=!1},d(e){e&&R(t),st(n),st(o),l&&l.d(),c&&c.d()}}}function bQ(e,t,n){let r,o,i,a,l,c,u,d,p,m,g,h=s;e.$$.on_destroy.push((()=>h()));let{column:y}=t,{canExecuteDDL:v}=t;const b=sB();let w;return f(e,b,(e=>n(17,g=e))),e.$$set=e=>{"column"in e&&n(0,y=e.column),"canExecuteDDL"in e&&n(13,v=e.canExecuteDDL)},e.$$.update=()=>{131072&e.$$.dirty&&n(15,({columnsDataStore:r,recordsData:o}=g),o),32768&e.$$.dirty&&(n(5,({recordSummaries:i}=o),i),h(),h=$(i,(e=>n(16,m=e)))),1&e.$$.dirty&&n(14,a=y.column.default?.value??y.initialInputValue),16384&e.$$.dirty&&n(3,l=a),1&e.$$.dirty&&n(2,c=null===y.column.default),16397&e.$$.dirty&&n(7,u=c?null!==y.column.default:"object"==typeof l?JSON.stringify(l)!==JSON.stringify(a):String(l)!==String(a)),65545&e.$$.dirty&&n(6,d=m.get(String(y.id))?.get(String(l))),8194&e.$$.dirty&&n(4,p=!v||"processing"===w?.state)},[y,w,c,l,p,i,d,u,b,async function(){n(1,w={state:"processing"});const e=c?null:{is_dynamic:!!y.column.default?.is_dynamic,value:l};try{await r.patch(y.id,{default:e}),n(1,w={state:"success"})}catch(t){const e=t instanceof Error?t.message:"Unable to change column display options.";Uf.error(e),n(1,w={state:"failure",errors:[e]})}},function(){n(3,l=a),n(1,w={state:"success"})},function(){n(2,c=!c)},function(e,t){i&&i.addBespokeRecordSummary({columnId:String(y.id),recordId:e,recordSummary:t})},v,a,o,m,g,function(e){l=e,n(3,l),n(14,a),n(0,y)}]}class wQ extends at{constructor(e){super(),it(this,e,bQ,vQ,p,{column:0,canExecuteDDL:13})}}function xQ(e){const t=e.slice(),n=t[4].linkFk?.referent_table;t[20]=n;const r=void 0===t[20]?void 0:t[8].data.get(t[20]);return t[21]=r,t}function SQ(e){let t,n,r,o,s,i,a,l,c=e[0].length>1&&kQ(e),u=e[4]&&DQ(e),d=e[4]&&OQ(e),p=e[4]&&!e[4].column.default?.is_dynamic&&NQ(e),$=e[4]&&zQ(e),m=e[4]&&VQ(xQ(e)),f=e[3]&&YQ(e);return{c(){c&&c.c(),t=V(),u&&u.c(),n=V(),d&&d.c(),r=V(),p&&p.c(),o=V(),$&&$.c(),s=V(),m&&m.c(),i=V(),f&&f.c(),a=j()},m(e,g){c&&c.m(e,g),P(e,t,g),u&&u.m(e,g),P(e,n,g),d&&d.m(e,g),P(e,r,g),p&&p.m(e,g),P(e,o,g),$&&$.m(e,g),P(e,s,g),m&&m.m(e,g),P(e,i,g),f&&f.m(e,g),P(e,a,g),l=!0},p(e,l){e[0].length>1?c?c.p(e,l):(c=kQ(e),c.c(),c.m(t.parentNode,t)):c&&(c.d(1),c=null),e[4]?u?(u.p(e,l),16&l&&qe(u,1)):(u=DQ(e),u.c(),qe(u,1),u.m(n.parentNode,n)):u&&(Fe(),Ve(u,1,1,(()=>{u=null})),He()),e[4]?d?(d.p(e,l),16&l&&qe(d,1)):(d=OQ(e),d.c(),qe(d,1),d.m(r.parentNode,r)):d&&(Fe(),Ve(d,1,1,(()=>{d=null})),He()),e[4]&&!e[4].column.default?.is_dynamic?p?(p.p(e,l),16&l&&qe(p,1)):(p=NQ(e),p.c(),qe(p,1),p.m(o.parentNode,o)):p&&(Fe(),Ve(p,1,1,(()=>{p=null})),He()),e[4]?$?($.p(e,l),16&l&&qe($,1)):($=zQ(e),$.c(),qe($,1),$.m(s.parentNode,s)):$&&(Fe(),Ve($,1,1,(()=>{$=null})),He()),e[4]?m?(m.p(xQ(e),l),16&l&&qe(m,1)):(m=VQ(xQ(e)),m.c(),qe(m,1),m.m(i.parentNode,i)):m&&(Fe(),Ve(m,1,1,(()=>{m=null})),He()),e[3]?f?(f.p(e,l),8&l&&qe(f,1)):(f=YQ(e),f.c(),qe(f,1),f.m(a.parentNode,a)):f&&(Fe(),Ve(f,1,1,(()=>{f=null})),He())},i(e){l||(qe(u),qe(d),qe(p),qe($),qe(m),qe(f),l=!0)},o(e){Ve(u),Ve(d),Ve(p),Ve($),Ve(m),Ve(f),l=!1},d(e){c&&c.d(e),e&&R(t),u&&u.d(e),e&&R(n),d&&d.d(e),e&&R(r),p&&p.d(e),e&&R(o),$&&$.d(e),e&&R(s),m&&m.d(e),e&&R(i),f&&f.d(e),e&&R(a)}}}function CQ(e){let t;return{c(){t=F("span"),t.textContent="Select one or more columns or cells to view the associated column\n      properties and actions.",B(t,"class","no-cell-selected svelte-dvc3fo")},m(e,n){P(e,t,n)},p:s,i:s,o:s,d(e){e&&R(t)}}}function kQ(e){let t,n,r,o=Eb(e[0],"columns")+"";return{c(){t=F("span"),n=q(o),r=q(" selected"),B(t,"class","columns-selected-count svelte-dvc3fo")},m(e,o){P(e,t,o),A(t,n),A(t,r)},p(e,t){1&t&&o!==(o=Eb(e[0],"columns")+"")&&X(n,o)},d(e){e&&R(t)}}}function DQ(e){let t,n;return t=new $s({props:{isOpen:!0,triggerAppearance:"plain",$$slots:{content:[EQ],header:[IQ]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};4194330&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function IQ(e){let t,n;return t=new ZZ({props:{slot:"header",title:"Properties",isDbLevelConfiguration:!0}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p:s,i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function _Q(e){let t,n,r,o=!!e[4].linkFk&&MQ(e);return n=new uZ({props:{column:e[4],columnsDataStore:e[1].columnsDataStore,constraintsDataStore:e[1].constraintsDataStore,canExecuteDDL:e[3]}}),{c(){o&&o.c(),t=V(),rt(n.$$.fragment)},m(e,s){o&&o.m(e,s),P(e,t,s),ot(n,e,s),r=!0},p(e,r){e[4].linkFk?o?(o.p(e,r),16&r&&qe(o,1)):(o=MQ(e),o.c(),qe(o,1),o.m(t.parentNode,t)):o&&(Fe(),Ve(o,1,1,(()=>{o=null})),He());const s={};16&r&&(s.column=e[4]),2&r&&(s.columnsDataStore=e[1].columnsDataStore),2&r&&(s.constraintsDataStore=e[1].constraintsDataStore),8&r&&(s.canExecuteDDL=e[3]),n.$set(s)},i(e){r||(qe(o),qe(n.$$.fragment,e),r=!0)},o(e){Ve(o),Ve(n.$$.fragment,e),r=!1},d(e){o&&o.d(e),e&&R(t),st(n,e)}}}function TQ(e){let t,n;return t=new rQ({props:{column:e[4],type:"primaryKey"}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};16&n&&(r.column=e[4]),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function MQ(e){let t,n;return t=new rQ({props:{column:e[4],type:"foreignKey"}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};16&n&&(r.column=e[4]),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function EQ(e){let t,n,r,o,s,i;n=new JX({props:{column:e[4],columnsDataStore:e[1].columnsDataStore,canExecuteDDL:e[3]}});const a=[TQ,_Q],l=[];function c(e,t){return e[4].column.primary_key?0:1}return o=c(e),s=l[o]=a[o](e),{c(){t=F("div"),rt(n.$$.fragment),r=V(),s.c(),B(t,"slot","content"),B(t,"class","content-container svelte-dvc3fo")},m(e,s){P(e,t,s),ot(n,t,null),A(t,r),l[o].m(t,null),i=!0},p(e,r){const i={};16&r&&(i.column=e[4]),2&r&&(i.columnsDataStore=e[1].columnsDataStore),8&r&&(i.canExecuteDDL=e[3]),n.$set(i);let u=o;o=c(e),o===u?l[o].p(e,r):(Fe(),Ve(l[u],1,1,(()=>{l[u]=null})),He(),s=l[o],s?s.p(e,r):(s=l[o]=a[o](e),s.c()),qe(s,1),s.m(t,null))},i(e){i||(qe(n.$$.fragment,e),qe(s),i=!0)},o(e){Ve(n.$$.fragment,e),Ve(s),i=!1},d(e){e&&R(t),st(n),l[o].d()}}}function OQ(e){let t,n;return t=new $s({props:{isOpen:!0,triggerAppearance:"plain",$$slots:{content:[LQ],header:[AQ]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};4194328&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function AQ(e){let t,n;return t=new ZZ({props:{slot:"header",title:"Data Type",isDbLevelConfiguration:!0}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p:s,i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function LQ(e){let t,n,r;return n=new KZ({props:{column:e[4],canExecuteDDL:e[3]}}),{c(){t=F("div"),rt(n.$$.fragment),B(t,"slot","content"),B(t,"class","content-container svelte-dvc3fo")},m(e,o){P(e,t,o),ot(n,t,null),r=!0},p(e,t){const r={};16&t&&(r.column=e[4]),8&t&&(r.canExecuteDDL=e[3]),n.$set(r)},i(e){r||(qe(n.$$.fragment,e),r=!0)},o(e){Ve(n.$$.fragment,e),r=!1},d(e){e&&R(t),st(n)}}}function NQ(e){let t,n;return t=new $s({props:{isOpen:!0,triggerAppearance:"plain",$$slots:{content:[RQ],header:[PQ]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};4194328&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function PQ(e){let t,n;return t=new ZZ({props:{slot:"header",title:"Default Value",isDbLevelConfiguration:!0}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p:s,i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function RQ(e){let t,n,r;return n=new wQ({props:{column:e[4],canExecuteDDL:e[3]}}),{c(){t=F("div"),rt(n.$$.fragment),B(t,"slot","content"),B(t,"class","content-container svelte-dvc3fo")},m(e,o){P(e,t,o),ot(n,t,null),r=!0},p(e,t){const r={};16&t&&(r.column=e[4]),8&t&&(r.canExecuteDDL=e[3]),n.$set(r)},i(e){r||(qe(n.$$.fragment,e),r=!0)},o(e){Ve(n.$$.fragment,e),r=!1},d(e){e&&R(t),st(n)}}}function zQ(e){let t,n;return t=new $s({props:{triggerAppearance:"plain",$$slots:{content:[qQ],header:[FQ]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};4194324&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function FQ(e){let t,n;return t=new ZZ({props:{slot:"header",title:"Formatting"}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p:s,i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function HQ(e){let t,n;return t=new pQ({props:{column:e[4],canEditMetadata:e[2]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};16&n&&(r.column=e[4]),4&n&&(r.canEditMetadata=e[2]),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function qQ(e){let t,n,r=e[4],o=HQ(e);return{c(){t=F("div"),o.c(),B(t,"slot","content"),B(t,"class","content-container svelte-dvc3fo")},m(e,r){P(e,t,r),o.m(t,null),n=!0},p(e,n){16&n&&p(r,r=e[4])?(Fe(),Ve(o,1,1,s),He(),o=HQ(e),o.c(),qe(o,1),o.m(t,null)):o.p(e,n)},i(e){n||(qe(o),n=!0)},o(e){Ve(o),n=!1},d(e){e&&R(t),o.d(e)}}}function VQ(e){let t,n,r=void 0!==e[21]&&jQ(e);return{c(){r&&r.c(),t=j()},m(e,o){r&&r.m(e,o),P(e,t,o),n=!0},p(e,n){void 0!==e[21]?r?(r.p(e,n),272&n&&qe(r,1)):(r=jQ(e),r.c(),qe(r,1),r.m(t.parentNode,t)):r&&(Fe(),Ve(r,1,1,(()=>{r=null})),He())},i(e){n||(qe(r),n=!0)},o(e){Ve(r),n=!1},d(e){r&&r.d(e),e&&R(t)}}}function jQ(e){let t,n;return t=new $s({props:{triggerAppearance:"plain",$$slots:{content:[UQ],header:[WQ]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};4194576&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function WQ(e){let t,n;return t=new ZZ({props:{slot:"header",title:"Linked Record Summary"}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p:s,i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function UQ(e){let t,n,r;return n=new HX({props:{table:e[21]}}),{c(){t=F("div"),rt(n.$$.fragment),B(t,"slot","content"),B(t,"class","content-container svelte-dvc3fo")},m(e,o){P(e,t,o),ot(n,t,null),r=!0},p(e,t){const r={};272&t&&(r.table=e[21]),n.$set(r)},i(e){r||(qe(n.$$.fragment,e),r=!0)},o(e){Ve(n.$$.fragment,e),r=!1},d(e){e&&R(t),st(n)}}}function YQ(e){let t,n;return t=new $s({props:{isOpen:!0,triggerAppearance:"plain",$$slots:{content:[KQ],header:[BQ]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};4194305&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function BQ(e){let t,n;return t=new ZZ({props:{slot:"header",title:"Actions"}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p:s,i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function KQ(e){let t,n,r;return n=new JJ({props:{columns:e[0]}}),{c(){t=F("div"),rt(n.$$.fragment),B(t,"slot","content"),B(t,"class","content-container svelte-dvc3fo")},m(e,o){P(e,t,o),ot(n,t,null),r=!0},p(e,t){const r={};1&t&&(r.columns=e[0]),n.$set(r)},i(e){r||(qe(n.$$.fragment,e),r=!0)},o(e){Ve(n.$$.fragment,e),r=!1},d(e){e&&R(t),st(n)}}}function GQ(e){let t,n,r,o;const s=[CQ,SQ],i=[];function a(e,t){return 0===e[0].length?0:1}return n=a(e),r=i[n]=s[n](e),{c(){t=F("div"),r.c(),B(t,"class","column-mode-container svelte-dvc3fo")},m(e,r){P(e,t,r),i[n].m(t,null),o=!0},p(e,[o]){let l=n;n=a(e),n===l?i[n].p(e,o):(Fe(),Ve(i[l],1,1,(()=>{i[l]=null})),He(),r=i[n],r?r.p(e,o):(r=i[n]=s[n](e),r.c()),qe(r,1),r.m(t,null))},i(e){o||(qe(r),o=!0)},o(e){Ve(r),o=!1},d(e){e&&R(t),i[n].d()}}}function XQ(e,t,n){let r,o,i,a,l,c,u,d,p,m,g,h,y,v,b,w,x,S,C=s,k=s,D=s;f(e,Xh,(e=>n(18,w=e))),f(e,vh,(e=>n(19,x=e))),f(e,Cv,(e=>n(8,S=e))),e.$$.on_destroy.push((()=>C())),e.$$.on_destroy.push((()=>k())),e.$$.on_destroy.push((()=>D()));const I=sB();f(e,I,(e=>n(1,b=e)));const _=Uv();return f(e,_,(e=>n(14,g=e))),e.$$.update=()=>{524288&e.$$.dirty&&n(12,r=x),262144&e.$$.dirty&&n(11,o=w),2&e.$$.dirty&&(n(7,({processedColumns:i,selection:a}=b),i,(n(13,a),n(1,b))),C(),C=$(i,(e=>n(15,h=e)))),8192&e.$$.dirty&&(n(6,({selectedCells:l,columnsSelectedWhenTheTableIsEmpty:c}=a),l,(n(5,c),k(),k=$(c,(e=>n(16,y=e))),c)),D(),D=$(l,(e=>n(17,v=e)))),237568&e.$$.dirty&&n(0,u=(()=>{const e=a.getSelectedUniqueColumnsId(v,y),t=[];for(const n of e){const e=h.get(n);void 0!==e&&t.push(e)}return t})()),1&e.$$.dirty&&n(4,d=1===u.length?u[0]:void 0),22528&e.$$.dirty&&n(3,p=!!g?.hasPermission({database:r,schema:o},"canExecuteDDL")),22528&e.$$.dirty&&n(2,m=!!g?.hasPermission({database:r,schema:o},"canEditMetadata"))},[u,b,m,p,d,c,l,i,S,I,_,o,r,a,g,h,y,v,w,x]}class JQ extends at{constructor(e){super(),it(this,e,XQ,GQ,p,{})}}function ZQ(e){let t,n;return t=new pn({props:{href:e[3],$$slots:{default:[QQ]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};8&n&&(r.href=e[3]),8192&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function QQ(e){let t,n,r,o,s,i,l,c;const u=[pf];let d={};for(let m=0;m<u.length;m+=1)d=a(d,u[m]);r=new Wr({props:d});const p=[wr];let $={};for(let m=0;m<p.length;m+=1)$=a($,p[m]);return l=new Wr({props:$}),{c(){t=F("div"),n=F("div"),rt(r.$$.fragment),o=V(),s=F("span"),s.textContent="Open Record",i=V(),rt(l.$$.fragment),B(t,"class","action-item svelte-if6g6v")},m(e,a){P(e,t,a),A(t,n),ot(r,n,null),A(n,o),A(n,s),A(t,i),ot(l,t,null),c=!0},p(e,t){const n=0&t?et(u,[tt(pf)]):{};r.$set(n);const o=0&t?et(p,[tt(wr)]):{};l.$set(o)},i(e){c||(qe(r.$$.fragment,e),qe(l.$$.fragment,e),c=!0)},o(e){Ve(r.$$.fragment,e),Ve(l.$$.fragment,e),c=!1},d(e){e&&R(t),st(r),st(l)}}}function e1(e){let t,n;return t=new Ln({props:{$$slots:{default:[t1]},$$scope:{ctx:e}}}),t.$on("click",e[6]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};8193&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function t1(e){let t,n,r,o,s,i,l=Eb(e[0],"records",{casing:"title",countWhenSingular:"hidden"})+"";const c=[km];let u={};for(let d=0;d<c.length;d+=1)u=a(u,c[d]);return t=new Wr({props:u}),{c(){rt(t.$$.fragment),n=V(),r=F("span"),o=q("Delete "),s=q(l)},m(e,a){ot(t,e,a),P(e,n,a),P(e,r,a),A(r,o),A(r,s),i=!0},p(e,n){const r=0&n?et(c,[tt(km)]):{};t.$set(r),(!i||1&n)&&l!==(l=Eb(e[0],"records",{casing:"title",countWhenSingular:"hidden"})+"")&&X(s,l)},i(e){i||(qe(t.$$.fragment,e),i=!0)},o(e){Ve(t.$$.fragment,e),i=!1},d(e){st(t,e),e&&R(n),e&&R(r)}}}function n1(e){let t;return{c(){t=F("span"),t.textContent="There are no actions to perform on the selected record.",B(t,"class","null-text svelte-if6g6v")},m(e,n){P(e,t,n)},d(e){e&&R(t)}}}function r1(e){let t,n,r,o,s=e[1]&&ZQ(e),i=e[2]&&e1(e),a=e[4]&&n1();return{c(){t=F("div"),s&&s.c(),n=V(),i&&i.c(),r=V(),a&&a.c(),B(t,"class","actions-container svelte-if6g6v")},m(e,l){P(e,t,l),s&&s.m(t,null),A(t,n),i&&i.m(t,null),A(t,r),a&&a.m(t,null),o=!0},p(e,[o]){e[1]?s?(s.p(e,o),2&o&&qe(s,1)):(s=ZQ(e),s.c(),qe(s,1),s.m(t,n)):s&&(Fe(),Ve(s,1,1,(()=>{s=null})),He()),e[2]?i?(i.p(e,o),4&o&&qe(i,1)):(i=e1(e),i.c(),qe(i,1),i.m(t,r)):i&&(Fe(),Ve(i,1,1,(()=>{i=null})),He()),e[4]?a||(a=n1(),a.c(),a.m(t,null)):a&&(a.d(1),a=null)},i(e){o||(qe(s),qe(i),o=!0)},o(e){Ve(s),Ve(i),o=!1},d(e){e&&R(t),s&&s.d(),i&&i.d(),a&&a.d()}}}function o1(e,t,n){let r,o,i,a,l,c,u,d=s;f(e,FA,(e=>n(11,c=e))),e.$$.on_destroy.push((()=>d()));let{selectedRowIndices:p}=t,{recordsData:m}=t,{selection:g}=t,{columnsDataStore:h}=t,{canEditTableRecords:y}=t;return e.$$set=e=>{"selectedRowIndices"in e&&n(0,p=e.selectedRowIndices),"recordsData"in e&&n(7,m=e.recordsData),"selection"in e&&n(8,g=e.selection),"columnsDataStore"in e&&n(9,h=e.columnsDataStore),"canEditTableRecords"in e&&n(10,y=e.canEditTableRecords)},e.$$.update=()=>{512&e.$$.dirty&&(n(5,({columns:r}=h),r),d(),d=$(r,(e=>n(12,u=e)))),6273&e.$$.dirty&&n(3,o=(()=>{const e=p[0],t=m.getRecordRows()[e];if(!t)return"";let n;try{n=MY(t.record,u)}catch(r){return""}return c({recordId:n})||""})()),9&e.$$.dirty&&n(1,i=1===p.length&&o),1024&e.$$.dirty&&n(2,a=y),6&e.$$.dirty&&n(4,l=!a&&!i)},[p,i,a,o,l,r,async function(){const e=Eb(p,"records",{countWhenSingular:"hidden",casing:"title"});Gf({identifierType:e,body:rK(p),onProceed:()=>m.deleteSelected(p),onError:e=>Uf.fromError(e),onSuccess:()=>{Uf.success({title:`${e} deleted successfully!`}),g.resetSelection()}})},m,g,h,y,c,u]}class s1 extends at{constructor(e){super(),it(this,e,o1,r1,p,{selectedRowIndices:0,recordsData:7,selection:8,columnsDataStore:9,canEditTableRecords:10})}}function i1(e){let t;return{c(){t=F("span"),t.textContent="Select one or more cells to view associated record properties.",B(t,"class","no-records-selected svelte-1c2g5hx")},m(e,n){P(e,t,n)},p:s,i:s,o:s,d(e){e&&R(t)}}}function a1(e){let t,n,r,o=e[3].length>1&&l1(e);return n=new $s({props:{isOpen:!0,triggerAppearance:"plain",$$slots:{content:[u1],header:[c1]},$$scope:{ctx:e}}}),{c(){o&&o.c(),t=V(),rt(n.$$.fragment)},m(e,s){o&&o.m(e,s),P(e,t,s),ot(n,e,s),r=!0},p(e,r){e[3].length>1?o?o.p(e,r):(o=l1(e),o.c(),o.m(t.parentNode,t)):o&&(o.d(1),o=null);const s={};32815&r&&(s.$$scope={dirty:r,ctx:e}),n.$set(s)},i(e){r||(qe(n.$$.fragment,e),r=!0)},o(e){Ve(n.$$.fragment,e),r=!1},d(e){o&&o.d(e),e&&R(t),st(n,e)}}}function l1(e){let t,n,r,o=Eb(e[3],"records")+"";return{c(){t=F("span"),n=q(o),r=q(" selected"),B(t,"class","records-selected-count svelte-1c2g5hx")},m(e,o){P(e,t,o),A(t,n),A(t,r)},p(e,t){8&t&&o!==(o=Eb(e[3],"records")+"")&&X(n,o)},d(e){e&&R(t)}}}function c1(e){let t,n;return t=new ZZ({props:{slot:"header",title:"Actions"}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p:s,i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function u1(e){let t,n,r;return n=new s1({props:{selectedRowIndices:e[3],recordsData:e[5],selection:e[0],columnsDataStore:e[1].columnsDataStore,canEditTableRecords:e[2]}}),{c(){t=F("div"),rt(n.$$.fragment),B(t,"slot","content"),B(t,"class","content-container svelte-1c2g5hx")},m(e,o){P(e,t,o),ot(n,t,null),r=!0},p(e,t){const r={};8&t&&(r.selectedRowIndices=e[3]),32&t&&(r.recordsData=e[5]),1&t&&(r.selection=e[0]),2&t&&(r.columnsDataStore=e[1].columnsDataStore),4&t&&(r.canEditTableRecords=e[2]),n.$set(r)},i(e){r||(qe(n.$$.fragment,e),r=!0)},o(e){Ve(n.$$.fragment,e),r=!1},d(e){e&&R(t),st(n)}}}function d1(e){let t,n,r,o;const s=[a1,i1],i=[];function a(e,t){return e[3].length?0:1}return n=a(e),r=i[n]=s[n](e),{c(){t=F("div"),r.c(),B(t,"class","column-mode-container svelte-1c2g5hx")},m(e,r){P(e,t,r),i[n].m(t,null),o=!0},p(e,[o]){let l=n;n=a(e),n===l?i[n].p(e,o):(Fe(),Ve(i[l],1,1,(()=>{i[l]=null})),He(),r=i[n],r?r.p(e,o):(r=i[n]=s[n](e),r.c()),qe(r,1),r.m(t,null))},i(e){o||(qe(r),o=!0)},o(e){Ve(r),o=!1},d(e){e&&R(t),i[n].d()}}}function p1(e,t,n){let r,o,i,a,l,c,u,d,p,m,g,h,y,v=s;f(e,Xh,(e=>n(13,h=e))),f(e,vh,(e=>n(14,y=e))),e.$$.on_destroy.push((()=>v()));const b=sB();f(e,b,(e=>n(1,g=e)));const w=Uv();return f(e,w,(e=>n(11,p=e))),e.$$.update=()=>{16384&e.$$.dirty&&n(9,r=y),8192&e.$$.dirty&&n(8,o=h),2&e.$$.dirty&&n(0,({selection:i,recordsData:a}=g),i,(n(5,a),n(1,g))),1&e.$$.dirty&&(n(4,({selectedCells:l}=i),l),v(),v=$(l,(e=>n(12,m=e)))),4096&e.$$.dirty&&n(10,c=m.valuesArray().map((e=>CP(e)))),1024&e.$$.dirty&&n(3,u=Array.from(new Set(c))),2816&e.$$.dirty&&n(2,d=!!p?.hasPermission({database:r,schema:o},"canEditTableRecords"))},[i,g,d,u,l,a,b,w,o,r,c,p,m,h,y]}class $1 extends at{constructor(e){super(),it(this,e,p1,d1,p,{})}}function m1(e){let t,n,r,o,s;function i(...t){return e[4](e[6],...t)}return o=new KX({props:{initialValue:e[2].data.get(e[1].id)?.name??"",onSubmit:i,getValidationErrors:e[5],disabled:e[0]}}),{c(){t=F("div"),n=F("span"),n.textContent="Name",r=V(),rt(o.$$.fragment),B(n,"class","label"),B(t,"class","rename-table-property-container svelte-1b3mauw")},m(e,i){P(e,t,i),A(t,n),A(t,r),ot(o,t,null),s=!0},p(t,n){e=t;const r={};6&n&&(r.initialValue=e[2].data.get(e[1].id)?.name??""),64&n&&(r.onSubmit=i),32&n&&(r.getValidationErrors=e[5]),1&n&&(r.disabled=e[0]),o.$set(r)},i(e){s||(qe(o.$$.fragment,e),s=!0)},o(e){Ve(o.$$.fragment,e),s=!1},d(e){e&&R(t),st(o)}}}function f1(e){let t,n;return t=new Zq({props:{tableId:e[1].id,$$slots:{default:[m1,({getNameValidationErrors:e,onUpdate:t})=>({5:e,6:t}),({getNameValidationErrors:e,onUpdate:t})=>(e?32:0)|(t?64:0)]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const r={};2&n&&(r.tableId=e[1].id),231&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function g1(e,t,n){let r,o;f(e,Cv,(e=>n(2,o=e)));const s=sB();f(e,s,(e=>n(1,r=e)));let{disabled:i=!1}=t;return e.$$set=e=>{"disabled"in e&&n(0,i=e.disabled)},[i,r,o,s,(e,t)=>e({name:t})]}class h1 extends at{constructor(e){super(),it(this,e,g1,f1,p,{disabled:0})}}function y1(e){let t,n,r,o;t=new pn({props:{href:e[4],$$slots:{default:[b1]},$$scope:{ctx:e}}});let s=e[3]&&w1(e);return{c(){rt(t.$$.fragment),n=V(),s&&s.c(),r=j()},m(e,i){ot(t,e,i),P(e,n,i),s&&s.m(e,i),P(e,r,i),o=!0},p(e,n){const o={};16&n&&(o.href=e[4]),131072&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o),e[3]?s?(s.p(e,n),8&n&&qe(s,1)):(s=w1(e),s.c(),qe(s,1),s.m(r.parentNode,r)):s&&(Fe(),Ve(s,1,1,(()=>{s=null})),He())},i(e){o||(qe(t.$$.fragment,e),qe(s),o=!0)},o(e){Ve(t.$$.fragment,e),Ve(s),o=!1},d(e){st(t,e),e&&R(n),s&&s.d(e),e&&R(r)}}}function v1(e){let t;return{c(){t=q("Open this table in Data Explorer to query and analyze your data.")},m(e,n){P(e,t,n)},d(e){e&&R(t)}}}function b1(e){let t,n,r,o,s,i,l,c,u,d;const p=[sf];let $={};for(let g=0;g<p.length;g+=1)$=a($,p[g]);r=new Wr({props:$}),l=new ni({props:{$$slots:{default:[v1]},$$scope:{ctx:e}}});const m=[wr];let f={};for(let g=0;g<m.length;g+=1)f=a(f,m[g]);return u=new Wr({props:f}),{c(){t=F("div"),n=F("div"),rt(r.$$.fragment),o=V(),s=F("span"),s.textContent="Explore Data",i=V(),rt(l.$$.fragment),c=V(),rt(u.$$.fragment),B(t,"class","action-item svelte-lo2o6r")},m(e,a){P(e,t,a),A(t,n),ot(r,n,null),A(n,o),A(n,s),A(n,i),ot(l,n,null),A(t,c),ot(u,t,null),d=!0},p(e,t){const n=0&t?et(p,[tt(sf)]):{};r.$set(n);const o={};131072&t&&(o.$$scope={dirty:t,ctx:e}),l.$set(o);const s=0&t?et(m,[tt(wr)]):{};u.$set(s)},i(e){d||(qe(r.$$.fragment,e),qe(l.$$.fragment,e),qe(u.$$.fragment,e),d=!0)},o(e){Ve(r.$$.fragment,e),Ve(l.$$.fragment,e),Ve(u.$$.fragment,e),d=!1},d(e){e&&R(t),st(r),st(l),st(u)}}}function w1(e){let t,n;return t=new pn({props:{href:e[3],$$slots:{default:[S1]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};8&n&&(r.href=e[3]),131072&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function x1(e){let t;return{c(){t=q("Open a pre-configured exploration based on the current table\n              display.")},m(e,n){P(e,t,n)},d(e){e&&R(t)}}}function S1(e){let t,n,r,o,s,i,l,c,u,d;const p=[sf];let $={};for(let g=0;g<p.length;g+=1)$=a($,p[g]);r=new Wr({props:$}),l=new ni({props:{$$slots:{default:[x1]},$$scope:{ctx:e}}});const m=[wr];let f={};for(let g=0;g<m.length;g+=1)f=a(f,m[g]);return u=new Wr({props:f}),{c(){t=F("div"),n=F("div"),rt(r.$$.fragment),o=V(),s=F("span"),s.textContent="Summarize in Data Explorer",i=V(),rt(l.$$.fragment),c=V(),rt(u.$$.fragment),B(t,"class","action-item svelte-lo2o6r")},m(e,a){P(e,t,a),A(t,n),ot(r,n,null),A(n,o),A(n,s),A(n,i),ot(l,n,null),A(t,c),ot(u,t,null),d=!0},p(e,t){const n=0&t?et(p,[tt(sf)]):{};r.$set(n);const o={};131072&t&&(o.$$scope={dirty:t,ctx:e}),l.$set(o);const s=0&t?et(m,[tt(wr)]):{};u.$set(s)},i(e){d||(qe(r.$$.fragment,e),qe(l.$$.fragment,e),qe(u.$$.fragment,e),d=!0)},o(e){Ve(r.$$.fragment,e),Ve(l.$$.fragment,e),Ve(u.$$.fragment,e),d=!1},d(e){e&&R(t),st(r),st(l),st(u)}}}function C1(e){let t,n;return t=new Ln({props:{appearance:"outline-primary",$$slots:{default:[k1]},$$scope:{ctx:e}}}),t.$on("click",e[8]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};131072&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function k1(e){let t,n,r,o;const s=[km];let i={};for(let l=0;l<s.length;l+=1)i=a(i,s[l]);return t=new Wr({props:i}),{c(){rt(t.$$.fragment),n=V(),r=F("span"),r.textContent="Delete Table"},m(e,s){ot(t,e,s),P(e,n,s),P(e,r,s),o=!0},p(e,n){const r=0&n?et(s,[tt(km)]):{};t.$set(r)},i(e){o||(qe(t.$$.fragment,e),o=!0)},o(e){Ve(t.$$.fragment,e),o=!1},d(e){st(t,e),e&&R(n),e&&R(r)}}}function D1(e){let t,n,r,o=e[2]&&e[1]&&y1(e),s=e[0]&&C1(e);return{c(){t=F("div"),o&&o.c(),n=V(),s&&s.c(),B(t,"class","actions-container svelte-lo2o6r")},m(e,i){P(e,t,i),o&&o.m(t,null),A(t,n),s&&s.m(t,null),r=!0},p(e,[r]){e[2]&&e[1]?o?(o.p(e,r),6&r&&qe(o,1)):(o=y1(e),o.c(),qe(o,1),o.m(t,n)):o&&(Fe(),Ve(o,1,1,(()=>{o=null})),He()),e[0]?s?(s.p(e,r),1&r&&qe(s,1)):(s=C1(e),s.c(),qe(s,1),s.m(t,null)):s&&(Fe(),Ve(s,1,1,(()=>{s=null})),He())},i(e){r||(qe(o),qe(s),r=!0)},o(e){Ve(o),Ve(s),r=!1},d(e){e&&R(t),o&&o.d(),s&&s.d()}}}function I1(e,t,n){let r,o,i,a,l,c,u,d,p,m,g,h,y,v,b=s,w=s;f(e,Xh,(e=>n(1,p=e))),f(e,vh,(e=>n(2,m=e))),f(e,_v,(e=>n(13,g=e))),f(e,Cv,(e=>n(16,v=e))),e.$$.on_destroy.push((()=>b())),e.$$.on_destroy.push((()=>w()));let{canExecuteDDL:x}=t;const S=sB();return f(e,S,(e=>n(12,d=e))),e.$$set=e=>{"canExecuteDDL"in e&&n(0,x=e.canExecuteDDL)},e.$$.update=()=>{4096&e.$$.dirty&&n(9,({id:r,columnsDataStore:o,meta:i}=d),r,(n(10,o),n(12,d)),(n(11,i),n(12,d))),2048&e.$$.dirty&&(n(6,({grouping:a}=i),a),b(),b=$(a,(e=>n(14,h=e)))),1024&e.$$.dirty&&(n(5,({columns:l}=o),l),w(),w=$(l,(e=>n(15,y=e)))),69638&e.$$.dirty&&n(4,c=m&&p?jq(m?.name,p.id,{id:d.id,name:v.data.get(d.id)?.name??""}):""),57862&e.$$.dirty&&n(3,u=(()=>{if(g&&m&&p)return function(e,t,n){const r=Hg(e,t),{columns:o,terseGrouping:s}=n;if(s.length>0&&o.length>0)return`${r}#${Vq(n)}`}(m.name,p.id,{baseTable:{id:r,name:g.name},columns:y,terseGrouping:h.terse()})})())},[x,p,m,u,c,l,a,S,function(){Gf({identifierType:"Table",body:{component:Bq,props:{tableName:g?.name}},onProceed:async()=>{const e=m,t=p;e&&t&&(await yv(e,t,d.id),hg.goto(Lg(e.name,t.id),!0))}})},r,o,i,d,g,h,y,v]}class _1 extends at{constructor(e){super(),it(this,e,I1,D1,p,{canExecuteDDL:0})}}function T1(e,t,n){const r=e.slice();return r[6]=t[n],r}function M1(e,t){let n,r,o,s;return r=new dL({props:{column:t[6]}}),{key:e,first:null,c(){n=F("span"),rt(r.$$.fragment),o=V(),B(n,"class","column-name-container svelte-t5b5db"),this.first=n},m(e,t){P(e,n,t),ot(r,n,null),A(n,o),s=!0},p(e,n){t=e;const o={};1&n&&(o.column=t[6]),r.$set(o)},i(e){s||(qe(r.$$.fragment,e),s=!0)},o(e){Ve(r.$$.fragment,e),s=!1},d(e){e&&R(n),st(r)}}}function E1(e){let t,n,r,o=[],s=new Map,i=e[0];const a=e=>e[6].id;for(let l=0;l<i.length;l+=1){let t=T1(e,i,l),n=a(t);s.set(n,o[l]=M1(n,t))}return{c(){t=F("div"),n=F("div");for(let e=0;e<o.length;e+=1)o[e].c();B(n,"class","column-names svelte-t5b5db"),B(t,"class","column-names-header svelte-t5b5db")},m(e,s){P(e,t,s),A(t,n);for(let t=0;t<o.length;t+=1)o[t].m(n,null);r=!0},p(e,[t]){1&t&&(i=e[0],Fe(),o=Qe(o,t,a,1,e,i,s,n,Je,M1,null,T1),He())},i(e){if(!r){for(let e=0;e<i.length;e+=1)qe(o[e]);r=!0}},o(e){for(let t=0;t<o.length;t+=1)Ve(o[t]);r=!1},d(e){e&&R(t);for(let t=0;t<o.length;t+=1)o[t].d()}}}function O1(e,t,n){let r,o,i,a,l=s;e.$$.on_destroy.push((()=>l()));let{constraint:c}=t;const u=sB();return f(e,u,(e=>n(5,a=e))),e.$$set=e=>{"constraint"in e&&n(3,c=e.constraint)},e.$$.update=()=>{32&e.$$.dirty&&(n(1,r=a.columnsDataStore.columns),l(),l=$(r,(e=>n(4,i=e)))),24&e.$$.dirty&&n(0,o=i.filter((e=>c.columns.includes(e.id))))},[o,r,u,c,i,a]}class A1 extends at{constructor(e){super(),it(this,e,O1,E1,p,{constraint:3})}}function L1(e){let t,n,r;return{c(){t=F("p"),t.textContent="At the database level, each constraint must have a unique name across all\n    the constraints, tables, views, and indexes within the schema.",n=V(),r=F("p"),r.textContent="In Mathesar however, the name of the constraint will likely never be\n    relevant,  so we recommend allowing Mathesar to automatically\n    generate constraint names when adding new constraints."},m(e,o){P(e,t,o),P(e,n,o),P(e,r,o)},p:s,d(e){e&&R(t),e&&R(n),e&&R(r)}}}function N1(e){let t,n;return t=new ni({props:{$$slots:{default:[L1]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const r={};1&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}class P1 extends at{constructor(e){super(),it(this,e,null,N1,p,{})}}function R1(e){let t,n;return t=new dL({props:{column:{...e[27].column,constraintsType:aL(e[27].column.id,e[4])}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};134217744&n&&(r.column={...e[27].column,constraintsType:aL(e[27].column.id,e[4])}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function z1(e){let t,n,r;function o(t){e[20](t)}let s={options:e[7],autoClearInvalidValues:!1,$$slots:{default:[R1,({option:e})=>({27:e}),({option:e})=>e?134217728:0]},$$scope:{ctx:e}};return void 0!==e[0]&&(s.values=e[0]),t=new Va({props:s}),we.push((()=>nt(t,"values",o))),{c(){rt(t.$$.fragment)},m(e,n){ot(t,e,n),r=!0},p(e,r){const o={};128&r&&(o.options=e[7]),402653200&r&&(o.$$scope={dirty:r,ctx:e}),!n&&1&r&&(n=!0,o.values=e[0],Te((()=>n=!1))),t.$set(o)},i(e){r||(qe(t.$$.fragment,e),r=!0)},o(e){Ve(t.$$.fragment,e),r=!1},d(e){st(t,e)}}}function F1(e){let t,n;return t=new Io({props:{label:"Columns",layout:"stacked",$$slots:{default:[z1]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};268435601&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function H1(e){let t,n,r;return n=new P1({}),{c(){t=q("Set Constraint Name "),rt(n.$$.fragment)},m(e,o){P(e,t,o),ot(n,e,o),r=!0},i(e){r||(qe(n.$$.fragment,e),r=!0)},o(e){Ve(n.$$.fragment,e),r=!1},d(e){e&&R(t),st(n,e)}}}function q1(e){let t,n,r;function o(t){e[22](t)}let s={options:e[10],isInline:!0,getRadioLabel:e[21],$$slots:{default:[H1]},$$scope:{ctx:e}};return void 0!==e[1]&&(s.value=e[1]),t=new al({props:s}),we.push((()=>nt(t,"value",o))),t.$on("change",e[12]),{c(){rt(t.$$.fragment)},m(e,n){ot(t,e,n),r=!0},p(e,r){const o={};268435456&r&&(o.$$scope={dirty:r,ctx:e}),!n&&2&r&&(n=!0,o.value=e[1],Te((()=>n=!1))),t.$set(o)},i(e){r||(qe(t.$$.fragment,e),r=!0)},o(e){Ve(t.$$.fragment,e),r=!1},d(e){st(t,e)}}}function V1(e){let t,n;return t=new A_({props:{errors:e[3],$$slots:{default:[W1]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};8&n&&(r.errors=e[3]),268435468&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function j1(e){let t,n,r;function o(t){e[23](t)}let s={hasError:e[3].length>0};return void 0!==e[2]&&(s.value=e[2]),t=new di({props:s}),we.push((()=>nt(t,"value",o))),{c(){rt(t.$$.fragment)},m(e,n){ot(t,e,n),r=!0},p(e,r){const o={};8&r&&(o.hasError=e[3].length>0),!n&&4&r&&(n=!0,o.value=e[2],Te((()=>n=!1))),t.$set(o)},i(e){r||(qe(t.$$.fragment,e),r=!0)},o(e){Ve(t.$$.fragment,e),r=!1},d(e){st(t,e)}}}function W1(e){let t,n;return t=new Io({props:{label:"Constraint Name",layout:"stacked",$$slots:{default:[j1]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};268435468&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function U1(e){let t,n,r,o,s,i;t=new A_({props:{$$slots:{default:[F1]},$$scope:{ctx:e}}}),r=new A_({props:{$$slots:{default:[q1]},$$scope:{ctx:e}}});let a="manual"===e[1]&&V1(e);return{c(){rt(t.$$.fragment),n=V(),rt(r.$$.fragment),o=V(),a&&a.c(),s=j()},m(e,l){ot(t,e,l),P(e,n,l),ot(r,e,l),P(e,o,l),a&&a.m(e,l),P(e,s,l),i=!0},p(e,n){const o={};268435601&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o);const i={};268435458&n&&(i.$$scope={dirty:n,ctx:e}),r.$set(i),"manual"===e[1]?a?(a.p(e,n),2&n&&qe(a,1)):(a=V1(e),a.c(),qe(a,1),a.m(s.parentNode,s)):a&&(Fe(),Ve(a,1,1,(()=>{a=null})),He())},i(e){i||(qe(t.$$.fragment,e),qe(r.$$.fragment,e),qe(a),i=!0)},o(e){Ve(t.$$.fragment,e),Ve(r.$$.fragment,e),Ve(a),i=!1},d(e){st(t,e),e&&R(n),st(r,e),e&&R(o),a&&a.d(e),e&&R(s)}}}function Y1(e){let t,n,r,o,s,i,a;return o=new k_({props:{$$slots:{default:[U1]},$$scope:{ctx:e}}}),i=new ro({props:{onProceed:e[13],onCancel:e[14],proceedButton:{label:"Add"},canProceed:e[6],size:"small"}}),{c(){t=F("div"),n=F("span"),n.textContent="New Unique Constraint",r=V(),rt(o.$$.fragment),s=V(),rt(i.$$.fragment),B(t,"class","add-new-unique-constraint svelte-154es72")},m(e,l){P(e,t,l),A(t,n),A(t,r),ot(o,t,null),A(t,s),ot(i,t,null),a=!0},p(e,[t]){const n={};268435615&t&&(n.$$scope={dirty:t,ctx:e}),o.$set(n);const r={};64&t&&(r.canProceed=e[6]),i.$set(r)},i(e){a||(qe(o.$$.fragment,e),qe(i.$$.fragment,e),a=!0)},o(e){Ve(o.$$.fragment,e),Ve(i.$$.fragment,e),a=!1},d(e){e&&R(t),st(o),st(i)}}}function B1(e,t,n){let r,o,i,a,l,c,u,d,p,m,g,h=s,y=s;f(e,Cv,(e=>n(18,m=e))),e.$$.on_destroy.push((()=>h())),e.$$.on_destroy.push((()=>y()));let{onClose:v}=t;const b=new Map([["auto","Automatically"],["manual","Manually"]]),w=[...b.keys()],x=sB();f(e,x,(e=>n(17,p=e)));let S,C=[],k="auto";return e.$$set=e=>{"onClose"in e&&n(15,v=e.onClose)},e.$$.update=()=>{var t,s;131072&e.$$.dirty&&(n(5,r=p.constraintsDataStore),y(),y=$(r,(e=>n(19,g=e)))),524288&e.$$.dirty&&n(16,o=new Set(g.constraints.map((e=>e.name)))),393216&e.$$.dirty&&(i=m.data.get(p.id)?.name??""),131072&e.$$.dirty&&(n(8,({processedColumns:a}=p),a),h(),h=$(a,(e=>n(4,d=e)))),16&e.$$.dirty&&n(7,l=Array.from(d.values())),65542&e.$$.dirty&&n(3,(t=S,s=o,c="auto"===k?[]:t?.trim()?s.has(t?.trim())?["A constraint with that name already exists"]:[]:["Name cannot be empty"])),9&e.$$.dirty&&n(6,u=C.length>0&&!c.length)},[C,k,S,c,d,r,u,l,a,b,w,x,function(){var e;n(2,S="manual"===k?(e=o,x_(`${i}_${C.map((e=>e.column.name)).join("_")}`,e)):void 0)},async function(){try{await r.add({columns:C.map((e=>e.id)),type:"unique",name:S}),n(0,C=[]),n(1,k="auto"),n(2,S=void 0),v?.()}catch(e){Uf.error(`Unable to add constraint. ${e.message}`)}},function(){v?.()},v,o,p,m,g,function(e){C=e,n(0,C)},e=>b.get(e)??"",function(e){k=e,n(1,k)},function(e){S=e,n(2,S)}]}class K1 extends at{constructor(e){super(),it(this,e,B1,Y1,p,{onClose:15})}}function G1(e){let t,n;return t=new aG({props:{processedColumn:e[5]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};32&n&&(r.processedColumn=e[5]),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function X1(e){let t,n,r=e[5]&&G1(e);return{c(){r&&r.c(),t=j()},m(e,o){r&&r.m(e,o),P(e,t,o),n=!0},p(e,n){e[5]?r?(r.p(e,n),32&n&&qe(r,1)):(r=G1(e),r.c(),qe(r,1),r.m(t.parentNode,t)):r&&(Fe(),Ve(r,1,1,(()=>{r=null})),He())},i(e){n||(qe(r),n=!0)},o(e){Ve(r),n=!1},d(e){r&&r.d(e),e&&R(t)}}}function J1(e){let t,n,r;function o(t){e[3](t)}let s={options:e[1],labelKey:"name",valuesAreEqual:Z1,disabled:e[2],$$slots:{default:[X1,({option:e})=>({5:e}),({option:e})=>e?32:0]},$$scope:{ctx:e}};return void 0!==e[0]&&(s.value=e[0]),t=new Hc({props:s}),we.push((()=>nt(t,"value",o))),t.$on("change",e[4]),{c(){rt(t.$$.fragment)},m(e,n){ot(t,e,n),r=!0},p(e,[r]){const o={};2&r&&(o.options=e[1]),4&r&&(o.disabled=e[2]),96&r&&(o.$$scope={dirty:r,ctx:e}),!n&&1&r&&(n=!0,o.value=e[0],Te((()=>n=!1))),t.$set(o)},i(e){r||(qe(t.$$.fragment,e),r=!0)},o(e){Ve(t.$$.fragment,e),r=!1},d(e){st(t,e)}}}const Z1=(e,t)=>e?.id===t?.id;function Q1(e,t,n){let{columns:r}=t,{value:o}=t,{disabled:s=!1}=t;return e.$$set=e=>{"columns"in e&&n(1,r=e.columns),"value"in e&&n(0,o=e.value),"disabled"in e&&n(2,s=e.disabled)},[o,r,s,function(e){o=e,n(0,o)},function(t){ve.call(this,e,t)}]}class e0 extends at{constructor(e){super(),it(this,e,Q1,J1,p,{columns:1,value:0,disabled:2})}}function t0(e){let t,n,r,o;const s=[r0,n0],i=[];function a(e,t){return e[16]?0:1}return t=a(e),n=i[t]=s[t](e),{c(){n.c(),r=j()},m(e,n){i[t].m(e,n),P(e,r,n),o=!0},p(e,o){let l=t;t=a(e),t===l?i[t].p(e,o):(Fe(),Ve(i[l],1,1,(()=>{i[l]=null})),He(),n=i[t],n?n.p(e,o):(n=i[t]=s[t](e),n.c()),qe(n,1),n.m(r.parentNode,r))},i(e){o||(qe(n),o=!0)},o(e){Ve(n),o=!1},d(e){i[t].d(e),e&&R(r)}}}function n0(e){let t,n;return t=new By({props:{field:e[3],input:{component:e0,props:{columns:e[10]}},layout:"stacked",$$slots:{label:[o0]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};8&n[0]&&(r.field=e[3]),1024&n[0]&&(r.input={component:e0,props:{columns:e[10]}}),128&n[0]|64&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function r0(e){let t,n;return t=new Ay({props:{$$slots:{default:[s0]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};64&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function o0(e){let t,n,r,o,s;return r=new hb({props:{table:e[7],bold:!0,truncate:!1}}),{c(){t=F("span"),n=q("Target Column in\n          "),rt(r.$$.fragment),o=q("\n          Table"),B(t,"slot","label")},m(e,i){P(e,t,i),A(t,n),ot(r,t,null),A(t,o),s=!0},p(e,t){const n={};128&t[0]&&(n.table=e[7]),r.$set(n)},i(e){s||(qe(r.$$.fragment,e),s=!0)},o(e){Ve(r.$$.fragment,e),s=!1},d(e){e&&R(t),st(r)}}}function s0(e){let t,n;return t=new Tr({}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function i0(e){let t,n,r;return n=new P1({}),{c(){t=q("Set Constraint Name "),rt(n.$$.fragment)},m(e,o){P(e,t,o),ot(n,e,o),r=!0},i(e){r||(qe(n.$$.fragment,e),r=!0)},o(e){Ve(n.$$.fragment,e),r=!1},d(e){e&&R(t),st(n,e)}}}function a0(e){let t,n,r;function o(t){e[32](t)}let s={options:e[18],isInline:!0,getRadioLabel:e[31],$$slots:{default:[i0]},$$scope:{ctx:e}};return void 0!==e[6]&&(s.value=e[6]),t=new al({props:s}),we.push((()=>nt(t,"value",o))),t.$on("change",e[20]),{c(){rt(t.$$.fragment)},m(e,n){ot(t,e,n),r=!0},p(e,r){const o={};64&r[1]&&(o.$$scope={dirty:r,ctx:e}),!n&&64&r[0]&&(n=!0,o.value=e[6],Te((()=>n=!1))),t.$set(o)},i(e){r||(qe(t.$$.fragment,e),r=!0)},o(e){Ve(t.$$.fragment,e),r=!1},d(e){st(t,e)}}}function l0(e){let t,n;return t=new By({props:{field:e[1],layout:"stacked",label:"Constraint Name"}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};2&n[0]&&(r.field=e[1]),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function c0(e){let t,n,r,o,s,i,a,l,c,u,d,p,$;o=new By({props:{field:e[5],input:{component:e0,props:{columns:e[13]}},layout:"stacked",label:"Column in this table which references the target table"}}),i=new By({props:{field:e[4],input:{component:DI,props:{autoSelect:"clear",tables:e[15]}},layout:"stacked",label:"Target Table"}});let m=e[7]&&t0(e);c=new Ay({props:{$$slots:{default:[a0]},$$scope:{ctx:e}}});let f="manual"===e[6]&&l0(e);return p=new Zy({props:{form:e[8],catchErrors:!0,onProceed:e[21],onCancel:e[0],size:"small",proceedButton:{label:"Add"}}}),{c(){t=F("div"),n=F("span"),n.textContent="New Foreign Key Constraint",r=V(),rt(o.$$.fragment),s=V(),rt(i.$$.fragment),a=V(),m&&m.c(),l=V(),rt(c.$$.fragment),u=V(),f&&f.c(),d=V(),rt(p.$$.fragment),B(n,"class","title"),B(t,"class","add-new-fk-constraint svelte-1c0ahmy")},m(e,g){P(e,t,g),A(t,n),A(t,r),ot(o,t,null),A(t,s),ot(i,t,null),A(t,a),m&&m.m(t,null),A(t,l),ot(c,t,null),A(t,u),f&&f.m(t,null),A(t,d),ot(p,t,null),$=!0},p(e,n){const r={};32&n[0]&&(r.field=e[5]),8192&n[0]&&(r.input={component:e0,props:{columns:e[13]}}),o.$set(r);const s={};16&n[0]&&(s.field=e[4]),32768&n[0]&&(s.input={component:DI,props:{autoSelect:"clear",tables:e[15]}}),i.$set(s),e[7]?m?(m.p(e,n),128&n[0]&&qe(m,1)):(m=t0(e),m.c(),qe(m,1),m.m(t,l)):m&&(Fe(),Ve(m,1,1,(()=>{m=null})),He());const a={};64&n[0]|64&n[1]&&(a.$$scope={dirty:n,ctx:e}),c.$set(a),"manual"===e[6]?f?(f.p(e,n),64&n[0]&&qe(f,1)):(f=l0(e),f.c(),qe(f,1),f.m(t,d)):f&&(Fe(),Ve(f,1,1,(()=>{f=null})),He());const u={};256&n[0]&&(u.form=e[8]),1&n[0]&&(u.onCancel=e[0]),p.$set(u)},i(e){$||(qe(o.$$.fragment,e),qe(i.$$.fragment,e),qe(m),qe(c.$$.fragment,e),qe(f),qe(p.$$.fragment,e),$=!0)},o(e){Ve(o.$$.fragment,e),Ve(i.$$.fragment,e),Ve(m),Ve(c.$$.fragment,e),Ve(f),Ve(p.$$.fragment,e),$=!1},d(e){e&&R(t),st(o),st(i),m&&m.d(),st(c),f&&f.d(),st(p)}}}function u0(e,t,n){let r,o,i,a,l,c,u,d,p,m,g,h,y,v,b,w,x,S,C,D,I,_,T,M,E,O,A,L,N=s,P=s,R=s,z=s,F=s,H=s,q=s,V=s;f(e,gM,(e=>n(26,_=e))),f(e,kv,(e=>n(29,O=e))),e.$$.on_destroy.push((()=>N())),e.$$.on_destroy.push((()=>P())),e.$$.on_destroy.push((()=>R())),e.$$.on_destroy.push((()=>z())),e.$$.on_destroy.push((()=>F())),e.$$.on_destroy.push((()=>H())),e.$$.on_destroy.push((()=>q())),e.$$.on_destroy.push((()=>V()));let{onClose:j}=t;const W=new Map([["auto","Automatically"],["manual","Manually"]]),U=[...W.keys()],Y=sB();f(e,Y,(e=>n(28,E=e)));return e.$$set=e=>{"onClose"in e&&n(0,j=e.onClose)},e.$$.update=()=>{268435456&e.$$.dirty[0]&&(n(9,r=E.constraintsDataStore),q(),q=$(r,(e=>n(30,A=e)))),1073741824&e.$$.dirty[0]&&n(22,o=new Set(A.constraints.map((e=>e.name)))),4194304&e.$$.dirty[0]&&(n(1,u=rv(void 0,[ny(o)])),R(),R=$(u,(e=>n(35,D=e)))),126&e.$$.dirty[0]&&n(8,d=sv({baseColumn:i,targetTable:a,targetColumn:l,namingStrategy:c,..."auto"===C?{}:{constraintName:u}})),536870912&e.$$.dirty[0]&&n(15,p=[...O.values()]),805306368&e.$$.dirty[0]&&(m=O.get(E.id)?.name??""),268435456&e.$$.dirty[0]&&(n(14,({processedColumns:g}=E),g),H(),H=$(g,(e=>n(27,M=e)))),134217728&e.$$.dirty[0]&&n(13,h=[...M.values()]),67108992&e.$$.dirty[0]&&n(24,y=T?new iB({id:T.id,abstractTypesMap:_.data}):void 0),16777216&e.$$.dirty[0]&&(n(12,v=Ft(y?.isLoading)),V(),V=$(v,(e=>n(16,L=e)))),16777216&e.$$.dirty[0]&&(n(11,b=Ft(y?.processedColumns)),z(),z=$(b,(e=>n(25,I=e)))),33554432&e.$$.dirty[0]&&n(23,w=I??new Map),8388608&e.$$.dirty[0]&&n(10,x=[...w.values()])},n(5,i=rv(void 0)),N(),N=$(i,(e=>n(34,S=e))),n(4,a=rv(void 0)),F(),F=$(a,(e=>n(7,T=e))),n(3,l=rv(void 0)),n(2,c=rv("auto")),P(),P=$(c,(e=>n(6,C=e))),[j,u,c,l,a,i,C,T,d,r,x,b,v,h,g,p,L,W,U,Y,function(){var e;k(u,D="manual"===C?(e=o,x_(`FK_${m}_${S?.column.name??""}`,e)):void 0,D)},async function(e){await r.add({columns:[e.baseColumn.id],type:"foreignkey",name:e.constraintName,referent_table:e.targetTable.id,referent_columns:[e.targetColumn.id]}),d.reset(),j?.()},o,w,y,I,_,M,E,O,A,e=>W.get(e)??"",function(e){C=e,c.set(C)}]}class d0 extends at{constructor(e){super(),it(this,e,u0,c0,p,{onClose:0},null,[-1,-1])}}function p0(e){let t,n,r,o,i,a=e[0].name+"";return{c(){t=F("div"),n=F("span"),n.textContent="Constraint Name:",r=V(),o=F("span"),i=q(a),B(t,"class","constraint-details svelte-ahl4tc")},m(e,s){P(e,t,s),A(t,n),A(t,r),A(t,o),A(o,i)},p(e,[t]){1&t&&a!==(a=e[0].name+"")&&X(i,a)},i:s,o:s,d(e){e&&R(t)}}}function $0(e,t,n){let{constraint:r}=t;return e.$$set=e=>{"constraint"in e&&n(0,r=e.constraint)},[r]}class m0 extends at{constructor(e){super(),it(this,e,$0,p0,p,{constraint:0})}}function f0(e,t,n){const r=e.slice();return r[5]=t[n],r[7]=n,r}function g0(e){let t,n,r,o,s,i,a,l,c;i=new hb({props:{table:e[1]}});let u={ctx:e,current:null,token:null,hasCatch:!0,pending:b0,then:y0,catch:h0,value:4,error:8,blocks:[,,,]};return Be(l=e[2](e[0]),u),{c(){t=F("div"),n=F("span"),n.textContent="Target:",r=V(),o=F("div"),s=F("span"),rt(i.$$.fragment),a=V(),u.block.c(),B(s,"class","entity-name-container svelte-1diy2q4"),B(o,"class","target-details svelte-1diy2q4"),B(t,"class","target svelte-1diy2q4")},m(e,l){P(e,t,l),A(t,n),A(t,r),A(t,o),A(o,s),ot(i,s,null),A(o,a),u.block.m(o,u.anchor=null),u.mount=()=>o,u.anchor=null,c=!0},p(t,n){e=t;const r={};2&n&&(r.table=e[1]),i.$set(r),u.ctx=e,1&n&&l!==(l=e[2](e[0]))&&Be(l,u)||Ke(u,e,n)},i(e){c||(qe(i.$$.fragment,e),qe(u.block),c=!0)},o(e){Ve(i.$$.fragment,e);for(let t=0;t<3;t+=1){Ve(u.blocks[t])}c=!1},d(e){e&&R(t),st(i),u.block.d(),u.token=null,u=null}}}function h0(e){let t,n;const r=[Cr];let o={};for(let s=0;s<r.length;s+=1)o=a(o,r[s]);return t=new Wr({props:o}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const o=0&n?et(r,[tt(Cr)]):{};t.$set(o)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function y0(e){let t,n,r=[],o=new Map,s=e[4];const i=e=>e[5].id;for(let a=0;a<s.length;a+=1){let t=f0(e,s,a),n=i(t);o.set(n,r[a]=v0(n,t))}return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=j()},m(e,o){for(let t=0;t<r.length;t+=1)r[t].m(e,o);P(e,t,o),n=!0},p(e,n){5&n&&(s=e[4],Fe(),r=Qe(r,n,i,1,e,s,o,t.parentNode,Je,v0,t,f0),He())},i(e){if(!n){for(let e=0;e<s.length;e+=1)qe(r[e]);n=!0}},o(e){for(let t=0;t<r.length;t+=1)Ve(r[t]);n=!1},d(e){for(let t=0;t<r.length;t+=1)r[t].d(e);e&&R(t)}}}function v0(e,t){let n,r,o,s;return r=new dL({props:{column:t[5]}}),{key:e,first:null,c(){n=F("span"),rt(r.$$.fragment),o=V(),B(n,"class","entity-name-container svelte-1diy2q4"),this.first=n},m(e,t){P(e,n,t),ot(r,n,null),A(n,o),s=!0},p(e,n){t=e;const o={};1&n&&(o.column=t[5]),r.$set(o)},i(e){s||(qe(r.$$.fragment,e),s=!0)},o(e){Ve(r.$$.fragment,e),s=!1},d(e){e&&R(n),st(r)}}}function b0(e){let t,n;return t=new Tr({}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p:s,i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function w0(e){let t,n,r,o,s,i,a,l,c=e[0].name+"",u=e[1]&&g0(e);return{c(){t=F("div"),n=F("div"),r=F("span"),r.textContent="Constraint Name:",o=V(),s=F("span"),i=q(c),a=V(),u&&u.c(),B(t,"class","constraint-details svelte-1diy2q4")},m(e,c){P(e,t,c),A(t,n),A(n,r),A(n,o),A(n,s),A(s,i),A(t,a),u&&u.m(t,null),l=!0},p(e,[n]){(!l||1&n)&&c!==(c=e[0].name+"")&&X(i,c),e[1]?u?(u.p(e,n),2&n&&qe(u,1)):(u=g0(e),u.c(),qe(u,1),u.m(t,null)):u&&(Fe(),Ve(u,1,1,(()=>{u=null})),He())},i(e){l||(qe(u),l=!0)},o(e){Ve(u),l=!1},d(e){e&&R(t),u&&u.d()}}}function x0(e,t,n){let r,o;f(e,Cv,(e=>n(3,o=e)));let{constraint:s}=t;return e.$$set=e=>{"constraint"in e&&n(0,s=e.constraint)},e.$$.update=()=>{9&e.$$.dirty&&n(1,r="foreignkey"===s.type?o.data.get(s.referent_table):void 0)},[s,r,async function(e){if("foreignkey"!==e.type)return[];const t=`/api/db/v0/tables/${e.referent_table}/columns/?limit=500`;return(await dh(t)).results.filter((t=>e.referent_columns.includes(t.id)))},o]}class S0 extends at{constructor(e){super(),it(this,e,x0,w0,p,{constraint:0})}}function C0(e,t,n){const r=e.slice();return r[17]=t[n],r}function k0(e){let t,n=e[6][e[0]]+"";return{c(){t=q(n)},m(e,n){P(e,t,n)},p(e,r){1&r&&n!==(n=e[6][e[0]]+"")&&X(t,n)},d(e){e&&R(t)}}}function D0(e){let t,n;return t=new Ln({props:{appearance:"plain-primary",size:"small",$$slots:{default:[I0]},$$scope:{ctx:e}}}),t.$on("click",e[8]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1048576&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function I0(e){let t;return{c(){t=q("Add")},m(e,n){P(e,t,n)},d(e){e&&R(t)}}}function _0(e){let t,n,r,o;const s=[M0,T0],i=[];function a(e,t){return"foreignkey"===e[0]?0:"unique"===e[0]?1:-1}return~(n=a(e))&&(r=i[n]=s[n](e)),{c(){t=F("div"),r&&r.c(),B(t,"class","add-constraint svelte-1gbuulg")},m(e,r){P(e,t,r),~n&&i[n].m(t,null),o=!0},p(e,o){let l=n;n=a(e),n===l?~n&&i[n].p(e,o):(r&&(Fe(),Ve(i[l],1,1,(()=>{i[l]=null})),He()),~n?(r=i[n],r?r.p(e,o):(r=i[n]=s[n](e),r.c()),qe(r,1),r.m(t,null)):r=null)},i(e){o||(qe(r),o=!0)},o(e){Ve(r),o=!1},d(e){e&&R(t),~n&&i[n].d()}}}function T0(e){let t,n;return t=new K1({props:{onClose:e[9]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p:s,i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function M0(e){let t,n;return t=new d0({props:{onClose:e[9]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p:s,i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function E0(e){let t,n=!e[2]&&O0(e);return{c(){n&&n.c(),t=j()},m(e,r){n&&n.m(e,r),P(e,t,r)},p(e,r){e[2]?n&&(n.d(1),n=null):n?n.p(e,r):(n=O0(e),n.c(),n.m(t.parentNode,t))},d(e){n&&n.d(e),e&&R(t)}}}function O0(e){let t,n,r,o,s=e[7][e[0]]+"";return{c(){t=F("span"),n=q("No "),r=q(s),o=q(" Constraints"),B(t,"class","null svelte-1gbuulg")},m(e,s){P(e,t,s),A(t,n),A(t,r),A(t,o)},p(e,t){1&t&&s!==(s=e[7][e[0]]+"")&&X(r,s)},d(e){e&&R(t)}}}function A0(e){let t,n,r,o;return n=new A1({props:{constraint:e[17]}}),{c(){t=F("span"),rt(n.$$.fragment),r=V(),B(t,"slot","header")},m(e,s){P(e,t,s),ot(n,t,null),A(t,r),o=!0},p(e,t){const r={};2&t&&(r.constraint=e[17]),n.$set(r)},i(e){o||(qe(n.$$.fragment,e),o=!0)},o(e){Ve(n.$$.fragment,e),o=!1},d(e){e&&R(t),st(n)}}}function L0(e){let t,n;return t=new Ln({props:{size:"small",appearance:"plain",$$slots:{default:[N0]},$$scope:{ctx:e}}}),t.$on("click",(function(){return e[13](e[17])})),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(n,r){e=n;const o={};1048576&r&&(o.$$scope={dirty:r,ctx:e}),t.$set(o)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function N0(e){let t,n;const r=[km];let o={};for(let s=0;s<r.length;s+=1)o=a(o,r[s]);return t=new Wr({props:o}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const o=0&n?et(r,[tt(km)]):{};t.$set(o)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function P0(e){let t,n,r,o=e[3]&&L0(e);return{c(){t=F("span"),o&&o.c(),n=V(),B(t,"slot","trigger-aside")},m(e,s){P(e,t,s),o&&o.m(t,null),A(t,n),r=!0},p(e,r){e[3]?o?(o.p(e,r),8&r&&qe(o,1)):(o=L0(e),o.c(),qe(o,1),o.m(t,n)):o&&(Fe(),Ve(o,1,1,(()=>{o=null})),He())},i(e){r||(qe(o),r=!0)},o(e){Ve(o),r=!1},d(e){e&&R(t),o&&o.d()}}}function R0(e){let t,n;return t=new m0({props:{constraint:e[17]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.constraint=e[17]),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function z0(e){let t,n;return t=new S0({props:{constraint:e[17]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.constraint=e[17]),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function F0(e){let t,n,r,o,s;const i=[z0,R0],a=[];function l(e,t){return"foreignkey"===e[0]?0:1}return n=l(e),r=a[n]=i[n](e),{c(){t=F("div"),r.c(),o=V(),B(t,"slot","content")},m(e,r){P(e,t,r),a[n].m(t,null),A(t,o),s=!0},p(e,s){let c=n;n=l(e),n===c?a[n].p(e,s):(Fe(),Ve(a[c],1,1,(()=>{a[c]=null})),He(),r=a[n],r?r.p(e,s):(r=a[n]=i[n](e),r.c()),qe(r,1),r.m(t,o))},i(e){s||(qe(r),s=!0)},o(e){Ve(r),s=!1},d(e){e&&R(t),a[n].d()}}}function H0(e,t){let n,r,o;return r=new $s({props:{triggerAppearance:"ghost",$$slots:{content:[F0],"trigger-aside":[P0],header:[A0]},$$scope:{ctx:t}}}),{key:e,first:null,c(){n=j(),rt(r.$$.fragment),this.first=n},m(e,t){P(e,n,t),ot(r,e,t),o=!0},p(e,n){t=e;const o={};1048587&n&&(o.$$scope={dirty:n,ctx:t}),r.$set(o)},i(e){o||(qe(r.$$.fragment,e),o=!0)},o(e){Ve(r.$$.fragment,e),o=!1},d(e){e&&R(n),st(r,e)}}}function q0(e){let t,n,r,o,s,i,a,l,c,u,d=e[7][e[0]]+"",p=[],$=new Map;i=new ni({props:{$$slots:{default:[k0]},$$scope:{ctx:e}}});let m=e[4]&&D0(e),f=e[2]&&_0(e),g=e[1];const h=e=>e[17].id;for(let v=0;v<g.length;v+=1){let t=C0(e,g,v),n=h(t);$.set(n,p[v]=H0(n,t))}let y=null;return g.length||(y=E0(e)),{c(){t=F("div"),n=F("span"),r=F("span"),o=q(d),s=V(),rt(i.$$.fragment),a=V(),m&&m.c(),l=V(),f&&f.c(),c=V();for(let e=0;e<p.length;e+=1)p[e].c();y&&y.c(),B(n,"class","title svelte-1gbuulg"),B(t,"class","constraint-type-section svelte-1gbuulg")},m(e,d){P(e,t,d),A(t,n),A(n,r),A(r,o),A(r,s),ot(i,r,null),A(n,a),m&&m.m(n,null),A(t,l),f&&f.m(t,null),A(t,c);for(let n=0;n<p.length;n+=1)p[n].m(t,null);y&&y.m(t,null),u=!0},p(e,[r]){(!u||1&r)&&d!==(d=e[7][e[0]]+"")&&X(o,d);const s={};1048577&r&&(s.$$scope={dirty:r,ctx:e}),i.$set(s),e[4]?m?(m.p(e,r),16&r&&qe(m,1)):(m=D0(e),m.c(),qe(m,1),m.m(n,null)):m&&(Fe(),Ve(m,1,1,(()=>{m=null})),He()),e[2]?f?(f.p(e,r),4&r&&qe(f,1)):(f=_0(e),f.c(),qe(f,1),f.m(t,c)):f&&(Fe(),Ve(f,1,1,(()=>{f=null})),He()),1167&r&&(g=e[1],Fe(),p=Qe(p,r,h,1,e,g,$,t,Je,H0,null,C0),He(),!g.length&&y?y.p(e,r):g.length?y&&(y.d(1),y=null):(y=E0(e),y.c(),y.m(t,null)))},i(e){if(!u){qe(i.$$.fragment,e),qe(m),qe(f);for(let e=0;e<g.length;e+=1)qe(p[e]);u=!0}},o(e){Ve(i.$$.fragment,e),Ve(m),Ve(f);for(let t=0;t<p.length;t+=1)Ve(p[t]);u=!1},d(e){e&&R(t),st(i),m&&m.d(),f&&f.d();for(let t=0;t<p.length;t+=1)p[t].d();y&&y.d()}}}function V0(e,t,n){let r,o,s,i,{constraintType:a}=t,{constraints:l}=t,{canExecuteDDL:c}=t;const u=sB();f(e,u,(e=>n(12,i=e)));const d=["unique","foreignkey"],p=["unique","foreignkey"];let $=!1;function m(e){Gf({identifierType:"Constraint",identifierName:e.name,body:["Are you sure you want to proceed?"],onProceed:()=>r.remove(e.id)})}return e.$$set=e=>{"constraintType"in e&&n(0,a=e.constraintType),"constraints"in e&&n(1,l=e.constraints),"canExecuteDDL"in e&&n(11,c=e.canExecuteDDL)},e.$$.update=()=>{4096&e.$$.dirty&&(r=i.constraintsDataStore),2049&e.$$.dirty&&n(4,o=d.includes(a)&&c),2049&e.$$.dirty&&n(3,s=p.includes(a)&&c)},[a,l,$,s,o,u,{primary:"A primary key constraint uniquely identifies each record in a table.",foreignkey:"A foreign key constraint links records in two tables.",unique:"A unique constraint ensures that each record in a column is unique.",check:"",exclude:""},{primary:"Primary Keys",foreignkey:"Foreign Keys",unique:"Unique",check:"",exclude:""},function(){n(2,$=!0)},function(){n(2,$=!1)},m,c,i,e=>m(e)]}class j0 extends at{constructor(e){super(),it(this,e,V0,q0,p,{constraintType:0,constraints:1,canExecuteDDL:11})}}function W0(e){let t,n,r,o,s,i,a;return n=new j0({props:{constraintType:"primary",constraints:e[4].get("primary")||[],canExecuteDDL:e[2]}}),o=new j0({props:{constraintType:"foreignkey",constraints:e[4].get("foreignkey")||[],canExecuteDDL:e[2]}}),i=new j0({props:{constraintType:"unique",constraints:e[4].get("unique")||[],canExecuteDDL:e[2]}}),{c(){t=F("div"),rt(n.$$.fragment),r=V(),rt(o.$$.fragment),s=V(),rt(i.$$.fragment),B(t,"class","constraints-list svelte-15s0oew")},m(e,l){P(e,t,l),ot(n,t,null),A(t,r),ot(o,t,null),A(t,s),ot(i,t,null),a=!0},p(e,t){const r={};16&t&&(r.constraints=e[4].get("primary")||[]),4&t&&(r.canExecuteDDL=e[2]),n.$set(r);const s={};16&t&&(s.constraints=e[4].get("foreignkey")||[]),4&t&&(s.canExecuteDDL=e[2]),o.$set(s);const a={};16&t&&(a.constraints=e[4].get("unique")||[]),4&t&&(a.canExecuteDDL=e[2]),i.$set(a)},i(e){a||(qe(n.$$.fragment,e),qe(o.$$.fragment,e),qe(i.$$.fragment,e),a=!0)},o(e){Ve(n.$$.fragment,e),Ve(o.$$.fragment,e),Ve(i.$$.fragment,e),a=!1},d(e){e&&R(t),st(n),st(o),st(i)}}}function U0(e){let t;return{c(){t=F("div"),t.textContent="No constraints"},m(e,n){P(e,t,n)},p:s,i:s,o:s,d(e){e&&R(t)}}}function Y0(e){let t,n,r,o;return{c(){t=F("div"),t.textContent="Unable to fetch table constraints",n=V(),r=F("div"),o=q(e[5])},m(e,s){P(e,t,s),P(e,n,s),P(e,r,s),A(r,o)},p(e,t){32&t&&X(o,e[5])},i:s,o:s,d(e){e&&R(t),e&&R(n),e&&R(r)}}}function B0(e){let t,n;const r=[kr];let o={};for(let s=0;s<r.length;s+=1)o=a(o,r[s]);return t=new Wr({props:o}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const o=0&n?et(r,[tt(kr)]):{};t.$set(o)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function K0(e){let t,n,r,o;const s=[B0,Y0,U0,W0],i=[];function a(e,t){return e[3]?0:e[1]===rh.Error?1:e[0]?2:3}return n=a(e),r=i[n]=s[n](e),{c(){t=F("div"),r.c(),B(t,"class","table-constraints")},m(e,r){P(e,t,r),i[n].m(t,null),o=!0},p(e,[o]){let l=n;n=a(e),n===l?i[n].p(e,o):(Fe(),Ve(i[l],1,1,(()=>{i[l]=null})),He(),r=i[n],r?r.p(e,o):(r=i[n]=s[n](e),r.c()),qe(r,1),r.m(t,null))},i(e){o||(qe(r),o=!0)},o(e){Ve(r),o=!1},d(e){e&&R(t),i[n].d()}}}function G0(e,t,n){let r,o,i,a,l,c,u,d,p,m,g,h,y,v,b,w,x=s;f(e,Xh,(e=>n(16,b=e))),f(e,vh,(e=>n(17,w=e))),e.$$.on_destroy.push((()=>x()));const S=sB();f(e,S,(e=>n(15,v=e)));const C=Uv();return f(e,C,(e=>n(13,h=e))),e.$$.update=()=>{131072&e.$$.dirty&&n(10,r=w),65536&e.$$.dirty&&n(9,o=b),32768&e.$$.dirty&&(n(6,i=v.constraintsDataStore),x(),x=$(i,(e=>n(14,y=e)))),16384&e.$$.dirty&&n(1,a=y.state),16384&e.$$.dirty&&n(5,l=y.error),16384&e.$$.dirty&&n(12,c=y.constraints),4096&e.$$.dirty&&n(4,u=c.reduce(((e,t)=>{const n=e.get(t.type);return Array.isArray(n)?(e.set(t.type,[...n,t]),e):(e.set(t.type,[t]),e)}),new Map)),4096&e.$$.dirty&&n(0,d=0===c.length),2&e.$$.dirty&&n(11,p=a===rh.Idle||a===rh.Loading),2049&e.$$.dirty&&n(3,m=d&&p),9728&e.$$.dirty&&n(2,g=!!h?.hasPermission({database:r,schema:o},"canExecuteDDL"))},[d,a,g,m,u,l,i,S,C,o,r,p,c,h,y,v,b,w]}class X0 extends at{constructor(e){super(),it(this,e,G0,K0,p,{})}}function J0(e){let t,n,r,o;return r=new X0({}),{c(){t=F("span"),t.textContent="Constraints are used to define relationships between records in different\n    tables or to ensure that records in a column are unique. Constraints can be\n    applied to a single column or a combination of columns.",n=V(),rt(r.$$.fragment),B(t,"class","description svelte-1m3vjcg")},m(e,s){P(e,t,s),P(e,n,s),ot(r,e,s),o=!0},p:s,i(e){o||(qe(r.$$.fragment,e),o=!0)},o(e){Ve(r.$$.fragment,e),o=!1},d(e){e&&R(t),e&&R(n),st(r,e)}}}function Z0(e){let t;return{c(){t=F("span"),t.textContent="Constraints",B(t,"slot","title")},m(e,n){P(e,t,n)},p:s,d(e){e&&R(t)}}}function Q0(e){let t,n;return t=new Bd({props:{controller:e[0],$$slots:{title:[Z0],default:[J0]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const r={};1&n&&(r.controller=e[0]),2&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function e2(e,t,n){let{controller:r}=t;return e.$$set=e=>{"controller"in e&&n(0,r=e.controller)},[r]}class t2 extends at{constructor(e){super(),it(this,e,e2,Q0,p,{controller:0})}}function n2(e){let t;return{c(){t=q("Constraints are rules that apply to the data in a column to ensure\n          that it is valid.")},m(e,n){P(e,t,n)},d(e){e&&R(t)}}}function r2(e){let t,n,r,o,s,i,l,c,u,d;const p=[rf];let $={};for(let g=0;g<p.length;g+=1)$=a($,p[g]);r=new Wr({props:$}),l=new ni({props:{$$slots:{default:[n2]},$$scope:{ctx:e}}});const m=[br];let f={};for(let g=0;g<m.length;g+=1)f=a(f,m[g]);return u=new Wr({props:f}),{c(){t=F("div"),n=F("div"),rt(r.$$.fragment),o=V(),s=F("span"),s.textContent="Constraints",i=V(),rt(l.$$.fragment),c=V(),rt(u.$$.fragment),B(t,"class","action-item svelte-lo2o6r")},m(e,a){P(e,t,a),A(t,n),ot(r,n,null),A(n,o),A(n,s),A(n,i),ot(l,n,null),A(t,c),ot(u,t,null),d=!0},p(e,t){const n=0&t?et(p,[tt(rf)]):{};r.$set(n);const o={};4&t&&(o.$$scope={dirty:t,ctx:e}),l.$set(o);const s=0&t?et(m,[tt(br)]):{};u.$set(s)},i(e){d||(qe(r.$$.fragment,e),qe(l.$$.fragment,e),qe(u.$$.fragment,e),d=!0)},o(e){Ve(r.$$.fragment,e),Ve(l.$$.fragment,e),Ve(u.$$.fragment,e),d=!1},d(e){e&&R(t),st(r),st(l),st(u)}}}function o2(e){let t,n,r,o,s;return n=new Ln({props:{$$slots:{default:[r2]},$$scope:{ctx:e}}}),n.$on("click",e[1]),o=new t2({props:{controller:e[0]}}),{c(){t=F("div"),rt(n.$$.fragment),r=V(),rt(o.$$.fragment),B(t,"class","actions-container svelte-lo2o6r")},m(e,i){P(e,t,i),ot(n,t,null),A(t,r),ot(o,t,null),s=!0},p(e,[t]){const r={};4&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){s||(qe(n.$$.fragment,e),qe(o.$$.fragment,e),s=!0)},o(e){Ve(n.$$.fragment,e),Ve(o.$$.fragment,e),s=!1},d(e){e&&R(t),st(n),st(o)}}}function s2(e){const t=Wf.spawnModalController();return[t,()=>t.open()]}class i2 extends at{constructor(e){super(),it(this,e,s2,o2,p,{})}}function a2(e){let t,n,r;return n=new hb({props:{table:e[0]}}),{c(){t=F("span"),rt(n.$$.fragment),B(t,"class","table-pill svelte-1auv76y"),te(t,"base","base"===e[1]),te(t,"target","target"===e[1]),te(t,"mapping","mapping"===e[1])},m(e,o){P(e,t,o),ot(n,t,null),r=!0},p(e,[o]){const s={};1&o&&(s.table=e[0]),n.$set(s),(!r||2&o)&&te(t,"base","base"===e[1]),(!r||2&o)&&te(t,"target","target"===e[1]),(!r||2&o)&&te(t,"mapping","mapping"===e[1])},i(e){r||(qe(n.$$.fragment,e),r=!0)},o(e){Ve(n.$$.fragment,e),r=!1},d(e){e&&R(t),st(n)}}}function l2(e,t,n){let{table:r}=t,{which:o}=t;return e.$$set=e=>{"table"in e&&n(0,r=e.table),"which"in e&&n(1,o=e.which)},[r,o]}class c2 extends at{constructor(e){super(),it(this,e,l2,a2,p,{table:0,which:1})}}function u2(e){let t,n;return t=new By({props:{field:e[4],label:$2}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};16&n&&(r.field=e[4]),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function d2(e){let t,n,r,o;return r=new Tr({}),{c(){t=q($2),n=V(),rt(r.$$.fragment)},m(e,s){P(e,t,s),P(e,n,s),ot(r,e,s),o=!0},p:s,i(e){o||(qe(r.$$.fragment,e),o=!0)},o(e){Ve(r.$$.fragment,e),o=!1},d(e){e&&R(t),e&&R(n),st(r,e)}}}function p2(e){let t,n,r,o,s,i,a,l,c,u,d;r=new c2({props:{table:e[0],which:e[1]}}),s=new c2({props:{table:e[2],which:e[3]}});const p=[d2,u2],$=[];function m(e,t){return e[5]?0:1}return l=m(e),c=$[l]=p[l](e),{c(){t=F("p"),n=q("We'll add a column in\n  "),rt(r.$$.fragment),o=q("\n  which links to\n  "),rt(s.$$.fragment),i=q("."),a=V(),c.c(),u=j()},m(e,c){P(e,t,c),A(t,n),ot(r,t,null),A(t,o),ot(s,t,null),A(t,i),P(e,a,c),$[l].m(e,c),P(e,u,c),d=!0},p(e,[t]){const n={};1&t&&(n.table=e[0]),2&t&&(n.which=e[1]),r.$set(n);const o={};4&t&&(o.table=e[2]),8&t&&(o.which=e[3]),s.$set(o);let i=l;l=m(e),l===i?$[l].p(e,t):(Fe(),Ve($[i],1,1,(()=>{$[i]=null})),He(),c=$[l],c?c.p(e,t):(c=$[l]=p[l](e),c.c()),qe(c,1),c.m(u.parentNode,u))},i(e){d||(qe(r.$$.fragment,e),qe(s.$$.fragment,e),qe(c),d=!0)},o(e){Ve(r.$$.fragment,e),Ve(s.$$.fragment,e),Ve(c),d=!1},d(e){e&&R(t),st(r),st(s),e&&R(a),$[l].d(e),e&&R(u)}}}const $2="Column Name";function m2(e,t,n){let{base:r}=t,{baseWhich:o="base"}=t,{target:s}=t,{targetWhich:i="target"}=t,{field:a}=t,{targetColumnsAreLoading:l=!1}=t;return e.$$set=e=>{"base"in e&&n(0,r=e.base),"baseWhich"in e&&n(1,o=e.baseWhich),"target"in e&&n(2,s=e.target),"targetWhich"in e&&n(3,i=e.targetWhich),"field"in e&&n(4,a=e.field),"targetColumnsAreLoading"in e&&n(5,l=e.targetColumnsAreLoading)},[r,o,s,i,a,l]}class f2 extends at{constructor(e){super(),it(this,e,m2,p2,p,{base:0,baseWhich:1,target:2,targetWhich:3,field:4,targetColumnsAreLoading:5})}}var g2=()=>new Proxy(Object.assign((()=>""),{}),{get:(e,t)=>"length"===t?0:g2()}),h2=/^\{.*\}$/,y2=/(\{(?:[^{}]+|\{(?:[^{}]+)*\})*\})/g,v2=e=>e.substring(1,e.length-1),b2=(e,t=!0,n="",r="")=>e.split(y2).map((e=>{if(!e.match(y2))return e;const t=v2(e);if(t.startsWith("{"))return((e,t)=>{let[n,r]=e.split(":");r||(r=n,n=t);const o=r.split("|"),[s,i,a,l,c,u]=o,d=o.filter((e=>void 0!==e)).length;return 1===d?{k:n,r:s}:2===d?{k:n,o:s,r:i}:3===d?{k:n,z:s,o:i,r:a}:{k:n,z:s,o:i,t:a,f:l,m:c,r:u}})(v2(t),r);const o=(e=>{const[t="",...n]=e.split("|"),[r="",o]=t.split(":"),[s,i]=r.split("?");return{k:s,i:o,n:""===i,f:n}})(t);return r=o.k||r,!n&&(n=r),o})).map((e=>{if("string"==typeof e)return e;e.k||(e.k=n||"0");const r=(e=>Object.fromEntries(Object.keys(e).map((t=>{const n=e[t];return[t,Array.isArray(n)?n.map((e=>e?.trim())):n===!!n?n:n?.trim()]}))))(e);return t?(o=r,Object.fromEntries(Object.entries(o).map((([e,t])=>"i"!==e&&t&&"0"!=t&&[e,t])).filter(Boolean))):r;var o})),w2=(e,t,n)=>t.reduce(((t,n)=>{return(n.match(h2)?(r=(e=>Object.fromEntries(v2(e).split(",").map((e=>e.split(":"))).reduce(((e,t)=>2===t.length?[...e,t.map((e=>e.trim()))]:(e[e.length-1][1]+=","+t[0],e)),[])))(n),r[t]??r["*"]):e[n]?.(t))??t;var r}),n),x2=/\?\?/g,S2=(e,t,n,r)=>{const o=r[0],s=o&&"object"==typeof o&&o.constructor===Object;return((e,t,n,r)=>e.map((e=>{if("string"==typeof e)return e;const{k:o="0",f:s=[]}=e,i=r[o];return(e=>!(!e.o&&!e.r))(e)?(("boolean"==typeof i?i?e.o:e.r:((e,{z:t,o:n,t:r,f:o,m:s,r:i},a)=>{switch(t&&0==a?"zero":e.select(a)){case"zero":return t;case"one":return n;case"two":return r;case"few":return o;case"many":return s;default:return i}})(t,e,i))||"").replace(x2,i):(""+((s.length?w2(n,s,i):i)??"")).trim()})).join(""))(e,t,n,1===r.length&&s?o:r)},C2=(e,t)=>{const n={},r=new Intl.PluralRules(e);return(e,...o)=>S2(((e,t)=>e[t]||(e[t]=b2(t)))(n,e),r,t,o)};var k2=(e={},t)=>"string"==typeof e?t.bind(null,e):Object.assign(Object.defineProperty((()=>""),"name",{writable:!0}),e),D2=(e,t)=>new Proxy(k2(e,t),{get:(e,n)=>n===Symbol.iterator?[][Symbol.iterator].bind(Object.values(e).map((e=>k2(e,t)))):D2(e[n],t)});var I2=function e(){var t=[].slice.call(arguments),n=!1;"boolean"==typeof t[0]&&(n=t.shift());var r=t[0];if(T2(r))throw new Error("extendee must be an object");for(var o=t.slice(1),s=o.length,i=0;i<s;i++){var a=o[i];for(var l in a)if(Object.prototype.hasOwnProperty.call(a,l)){var c=a[l];if(n&&_2(c)){var u=Array.isArray(c)?[]:{};r[l]=e(!0,Object.prototype.hasOwnProperty.call(r,l)&&!T2(r[l])?r[l]:u,c)}else r[l]=c}}return r};function _2(e){return Array.isArray(e)||"[object Object]"=={}.toString.call(e)}function T2(e){return!e||"object"!=typeof e&&"function"!=typeof e}const M2={},E2={},{locale:O2,LL:A2,setLocale:L2}=(t("e",((e,t)=>I2({},e,t))),((e,t={})=>{const n=mt(),r=mt(g2()),o={subscribe:(s=n).subscribe.bind(s)};var s;const i=new Proxy({},{get:(e,t)=>"subscribe"===t?r.subscribe:r[t]});return{locale:o,LL:i,setLocale:o=>{n.set(o),r.set(function(e,t,n={}){return D2(t,C2(e,n))}(o,e[o],t[o]))}}})(M2,E2));function N2(e){if(""===e.remainder)return e;const t=function(e){let t;const n=e.replace(/^\[(\w+)\]/,((e,n)=>(t={type:"slot",name:n},"")));return t?{tokens:[t],remainder:n}:void 0}(e.remainder);return N2(t?{tokens:[...e.tokens,...t.tokens],remainder:t.remainder}:function({tokens:e,remainder:t}){const n=t[0],r=e[e.length-1];return{tokens:r&&"text"===r.type?[...e.slice(0,-1),{type:"text",content:r.content+n}]:[...e,{type:"text",content:n}],remainder:t.slice(1)}}(e))}function P2(e){return N2({tokens:[],remainder:e}).tokens}function R2(e,t,n){const r=e.slice();return r[3]=t[n],r}const z2=e=>({slotName:1&e}),F2=e=>({slotName:e[3].name});function H2(e){let t,n=_l(e[3])+"";return{c(){t=q(n)},m(e,n){P(e,t,n)},p(e,r){1&r&&n!==(n=_l(e[3])+"")&&X(t,n)},i:s,o:s,d(e){e&&R(t)}}}function q2(e){let t;const n=e[2].default,r=g(n,e,e[1],F2);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||3&o)&&v(r,n,e,e[1],t?y(n,e[1],o,z2):b(e[1]),F2)},i(e){t||(qe(r,e),t=!0)},o(e){Ve(r,e),t=!1},d(e){r&&r.d(e)}}}function V2(e){let t,n=e[3].content+"";return{c(){t=q(n)},m(e,n){P(e,t,n)},p(e,r){1&r&&n!==(n=e[3].content+"")&&X(t,n)},i:s,o:s,d(e){e&&R(t)}}}function j2(e){let t,n,r,o;const s=[V2,q2,H2],i=[];function a(e,t){return"text"===e[3].type?0:"slot"===e[3].type?1:2}return t=a(e),n=i[t]=s[t](e),{c(){n.c(),r=j()},m(e,n){i[t].m(e,n),P(e,r,n),o=!0},p(e,o){let l=t;t=a(e),t===l?i[t].p(e,o):(Fe(),Ve(i[l],1,1,(()=>{i[l]=null})),He(),n=i[t],n?n.p(e,o):(n=i[t]=s[t](e),n.c()),qe(n,1),n.m(r.parentNode,r))},i(e){o||(qe(n),o=!0)},o(e){Ve(n),o=!1},d(e){i[t].d(e),e&&R(r)}}}function W2(e){let t,n,r=P2(e[0]),o=[];for(let i=0;i<r.length;i+=1)o[i]=j2(R2(e,r,i));const s=e=>Ve(o[e],1,1,(()=>{o[e]=null}));return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=j()},m(e,r){for(let t=0;t<o.length;t+=1)o[t].m(e,r);P(e,t,r),n=!0},p(e,[n]){if(3&n){let i;for(r=P2(e[0]),i=0;i<r.length;i+=1){const s=R2(e,r,i);o[i]?(o[i].p(s,n),qe(o[i],1)):(o[i]=j2(s),o[i].c(),qe(o[i],1),o[i].m(t.parentNode,t))}for(Fe(),i=r.length;i<o.length;i+=1)s(i);He()}},i(e){if(!n){for(let e=0;e<r.length;e+=1)qe(o[e]);n=!0}},o(e){o=o.filter(Boolean);for(let t=0;t<o.length;t+=1)Ve(o[t]);n=!1},d(e){z(o,e),e&&R(t)}}}function U2(e,t,n){let{$$slots:r={},$$scope:o}=t,{text:s}=t;return e.$$set=e=>{"text"in e&&n(0,s=e.text),"$$scope"in e&&n(1,o=e.$$scope)},[s,o,r]}class Y2 extends at{constructor(e){super(),it(this,e,U2,W2,p,{text:0})}}function B2(e){let t,n,r,o,s,i,l,c=[e[2],{class:"target"},{x:"21.79"},{y:"107.4"}],u={};for(let f=0;f<c.length;f+=1)u=a(u,c[f]);let d=[e[2],{class:"target"},{x:"119.1"},{y:"107.4"}],p={};for(let f=0;f<d.length;f+=1)p=a(p,d[f]);let $=[e[2],{class:"base"},{x:"70.46"},{y:"1.236"}],m={};for(let f=0;f<$.length;f+=1)m=a(m,$[f]);return{c(){t=H("path"),n=H("path"),r=H("path"),o=H("path"),s=H("rect"),i=H("rect"),l=H("rect"),B(t,"d","m88 28.26c-4e-6 46.95-42.67 33.06-42.67 79.17"),B(t,"class","line svelte-bu21sy"),B(n,"d","m100 28.26c1e-5 46.95 42.67 33.06 42.67 79.17"),B(n,"class","line svelte-bu21sy"),B(r,"d","m88 20.05 4.172 8.213h-8.344z"),B(r,"class","arrow svelte-bu21sy"),B(o,"d","m100 20.05 4.172 8.213h-8.344z"),B(o,"class","arrow svelte-bu21sy"),G(s,u),te(s,"svelte-bu21sy",!0),G(i,p),te(i,"svelte-bu21sy",!0),G(l,m),te(l,"svelte-bu21sy",!0)},m(e,a){P(e,t,a),P(e,n,a),P(e,r,a),P(e,o,a),P(e,s,a),P(e,i,a),P(e,l,a)},p(e,t){G(s,u=et(c,[e[2],{class:"target"},{x:"21.79"},{y:"107.4"}])),te(s,"svelte-bu21sy",!0),G(i,p=et(d,[e[2],{class:"target"},{x:"119.1"},{y:"107.4"}])),te(i,"svelte-bu21sy",!0),G(l,m=et($,[e[2],{class:"base"},{x:"70.46"},{y:"1.236"}])),te(l,"svelte-bu21sy",!0)},d(e){e&&R(t),e&&R(n),e&&R(r),e&&R(o),e&&R(s),e&&R(i),e&&R(l)}}}function K2(e){let t,n,r,o,s,i,l,c,u,d,p,$,m,f,g,h,y,v,b,w=[e[2],{class:"target"},{x:"105.1"},{y:"107.4"}],x={};for(let N=0;N<w.length;N+=1)x=a(x,w[N]);let S=[e[2],{class:"target"},{x:"35.79"},{y:"107.4"}],C={};for(let N=0;N<S.length;N+=1)C=a(C,S[N]);let k=[e[2],{class:"mapping"},{x:"139.8"},{y:"54.34"}],D={};for(let N=0;N<k.length;N+=1)D=a(D,k[N]);let I=[e[2],{class:"mapping"},{x:"70.46"},{y:"54.34"}],_={};for(let N=0;N<I.length;N+=1)_=a(_,I[N]);let T=[e[2],{class:"mapping"},{x:"1.112"},{y:"54.34"}],M={};for(let N=0;N<T.length;N+=1)M=a(M,T[N]);let E=[e[2],{class:"base"},{x:"105.1"},{y:"1.25"}],O={};for(let N=0;N<E.length;N+=1)O=a(O,E[N]);let A=[e[2],{class:"base"},{x:"35.79"},{y:"1.25"}],L={};for(let N=0;N<A.length;N+=1)L=a(L,A[N]);return{c(){t=H("path"),n=H("path"),r=H("path"),o=H("path"),s=H("path"),i=H("path"),l=H("path"),c=H("path"),u=H("path"),d=H("path"),p=H("path"),$=H("path"),m=H("rect"),f=H("rect"),g=H("rect"),h=H("rect"),y=H("rect"),v=H("rect"),b=H("rect"),B(t,"d","m94 54.37c0-17.95 28.67-7.609 28.67-26.1"),B(t,"class","line svelte-bu21sy"),B(n,"d","m163.4 54.34c0-17.95-28.67-7.579-28.67-26.07"),B(n,"class","line svelte-bu21sy"),B(r,"d","m24.65 72.63c0 17.95 28.67 7.609 28.67 26.1"),B(r,"class","line svelte-bu21sy"),B(o,"d","m94 72.66c0 17.95-28.67 7.579-28.67 26.07"),B(o,"class","line svelte-bu21sy"),B(s,"d","m24.65 54.34c0-17.95 28.67-7.609 28.67-26.1"),B(s,"class","line svelte-bu21sy"),B(i,"d","m163.4 72.66c0 17.95-28.67 7.579-28.67 26.07"),B(i,"class","line svelte-bu21sy"),B(l,"d","m53.32 106.9 4.172-8.213h-8.344z"),B(l,"class","arrow svelte-bu21sy"),B(c,"d","m65.33 106.9 4.172-8.213h-8.344z"),B(c,"class","arrow svelte-bu21sy"),B(u,"d","m134.7 106.9 4.172-8.213h-8.344z"),B(u,"class","arrow svelte-bu21sy"),B(d,"d","m122.7 20.06 4.172 8.213h-8.344z"),B(d,"class","arrow svelte-bu21sy"),B(p,"d","m134.7 20.06 4.172 8.213h-8.344z"),B(p,"class","arrow svelte-bu21sy"),B($,"d","m53.32 20.03 4.172 8.213h-8.344z"),B($,"class","arrow svelte-bu21sy"),G(m,x),te(m,"svelte-bu21sy",!0),G(f,C),te(f,"svelte-bu21sy",!0),G(g,D),te(g,"svelte-bu21sy",!0),G(h,_),te(h,"svelte-bu21sy",!0),G(y,M),te(y,"svelte-bu21sy",!0),G(v,O),te(v,"svelte-bu21sy",!0),G(b,L),te(b,"svelte-bu21sy",!0)},m(e,a){P(e,t,a),P(e,n,a),P(e,r,a),P(e,o,a),P(e,s,a),P(e,i,a),P(e,l,a),P(e,c,a),P(e,u,a),P(e,d,a),P(e,p,a),P(e,$,a),P(e,m,a),P(e,f,a),P(e,g,a),P(e,h,a),P(e,y,a),P(e,v,a),P(e,b,a)},p(e,t){G(m,x=et(w,[e[2],{class:"target"},{x:"105.1"},{y:"107.4"}])),te(m,"svelte-bu21sy",!0),G(f,C=et(S,[e[2],{class:"target"},{x:"35.79"},{y:"107.4"}])),te(f,"svelte-bu21sy",!0),G(g,D=et(k,[e[2],{class:"mapping"},{x:"139.8"},{y:"54.34"}])),te(g,"svelte-bu21sy",!0),G(h,_=et(I,[e[2],{class:"mapping"},{x:"70.46"},{y:"54.34"}])),te(h,"svelte-bu21sy",!0),G(y,M=et(T,[e[2],{class:"mapping"},{x:"1.112"},{y:"54.34"}])),te(y,"svelte-bu21sy",!0),G(v,O=et(E,[e[2],{class:"base"},{x:"105.1"},{y:"1.25"}])),te(v,"svelte-bu21sy",!0),G(b,L=et(A,[e[2],{class:"base"},{x:"35.79"},{y:"1.25"}])),te(b,"svelte-bu21sy",!0)},d(e){e&&R(t),e&&R(n),e&&R(r),e&&R(o),e&&R(s),e&&R(i),e&&R(l),e&&R(c),e&&R(u),e&&R(d),e&&R(p),e&&R($),e&&R(m),e&&R(f),e&&R(g),e&&R(h),e&&R(y),e&&R(v),e&&R(b)}}}function G2(e){let t;function n(e,t){return"manyToMany"===e[0]?K2:B2}let r=n(e),o=r(e);return{c(){t=H("svg"),o.c(),B(t,"viewBox","0 0 188 127"),B(t,"preserveAspectRatio","xMidYMid meet"),B(t,"class","svelte-bu21sy"),te(t,"flip",e[1])},m(e,n){P(e,t,n),o.m(t,null)},p(e,[s]){r===(r=n(e))&&o?o.p(e,s):(o.d(1),o=r(e),o&&(o.c(),o.m(t,null))),2&s&&te(t,"flip",e[1])},i:s,o:s,d(e){e&&R(t),o.d()}}}function X2(e,t,n){let r;let{linkType:o}=t;return e.$$set=e=>{"linkType"in e&&n(0,o=e.linkType)},e.$$.update=()=>{1&e.$$.dirty&&n(1,r="manyToOne"===o)},[o,r,{width:"47.07",height:"18.31",rx:9.157}]}class J2 extends at{constructor(e){super(),it(this,e,X2,G2,p,{linkType:0})}}function Z2(e){let t,n=_l(e[0])+"";return{c(){t=q(n)},m(e,n){P(e,t,n)},p(e,r){1&r&&n!==(n=_l(e[0])+"")&&X(t,n)},i:s,o:s,d(e){e&&R(t)}}}function Q2(e){let t,n,r,o;const s=[r3,n3],i=[];function a(e,t){return e[1]?0:1}return t=a(e),n=i[t]=s[t](e),{c(){n.c(),r=j()},m(e,n){i[t].m(e,n),P(e,r,n),o=!0},p(e,o){let l=t;t=a(e),t===l?i[t].p(e,o):(Fe(),Ve(i[l],1,1,(()=>{i[l]=null})),He(),n=i[t],n?n.p(e,o):(n=i[t]=s[t](e),n.c()),qe(n,1),n.m(r.parentNode,r))},i(e){o||(qe(n),o=!0)},o(e){Ve(n),o=!1},d(e){i[t].d(e),e&&R(r)}}}function e3(e){let t,n;return t=new Y2({props:{text:e[5].linkTypeOptions.manyToOneDescription(),$$slots:{default:[$3,({slotName:e})=>({10:e}),({slotName:e})=>e?1024:0]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};32&n&&(r.text=e[5].linkTypeOptions.manyToOneDescription()),3096&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function t3(e){let t,n;return t=new Y2({props:{text:e[5].linkTypeOptions.oneToManyDescription(),$$slots:{default:[g3,({slotName:e})=>({10:e}),({slotName:e})=>e?1024:0]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};32&n&&(r.text=e[5].linkTypeOptions.oneToManyDescription()),3096&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function n3(e){let t,n;return t=new Y2({props:{text:e[5].linkTypeOptions.manyToManyDescription(),$$slots:{default:[a3,({slotName:e})=>({10:e}),({slotName:e})=>e?1024:0]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};32&n&&(r.text=e[5].linkTypeOptions.manyToManyDescription()),3128&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function r3(e){let t,n;return t=new Y2({props:{text:e[5].linkTypeOptions.manyToManySelfReferential(),$$slots:{default:[u3,({slotName:e})=>({10:e}),({slotName:e})=>e?1024:0]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};32&n&&(r.text=e[5].linkTypeOptions.manyToManySelfReferential()),3112&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function o3(e){let t,n;return t=new c2({props:{table:{name:e[5].general.linkingTable()},which:"mapping"}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};32&n&&(r.table={name:e[5].general.linkingTable()}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function s3(e){let t,n;return t=new c2({props:{table:e[4],which:"target"}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};16&n&&(r.table=e[4]),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function i3(e){let t,n;return t=new c2({props:{table:e[3],which:"base"}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};8&n&&(r.table=e[3]),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function a3(e){let t,n,r,o;const s=[i3,s3,o3],i=[];function a(e,t){return"baseTable"===e[10]?0:"targetTable"===e[10]?1:"mappingTable"===e[10]?2:-1}return~(t=a(e))&&(n=i[t]=s[t](e)),{c(){n&&n.c(),r=j()},m(e,n){~t&&i[t].m(e,n),P(e,r,n),o=!0},p(e,o){let l=t;t=a(e),t===l?~t&&i[t].p(e,o):(n&&(Fe(),Ve(i[l],1,1,(()=>{i[l]=null})),He()),~t?(n=i[t],n?n.p(e,o):(n=i[t]=s[t](e),n.c()),qe(n,1),n.m(r.parentNode,r)):n=null)},i(e){o||(qe(n),o=!0)},o(e){Ve(n),o=!1},d(e){~t&&i[t].d(e),e&&R(r)}}}function l3(e){let t,n;return t=new c2({props:{table:{name:e[5].general.linkingTable()},which:"mapping"}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};32&n&&(r.table={name:e[5].general.linkingTable()}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function c3(e){let t,n;return t=new c2({props:{table:e[3],which:"base"}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};8&n&&(r.table=e[3]),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function u3(e){let t,n,r,o;const s=[c3,l3],i=[];function a(e,t){return"baseTable"===e[10]?0:"mappingTable"===e[10]?1:-1}return~(t=a(e))&&(n=i[t]=s[t](e)),{c(){n&&n.c(),r=j()},m(e,n){~t&&i[t].m(e,n),P(e,r,n),o=!0},p(e,o){let l=t;t=a(e),t===l?~t&&i[t].p(e,o):(n&&(Fe(),Ve(i[l],1,1,(()=>{i[l]=null})),He()),~t?(n=i[t],n?n.p(e,o):(n=i[t]=s[t](e),n.c()),qe(n,1),n.m(r.parentNode,r)):n=null)},i(e){o||(qe(n),o=!0)},o(e){Ve(n),o=!1},d(e){~t&&i[t].d(e),e&&R(r)}}}function d3(e){let t,n;return t=new c2({props:{table:e[4],which:"target"}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};16&n&&(r.table=e[4]),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function p3(e){let t,n;return t=new c2({props:{table:e[3],which:"base"}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};8&n&&(r.table=e[3]),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function $3(e){let t,n,r,o;const s=[p3,d3],i=[];function a(e,t){return"baseTable"===e[10]?0:"targetTable"===e[10]?1:-1}return~(t=a(e))&&(n=i[t]=s[t](e)),{c(){n&&n.c(),r=j()},m(e,n){~t&&i[t].m(e,n),P(e,r,n),o=!0},p(e,o){let l=t;t=a(e),t===l?~t&&i[t].p(e,o):(n&&(Fe(),Ve(i[l],1,1,(()=>{i[l]=null})),He()),~t?(n=i[t],n?n.p(e,o):(n=i[t]=s[t](e),n.c()),qe(n,1),n.m(r.parentNode,r)):n=null)},i(e){o||(qe(n),o=!0)},o(e){Ve(n),o=!1},d(e){~t&&i[t].d(e),e&&R(r)}}}function m3(e){let t,n;return t=new c2({props:{table:e[4],which:"target"}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};16&n&&(r.table=e[4]),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function f3(e){let t,n;return t=new c2({props:{table:e[3],which:"base"}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};8&n&&(r.table=e[3]),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function g3(e){let t,n,r,o;const s=[f3,m3],i=[];function a(e,t){return"baseTable"===e[10]?0:"targetTable"===e[10]?1:-1}return~(t=a(e))&&(n=i[t]=s[t](e)),{c(){n&&n.c(),r=j()},m(e,n){~t&&i[t].m(e,n),P(e,r,n),o=!0},p(e,o){let l=t;t=a(e),t===l?~t&&i[t].p(e,o):(n&&(Fe(),Ve(i[l],1,1,(()=>{i[l]=null})),He()),~t?(n=i[t],n?n.p(e,o):(n=i[t]=s[t](e),n.c()),qe(n,1),n.m(r.parentNode,r)):n=null)},i(e){o||(qe(n),o=!0)},o(e){Ve(n),o=!1},d(e){~t&&i[t].d(e),e&&R(r)}}}function h3(e){let t,n,r,o,s,i,a,l,c,u,d,p,$,m,f;o=new Ja({props:{checked:e[7]}}),o.$on("change",e[8]),u=new J2({props:{linkType:e[0]}});const g=[t3,e3,Q2,Z2],h=[];function y(e,t){return"oneToMany"===e[0]?0:"manyToOne"===e[0]?1:"manyToMany"===e[0]?2:3}return $=y(e),m=h[$]=g[$](e),{c(){t=F("div"),n=F("span"),r=F("span"),rt(o.$$.fragment),s=V(),i=F("span"),a=q(e[6]),l=V(),c=F("span"),rt(u.$$.fragment),d=V(),p=F("span"),m.c(),B(r,"class","input svelte-i576i"),B(i,"class","label svelte-i576i"),B(n,"class","top svelte-i576i"),B(c,"class","diagram svelte-i576i"),B(p,"class","description svelte-i576i"),B(t,"class","link-type-option svelte-i576i"),te(t,"checked",e[7])},m(e,m){P(e,t,m),A(t,n),A(n,r),ot(o,r,null),A(n,s),A(n,i),A(i,a),A(t,l),A(t,c),ot(u,c,null),A(t,d),A(t,p),h[$].m(p,null),f=!0},p(e,n){const r={};128&n&&(r.checked=e[7]),o.$set(r),(!f||64&n)&&X(a,e[6]);const s={};1&n&&(s.linkType=e[0]),u.$set(s);let i=$;$=y(e),$===i?h[$].p(e,n):(Fe(),Ve(h[i],1,1,(()=>{h[i]=null})),He(),m=h[$],m?m.p(e,n):(m=h[$]=g[$](e),m.c()),qe(m,1),m.m(p,null)),(!f||128&n)&&te(t,"checked",e[7])},i(e){f||(qe(o.$$.fragment,e),qe(u.$$.fragment,e),qe(m),f=!0)},o(e){Ve(o.$$.fragment,e),Ve(u.$$.fragment,e),Ve(m),f=!1},d(e){e&&R(t),st(o),st(u),h[$].d()}}}function y3(e){let t,n;return t=new vo({props:{style:"--Label__display:contents;",$$slots:{default:[h3]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const r={};2299&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function v3(e,t,n){let r,o,i,a,l=s,c=()=>(l(),l=$(p,(e=>n(9,a=e))),p);f(e,A2,(e=>n(5,i=e))),e.$$.on_destroy.push((()=>l()));let{linkType:u}=t,{isSelfReferential:d}=t,{field:p}=t;c();let{base:m}=t,{target:g}=t;return e.$$set=e=>{"linkType"in e&&n(0,u=e.linkType),"isSelfReferential"in e&&n(1,d=e.isSelfReferential),"field"in e&&c(n(2,p=e.field)),"base"in e&&n(3,m=e.base),"target"in e&&n(4,g=e.target)},e.$$.update=()=>{513&e.$$.dirty&&n(7,r=u===a),33&e.$$.dirty&&n(6,o="oneToMany"===u?i.general.oneToMany():"manyToOne"===u?i.general.manyToOne():"manyToMany"===u?i.general.manyToMany():_l(u))},[u,d,p,m,g,i,o,r,function({detail:e}){e&&p.set(u)},a]}class b3 extends at{constructor(e){super(),it(this,e,v3,y3,p,{linkType:0,isSelfReferential:1,field:2,base:3,target:4})}}function w3(e,t,n){const r=e.slice();return r[5]=t[n],r}function x3(e,t){let n,r,o;return r=new b3({props:{linkType:t[5],isSelfReferential:t[1],field:t[2],base:t[3],target:t[4]}}),{key:e,first:null,c(){n=j(),rt(r.$$.fragment),this.first=n},m(e,t){P(e,n,t),ot(r,e,t),o=!0},p(e,n){t=e;const o={};1&n&&(o.linkType=t[5]),2&n&&(o.isSelfReferential=t[1]),4&n&&(o.field=t[2]),8&n&&(o.base=t[3]),16&n&&(o.target=t[4]),r.$set(o)},i(e){o||(qe(r.$$.fragment,e),o=!0)},o(e){Ve(r.$$.fragment,e),o=!1},d(e){e&&R(n),st(r,e)}}}function S3(e){let t,n,r,o,s,i,a,l,c,u,d=[],p=new Map;o=new c2({props:{table:e[4],which:"target"}});let $=e[0];const m=e=>e[5];for(let f=0;f<$.length;f+=1){let t=w3(e,$,f),n=m(t);p.set(n,d[f]=x3(n,t))}return c=new My({props:{field:e[2]}}),{c(){t=F("fieldset"),n=F("legend"),r=q("Type of Link to "),rt(o.$$.fragment),s=q(":"),i=V(),a=F("div");for(let e=0;e<d.length;e+=1)d[e].c();l=V(),rt(c.$$.fragment),B(n,"class","svelte-5rsfq9"),B(a,"class","options svelte-5rsfq9"),B(t,"class","svelte-5rsfq9")},m(e,p){P(e,t,p),A(t,n),A(n,r),ot(o,n,null),A(n,s),A(t,i),A(t,a);for(let t=0;t<d.length;t+=1)d[t].m(a,null);P(e,l,p),ot(c,e,p),u=!0},p(e,t){const n={};16&t&&(n.table=e[4]),o.$set(n),31&t&&($=e[0],Fe(),d=Qe(d,t,m,1,e,$,p,a,Je,x3,null,w3),He());const r={};4&t&&(r.field=e[2]),c.$set(r)},i(e){if(!u){qe(o.$$.fragment,e);for(let e=0;e<$.length;e+=1)qe(d[e]);qe(c.$$.fragment,e),u=!0}},o(e){Ve(o.$$.fragment,e);for(let t=0;t<d.length;t+=1)Ve(d[t]);Ve(c.$$.fragment,e),u=!1},d(e){e&&R(t),st(o);for(let t=0;t<d.length;t+=1)d[t].d();e&&R(l),st(c,e)}}}function C3(e){let t,n;return t=new Ay({props:{$$slots:{default:[S3]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const r={};287&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function k3(e,t,n){let{linkTypes:r}=t,{isSelfReferential:o}=t,{field:s}=t,{base:i}=t,{target:a}=t;return e.$$set=e=>{"linkTypes"in e&&n(0,r=e.linkTypes),"isSelfReferential"in e&&n(1,o=e.isSelfReferential),"field"in e&&n(2,s=e.field),"base"in e&&n(3,i=e.base),"target"in e&&n(4,a=e.target)},[r,o,s,i,a]}class D3 extends at{constructor(e){super(),it(this,e,k3,C3,p,{linkTypes:0,isSelfReferential:1,field:2,base:3,target:4})}}const I3=ey((e=>"id"===e),'The name "id" is reserved for the primary key column that will be created when creating the table.');function _3(e){let t;return{c(){t=q('Links are stored in the database as foreign key constraints, which you may\n      add to existing columns via the "Advanced" section of the table inspector.')},m(e,n){P(e,t,n)},d(e){e&&R(t)}}}function T3(e){let t,n;return t=new OC({props:{$$slots:{default:[_3]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};2048&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function M3(e){let t,n,r,o,s;return r=new c2({props:{table:e[0],which:"base"}}),{c(){t=F("span"),n=q("Link "),rt(r.$$.fragment),o=q(" to"),B(t,"slot","label")},m(e,i){P(e,t,i),A(t,n),ot(r,t,null),A(t,o),s=!0},p(e,t){const n={};1&t[0]&&(n.table=e[0]),r.$set(n)},i(e){s||(qe(r.$$.fragment,e),s=!0)},o(e){Ve(r.$$.fragment,e),s=!1},d(e){e&&R(t),st(r)}}}function E3(e){let t,n,r,o;return t=new D3({props:{field:e[8],isSelfReferential:e[11],linkTypes:e[15],base:e[0],target:e[2]}}),r=new Ay({props:{$$slots:{default:[q3]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment),n=V(),rt(r.$$.fragment)},m(e,s){ot(t,e,s),P(e,n,s),ot(r,e,s),o=!0},p(e,n){const o={};256&n[0]&&(o.field=e[8]),2048&n[0]&&(o.isSelfReferential=e[11]),32768&n[0]&&(o.linkTypes=e[15]),1&n[0]&&(o.base=e[0]),4&n[0]&&(o.target=e[2]),t.$set(o);const s={};1055997&n[0]|2048&n[1]&&(s.$$scope={dirty:n,ctx:e}),r.$set(s)},i(e){o||(qe(t.$$.fragment,e),qe(r.$$.fragment,e),o=!0)},o(e){Ve(t.$$.fragment,e),Ve(r.$$.fragment,e),o=!1},d(e){st(t,e),e&&R(n),st(r,e)}}}function O3(e){let t,n=_l(e[12])+"";return{c(){t=q(n)},m(e,n){P(e,t,n)},p(e,r){4096&r[0]&&n!==(n=_l(e[12])+"")&&X(t,n)},i:s,o:s,d(e){e&&R(t)}}}function A3(e){let t,n,r,o;const s=[R3,P3],i=[];function a(e,t){return e[11]?0:1}return t=a(e),n=i[t]=s[t](e),{c(){n.c(),r=j()},m(e,n){i[t].m(e,n),P(e,r,n),o=!0},p(e,o){let l=t;t=a(e),t===l?i[t].p(e,o):(Fe(),Ve(i[l],1,1,(()=>{i[l]=null})),He(),n=i[t],n?n.p(e,o):(n=i[t]=s[t](e),n.c()),qe(n,1),n.m(r.parentNode,r))},i(e){o||(qe(n),o=!0)},o(e){Ve(n),o=!1},d(e){i[t].d(e),e&&R(r)}}}function L3(e){let t,n;return t=new f2({props:{base:e[0],target:e[2],field:e[6]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1&n[0]&&(r.base=e[0]),4&n[0]&&(r.target=e[2]),64&n[0]&&(r.field=e[6]),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function N3(e){let t,n;return t=new f2({props:{base:e[2],target:e[0],field:e[7],targetColumnsAreLoading:e[10]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};4&n[0]&&(r.base=e[2]),1&n[0]&&(r.target=e[0]),128&n[0]&&(r.field=e[7]),1024&n[0]&&(r.targetColumnsAreLoading=e[10]),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function P3(e){let t,n,r,o,s,i;r=new By({props:{field:e[5],label:"Table Name"}});let a=e[20]&&z3(e);return{c(){t=F("p"),t.textContent="We'll create a new table.",n=V(),rt(r.$$.fragment),o=V(),a&&a.c(),s=j()},m(e,l){P(e,t,l),P(e,n,l),ot(r,e,l),P(e,o,l),a&&a.m(e,l),P(e,s,l),i=!0},p(e,t){const n={};32&t[0]&&(n.field=e[5]),r.$set(n),e[20]?a?(a.p(e,t),1048576&t[0]&&qe(a,1)):(a=z3(e),a.c(),qe(a,1),a.m(s.parentNode,s)):a&&(Fe(),Ve(a,1,1,(()=>{a=null})),He())},i(e){i||(qe(r.$$.fragment,e),qe(a),i=!0)},o(e){Ve(r.$$.fragment,e),Ve(a),i=!1},d(e){e&&R(t),e&&R(n),st(r,e),e&&R(o),a&&a.d(e),e&&R(s)}}}function R3(e){let t,n,r,o,s,i;r=new By({props:{field:e[5],label:"Table Name"}});let a=e[20]&&F3(e);return{c(){t=F("p"),t.textContent="We'll create a new table.",n=V(),rt(r.$$.fragment),o=V(),a&&a.c(),s=j()},m(e,l){P(e,t,l),P(e,n,l),ot(r,e,l),P(e,o,l),a&&a.m(e,l),P(e,s,l),i=!0},p(e,t){const n={};32&t[0]&&(n.field=e[5]),r.$set(n),e[20]?a?(a.p(e,t),1048576&t[0]&&qe(a,1)):(a=F3(e),a.c(),qe(a,1),a.m(s.parentNode,s)):a&&(Fe(),Ve(a,1,1,(()=>{a=null})),He())},i(e){i||(qe(r.$$.fragment,e),qe(a),i=!0)},o(e){Ve(r.$$.fragment,e),Ve(a),i=!1},d(e){e&&R(t),e&&R(n),st(r,e),e&&R(o),a&&a.d(e),e&&R(s)}}}function z3(e){let t,n,r,o;return t=new f2({props:{base:{name:e[20]},baseWhich:"mapping",target:e[0],targetWhich:"base",field:e[4]}}),r=new f2({props:{base:{name:e[20]},baseWhich:"mapping",target:e[2],field:e[3]}}),{c(){rt(t.$$.fragment),n=V(),rt(r.$$.fragment)},m(e,s){ot(t,e,s),P(e,n,s),ot(r,e,s),o=!0},p(e,n){const o={};1048576&n[0]&&(o.base={name:e[20]}),1&n[0]&&(o.target=e[0]),16&n[0]&&(o.field=e[4]),t.$set(o);const s={};1048576&n[0]&&(s.base={name:e[20]}),4&n[0]&&(s.target=e[2]),8&n[0]&&(s.field=e[3]),r.$set(s)},i(e){o||(qe(t.$$.fragment,e),qe(r.$$.fragment,e),o=!0)},o(e){Ve(t.$$.fragment,e),Ve(r.$$.fragment,e),o=!1},d(e){st(t,e),e&&R(n),st(r,e)}}}function F3(e){let t,n,r,o,s,i,a,l,c,u,d;return r=new c2({props:{table:{name:e[20]},which:"mapping"}}),s=new c2({props:{table:e[2],which:"target"}}),l=new By({props:{field:e[4],label:"Column 1 Name"}}),u=new By({props:{field:e[3],label:"Column 2 Name"}}),{c(){t=F("p"),n=q("We'll add two columns in\n                "),rt(r.$$.fragment),o=q(",\n                each linking to\n                "),rt(s.$$.fragment),i=q("."),a=V(),rt(l.$$.fragment),c=V(),rt(u.$$.fragment)},m(e,p){P(e,t,p),A(t,n),ot(r,t,null),A(t,o),ot(s,t,null),A(t,i),P(e,a,p),ot(l,e,p),P(e,c,p),ot(u,e,p),d=!0},p(e,t){const n={};1048576&t[0]&&(n.table={name:e[20]}),r.$set(n);const o={};4&t[0]&&(o.table=e[2]),s.$set(o);const i={};16&t[0]&&(i.field=e[4]),l.$set(i);const a={};8&t[0]&&(a.field=e[3]),u.$set(a)},i(e){d||(qe(r.$$.fragment,e),qe(s.$$.fragment,e),qe(l.$$.fragment,e),qe(u.$$.fragment,e),d=!0)},o(e){Ve(r.$$.fragment,e),Ve(s.$$.fragment,e),Ve(l.$$.fragment,e),Ve(u.$$.fragment,e),d=!1},d(e){e&&R(t),st(r),st(s),e&&R(a),st(l,e),e&&R(c),st(u,e)}}}function H3(e){let t,n,r,o;const s=[N3,L3,A3,O3],i=[];function a(e,t){return"oneToMany"===e[12]?0:"manyToOne"===e[12]?1:"manyToMany"===e[12]?2:3}return t=a(e),n=i[t]=s[t](e),{c(){n.c(),r=j()},m(e,n){i[t].m(e,n),P(e,r,n),o=!0},p(e,o){let l=t;t=a(e),t===l?i[t].p(e,o):(Fe(),Ve(i[l],1,1,(()=>{i[l]=null})),He(),n=i[t],n?n.p(e,o):(n=i[t]=s[t](e),n.c()),qe(n,1),n.m(r.parentNode,r))},i(e){o||(qe(n),o=!0)},o(e){Ve(n),o=!1},d(e){i[t].d(e),e&&R(r)}}}function q3(e){let t,n;return t=new tJ({props:{$$slots:{default:[H3]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1055997&n[0]|2048&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function V3(e){let t,n,r,o,s,i,a,l,c,u,d;n=new Ay({props:{$$slots:{default:[T3]},$$scope:{ctx:e}}}),o=new By({props:{field:e[9],input:{component:DI,props:{tables:e[19],autoSelect:"none"}},$$slots:{label:[M3]},$$scope:{ctx:e}}});let p=e[2]&&E3(e);return l=new Zy({props:{form:e[13],catchErrors:!0,canProceed:e[14],onCancel:e[1],proceedButton:{label:"Create Link",icon:vf},onProceed:e[22]}}),{c(){t=F("div"),rt(n.$$.fragment),r=V(),rt(o.$$.fragment),s=V(),p&&p.c(),i=V(),a=F("div"),rt(l.$$.fragment),B(t,"class","form svelte-1ed7u92"),te(t,"self-referential",e[11])},m(e,$){P(e,t,$),ot(n,t,null),A(t,r),ot(o,t,null),A(t,s),p&&p.m(t,null),P(e,i,$),P(e,a,$),ot(l,a,null),c=!0,u||(d=D(dm.call(null,a)),u=!0)},p(e,r){const s={};2048&r[1]&&(s.$$scope={dirty:r,ctx:e}),n.$set(s);const i={};512&r[0]&&(i.field=e[9]),524288&r[0]&&(i.input={component:DI,props:{tables:e[19],autoSelect:"none"}}),1&r[0]|2048&r[1]&&(i.$$scope={dirty:r,ctx:e}),o.$set(i),e[2]?p?(p.p(e,r),4&r[0]&&qe(p,1)):(p=E3(e),p.c(),qe(p,1),p.m(t,null)):p&&(Fe(),Ve(p,1,1,(()=>{p=null})),He()),(!c||2048&r[0])&&te(t,"self-referential",e[11]);const a={};8192&r[0]&&(a.form=e[13]),16384&r[0]&&(a.canProceed=e[14]),2&r[0]&&(a.onCancel=e[1]),l.$set(a)},i(e){c||(qe(n.$$.fragment,e),qe(o.$$.fragment,e),qe(p),qe(l.$$.fragment,e),c=!0)},o(e){Ve(n.$$.fragment,e),Ve(o.$$.fragment,e),Ve(p),Ve(l.$$.fragment,e),c=!1},d(e){e&&R(t),st(n),st(o),p&&p.d(),e&&R(i),e&&R(a),st(l),u=!1,d()}}}function j3(e,t,n){let r,o,i,a,l,c,u,d,p,m,g,h,y,v,b,w,x,S,C,k,D,I,_,T,M,E,O,A,L,N,P,R,z,F,H,q,V=s,j=s,W=s,U=s,Y=s,B=s,K=s,G=s,X=s,J=s;f(e,Fh,(e=>n(35,T=e))),f(e,Dv,(e=>n(28,N=e))),f(e,Cv,(e=>n(33,H=e))),f(e,kv,(e=>n(34,q=e))),e.$$.on_destroy.push((()=>V())),e.$$.on_destroy.push((()=>j())),e.$$.on_destroy.push((()=>W())),e.$$.on_destroy.push((()=>U())),e.$$.on_destroy.push((()=>Y())),e.$$.on_destroy.push((()=>B())),e.$$.on_destroy.push((()=>K())),e.$$.on_destroy.push((()=>G())),e.$$.on_destroy.push((()=>X())),e.$$.on_destroy.push((()=>J()));const Z=sB();f(e,Z,(e=>n(27,I=e)));let{base:Q}=t,{close:ee}=t;return e.$$set=e=>{"base"in e&&n(0,Q=e.base),"close"in e&&n(1,ee=e.close)},e.$$.update=()=>{1&e.$$.dirty[0]&&n(23,r=Sb(Q.name)),8&e.$$.dirty[1]&&n(19,o=[...q.values()]),4&e.$$.dirty[1]&&n(24,i=[...H.data.values()]),134217728&e.$$.dirty[0]&&n(26,({columnsDataStore:a}=I),a),67108864&e.$$.dirty[0]&&(n(18,l=a.columns),G(),G=$(l,(e=>n(30,R=e)))),1&e.$$.dirty[1]&&n(2,g=z),4&e.$$.dirty[0]&&n(25,c=g?new LY({tableId:g.id}):void 0),33554432&e.$$.dirty[0]&&(n(17,u=Ft(c?.columns??[])),K(),K=$(u,(e=>n(29,P=e)))),33554432&e.$$.dirty[0]&&(n(16,d=Ft(c?.fetchStatus)),J(),J=$(d,(e=>n(32,F=e)))),2&e.$$.dirty[1]&&n(10,p="processing"===F?.state),5&e.$$.dirty[0]&&n(11,h=Q.id===g?.id),2048&e.$$.dirty[0]&&n(15,y=h?["manyToOne","manyToMany"]:["manyToOne","oneToMany","manyToMany"]),256&e.$$.dirty[0]|1&e.$$.dirty[1]&&v.reset(),1073741828&e.$$.dirty[0]&&(n(6,b=rv(sL(g,R),[iL(R)])),Y(),Y=$(b,(e=>n(38,A=e)))),536870913&e.$$.dirty[0]&&(n(7,w=rv(sL(Q,P),[iL(P)])),B(),B=$(w,(e=>n(39,L=e)))),285212677&e.$$.dirty[0]&&(n(5,x=rv(function(e,t,n){return t?x_(`${e.name}_${t.name}`,new Set(n.map((e=>e.name)))):""}(Q,g,i),[N])),U(),U=$(x,(e=>n(20,O=e)))),8390657&e.$$.dirty[0]&&(n(4,S=rv(h?x_(`${r}_1`,new Set(["id",r])):sL(Q),[I3])),W(),W=$(S,(e=>n(37,E=e)))),8390660&e.$$.dirty[0]&&(n(3,C=rv(h?x_(`${r}_2`,new Set(["id",r])):sL(g),[I3])),j(),j=$(C,(e=>n(36,M=e)))),5120&e.$$.dirty[0]&&n(14,k=!("manyToOne"===_&&p)),5112&e.$$.dirty[0]&&n(13,D=(()=>{const e={targetTable:m,linkType:v};return"oneToMany"===_?sv({...e,columnNameInTarget:w}):"manyToOne"===_?sv({...e,columnNameInBase:b}):"manyToMany"===_?sv({...e,mappingTableName:x,columnNameMappingToBase:S,columnNameMappingToTarget:C},[(t=[S,C],n=([e,t])=>e===t,r="The two columns cannot have the same name.",ay(t,ey(n,r)))]):_l(_);var t,n,r})())},n(9,m=rv(void 0)),X(),X=$(m,(e=>n(31,z=e))),n(8,v=rv("manyToOne")),V(),V=$(v,(e=>n(12,_=e))),[Q,ee,g,C,S,x,b,w,v,m,p,h,_,D,k,y,d,u,l,o,O,Z,async function(e){await ph("/api/db/v0/links/",function(e){return"oneToMany"===_?{link_type:"one-to-many",reference_table:e.targetTable.id,reference_column_name:L,referent_table:Q.id}:"manyToOne"===_?{link_type:"one-to-many",reference_table:Q.id,reference_column_name:A,referent_table:e.targetTable.id}:"manyToMany"===_?{link_type:"many-to-many",mapping_table_name:O,referents:[{referent_table:Q.id,column_name:E},{referent_table:e.targetTable.id,column_name:M}]}:_l(_)}(e)),Uf.success("The link has been created successfully"),await async function(){if("manyToMany"===_&&void 0!==T)return void(await mv(T));const e="oneToMany"===_?g:Q;e&&e.id===I.id&&await I.refresh()}(),ee()},r,i,c,a,I,N,P,R,z,F,H,q]}class W3 extends at{constructor(e){super(),it(this,e,j3,V3,p,{base:0,close:1},null,[-1,-1])}}function U3(e){let t,n;return t=new Bd({props:{controller:e[0],size:"large",title:"Create Link",$$slots:{default:[Y3]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.controller=e[0]),11&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Y3(e){let t,n;return t=new W3({props:{base:e[1],close:e[2]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.base=e[1]),1&n&&(r.close=e[2]),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function B3(e){let t,n,r=e[1]&&U3(e);return{c(){r&&r.c(),t=j()},m(e,o){r&&r.m(e,o),P(e,t,o),n=!0},p(e,[n]){e[1]?r?(r.p(e,n),2&n&&qe(r,1)):(r=U3(e),r.c(),qe(r,1),r.m(t.parentNode,t)):r&&(Fe(),Ve(r,1,1,(()=>{r=null})),He())},i(e){n||(qe(r),n=!0)},o(e){Ve(r),n=!1},d(e){r&&r.d(e),e&&R(t)}}}function K3(e,t,n){let r;f(e,_v,(e=>n(1,r=e)));let{controller:o}=t;return e.$$set=e=>{"controller"in e&&n(0,o=e.controller)},[o,r,()=>o.close()]}class G3 extends at{constructor(e){super(),it(this,e,K3,B3,p,{controller:0})}}function X3(e){let t,n,r,o,s,i,a,l,c,u=e[0].column.name+"";return r=new hb({props:{table:e[0].table,truncate:!1}}),{c(){t=F("a"),n=F("span"),rt(r.$$.fragment),o=V(),s=F("span"),i=q("Linked via "),a=F("strong"),l=q(u),B(n,"class","table-name svelte-qstra6"),B(s,"class","sub-text svelte-qstra6"),B(t,"class","passthrough link-item-container svelte-qstra6"),B(t,"href",e[1])},m(e,u){P(e,t,u),A(t,n),ot(r,n,null),A(t,o),A(t,s),A(s,i),A(s,a),A(a,l),c=!0},p(e,[n]){const o={};1&n&&(o.table=e[0].table),r.$set(o),(!c||1&n)&&u!==(u=e[0].column.name+"")&&X(l,u),(!c||2&n)&&B(t,"href",e[1])},i(e){c||(qe(r.$$.fragment,e),c=!0)},o(e){Ve(r.$$.fragment,e),c=!1},d(e){e&&R(t),st(r)}}}function J3(e,t,n){let r,o,s;f(e,HA,(e=>n(3,s=e)));let{link:i}=t;return e.$$set=e=>{"link"in e&&n(0,i=e.link)},e.$$.update=()=>{1&e.$$.dirty&&n(2,r=i.table.id),12&e.$$.dirty&&n(1,o=s({tableId:r}))},[i,o,r,s]}class Z3 extends at{constructor(e){super(),it(this,e,J3,X3,p,{link:0})}}function Q3(e,t,n){const r=e.slice();return r[4]=t[n],r}function e4(e){let t,n;return t=new Z3({props:{link:e[4]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.link=e[4]),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function t4(e){let t,n,r,o,s,i,l,c,u,d;const p=[e[2]];let $={};for(let h=0;h<p.length;h+=1)$=a($,p[h]);o=new Wr({props:$});let m=e[0],f=[];for(let a=0;a<m.length;a+=1)f[a]=e4(Q3(e,m,a));const g=e=>Ve(f[e],1,1,(()=>{f[e]=null}));return{c(){t=F("div"),n=F("div"),r=F("div"),rt(o.$$.fragment),s=V(),i=F("span"),l=q(e[1]),c=V(),u=F("div");for(let e=0;e<f.length;e+=1)f[e].c();B(r,"class","left svelte-t66uzd"),B(n,"class","header svelte-t66uzd"),B(u,"class","links svelte-t66uzd"),B(t,"class","link-section-container svelte-t66uzd")},m(e,a){P(e,t,a),A(t,n),A(n,r),ot(o,r,null),A(r,s),A(r,i),A(i,l),A(t,c),A(t,u);for(let t=0;t<f.length;t+=1)f[t].m(u,null);d=!0},p(e,[t]){const n=4&t?et(p,[tt(e[2])]):{};if(o.$set(n),(!d||2&t)&&X(l,e[1]),1&t){let n;for(m=e[0],n=0;n<m.length;n+=1){const r=Q3(e,m,n);f[n]?(f[n].p(r,t),qe(f[n],1)):(f[n]=e4(r),f[n].c(),qe(f[n],1),f[n].m(u,null))}for(Fe(),n=m.length;n<f.length;n+=1)g(n);He()}},i(e){if(!d){qe(o.$$.fragment,e);for(let e=0;e<m.length;e+=1)qe(f[e]);d=!0}},o(e){Ve(o.$$.fragment,e),f=f.filter(Boolean);for(let t=0;t<f.length;t+=1)Ve(f[t]);d=!1},d(e){e&&R(t),st(o),z(f,e)}}}function n4(e,t,n){let r,o,{links:s}=t,{type:i}=t;return e.$$set=e=>{"links"in e&&n(0,s=e.links),"type"in e&&n(3,i=e.type)},e.$$.update=()=>{8&e.$$.dirty&&n(2,r=(()=>{switch(i){case"in_this_table":return kf;case"from_other_tables":return Df;default:throw new Il(i)}})()),8&e.$$.dirty&&n(1,o=(()=>{switch(i){case"in_this_table":return"In this table";case"from_other_tables":return"From other tables";default:throw new Il(i)}})())},[s,o,r,i]}class r4 extends at{constructor(e){super(),it(this,e,n4,t4,p,{links:0,type:3})}}function o4(e){let t,n;return t=new r4({props:{type:"in_this_table",links:e[0]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.links=e[0]),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function s4(e){let t,n;return t=new r4({props:{type:"from_other_tables",links:e[1]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.links=e[1]),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function i4(e){let t;return{c(){t=F("span"),t.textContent="This table does not link to any other tables",B(t,"class","null-text svelte-1stqpqi")},m(e,n){P(e,t,n)},d(e){e&&R(t)}}}function a4(e){let t,n,r,o,s;return n=new Ln({props:{appearance:"secondary",$$slots:{default:[l4]},$$scope:{ctx:e}}}),n.$on("click",e[5]),o=new G3({props:{controller:e[4]}}),{c(){t=F("div"),rt(n.$$.fragment),r=V(),rt(o.$$.fragment)},m(e,i){P(e,t,i),ot(n,t,null),A(t,r),ot(o,t,null),s=!0},p(e,t){const r={};64&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){s||(qe(n.$$.fragment,e),qe(o.$$.fragment,e),s=!0)},o(e){Ve(n.$$.fragment,e),Ve(o.$$.fragment,e),s=!1},d(e){e&&R(t),st(n),st(o)}}}function l4(e){let t,n,r,o;const s=[xm];let i={};for(let l=0;l<s.length;l+=1)i=a(i,s[l]);return t=new Wr({props:i}),{c(){rt(t.$$.fragment),n=V(),r=F("span"),r.textContent="Create Link"},m(e,s){ot(t,e,s),P(e,n,s),P(e,r,s),o=!0},p(e,n){const r=0&n?et(s,[tt(xm)]):{};t.$set(r)},i(e){o||(qe(t.$$.fragment,e),o=!0)},o(e){Ve(t.$$.fragment,e),o=!1},d(e){st(t,e),e&&R(n),e&&R(r)}}}function c4(e){let t,n,r,o,s,i=e[0].length&&o4(e),a=e[1].length&&s4(e),l=e[3]&&i4(),c=e[2]&&a4(e);return{c(){t=F("div"),i&&i.c(),n=V(),a&&a.c(),r=V(),l&&l.c(),o=V(),c&&c.c(),B(t,"class","links-section svelte-1stqpqi")},m(e,u){P(e,t,u),i&&i.m(t,null),A(t,n),a&&a.m(t,null),A(t,r),l&&l.m(t,null),A(t,o),c&&c.m(t,null),s=!0},p(e,[s]){e[0].length?i?(i.p(e,s),1&s&&qe(i,1)):(i=o4(e),i.c(),qe(i,1),i.m(t,n)):i&&(Fe(),Ve(i,1,1,(()=>{i=null})),He()),e[1].length?a?(a.p(e,s),2&s&&qe(a,1)):(a=s4(e),a.c(),qe(a,1),a.m(t,r)):a&&(Fe(),Ve(a,1,1,(()=>{a=null})),He()),e[3]?l||(l=i4(),l.c(),l.m(t,o)):l&&(l.d(1),l=null),e[2]?c?(c.p(e,s),4&s&&qe(c,1)):(c=a4(e),c.c(),qe(c,1),c.m(t,null)):c&&(Fe(),Ve(c,1,1,(()=>{c=null})),He())},i(e){s||(qe(i),qe(a),qe(c),s=!0)},o(e){Ve(i),Ve(a),Ve(c),s=!1},d(e){e&&R(t),i&&i.d(),a&&a.d(),l&&l.d(),c&&c.d()}}}function u4(e,t,n){let r,{linksInThisTable:o}=t,{linksFromOtherTables:s}=t,{canExecuteDDL:i}=t;const a=Wf.spawnModalController();return e.$$set=e=>{"linksInThisTable"in e&&n(0,o=e.linksInThisTable),"linksFromOtherTables"in e&&n(1,s=e.linksFromOtherTables),"canExecuteDDL"in e&&n(2,i=e.canExecuteDDL)},e.$$.update=()=>{3&e.$$.dirty&&n(3,r=!o.length&&!s.length)},[o,s,i,r,a,()=>a.open()]}class d4 extends at{constructor(e){super(),it(this,e,u4,c4,p,{linksInThisTable:0,linksFromOtherTables:1,canExecuteDDL:2})}}function p4(e,t,n){switch(e){case"in_this_table":return t.joinable_tables.filter((e=>!e.fk_path[0][1])).map((e=>({table:{id:e.target,name:t.tables[e.target].name},column:{id:e.jp_path[0][0],name:n.get(e.jp_path[0][0])?.column.name||"--"}})));case"from_other_tables":return t.joinable_tables.filter((e=>e.fk_path[0][1])).map((e=>({table:{id:e.target,name:t.tables[e.target].name},column:{id:e.jp_path[0][1],name:t.columns[e.jp_path[0][1]].name}})));default:throw new Il(e)}}function $4(e){return{c:s,m:s,p:s,i:s,o:s,d:s}}function m4(e){let t,n;return t=new d4({props:{linksInThisTable:p4("in_this_table",e[6],e[3]),linksFromOtherTables:p4("from_other_tables",e[6],e[3]),canExecuteDDL:e[0]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};12&n&&(r.linksInThisTable=p4("in_this_table",e[6],e[3])),12&n&&(r.linksFromOtherTables=p4("from_other_tables",e[6],e[3])),1&n&&(r.canExecuteDDL=e[0]),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function f4(e){let t,n;return t=new Tr({}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p:s,i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function g4(e){let t,n,r,o={ctx:e,current:null,token:null,hasCatch:!1,pending:f4,then:m4,catch:$4,value:6,blocks:[,,,]};return Be(n=Tv(e[2]),o),{c(){t=F("div"),o.block.c()},m(e,n){P(e,t,n),o.block.m(t,o.anchor=null),o.mount=()=>t,o.anchor=null,r=!0},p(t,[r]){e=t,o.ctx=e,4&r&&n!==(n=Tv(e[2]))&&Be(n,o)||Ke(o,e,r)},i(e){r||(qe(o.block),r=!0)},o(e){for(let t=0;t<3;t+=1){Ve(o.blocks[t])}r=!1},d(e){e&&R(t),o.block.d(),o.token=null,o=null}}}function h4(e,t,n){let r,o,i,a,l=s;e.$$.on_destroy.push((()=>l()));let{canExecuteDDL:c}=t;const u=sB();return f(e,u,(e=>n(5,i=e))),e.$$set=e=>{"canExecuteDDL"in e&&n(0,c=e.canExecuteDDL)},e.$$.update=()=>{32&e.$$.dirty&&n(2,r=i.id),32&e.$$.dirty&&(n(1,o=i.processedColumns),l(),l=$(o,(e=>n(3,a=e))))},[c,o,r,a,u,i]}class y4 extends at{constructor(e){super(),it(this,e,h4,g4,p,{canExecuteDDL:0})}}function v4(e){let t,n,r,o,s;function i(...t){return e[4](e[5],...t)}return o=new KX({props:{initialValue:e[2].data.get(e[1].id)?.description??"",onSubmit:i,isLongText:!0,disabled:e[0]}}),{c(){t=F("div"),n=F("span"),n.textContent="Description",r=V(),rt(o.$$.fragment),B(n,"class","label"),B(t,"class","update-table-description-property-container svelte-86tcs8")},m(e,i){P(e,t,i),A(t,n),A(t,r),ot(o,t,null),s=!0},p(t,n){e=t;const r={};6&n&&(r.initialValue=e[2].data.get(e[1].id)?.description??""),32&n&&(r.onSubmit=i),1&n&&(r.disabled=e[0]),o.$set(r)},i(e){s||(qe(o.$$.fragment,e),s=!0)},o(e){Ve(o.$$.fragment,e),s=!1},d(e){e&&R(t),st(o)}}}function b4(e){let t,n;return t=new Zq({props:{tableId:e[1].id,$$slots:{default:[v4,({onUpdate:e})=>({5:e}),({onUpdate:e})=>e?32:0]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const r={};2&n&&(r.tableId=e[1].id),103&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function w4(e,t,n){let r,o;f(e,Cv,(e=>n(2,o=e)));const s=sB();f(e,s,(e=>n(1,r=e)));let{disabled:i=!1}=t;return e.$$set=e=>{"disabled"in e&&n(0,i=e.disabled)},[i,r,o,s,(e,t)=>e({description:t})]}class x4 extends at{constructor(e){super(),it(this,e,w4,b4,p,{disabled:0})}}function S4(e){let t,n;return t=new ZZ({props:{slot:"header",title:"Properties",isDbLevelConfiguration:!0}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p:s,i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function C4(e){let t,n,r,o,s;return n=new h1({props:{disabled:!e[0]}}),o=new x4({props:{disabled:!e[0]}}),{c(){t=F("div"),rt(n.$$.fragment),r=V(),rt(o.$$.fragment),B(t,"slot","content"),B(t,"class","content-container svelte-1l3z76u")},m(e,i){P(e,t,i),ot(n,t,null),A(t,r),ot(o,t,null),s=!0},p(e,t){const r={};1&t&&(r.disabled=!e[0]),n.$set(r);const s={};1&t&&(s.disabled=!e[0]),o.$set(s)},i(e){s||(qe(n.$$.fragment,e),qe(o.$$.fragment,e),s=!0)},o(e){Ve(n.$$.fragment,e),Ve(o.$$.fragment,e),s=!1},d(e){e&&R(t),st(n),st(o)}}}function k4(e){let t,n;return t=new ZZ({props:{slot:"header",title:"Links",isDbLevelConfiguration:!0}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p:s,i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function D4(e){let t,n,r;return n=new y4({props:{canExecuteDDL:e[0]}}),{c(){t=F("div"),rt(n.$$.fragment),B(t,"slot","content"),B(t,"class","content-container svelte-1l3z76u")},m(e,o){P(e,t,o),ot(n,t,null),r=!0},p(e,t){const r={};1&t&&(r.canExecuteDDL=e[0]),n.$set(r)},i(e){r||(qe(n.$$.fragment,e),r=!0)},o(e){Ve(n.$$.fragment,e),r=!1},d(e){e&&R(t),st(n)}}}function I4(e){let t,n;return t=new ZZ({props:{slot:"header",title:"Record Summary"}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p:s,i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function _4(e){let t,n,r;return n=new RX({props:{table:e[1],tabularData:e[2]}}),{c(){t=F("div"),rt(n.$$.fragment),B(t,"slot","content"),B(t,"class","content-container svelte-1l3z76u")},m(e,o){P(e,t,o),ot(n,t,null),r=!0},p(e,t){const r={};2&t&&(r.table=e[1]),4&t&&(r.tabularData=e[2]),n.$set(r)},i(e){r||(qe(n.$$.fragment,e),r=!0)},o(e){Ve(n.$$.fragment,e),r=!1},d(e){e&&R(t),st(n)}}}function T4(e){let t,n;return t=new ZZ({props:{slot:"header",title:"Actions"}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p:s,i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function M4(e){let t,n,r;return n=new _1({props:{canExecuteDDL:e[0]}}),{c(){t=F("div"),rt(n.$$.fragment),B(t,"slot","content"),B(t,"class","content-container svelte-1l3z76u")},m(e,o){P(e,t,o),ot(n,t,null),r=!0},p(e,t){const r={};1&t&&(r.canExecuteDDL=e[0]),n.$set(r)},i(e){r||(qe(n.$$.fragment,e),r=!0)},o(e){Ve(n.$$.fragment,e),r=!1},d(e){e&&R(t),st(n)}}}function E4(e){let t,n;return t=new ZZ({props:{slot:"header",title:"Advanced"}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p:s,i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function O4(e){let t,n,r;return n=new i2({}),{c(){t=F("div"),rt(n.$$.fragment),B(t,"slot","content"),B(t,"class","content-container svelte-1l3z76u")},m(e,o){P(e,t,o),ot(n,t,null),r=!0},p:s,i(e){r||(qe(n.$$.fragment,e),r=!0)},o(e){Ve(n.$$.fragment,e),r=!1},d(e){e&&R(t),st(n)}}}function A4(e){let t,n,r,o,s,i,a,l,c,u,d;return n=new $s({props:{isOpen:!0,triggerAppearance:"plain",$$slots:{content:[C4],header:[S4]},$$scope:{ctx:e}}}),o=new $s({props:{isOpen:!0,triggerAppearance:"plain",$$slots:{content:[D4],header:[k4]},$$scope:{ctx:e}}}),i=new $s({props:{triggerAppearance:"plain",$$slots:{content:[_4],header:[I4]},$$scope:{ctx:e}}}),l=new $s({props:{isOpen:!0,triggerAppearance:"plain",$$slots:{content:[M4],header:[T4]},$$scope:{ctx:e}}}),u=new $s({props:{triggerAppearance:"plain",$$slots:{content:[O4],header:[E4]},$$scope:{ctx:e}}}),{c(){t=F("div"),rt(n.$$.fragment),r=V(),rt(o.$$.fragment),s=V(),rt(i.$$.fragment),a=V(),rt(l.$$.fragment),c=V(),rt(u.$$.fragment),B(t,"class","table-mode-container svelte-1l3z76u")},m(e,p){P(e,t,p),ot(n,t,null),A(t,r),ot(o,t,null),A(t,s),ot(i,t,null),A(t,a),ot(l,t,null),A(t,c),ot(u,t,null),d=!0},p(e,[t]){const r={};1025&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r);const s={};1025&t&&(s.$$scope={dirty:t,ctx:e}),o.$set(s);const a={};1030&t&&(a.$$scope={dirty:t,ctx:e}),i.$set(a);const c={};1025&t&&(c.$$scope={dirty:t,ctx:e}),l.$set(c);const d={};1024&t&&(d.$$scope={dirty:t,ctx:e}),u.$set(d)},i(e){d||(qe(n.$$.fragment,e),qe(o.$$.fragment,e),qe(i.$$.fragment,e),qe(l.$$.fragment,e),qe(u.$$.fragment,e),d=!0)},o(e){Ve(n.$$.fragment,e),Ve(o.$$.fragment,e),Ve(i.$$.fragment,e),Ve(l.$$.fragment,e),Ve(u.$$.fragment,e),d=!1},d(e){e&&R(t),st(n),st(o),st(i),st(l),st(u)}}}function L4(e,t,n){let r,o,s,i,a,l,c,u;f(e,Xh,(e=>n(8,a=e))),f(e,vh,(e=>n(9,l=e))),f(e,_v,(e=>n(1,c=e)));const d=sB();f(e,d,(e=>n(2,u=e)));const p=Uv();return f(e,p,(e=>n(7,i=e))),e.$$.update=()=>{512&e.$$.dirty&&n(6,r=l),256&e.$$.dirty&&n(5,o=a),224&e.$$.dirty&&n(0,s=!!i?.hasPermission({database:r,schema:o},"canExecuteDDL"))},[s,c,u,d,p,o,r,i,a,l]}class N4 extends at{constructor(e){super(),it(this,e,L4,A4,p,{})}}function P4(e){let t,n,r;var o=e[0].component;return o&&(n=new o({})),{c(){t=F("div"),n&&rt(n.$$.fragment),B(t,"class","tabs-container")},m(e,o){P(e,t,o),n&&ot(n,t,null),r=!0},p(e,r){if(o!==(o=e[0].component)){if(n){Fe();const e=n;Ve(e.$$.fragment,1,0,(()=>{st(e,1)})),He()}o?(n=new o({}),rt(n.$$.fragment),qe(n.$$.fragment,1),ot(n,t,null)):n=null}},i(e){r||(n&&qe(n.$$.fragment,e),r=!0)},o(e){n&&Ve(n.$$.fragment,e),r=!1},d(e){e&&R(t),n&&st(n)}}}function R4(e){let t;const n=e[7].default,r=g(n,e,e[9],null),o=r||function(e){let t,n,r=e[0]&&P4(e);return{c(){r&&r.c(),t=j()},m(e,o){r&&r.m(e,o),P(e,t,o),n=!0},p(e,n){e[0]?r?(r.p(e,n),1&n&&qe(r,1)):(r=P4(e),r.c(),qe(r,1),r.m(t.parentNode,t)):r&&(Fe(),Ve(r,1,1,(()=>{r=null})),He())},i(e){n||(qe(r),n=!0)},o(e){Ve(r),n=!1},d(e){r&&r.d(e),e&&R(t)}}}(e);return{c(){o&&o.c()},m(e,n){o&&o.m(e,n),t=!0},p(e,s){r?r.p&&(!t||512&s)&&v(r,n,e,e[9],t?y(n,e[9],s,null):b(e[9]),null):o&&o.p&&(!t||1&s)&&o.p(e,t?s:-1)},i(e){t||(qe(o,e),t=!0)},o(e){Ve(o,e),t=!1},d(e){o&&o.d(e)}}}function z4(e){let t,n,r,o;function s(t){e[8](t)}let i={tabs:e[2],tabStyle:"compact",fillContainerHeight:!0,fillTabWidth:!0,$$slots:{default:[R4]},$$scope:{ctx:e}};return void 0!==e[0]&&(i.activeTab=e[0]),n=new ud({props:i}),we.push((()=>nt(n,"activeTab",s))),{c(){t=F("div"),rt(n.$$.fragment),B(t,"class","table-inspector svelte-1y945nw")},m(e,r){P(e,t,r),ot(n,t,null),o=!0},p(e,[t]){const o={};513&t&&(o.$$scope={dirty:t,ctx:e}),!r&&1&t&&(r=!0,o.activeTab=e[0],Te((()=>r=!1))),n.$set(o)},i(e){o||(qe(n.$$.fragment,e),o=!0)},o(e){Ve(n.$$.fragment,e),o=!1},d(e){e&&R(t),st(n)}}}function F4(e,t,n){let r,o,i,a,l=s;e.$$.on_destroy.push((()=>l()));let{$$slots:c={},$$scope:u}=t;const d=[{label:"Table",component:N4,id:1},{label:"Column",component:JQ,id:2},{label:"Record",component:$1,id:3}];let p;const m=sB();return f(e,m,(e=>n(6,a=e))),e.$$set=e=>{"$$scope"in e&&n(9,u=e.$$scope)},e.$$.update=()=>{64&e.$$.dirty&&n(4,({selection:r}=a),r),16&e.$$.dirty&&(n(1,({selectedCells:o}=r),o),l(),l=$(o,(e=>n(5,i=e)))),48&e.$$.dirty&&(r.isAnyColumnCompletelySelected()&&n(0,[,p]=d,p),r.isAnyRowCompletelySelected()&&n(0,[,,p]=d,p))},[p,o,d,m,r,i,a,c,function(e){p=e,n(0,p),n(5,i),n(4,r),n(6,a)},u]}class H4 extends at{constructor(e){super(),it(this,e,F4,z4,p,{})}}function q4(e){let t,n,r;function o(t){e[4](t)}let s={showPanel:e[1],minSizePx:200,maxSizePx:600,$$slots:{panel:[W4],default:[j4]},$$scope:{ctx:e}};return void 0!==e[2]&&(s.sizePx=e[2]),t=new Ll({props:s}),we.push((()=>nt(t,"sizePx",o))),{c(){rt(t.$$.fragment)},m(e,n){ot(t,e,n),r=!0},p(e,r){const o={};2&r&&(o.showPanel=e[1]),32&r&&(o.$$scope={dirty:r,ctx:e}),!n&&4&r&&(n=!0,o.sizePx=e[2],Te((()=>n=!1))),t.$set(o)},i(e){r||(qe(t.$$.fragment,e),r=!0)},o(e){Ve(t.$$.fragment,e),r=!1},d(e){st(t,e)}}}function V4(e){let t;const n=e[3].default,r=g(n,e,e[5],null);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||32&o)&&v(r,n,e,e[5],t?y(n,e[5],o,null):b(e[5]),null)},i(e){t||(qe(r,e),t=!0)},o(e){Ve(r,e),t=!1},d(e){r&&r.d(e)}}}function j4(e){let t;const n=e[3].default,r=g(n,e,e[5],null);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||32&o)&&v(r,n,e,e[5],t?y(n,e[5],o,null):b(e[5]),null)},i(e){t||(qe(r,e),t=!0)},o(e){Ve(r,e),t=!1},d(e){r&&r.d(e)}}}function W4(e){let t,n;return t=new H4({props:{slot:"panel"}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p:s,i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function U4(e){let t,n,r,o;const s=[V4,q4],i=[];function a(e,t){return"widget"===e[0]?0:1}return t=a(e),n=i[t]=s[t](e),{c(){n.c(),r=j()},m(e,n){i[t].m(e,n),P(e,r,n),o=!0},p(e,[o]){let l=t;t=a(e),t===l?i[t].p(e,o):(Fe(),Ve(i[l],1,1,(()=>{i[l]=null})),He(),n=i[t],n?n.p(e,o):(n=i[t]=s[t](e),n.c()),qe(n,1),n.m(r.parentNode,r))},i(e){o||(qe(n),o=!0)},o(e){Ve(n),o=!1},d(e){i[t].d(e),e&&R(r)}}}function Y4(e,t,n){let r;f(e,Th,(e=>n(2,r=e)));let{$$slots:o={},$$scope:s}=t,{context:i}=t,{showTableInspector:a}=t;return e.$$set=e=>{"context"in e&&n(0,i=e.context),"showTableInspector"in e&&n(1,a=e.showTableInspector),"$$scope"in e&&n(5,s=e.$$scope)},[i,a,r,o,function(e){r=e,Th.set(r)},s]}class B4 extends at{constructor(e){super(),it(this,e,Y4,U4,p,{context:0,showTableInspector:1})}}function K4(e){let t,n,r,o;function s(t){e[37](t)}function i(t){e[38](t)}let a={columns:e[6],getColumnIdentifier:Z4,usesVirtualList:e[15],columnWidths:e[20],clipboardHandler:e[12],hasBorder:e[14],restrictWidthToRowWidth:!e[15],hasPaddingRight:!0,$$slots:{default:[G4]},$$scope:{ctx:e}};return void 0!==e[16]&&(a.horizontalScrollOffset=e[16]),void 0!==e[17]&&(a.scrollOffset=e[17]),t=new YL({props:a}),we.push((()=>nt(t,"horizontalScrollOffset",s))),we.push((()=>nt(t,"scrollOffset",i))),{c(){rt(t.$$.fragment)},m(e,n){ot(t,e,n),o=!0},p(e,o){const s={};64&o[0]&&(s.columns=e[6]),32768&o[0]&&(s.usesVirtualList=e[15]),4096&o[0]&&(s.clipboardHandler=e[12]),16384&o[0]&&(s.hasBorder=e[14]),32768&o[0]&&(s.restrictWidthToRowWidth=!e[15]),32902&o[0]|512&o[1]&&(s.$$scope={dirty:o,ctx:e}),!n&&65536&o[0]&&(n=!0,s.horizontalScrollOffset=e[16],Te((()=>n=!1))),!r&&131072&o[0]&&(r=!0,s.scrollOffset=e[17],Te((()=>r=!1))),t.$set(s)},i(e){o||(qe(t.$$.fragment,e),o=!0)},o(e){Ve(t.$$.fragment,e),o=!1},d(e){st(t,e)}}}function G4(e){let t,n,r,o;return t=new QG({props:{hasNewColumnButton:e[2],columnOrder:e[7],table:e[1]}}),r=new oG({props:{usesVirtualList:e[15]}}),{c(){rt(t.$$.fragment),n=V(),rt(r.$$.fragment)},m(e,s){ot(t,e,s),P(e,n,s),ot(r,e,s),o=!0},p(e,n){const o={};4&n[0]&&(o.hasNewColumnButton=e[2]),128&n[0]&&(o.columnOrder=e[7]),2&n[0]&&(o.table=e[1]),t.$set(o);const s={};32768&n[0]&&(s.usesVirtualList=e[15]),r.$set(s)},i(e){o||(qe(t.$$.fragment,e),qe(r.$$.fragment,e),o=!0)},o(e){Ve(t.$$.fragment,e),Ve(r.$$.fragment,e),o=!1},d(e){st(t,e),e&&R(n),st(r,e)}}}function X4(e){let t,n,r,o,s=e[4].size&&K4(e);return{c(){t=F("div"),s&&s.c(),B(t,"class","sheet-area svelte-mf6b3s")},m(i,a){P(i,t,a),s&&s.m(t,null),n=!0,r||(o=W(t,"click",e[21]),r=!0)},p(e,n){e[4].size?s?(s.p(e,n),16&n[0]&&qe(s,1)):(s=K4(e),s.c(),qe(s,1),s.m(t,null)):s&&(Fe(),Ve(s,1,1,(()=>{s=null})),He())},i(e){n||(qe(s),n=!0)},o(e){Ve(s),n=!1},d(e){e&&R(t),s&&s.d(),r=!1,o()}}}function J4(e){let t,n,r,o,s;return n=new B4({props:{context:e[0],showTableInspector:e[5],$$slots:{default:[X4]},$$scope:{ctx:e}}}),o=new aX({props:{context:e[0]}}),{c(){t=F("div"),rt(n.$$.fragment),r=V(),rt(o.$$.fragment),B(t,"class","table-view svelte-mf6b3s")},m(e,i){P(e,t,i),ot(n,t,null),A(t,r),ot(o,t,null),s=!0},p(e,t){const r={};1&t[0]&&(r.context=e[0]),32&t[0]&&(r.showTableInspector=e[5]),250070&t[0]|512&t[1]&&(r.$$scope={dirty:t,ctx:e}),n.$set(r);const s={};1&t[0]&&(s.context=e[0]),o.$set(s)},i(e){s||(qe(n.$$.fragment,e),qe(o.$$.fragment,e),s=!0)},o(e){Ve(n.$$.fragment,e),Ve(o.$$.fragment,e),s=!1},d(e){e&&R(t),st(n),st(o)}}}const Z4=e=>e.column.id;function Q4(e,t,n){let r,o,i,a,l,c,u,d,p,g,h,y,v,b,w,x,S,C,k,D,I,_,T,M,E,O,A,L,N,P,R,z,F=s,H=s,q=s,V=s,j=s,W=s;f(e,Xh,(e=>n(35,N=e))),f(e,vh,(e=>n(36,P=e))),e.$$.on_destroy.push((()=>F())),e.$$.on_destroy.push((()=>H())),e.$$.on_destroy.push((()=>q())),e.$$.on_destroy.push((()=>V())),e.$$.on_destroy.push((()=>j())),e.$$.on_destroy.push((()=>W()));const U=sB();f(e,U,(e=>n(33,A=e)));const Y=Uv();f(e,Y,(e=>n(34,L=e)));let{context:B="page"}=t,{table:K}=t;const G=new dt([[-1,50],[-2,32]]);return e.$$set=e=>{"context"in e&&n(0,B=e.context),"table"in e&&n(1,K=e.table)},e.$$.update=()=>{var t,s;32&e.$$.dirty[1]&&n(30,r=P),16&e.$$.dirty[1]&&n(29,o=N),1610612736&e.$$.dirty[0]|8&e.$$.dirty[1]&&n(28,i=!!L?.hasPermission({database:r,schema:o},"canExecuteDDL")),1&e.$$.dirty[0]&&n(15,a="widget"!==B),268435457&e.$$.dirty[0]&&n(24,l="widget"!==B&&i),1&e.$$.dirty[0]&&n(14,c="widget"===B),4&e.$$.dirty[1]&&(n(3,({processedColumns:u,display:d,isLoading:p,selection:g,recordsData:h}=A),u,(n(26,d),n(33,A)),(n(13,p),F(),F=$(p,(e=>n(31,T=e))),p),(n(22,g),n(33,A)),(n(27,h),n(33,A))),V(),V=$(u,(e=>n(4,O=e)))),138412040&e.$$.dirty[0]&&n(12,y=new $H({selection:g,toast:Uf,getRows:()=>[...m(h.savedRecords),...m(h.newRecords)],getColumnsMap:()=>m(u),getRecordSummaries:()=>m(h.recordSummaries)})),4194304&e.$$.dirty[0]&&(n(11,({activeCell:v}=g),v),H(),H=$(v,(e=>n(39,M=e)))),67108864&e.$$.dirty[0]&&(n(10,({horizontalScrollOffset:b,scrollOffset:w,isTableInspectorVisible:x}=d),b,(n(9,w),W(),W=$(w,(e=>n(17,z=e))),w),(n(8,x),q(),q=$(x,(e=>n(32,E=e))),x)),j(),j=$(b,(e=>n(16,R=e)))),2&e.$$.dirty[0]&&n(25,({settings:S}=K),S),33554432&e.$$.dirty[0]&&n(7,({column_order:C}=S),C),16777216&e.$$.dirty[0]&&n(2,k=l),1&e.$$.dirty[0]&&n(23,D="page"===B),22&e.$$.dirty[0]&&n(6,I=(()=>{const e=function(e,t){const n=[...e.values()],r=new Map;return av(n,t).forEach((e=>{const t=n.map((e=>e.id)).indexOf(e);if(-1!==t){const e=n.splice(t,1)[0];r.set(e.id,e)}})),r}(O,K),t=[{column:{id:-1,name:"ROW_CONTROL"}},...e.values()];return k&&t.push({column:{id:-2,name:"ADD_NEW"}}),t})()),8388608&e.$$.dirty[0]|2&e.$$.dirty[1]&&n(5,_=E&&D),4194305&e.$$.dirty[0]|1&e.$$.dirty[1]&&(t=T,s=g,"widget"===B||t||s.selectAndActivateFirstCellIfExists())},[B,K,k,u,O,_,I,C,x,w,b,v,y,p,c,a,R,z,U,Y,G,function(e){e.target.closest('[data-sheet-element="cell"')||M&&g.focusCell({rowIndex:M.rowIndex},{id:Number(M.columnId)})},g,D,l,S,d,h,i,o,r,T,E,A,L,N,P,function(e){R=e,b.set(R)},function(e){z=e,w.set(z)}]}class e6 extends at{constructor(e){super(),it(this,e,Q4,J4,p,{context:0,table:1},null,[-1,-1])}}function t6(e){return new HY({combination:e.combination,entries:JSON.parse(JSON.stringify(e.entries))})}function n6(e,t,n){const r=e.slice();return r[14]=t[n],r[15]=t,r[16]=n,r}function r6(e){let t,n;return t=new li({props:{$$slots:{default:[i6]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};131074&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function o6(e){let t,n,r;function o(t){e[5](t)}let s={options:zY};return void 0!==e[1]&&(s.value=e[1]),t=new Hc({props:s}),we.push((()=>nt(t,"value",o))),t.$on("change",e[6]),{c(){rt(t.$$.fragment)},m(e,n){ot(t,e,n),r=!0},p(e,r){const o={};!n&&2&r&&(n=!0,o.value=e[1],Te((()=>n=!1))),t.$set(o)},i(e){r||(qe(t.$$.fragment,e),r=!0)},o(e){Ve(t.$$.fragment,e),r=!1},d(e){st(t,e)}}}function s6(e){let t,n;return t=new li({props:{$$slots:{default:[a6]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};131072&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function i6(e){let t;return{c(){t=q(e[1])},m(e,n){P(e,t,n)},p(e,n){2&n&&X(t,e[1])},d(e){e&&R(t)}}}function a6(e){let t;return{c(){t=q("where")},m(e,n){P(e,t,n)},d(e){e&&R(t)}}}function l6(e){let t,n,r,o;const s=[s6,o6,r6],i=[];function a(e,t){return 0===e[16]?0:1===e[16]?1:2}return t=a(e),n=i[t]=s[t](e),{c(){n.c(),r=V()},m(e,n){i[t].m(e,n),P(e,r,n),o=!0},p(e,o){let l=t;t=a(e),t===l?i[t].p(e,o):(Fe(),Ve(i[l],1,1,(()=>{i[l]=null})),He(),n=i[t],n?n.p(e,o):(n=i[t]=s[t](e),n.c()),qe(n,1),n.m(r.parentNode,r))},i(e){o||(qe(n),o=!0)},o(e){Ve(n),o=!1},d(e){i[t].d(e),e&&R(r)}}}function c6(e,t){let n,r,o,s,i,a;function l(e){t[9](e,t[14])}function c(e){t[10](e,t[14])}function u(e){t[11](e,t[14])}let d={columns:t[2],getColumnLabel:t[7],getColumnConstraintType:t[8],numberOfFilters:t[0].length,recordSummaryStore:t[3],$$slots:{default:[l6]},$$scope:{ctx:t}};return void 0!==t[14].columnId&&(d.columnIdentifier=t[14].columnId),void 0!==t[14].conditionId&&(d.conditionIdentifier=t[14].conditionId),void 0!==t[14].value&&(d.value=t[14].value),r=new DL({props:d}),we.push((()=>nt(r,"columnIdentifier",l))),we.push((()=>nt(r,"conditionIdentifier",c))),we.push((()=>nt(r,"value",u))),r.$on("removeFilter",(function(){return t[12](t[16])})),r.$on("update",t[13]),{key:e,first:null,c(){n=j(),rt(r.$$.fragment),this.first=n},m(e,t){P(e,n,t),ot(r,e,t),a=!0},p(e,n){t=e;const a={};4&n&&(a.columns=t[2]),4&n&&(a.getColumnLabel=t[7]),4&n&&(a.getColumnConstraintType=t[8]),1&n&&(a.numberOfFilters=t[0].length),8&n&&(a.recordSummaryStore=t[3]),131075&n&&(a.$$scope={dirty:n,ctx:t}),!o&&1&n&&(o=!0,a.columnIdentifier=t[14].columnId,Te((()=>o=!1))),!s&&1&n&&(s=!0,a.conditionIdentifier=t[14].conditionId,Te((()=>s=!1))),!i&&1&n&&(i=!0,a.value=t[14].value,Te((()=>i=!1))),r.$set(a)},i(e){a||(qe(r.$$.fragment,e),a=!0)},o(e){Ve(r.$$.fragment,e),a=!1},d(e){e&&R(n),st(r,e)}}}function u6(e){let t,n,r=[],o=new Map,s=e[0];const i=e=>e[14];for(let a=0;a<s.length;a+=1){let t=n6(e,s,a),n=i(t);o.set(n,r[a]=c6(n,t))}return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=j()},m(e,o){for(let t=0;t<r.length;t+=1)r[t].m(e,o);P(e,t,o),n=!0},p(e,[n]){31&n&&(s=e[0],Fe(),r=Qe(r,n,i,1,e,s,o,t.parentNode,Je,c6,t,n6),He())},i(e){if(!n){for(let e=0;e<s.length;e+=1)qe(r[e]);n=!0}},o(e){for(let t=0;t<r.length;t+=1)Ve(r[t]);n=!1},d(e){for(let t=0;t<r.length;t+=1)r[t].d(e);e&&R(t)}}}function d6(e,t,n){const r=fe();let{processedColumns:o}=t,{recordSummaries:s}=t,{entries:i}=t,{filterCombination:a=FY}=t;return e.$$set=e=>{"processedColumns"in e&&n(2,o=e.processedColumns),"recordSummaries"in e&&n(3,s=e.recordSummaries),"entries"in e&&n(0,i=e.entries),"filterCombination"in e&&n(1,a=e.filterCombination)},[i,a,o,s,r,function(e){a=e,n(1,a)},()=>r("updateCombination",a),e=>o.get(e.id)?.column.name??"",e=>aL(e.id,o),function(t,r){e.$$.not_equal(r.columnId,t)&&(r.columnId=t,n(0,i))},function(t,r){e.$$.not_equal(r.conditionId,t)&&(r.conditionId=t,n(0,i))},function(t,r){e.$$.not_equal(r.value,t)&&(r.value=t,n(0,i))},e=>r("remove",e),function(t){ve.call(this,e,t)}]}class p6 extends at{constructor(e){super(),it(this,e,d6,u6,p,{processedColumns:2,recordSummaries:3,entries:0,filterCombination:1})}}function $6(e){let t;return{c(){t=F("span"),t.textContent="No filters have been added",B(t,"class","muted svelte-1honasg")},m(e,n){P(e,t,n)},p:s,i:s,o:s,d(e){e&&R(t)}}}function m6(e){let t,n,r,o;function s(t){e[12](t)}function i(t){e[13](t)}let a={processedColumns:e[1],recordSummaries:e[2]};return void 0!==e[3].entries&&(a.entries=e[3].entries),void 0!==e[3].combination&&(a.filterCombination=e[3].combination),t=new p6({props:a}),we.push((()=>nt(t,"entries",s))),we.push((()=>nt(t,"filterCombination",i))),t.$on("remove",e[14]),t.$on("update",e[10]),t.$on("updateCombination",e[15]),{c(){rt(t.$$.fragment)},m(e,n){ot(t,e,n),o=!0},p(e,o){const s={};2&o&&(s.processedColumns=e[1]),4&o&&(s.recordSummaries=e[2]),!n&&8&o&&(n=!0,s.entries=e[3].entries,Te((()=>n=!1))),!r&&8&o&&(r=!0,s.filterCombination=e[3].combination,Te((()=>r=!1))),t.$set(s)},i(e){o||(qe(t.$$.fragment,e),o=!0)},o(e){Ve(t.$$.fragment,e),o=!1},d(e){st(t,e)}}}function f6(e){let t,n,r;return n=new Ln({props:{appearance:"secondary",$$slots:{default:[g6]},$$scope:{ctx:e}}}),n.$on("click",e[16]),{c(){t=F("div"),rt(n.$$.fragment),B(t,"class","footer")},m(e,o){P(e,t,o),ot(n,t,null),r=!0},p(e,t){const r={};2097152&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(qe(n.$$.fragment,e),r=!0)},o(e){Ve(n.$$.fragment,e),r=!1},d(e){e&&R(t),st(n)}}}function g6(e){let t,n,r,o;const s=[xm];let i={};for(let l=0;l<s.length;l+=1)i=a(i,s[l]);return t=new Wr({props:i}),{c(){rt(t.$$.fragment),n=V(),r=F("span"),r.textContent="Add New Filter"},m(e,s){ot(t,e,s),P(e,n,s),P(e,r,s),o=!0},p(e,n){const r=0&n?et(s,[tt(xm)]):{};t.$set(r)},i(e){o||(qe(t.$$.fragment,e),o=!0)},o(e){Ve(t.$$.fragment,e),o=!1},d(e){st(t,e),e&&R(n),e&&R(r)}}}function h6(e){let t,n,r,o,s,i,a,l;const c=[m6,$6],u=[];function d(e,t){return e[5]?0:1}s=d(e),i=u[s]=c[s](e);let p=e[1].size&&f6(e);return{c(){t=F("div"),n=F("div"),n.textContent="Filter records",r=V(),o=F("div"),i.c(),a=V(),p&&p.c(),B(n,"class","header svelte-1honasg"),B(o,"class","content"),B(t,"class","filters svelte-1honasg"),te(t,"filtered",e[5])},m(i,c){P(i,t,c),A(t,n),A(t,r),A(t,o),u[s].m(o,null),A(t,a),p&&p.m(t,null),e[17](t),l=!0},p(e,[n]){let r=s;s=d(e),s===r?u[s].p(e,n):(Fe(),Ve(u[r],1,1,(()=>{u[r]=null})),He(),i=u[s],i?i.p(e,n):(i=u[s]=c[s](e),i.c()),qe(i,1),i.m(o,null)),e[1].size?p?(p.p(e,n),2&n&&qe(p,1)):(p=f6(e),p.c(),qe(p,1),p.m(t,null)):p&&(Fe(),Ve(p,1,1,(()=>{p=null})),He()),(!l||32&n)&&te(t,"filtered",e[5])},i(e){l||(qe(i),qe(p),l=!0)},o(e){Ve(i),Ve(p),l=!1},d(n){n&&R(t),u[s].d(),p&&p.d(),e[17](null)}}}function y6(e,t,n){let r,o,i,a=s,l=()=>(a(),a=$(u,(e=>n(18,o=e))),u);e.$$.on_destroy.push((()=>a()));const c=NB();let{filtering:u}=t;l();let{processedColumns:d}=t,{recordSummaries:p}=t;const m=mt(t6(o));let g;function h(){const e=i.entries.filter((e=>{const t=d.get(e.columnId)?.allowedFiltersMap.get(e.conditionId);return!!t&&$L(t,e.value)})),t=t6({...i,entries:e});o.equals(t)||u.set(t)}function y(e){const t=void 0===e?[...d.values()][0]:d.get(e);if(!t)return;const n=[...t.allowedFiltersMap.values()][0];if(!n)return;const r={columnId:t.id,conditionId:n.id,value:void 0,isValid:$L(n,void 0)};m.update((e=>e.withEntry(r))),h()}function v(e){m.update((t=>t.withoutEntry(e))),h()}function b(e){m.update((t=>t.withCombination(e))),h()}function w(){const e=gY(g.querySelectorAll(".filter-input"));e&&("launchRecordSelector"in e?e.launchRecordSelector():e.focus())}f(e,m,(e=>n(3,i=e))),pe((()=>c?.onAddFilter(y))),pe((()=>c?.onActivateLastFilterInput(w)));return e.$$set=e=>{"filtering"in e&&l(n(0,u=e.filtering)),"processedColumns"in e&&n(1,d=e.processedColumns),"recordSummaries"in e&&n(2,p=e.recordSummaries)},e.$$.update=()=>{8&e.$$.dirty&&n(5,r=i.entries.length)},[u,d,p,i,g,r,m,y,v,b,function(){h()},w,function(t){e.$$.not_equal(i.entries,t)&&(i.entries=t,m.set(i))},function(t){e.$$.not_equal(i.combination,t)&&(i.combination=t,m.set(i))},e=>v(e.detail),e=>b(e.detail),async()=>{y(),await Ie(),w()},function(e){we[e?"unshift":"push"]((()=>{g=e,n(4,g)}))}]}class v6 extends at{constructor(e){super(),it(this,e,y6,h6,p,{filtering:0,processedColumns:1,recordSummaries:2})}}function b6(e){let t,n,r,o,s,i;const l=[lf,{size:"0.8em"}];let c={};for(let u=0;u<l.length;u+=1)c=a(c,l[u]);return t=new Wr({props:c}),s=new bn({props:{value:e[5].entries.length}}),{c(){rt(t.$$.fragment),n=V(),r=F("span"),o=q("Filter "),rt(s.$$.fragment),B(r,"class","responsive-button-label")},m(e,a){ot(t,e,a),P(e,n,a),P(e,r,a),A(r,o),ot(s,r,null),i=!0},p(e,n){const r=0&n?et(l,[tt(lf),l[1]]):{};t.$set(r);const o={};32&n&&(o.value=e[5].entries.length),s.$set(o)},i(e){i||(qe(t.$$.fragment,e),qe(s.$$.fragment,e),i=!0)},o(e){Ve(t.$$.fragment,e),Ve(s.$$.fragment,e),i=!1},d(e){st(t,e),e&&R(n),e&&R(r),st(s)}}}function w6(e){let t,n;return t=new v6({props:{slot:"content",filtering:e[0],processedColumns:e[2],recordSummaries:e[3].recordSummaries}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.filtering=e[0]),4&n&&(r.processedColumns=e[2]),8&n&&(r.recordSummaries=e[3].recordSummaries),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function x6(e){let t,n,r;const o=[{showArrow:!1},{triggerAppearance:"secondary"},e[7],{ariaLabel:"Filter"}];function s(t){e[11](t)}let i={$$slots:{content:[w6],trigger:[b6]},$$scope:{ctx:e}};for(let l=0;l<o.length;l+=1)i=a(i,o[l]);return void 0!==e[1]&&(i.isOpen=e[1]),t=new ma({props:i}),we.push((()=>nt(t,"isOpen",s))),{c(){rt(t.$$.fragment)},m(e,n){ot(t,e,n),r=!0},p(e,[r]){const s=128&r?et(o,[o[0],o[1],tt(e[7]),o[3]]):{};16429&r&&(s.$$scope={dirty:r,ctx:e}),!n&&2&r&&(n=!0,s.isOpen=e[1],Te((()=>n=!1))),t.$set(s)},i(e){r||(qe(t.$$.fragment,e),r=!0)},o(e){Ve(t.$$.fragment,e),r=!1},d(e){st(t,e)}}}function S6(e,t,n){let r,o,i;const l=["filtering","canViewLinkedEntities"];let c,u,d,p=x(t,l),m=s,g=s,h=()=>(g(),g=$(b,(e=>n(5,d=e))),b);e.$$.on_destroy.push((()=>m())),e.$$.on_destroy.push((()=>g()));const y=NB(),v=sB();f(e,v,(e=>n(10,u=e)));let{filtering:b}=t;h();let{canViewLinkedEntities:S=!0}=t,C=!1;function k(){n(1,C=!0)}return pe((()=>y?.onOpenDropdown(k))),e.$$set=e=>{t=a(a({},t),w(e)),n(7,p=x(t,l)),"filtering"in e&&h(n(0,b=e.filtering)),"canViewLinkedEntities"in e&&n(8,S=e.canViewLinkedEntities)},e.$$.update=()=>{1024&e.$$.dirty&&(n(4,({processedColumns:r,recordsData:o}=u),r,(n(3,o),n(10,u))),m(),m=$(r,(e=>n(9,c=e)))),768&e.$$.dirty&&n(2,i=S?c:new Map([...c].filter((([,e])=>!e.linkFk))))},[b,C,i,o,r,d,v,p,S,c,u,function(e){C=e,n(1,C)}]}class C6 extends at{constructor(e){super(),it(this,e,S6,x6,p,{filtering:0,canViewLinkedEntities:8})}}function k6(e,t,n){const r=e.slice();return r[13]=t[n],r}function D6(e,t,n){const r=e.slice();return r[16]=t[n],r[18]=n,r}function I6(e){let t;return{c(){t=F("span"),t.textContent="No grouping condition has been added",B(t,"class","muted svelte-rsw3wh")},m(e,n){P(e,t,n)},p:s,d(e){e&&R(t)}}}function _6(e,t){let n,r,o;return r=new zz({props:{columns:t[2],columnsAllowedForSelection:t[3].map(A6),getColumnLabel:L6,getColumnConstraintType:t[9],columnIdentifier:t[16].columnId,preprocFunctionIdentifier:t[16].preprocFnId,disableColumnChange:t[1].entries.length>1&&t[18]<t[1].entries.length-1}}),r.$on("update",(function(...e){return t[10](t[18],...e)})),r.$on("removeGroup",(function(){return t[11](t[18])})),{key:e,first:null,c(){n=j(),rt(r.$$.fragment),this.first=n},m(e,t){P(e,n,t),ot(r,e,t),o=!0},p(e,n){t=e;const o={};4&n&&(o.columns=t[2]),8&n&&(o.columnsAllowedForSelection=t[3].map(A6)),4&n&&(o.getColumnConstraintType=t[9]),2&n&&(o.columnIdentifier=t[16].columnId),2&n&&(o.preprocFunctionIdentifier=t[16].preprocFnId),2&n&&(o.disableColumnChange=t[1].entries.length>1&&t[18]<t[1].entries.length-1),r.$set(o)},i(e){o||(qe(r.$$.fragment,e),o=!0)},o(e){Ve(r.$$.fragment,e),o=!1},d(e){e&&R(n),st(r,e)}}}function T6(e){let t,n,r;return t=new dL({props:{column:{name:e[2].get(e[13].id)?.column.name??"",type:e[2].get(e[13].id)?.column.type??"",type_options:e[2].get(e[13].id)?.column.type_options??null,display_options:e[2].get(e[13].id)?.column.display_options??null,constraintsType:aL(e[13].id,e[2])}}}),{c(){rt(t.$$.fragment),n=V()},m(e,o){ot(t,e,o),P(e,n,o),r=!0},p(e,n){const r={};12&n&&(r.column={name:e[2].get(e[13].id)?.column.name??"",type:e[2].get(e[13].id)?.column.type??"",type_options:e[2].get(e[13].id)?.column.type_options??null,display_options:e[2].get(e[13].id)?.column.display_options??null,constraintsType:aL(e[13].id,e[2])}),t.$set(r)},i(e){r||(qe(t.$$.fragment,e),r=!0)},o(e){Ve(t.$$.fragment,e),r=!1},d(e){st(t,e),e&&R(n)}}}function M6(e,t){let n,r,o;return r=new qp({props:{$$slots:{default:[T6]},$$scope:{ctx:t}}}),r.$on("click",(function(){return t[12](t[13])})),{key:e,first:null,c(){n=j(),rt(r.$$.fragment),this.first=n},m(e,t){P(e,n,t),ot(r,e,t),o=!0},p(e,n){t=e;const o={};524300&n&&(o.$$scope={dirty:n,ctx:t}),r.$set(o)},i(e){o||(qe(r.$$.fragment,e),o=!0)},o(e){Ve(r.$$.fragment,e),o=!1},d(e){e&&R(n),st(r,e)}}}function E6(e){let t,n,r=[],o=new Map,s=e[3];const i=e=>e[13].id;for(let a=0;a<s.length;a+=1){let t=k6(e,s,a),n=i(t);o.set(n,r[a]=M6(n,t))}return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=j()},m(e,o){for(let t=0;t<r.length;t+=1)r[t].m(e,o);P(e,t,o),n=!0},p(e,n){76&n&&(s=e[3],Fe(),r=Qe(r,n,i,1,e,s,o,t.parentNode,Je,M6,t,k6),He())},i(e){if(!n){for(let e=0;e<s.length;e+=1)qe(r[e]);n=!0}},o(e){for(let t=0;t<r.length;t+=1)Ve(r[t]);n=!1},d(e){for(let t=0;t<r.length;t+=1)r[t].d(e);e&&R(t)}}}function O6(e){let t,n,r,o,s,i,a,l,c=[],u=new Map,d=e[1].entries;const p=e=>e[18];for(let m=0;m<d.length;m+=1){let t=D6(e,d,m),n=p(t);u.set(n,c[m]=_6(n,t))}let $=null;return d.length||($=I6()),a=new xc({props:{label:"Add New Grouping",disabled:0===e[3].length,triggerAppearance:"secondary",$$slots:{default:[E6]},$$scope:{ctx:e}}}),{c(){t=F("div"),n=F("header"),n.textContent="Group records by",r=V(),o=F("div");for(let e=0;e<c.length;e+=1)c[e].c();$&&$.c(),s=V(),i=F("footer"),rt(a.$$.fragment),B(n,"class","svelte-rsw3wh"),B(o,"class","content svelte-rsw3wh"),B(i,"class","svelte-rsw3wh"),B(t,"class","groups svelte-rsw3wh"),te(t,"grouped",e[1].entries.length>0)},m(e,u){P(e,t,u),A(t,n),A(t,r),A(t,o);for(let t=0;t<c.length;t+=1)c[t].m(o,null);$&&$.m(o,null),A(t,s),A(t,i),ot(a,i,null),l=!0},p(e,[n]){143&n&&(d=e[1].entries,Fe(),c=Qe(c,n,p,1,e,d,u,o,Je,_6,null,D6),He(),!d.length&&$?$.p(e,n):d.length?$&&($.d(1),$=null):($=I6(),$.c(),$.m(o,null)));const r={};8&n&&(r.disabled=0===e[3].length),524300&n&&(r.$$scope={dirty:n,ctx:e}),a.$set(r),(!l||2&n)&&te(t,"grouped",e[1].entries.length>0)},i(e){if(!l){for(let e=0;e<d.length;e+=1)qe(c[e]);qe(a.$$.fragment,e),l=!0}},o(e){for(let t=0;t<c.length;t+=1)Ve(c[t]);Ve(a.$$.fragment,e),l=!1},d(e){e&&R(t);for(let t=0;t<c.length;t+=1)c[t].d();$&&$.d(),st(a)}}}const A6=e=>e.id,L6=e=>e?.column.name??"";function N6(e,t,n){let r,o,i,a,l,c=s,u=()=>(c(),c=$(m,(e=>n(1,i=e))),m),d=s;e.$$.on_destroy.push((()=>c())),e.$$.on_destroy.push((()=>d()));const p=sB();f(e,p,(e=>n(8,l=e)));let{grouping:m}=t;function g(e){m.update((t=>t.withEntry({columnId:e.id,preprocFnId:void 0})))}function h(e,t){m.update((n=>n.withReplacedEntry(e,{columnId:t.columnIdentifier,preprocFnId:t.preprocFunctionIdentifier})))}u();return e.$$set=e=>{"grouping"in e&&u(n(0,m=e.grouping))},e.$$.update=()=>{256&e.$$.dirty&&(n(4,({processedColumns:r}=l),r),d(),d=$(r,(e=>n(2,a=e)))),6&e.$$.dirty&&n(3,o=[...a.values()].filter((e=>!i.hasColumn(e.id))))},[m,i,a,o,r,p,g,h,l,e=>aL(e.id,a),(e,t)=>h(e,t.detail),e=>m.update((t=>t.withoutEntry(e))),e=>g(e)]}class P6 extends at{constructor(e){super(),it(this,e,N6,O6,p,{grouping:0})}}function R6(e){let t,n,r,o,s,i;const l=[cf];let c={};for(let u=0;u<l.length;u+=1)c=a(c,l[u]);return t=new Wr({props:c}),s=new bn({props:{value:e[1].entries.length}}),{c(){rt(t.$$.fragment),n=V(),r=F("span"),o=q("Group "),rt(s.$$.fragment),B(r,"class","responsive-button-label")},m(e,a){ot(t,e,a),P(e,n,a),P(e,r,a),A(r,o),ot(s,r,null),i=!0},p(e,n){const r=0&n?et(l,[tt(cf)]):{};t.$set(r);const o={};2&n&&(o.value=e[1].entries.length),s.$set(o)},i(e){i||(qe(t.$$.fragment,e),qe(s.$$.fragment,e),i=!0)},o(e){Ve(t.$$.fragment,e),Ve(s.$$.fragment,e),i=!1},d(e){st(t,e),e&&R(n),e&&R(r),st(s)}}}function z6(e){let t,n;return t=new P6({props:{slot:"content",grouping:e[0]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.grouping=e[0]),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function F6(e){let t,n;const r=[{showArrow:!1},{triggerAppearance:"secondary"},e[2],{ariaLabel:"Group"}];let o={$$slots:{content:[z6],trigger:[R6]},$$scope:{ctx:e}};for(let s=0;s<r.length;s+=1)o=a(o,r[s]);return t=new ma({props:o}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const o=4&n?et(r,[r[0],r[1],tt(e[2]),r[3]]):{};11&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function H6(e,t,n){const r=["grouping"];let o,i=x(t,r),l=s,c=()=>(l(),l=$(u,(e=>n(1,o=e))),u);e.$$.on_destroy.push((()=>l()));let{grouping:u}=t;return c(),e.$$set=e=>{t=a(a({},t),w(e)),n(2,i=x(t,r)),"grouping"in e&&c(n(0,u=e.grouping))},[u,o,i]}class q6 extends at{constructor(e){super(),it(this,e,H6,F6,p,{grouping:0})}}function V6(e,t,n){const r=e.slice();return r[13]=t[n][0],r[14]=t[n][1],r[16]=n,r}function j6(e){let t;return{c(){t=F("span"),t.textContent="No sorting condition has been added"},m(e,n){P(e,t,n)},p:s,d(e){e&&R(t)}}}function W6(e,t){let n,r,o;return r=new vF({props:{columns:t[2],columnsAllowedForSelection:t[3],getColumnLabel:K6,getColumnConstraintType:t[10],columnIdentifier:t[13],sortDirection:t[14],disableColumnChange:t[16]<t[1].size-1}}),r.$on("remove",(function(){return t[11](t[13])})),r.$on("update",(function(...e){return t[12](t[13],...e)})),{key:e,first:null,c(){n=j(),rt(r.$$.fragment),this.first=n},m(e,t){P(e,n,t),ot(r,e,t),o=!0},p(e,n){t=e;const o={};4&n&&(o.columns=t[2]),8&n&&(o.columnsAllowedForSelection=t[3]),4&n&&(o.getColumnConstraintType=t[10]),2&n&&(o.columnIdentifier=t[13]),2&n&&(o.sortDirection=t[14]),2&n&&(o.disableColumnChange=t[16]<t[1].size-1),r.$set(o)},i(e){o||(qe(r.$$.fragment,e),o=!0)},o(e){Ve(r.$$.fragment,e),o=!1},d(e){e&&R(n),st(r,e)}}}function U6(e){let t,n,r;return n=new Ln({props:{appearance:"secondary",$$slots:{default:[Y6]},$$scope:{ctx:e}}}),n.$on("click",e[6]),{c(){t=F("div"),rt(n.$$.fragment),B(t,"class","footer")},m(e,o){P(e,t,o),ot(n,t,null),r=!0},p(e,t){const r={};131072&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(qe(n.$$.fragment,e),r=!0)},o(e){Ve(n.$$.fragment,e),r=!1},d(e){e&&R(t),st(n)}}}function Y6(e){let t,n,r,o;const s=[xm];let i={};for(let l=0;l<s.length;l+=1)i=a(i,s[l]);return t=new Wr({props:i}),{c(){rt(t.$$.fragment),n=V(),r=F("span"),r.textContent="Add new sort condition"},m(e,s){ot(t,e,s),P(e,n,s),P(e,r,s),o=!0},p(e,n){const r=0&n?et(s,[tt(xm)]):{};t.$set(r)},i(e){o||(qe(t.$$.fragment,e),o=!0)},o(e){Ve(t.$$.fragment,e),o=!1},d(e){st(t,e),e&&R(n),e&&R(r)}}}function B6(e){let t,n,r,o,s,i,a=[],l=new Map,c=[...e[1]];const u=e=>e[13];for(let $=0;$<c.length;$+=1){let t=V6(e,c,$),n=u(t);l.set(n,a[$]=W6(n,t))}let d=null;c.length||(d=j6());let p=e[3].length>0&&U6(e);return{c(){t=F("div"),n=F("div"),n.textContent="Sort",r=V(),o=F("div");for(let e=0;e<a.length;e+=1)a[e].c();d&&d.c(),s=V(),p&&p.c(),B(n,"class","header svelte-1g3cl41"),B(o,"class","content svelte-1g3cl41"),B(t,"class","sorters svelte-1g3cl41")},m(e,l){P(e,t,l),A(t,n),A(t,r),A(t,o);for(let t=0;t<a.length;t+=1)a[t].m(o,null);d&&d.m(o,null),A(t,s),p&&p.m(t,null),i=!0},p(e,[n]){398&n&&(c=[...e[1]],Fe(),a=Qe(a,n,u,1,e,c,l,o,Je,W6,null,V6),He(),!c.length&&d?d.p(e,n):c.length?d&&(d.d(1),d=null):(d=j6(),d.c(),d.m(o,null))),e[3].length>0?p?(p.p(e,n),8&n&&qe(p,1)):(p=U6(e),p.c(),qe(p,1),p.m(t,null)):p&&(Fe(),Ve(p,1,1,(()=>{p=null})),He())},i(e){if(!i){for(let e=0;e<c.length;e+=1)qe(a[e]);qe(p),i=!0}},o(e){for(let t=0;t<a.length;t+=1)Ve(a[t]);Ve(p),i=!1},d(e){e&&R(t);for(let t=0;t<a.length;t+=1)a[t].d();d&&d.d(),p&&p.d()}}}const K6=e=>e?.column.name??"";function G6(e,t,n){let r,o,i,a,l,c=s,u=()=>(c(),c=$(m,(e=>n(1,i=e))),m),d=s;e.$$.on_destroy.push((()=>c())),e.$$.on_destroy.push((()=>d()));const p=sB();f(e,p,(e=>n(9,l=e)));let{sorting:m}=t;function g(e){m.update((t=>t.without(e)))}function h(e,t,n){m.update((r=>{let o=r;return e!==t&&(o=o.without(e)),o.with(t,n)}))}u();return e.$$set=e=>{"sorting"in e&&u(n(0,m=e.sorting))},e.$$.update=()=>{512&e.$$.dirty&&(n(4,({processedColumns:r}=l),r),d(),d=$(r,(e=>n(2,a=e)))),6&e.$$.dirty&&n(3,o=[...a.values()].filter((e=>!i.has(e.id))).map((e=>e.id)))},[m,i,a,o,r,p,function(){const[e]=o;m.update((t=>t.with(e,"ASCENDING")))},g,h,l,e=>aL(e.id,a),e=>g(e),(e,t)=>h(e,t.detail.columnIdentifier,t.detail.sortDirection)]}class X6 extends at{constructor(e){super(),it(this,e,G6,B6,p,{sorting:0})}}function J6(e){let t,n,r,o,s,i;const l=[gf];let c={};for(let u=0;u<l.length;u+=1)c=a(c,l[u]);return t=new Wr({props:c}),s=new bn({props:{value:e[1].size}}),{c(){rt(t.$$.fragment),n=V(),r=F("span"),o=q("Sort "),rt(s.$$.fragment),B(r,"class","responsive-button-label")},m(e,a){ot(t,e,a),P(e,n,a),P(e,r,a),A(r,o),ot(s,r,null),i=!0},p(e,n){const r=0&n?et(l,[tt(gf)]):{};t.$set(r);const o={};2&n&&(o.value=e[1].size),s.$set(o)},i(e){i||(qe(t.$$.fragment,e),qe(s.$$.fragment,e),i=!0)},o(e){Ve(t.$$.fragment,e),Ve(s.$$.fragment,e),i=!1},d(e){st(t,e),e&&R(n),e&&R(r),st(s)}}}function Z6(e){let t,n;return t=new X6({props:{slot:"content",sorting:e[0]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.sorting=e[0]),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Q6(e){let t,n;const r=[{showArrow:!1},{triggerAppearance:"secondary"},e[2],{ariaLabel:"Sort"}];let o={$$slots:{content:[Z6],trigger:[J6]},$$scope:{ctx:e}};for(let s=0;s<r.length;s+=1)o=a(o,r[s]);return t=new ma({props:o}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const o=4&n?et(r,[r[0],r[1],tt(e[2]),r[3]]):{};11&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function e5(e,t,n){const r=["sorting"];let o,i=x(t,r),l=s,c=()=>(l(),l=$(u,(e=>n(1,o=e))),u);e.$$.on_destroy.push((()=>l()));let{sorting:u}=t;return c(),e.$$set=e=>{t=a(a({},t),w(e)),n(2,i=x(t,r)),"sorting"in e&&c(n(0,u=e.sorting))},[u,o,i]}class t5 extends at{constructor(e){super(),it(this,e,e5,Q6,p,{sorting:0})}}function n5(e){let t,n;return t=new Dy({props:{errors:e[2].errors}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};4&n&&(r.errors=e[2].errors),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function r5(e){let t,n,r,o;const s=[i5,s5],i=[];function a(e,t){return e[1]&&e[1].enabled?0:1}return t=a(e),n=i[t]=s[t](e),{c(){n.c(),r=j()},m(e,n){i[t].m(e,n),P(e,r,n),o=!0},p(e,o){let l=t;t=a(e),t===l?i[t].p(e,o):(Fe(),Ve(i[l],1,1,(()=>{i[l]=null})),He(),n=i[t],n?n.p(e,o):(n=i[t]=s[t](e),n.c()),qe(n,1),n.m(r.parentNode,r))},i(e){o||(qe(n),o=!0)},o(e){Ve(n),o=!1},d(e){i[t].d(e),e&&R(r)}}}function o5(e){let t,n;return t=new Tr({}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p:s,i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function s5(e){let t,n,r,o,s,i,a=e[0].empty+"";return s=new Jr({props:{onClick:e[5],icon:xm,label:"Create Link"}}),{c(){t=F("div"),n=q(a),r=V(),o=F("div"),rt(s.$$.fragment)},m(e,a){P(e,t,a),A(t,n),P(e,r,a),P(e,o,a),ot(s,o,null),i=!0},p(e,t){(!i||1&t)&&a!==(a=e[0].empty+"")&&X(n,a)},i(e){i||(qe(s.$$.fragment,e),i=!0)},o(e){Ve(s.$$.fragment,e),i=!1},d(e){e&&R(t),e&&R(r),e&&R(o),st(s)}}}function i5(e){let t,n,r,o,s,i,a;return t=new si({props:{$$slots:{default:[l5]},$$scope:{ctx:e}}}),o=new Jr({props:{appearance:"secondary",onClick:e[6],icon:ef,label:"Regenerate Link"}}),i=new Jr({props:{appearance:"secondary",onClick:e[7],icon:tf,label:"Disable Link"}}),{c(){rt(t.$$.fragment),n=V(),r=F("div"),rt(o.$$.fragment),s=V(),rt(i.$$.fragment),B(r,"class","share-control-options svelte-kou0je")},m(e,l){ot(t,e,l),P(e,n,l),P(e,r,l),ot(o,r,null),A(r,s),ot(i,r,null),a=!0},p(e,n){const r={};65560&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){a||(qe(t.$$.fragment,e),qe(o.$$.fragment,e),qe(i.$$.fragment,e),a=!0)},o(e){Ve(t.$$.fragment,e),Ve(o.$$.fragment,e),Ve(i.$$.fragment,e),a=!1},d(e){st(t,e),e&&R(n),e&&R(r),st(o),st(i)}}}function a5(e){let t,n;const r=[Cm];let o={};for(let s=0;s<r.length;s+=1)o=a(o,r[s]);return t=new Wr({props:o}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const o=0&n?et(r,[tt(Cm)]):{};t.$set(o)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function l5(e){let t,n,r,o,s,i,l,c;function u(t){e[12](t)}let d={readonly:!0,value:e[4]};void 0!==e[3]&&(d.element=e[3]),t=new di({props:d}),we.push((()=>nt(t,"element",u))),o=new Ln({props:{appearance:"secondary",$$slots:{default:[a5]},$$scope:{ctx:e}}}),o.$on("click",e[8]);const p=[nf];let $={};for(let m=0;m<p.length;m+=1)$=a($,p[m]);return l=new Wr({props:$}),{c(){rt(t.$$.fragment),r=V(),rt(o.$$.fragment),s=V(),i=F("a"),rt(l.$$.fragment),B(i,"class","btn btn-secondary"),B(i,"target","_blank"),B(i,"href",e[4])},m(e,n){ot(t,e,n),P(e,r,n),ot(o,e,n),P(e,s,n),P(e,i,n),ot(l,i,null),c=!0},p(e,r){const s={};16&r&&(s.value=e[4]),!n&&8&r&&(n=!0,s.element=e[3],Te((()=>n=!1))),t.$set(s);const a={};65536&r&&(a.$$scope={dirty:r,ctx:e}),o.$set(a);const u=0&r?et(p,[tt(nf)]):{};l.$set(u),(!c||16&r)&&B(i,"href",e[4])},i(e){c||(qe(t.$$.fragment,e),qe(o.$$.fragment,e),qe(l.$$.fragment,e),c=!0)},o(e){Ve(t.$$.fragment,e),Ve(o.$$.fragment,e),Ve(l.$$.fragment,e),c=!1},d(e){st(t,e),e&&R(r),st(o,e),e&&R(s),e&&R(i),st(l)}}}function c5(e){let t,n,r,o,s,i,a,l,c,u,d,p=e[0].header+"",$=e[0].description+"";const m=[o5,r5,n5],f=[];function g(e,t){return"processing"===e[2].state?0:"success"===e[2].state?1:2}return c=g(e),u=f[c]=m[c](e),{c(){t=F("div"),n=F("header"),r=q(p),o=V(),s=F("div"),i=q($),a=V(),l=F("div"),u.c(),B(n,"class","svelte-kou0je"),B(s,"class","description svelte-kou0je"),B(l,"class","content svelte-kou0je"),B(t,"class","share-entity-container svelte-kou0je")},m(e,u){P(e,t,u),A(t,n),A(n,r),A(t,o),A(t,s),A(s,i),A(t,a),A(t,l),f[c].m(l,null),d=!0},p(e,[t]){(!d||1&t)&&p!==(p=e[0].header+"")&&X(r,p),(!d||1&t)&&$!==($=e[0].description+"")&&X(i,$);let n=c;c=g(e),c===n?f[c].p(e,t):(Fe(),Ve(f[n],1,1,(()=>{f[n]=null})),He(),u=f[c],u?u.p(e,t):(u=f[c]=m[c](e),u.c()),qe(u,1),u.m(l,null))},i(e){d||(qe(u),d=!0)},o(e){Ve(u),d=!1},d(e){e&&R(t),f[c].d()}}}function u5(e,t,n){let r;const o=he("dropdownAccompanyingElements");let s,i,{entityId:a}=t,{api:l}=t,{text:c}=t,{getLink:u}=t,d={state:"processing"};function p(){if(!o)return()=>{};const e=document.querySelector(`[data-modal-id='${Kf.modal.modalId}']`);return e?o.add(e):()=>{}}return e.$$set=e=>{"entityId"in e&&n(9,a=e.entityId),"api"in e&&n(10,l=e.api),"text"in e&&n(0,c=e.text),"getLink"in e&&n(11,u=e.getLink)},e.$$.update=()=>{2050&e.$$.dirty&&n(4,r=s?`${window.location.origin}${u(s)}`:void 0),1536&e.$$.dirty&&async function(){if(!l||!a)throw new Error("Unable to request shares because api or entityId is missing.\n        This state should never occur");try{n(2,d={state:"processing"});const e=await l.list(a);n(1,[s]=e.results,s),n(2,d={state:"success"})}catch(e){n(2,d={state:"failure",errors:nh(e)})}}()},[c,s,d,i,r,async function(){s&&!s.enabled?n(1,s=await l.update(a,s.id,{enabled:!0})):n(1,s=await l.add(a))},async function(){if(!s)throw new Error("Unable to regenerate link for share.\n        This state should never occur");const e=Bf({title:"Remove old link and create a new link?",body:["Once you regenerate a new link, the old link will no longer work.","Are you sure you want to proceed?"],proceedButton:{label:"Regenerate Link",icon:void 0}});await Ie();const t=p(),r=await e;t(),r&&(n(1,s=await l.regenerate(a,s.id)),Uf.success("The link has been successfully regenerated"))},async function(){if(!s)throw new Error("Unable to disable share.\n        This state should never occur");const e=Bf({title:"Disable Link?",body:"Are you sure you want to proceed?",proceedButton:{label:"Disable Link",icon:void 0}});await Ie();const t=p(),r=await e;t(),r&&n(1,s=await l.update(a,s.id,{enabled:!1}))},async function(){if(i&&r){i.select();try{await navigator.clipboard.writeText(r)}catch{document.execCommand("copy")}Uf.info("Link copied")}},a,l,u,function(e){i=e,n(3,i)}]}class d5 extends at{constructor(e){super(),it(this,e,u5,c5,p,{entityId:9,api:10,text:0,getLink:11})}}const p5={list:function(e){return dh(`/api/ui/v0/tables/${e}/shares/`)},add:function(e,t){return ph(`/api/ui/v0/tables/${e}/shares/`,t)},update:function(e,t,n){return $h(`/api/ui/v0/tables/${e}/shares/${t}/`,n)},regenerate:function(e,t){return ph(`/api/ui/v0/tables/${e}/shares/${t}/regenerate/`)}};function $5(e){let t,n,r,o;const s=[Qm];let i={};for(let l=0;l<s.length;l+=1)i=a(i,s[l]);return t=new Wr({props:i}),{c(){rt(t.$$.fragment),n=V(),r=F("span"),r.textContent="Share",B(r,"class","responsive-button-label")},m(e,s){ot(t,e,s),P(e,n,s),P(e,r,s),o=!0},p(e,n){const r=0&n?et(s,[tt(Qm)]):{};t.$set(r)},i(e){o||(qe(t.$$.fragment,e),o=!0)},o(e){Ve(t.$$.fragment,e),o=!1},d(e){st(t,e),e&&R(n),e&&R(r)}}}function m5(e){let t,n;return t=new d5({props:{slot:"content",entityId:e[0],api:p5,text:{header:"Share Table",description:"Give read-only access to this table to anyone via a link.",empty:"This table is currently not shared."},getLink:e[2]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.entityId=e[0]),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function f5(e){let t,n;const r=[{showArrow:!1},{triggerAppearance:"secondary"},e[1],{ariaLabel:"Share"}];let o={$$slots:{content:[m5],trigger:[$5]},$$scope:{ctx:e}};for(let s=0;s<r.length;s+=1)o=a(o,r[s]);return t=new ma({props:o}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const o=2&n?et(r,[r[0],r[1],tt(e[1]),r[3]]):{};9&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function g5(e,t,n){const r=["id"];let o=x(t,r),{id:s}=t;return e.$$set=e=>{t=a(a({},t),w(e)),n(1,o=x(t,r)),"id"in e&&n(0,s=e.id)},[s,o,e=>`/shares/tables/${e.slug}/`]}class h5 extends at{constructor(e){super(),it(this,e,g5,f5,p,{id:0})}}function y5(e){let t,n;return t=new HI({props:{requestState:e[13]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};8192&n&&(r.requestState=e[13]),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function v5(e){let t,n,r,o,s,i,a,l,c;n=new C6({props:{filtering:e[8],canViewLinkedEntities:e[3]}}),o=new t5({props:{sorting:e[7]}}),i=new q6({props:{grouping:e[6]}});let u="page"===e[0]&&y5(e);return{c(){t=F("div"),rt(n.$$.fragment),r=V(),rt(o.$$.fragment),s=V(),rt(i.$$.fragment),a=V(),u&&u.c(),l=j(),B(t,"class","quick-access svelte-1yr7j0")},m(e,d){P(e,t,d),ot(n,t,null),A(t,r),ot(o,t,null),A(t,s),ot(i,t,null),P(e,a,d),u&&u.m(e,d),P(e,l,d),c=!0},p(e,t){const r={};256&t&&(r.filtering=e[8]),8&t&&(r.canViewLinkedEntities=e[3]),n.$set(r);const s={};128&t&&(s.sorting=e[7]),o.$set(s);const a={};64&t&&(a.grouping=e[6]),i.$set(a),"page"===e[0]?u?(u.p(e,t),1&t&&qe(u,1)):(u=y5(e),u.c(),qe(u,1),u.m(l.parentNode,l)):u&&(Fe(),Ve(u,1,1,(()=>{u=null})),He())},i(e){c||(qe(n.$$.fragment,e),qe(o.$$.fragment,e),qe(i.$$.fragment,e),qe(u),c=!0)},o(e){Ve(n.$$.fragment,e),Ve(o.$$.fragment,e),Ve(i.$$.fragment,e),Ve(u),c=!1},d(e){e&&R(t),st(n),st(o),st(i),e&&R(a),u&&u.d(e),e&&R(l)}}}function b5(e){let t,n,r,o=e[4]&&w5(e);return n=new Ln({props:{appearance:"secondary",size:"medium",disabled:e[12],active:e[11],"aria-label":"Inspector",$$slots:{default:[x5]},$$scope:{ctx:e}}}),n.$on("click",e[16]),{c(){o&&o.c(),t=V(),rt(n.$$.fragment)},m(e,s){o&&o.m(e,s),P(e,t,s),ot(n,e,s),r=!0},p(e,r){e[4]?o?(o.p(e,r),16&r&&qe(o,1)):(o=w5(e),o.c(),qe(o,1),o.m(t.parentNode,t)):o&&(Fe(),Ve(o,1,1,(()=>{o=null})),He());const s={};4096&r&&(s.disabled=e[12]),2048&r&&(s.active=e[11]),8388608&r&&(s.$$scope={dirty:r,ctx:e}),n.$set(s)},i(e){r||(qe(o),qe(n.$$.fragment,e),r=!0)},o(e){Ve(o),Ve(n.$$.fragment,e),r=!1},d(e){o&&o.d(e),e&&R(t),st(n,e)}}}function w5(e){let t,n;return t=new h5({props:{id:e[10]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1024&n&&(r.id=e[10]),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function x5(e){let t,n,r,o;const s=[yf];let i={};for(let l=0;l<s.length;l+=1)i=a(i,s[l]);return t=new Wr({props:i}),{c(){rt(t.$$.fragment),n=V(),r=F("span"),r.textContent="Inspector",B(r,"class","responsive-button-label")},m(e,s){ot(t,e,s),P(e,n,s),P(e,r,s),o=!0},p(e,n){const r=0&n?et(s,[tt(yf)]):{};t.$set(r)},i(e){o||(qe(t.$$.fragment,e),o=!0)},o(e){Ve(t.$$.fragment,e),o=!1},d(e){st(t,e),e&&R(n),e&&R(r)}}}function S5(e){let t,n,r="page"===e[0]&&b5(e);return{c(){t=F("div"),r&&r.c(),B(t,"class","aux-actions svelte-1yr7j0"),B(t,"slot","actions-right")},m(e,o){P(e,t,o),r&&r.m(t,null),n=!0},p(e,n){"page"===e[0]?r?(r.p(e,n),1&n&&qe(r,1)):(r=b5(e),r.c(),qe(r,1),r.m(t,null)):r&&(Fe(),Ve(r,1,1,(()=>{r=null})),He())},i(e){n||(qe(r),n=!0)},o(e){Ve(r),n=!1},d(e){e&&R(t),r&&r.d()}}}function C5(e){let t,n;return t=new JI({props:{title:{name:e[1].name,description:e[1].description??void 0,icon:hf},$$slots:{"actions-right":[S5],default:[v5]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const r={};2&n&&(r.title={name:e[1].name,description:e[1].description??void 0,icon:hf}),8404441&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function k5(e,t,n){let r,o,i,a,l,c,u,d,p,m,g,h,y,v,b,w,x,S,C=s,k=s,D=s;f(e,Xh,(e=>n(19,y=e))),f(e,vh,(e=>n(20,v=e))),e.$$.on_destroy.push((()=>C())),e.$$.on_destroy.push((()=>k())),e.$$.on_destroy.push((()=>D()));const I=sB();f(e,I,(e=>n(22,w=e)));const _=Uv();f(e,_,(e=>n(21,b=e)));let{context:T="page"}=t,{table:M}=t;return e.$$set=e=>{"context"in e&&n(0,T=e.context),"table"in e&&n(1,M=e.table)},e.$$.update=()=>{4194304&e.$$.dirty&&n(10,({id:r,meta:o,isLoading:i,display:a}=w),r,(n(18,o),n(22,w)),(n(9,i),k(),k=$(i,(e=>n(12,x=e))),i),(n(17,a),n(22,w))),262144&e.$$.dirty&&n(8,({filtering:l,sorting:c,grouping:u,sheetState:d}=o),l,(n(7,c),n(18,o),n(22,w)),(n(6,u),n(18,o),n(22,w)),(n(5,d),D(),D=$(d,(e=>n(13,S=e))),d)),131072&e.$$.dirty&&(n(2,({isTableInspectorVisible:p}=a),p),C(),C=$(p,(e=>n(11,h=e)))),3670016&e.$$.dirty&&n(4,m=!!b?.hasPermission({database:v,schema:y},"canEditMetadata")),3670016&e.$$.dirty&&n(3,g=!!b?.hasPermission({database:v,schema:y},"canViewLinkedEntities"))},[T,M,p,g,m,d,u,c,l,i,r,h,x,S,I,_,function(){p.set(!h)},a,o,y,v,b,w]}class D5 extends at{constructor(e){super(),it(this,e,k5,C5,p,{context:0,table:1})}}function I5(e){let t,n,r,o,s;return n=new D5({props:{table:e[0],context:e[1]}}),o=new e6({props:{table:e[0],context:e[1]}}),{c(){t=F("div"),rt(n.$$.fragment),r=V(),rt(o.$$.fragment),B(t,"class","table-page svelte-cngme6")},m(e,i){P(e,t,i),ot(n,t,null),A(t,r),ot(o,t,null),s=!0},p(e,t){const r={};1&t&&(r.table=e[0]),2&t&&(r.context=e[1]),n.$set(r);const s={};1&t&&(s.table=e[0]),2&t&&(s.context=e[1]),o.$set(s)},i(e){s||(qe(n.$$.fragment,e),qe(o.$$.fragment,e),s=!0)},o(e){Ve(n.$$.fragment,e),Ve(o.$$.fragment,e),s=!1},d(e){e&&R(t),st(n),st(o)}}}function _5(e){let t,n,r,o;return document.title=t=hS(e[0].name),r=new rS({props:{fitViewport:!0,restrictWidth:!1,$$slots:{default:[I5]},$$scope:{ctx:e}}}),{c(){n=V(),rt(r.$$.fragment)},m(e,t){P(e,n,t),ot(r,e,t),o=!0},p(e,[n]){(!o||1&n)&&t!==(t=hS(e[0].name))&&(document.title=t);const s={};8195&n&&(s.$$scope={dirty:n,ctx:e}),r.$set(s)},i(e){o||(qe(r.$$.fragment,e),o=!0)},o(e){Ve(r.$$.fragment,e),o=!1},d(e){e&&R(n),st(r,e)}}}function T5(e,t,n){let r,o,i,a,l,c,u,d,p=s;f(e,hg,(e=>n(9,u=e))),f(e,gM,(e=>n(10,d=e))),e.$$.on_destroy.push((()=>p()));const m=oB(void 0);!function(){const e=new AB;ge(LB,e)}();let{table:g}=t,{shareConsumer:h}=t,y="page";return e.$$set=e=>{"table"in e&&n(0,g=e.table),"shareConsumer"in e&&n(3,h=e.shareConsumer)},e.$$.update=()=>{var t;1024&e.$$.dirty&&n(6,r=d.data),512&e.$$.dirty&&n(7,({query:o}=u),o),128&e.$$.dirty&&n(5,i=JY.fromSerialization(o.q??"")),105&e.$$.dirty&&n(4,a=new nB({id:g.id,abstractTypesMap:r,meta:i,table:g,shareConsumer:h})),16&e.$$.dirty&&m.set(a),8&e.$$.dirty&&n(1,y=h?"shared-consumer-page":"page"),16&e.$$.dirty&&(n(2,l=a.meta.serialization),p(),p=$(l,(e=>n(8,c=e)))),256&e.$$.dirty&&(t=c,hg.location.query.set("q",t))},[g,y,l,h,a,i,r,o,c,u,d]}class M5 extends at{constructor(e){super(),it(this,e,T5,_5,p,{table:0,shareConsumer:3})}}function E5(e){return{columnErrors:e,recordErrors:[]}}function O5(e){return{columnErrors:new dt,recordErrors:e}}function A5(e,t){return e.withEntries(t,((e,t)=>[...e,...t]))}function L5(e,t){return{columnErrors:A5(e.columnErrors,t.columnErrors),recordErrors:[...e.recordErrors,...t.recordErrors]}}const N5=[e=>{if(_t(e,"constraint_columns")&&Array.isArray(e.constraint_columns)&&Tt(e,"original_details"))return new dt(e.constraint_columns.filter(It).map((t=>[t,[e.original_details]])))}];function P5(e){for(const t of N5){const n=t(e);if(n)return n}}function R5(e){{const t=P5(e);if(t)return E5(t)}if(e instanceof eh){const t=P5(e.detail);return t?E5(t):O5([e.message])}return e instanceof th?e.errors.map(R5).reduce(L5,O5([])):O5([Dl(e)])}function z5(e){let t,n;return t=new HI({props:{hasChanges:e[1],requestState:e[3]?.state}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const r={};2&n&&(r.hasChanges=e[1]),8&n&&(r.requestState=e[3]?.state),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function F5(e,t,n){let r,o,i,a,l=s,c=()=>(l(),l=$(d,(e=>n(4,i=e))),d),u=s;e.$$.on_destroy.push((()=>l())),e.$$.on_destroy.push((()=>u()));let{form:d}=t;return c(),e.$$set=e=>{"form"in e&&c(n(0,d=e.form))},e.$$.update=()=>{1&e.$$.dirty&&(n(2,({requestStatus:r}=d),r),u(),u=$(r,(e=>n(3,a=e)))),16&e.$$.dirty&&n(1,({hasChanges:o}=i),o)},[d,o,r,a,i]}class H5 extends at{constructor(e){super(),it(this,e,F5,z5,p,{form:0})}}const q5=e=>({}),V5=e=>({});function j5(e){let t,n;const r=e[2].header,o=g(r,e,e[1],V5);return{c(){t=F("div"),o&&o.c(),B(t,"class","header")},m(e,r){P(e,t,r),o&&o.m(t,null),n=!0},p(e,t){o&&o.p&&(!n||2&t)&&v(o,r,e,e[1],n?y(r,e[1],t,q5):b(e[1]),V5)},i(e){n||(qe(o,e),n=!0)},o(e){Ve(o,e),n=!1},d(e){e&&R(t),o&&o.d(e)}}}function W5(e){let t,n,r,o,s=e[0].header&&j5(e);const i=e[2].default,a=g(i,e,e[1],null);return{c(){t=F("div"),s&&s.c(),n=V(),r=F("div"),a&&a.c(),B(r,"class","section svelte-gk8umx"),B(t,"class","inset-page-section")},m(e,i){P(e,t,i),s&&s.m(t,null),A(t,n),A(t,r),a&&a.m(r,null),o=!0},p(e,[r]){e[0].header?s?(s.p(e,r),1&r&&qe(s,1)):(s=j5(e),s.c(),qe(s,1),s.m(t,n)):s&&(Fe(),Ve(s,1,1,(()=>{s=null})),He()),a&&a.p&&(!o||2&r)&&v(a,i,e,e[1],o?y(i,e[1],r,null):b(e[1]),null)},i(e){o||(qe(s),qe(a,e),o=!0)},o(e){Ve(s),Ve(a,e),o=!1},d(e){e&&R(t),s&&s.d(),a&&a.d(e)}}}function U5(e,t,n){let{$$slots:r={},$$scope:o}=t;const s=S(r);return e.$$set=e=>{"$$scope"in e&&n(1,o=e.$$scope)},[s,o,r]}class Y5 extends at{constructor(e){super(),it(this,e,U5,W5,p,{})}}const B5=e=>({}),K5=e=>({});function G5(e){let t,n;return t=new Y5({props:{$$slots:{default:[J5]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};4&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function X5(e){let t;const n=e[1].default,r=g(n,e,e[2],null);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||4&o)&&v(r,n,e,e[2],t?y(n,e[2],o,null):b(e[2]),null)},i(e){t||(qe(r,e),t=!0)},o(e){Ve(r,e),t=!1},d(e){r&&r.d(e)}}}function J5(e){let t;const n=e[1].default,r=g(n,e,e[2],null);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||4&o)&&v(r,n,e,e[2],t?y(n,e[2],o,null):b(e[2]),null)},i(e){t||(qe(r,e),t=!0)},o(e){Ve(r,e),t=!1},d(e){r&&r.d(e)}}}function Z5(e){let t,n,r,o,s,i,a;const l=e[1].header,c=g(l,e,e[2],K5),u=[X5,G5],d=[];function p(e,t){return e[0]?0:1}return s=p(e),i=d[s]=u[s](e),{c(){t=F("div"),n=F("div"),c&&c.c(),r=V(),o=F("div"),i.c(),B(n,"class","header restrict-width svelte-u2qdd0"),B(o,"class","page restrict-width svelte-u2qdd0"),B(t,"class","inset-page-layout svelte-u2qdd0")},m(e,i){P(e,t,i),A(t,n),c&&c.m(n,null),A(t,r),A(t,o),d[s].m(o,null),a=!0},p(e,[t]){c&&c.p&&(!a||4&t)&&v(c,l,e,e[2],a?y(l,e[2],t,B5):b(e[2]),K5);let n=s;s=p(e),s===n?d[s].p(e,t):(Fe(),Ve(d[n],1,1,(()=>{d[n]=null})),He(),i=d[s],i?i.p(e,t):(i=d[s]=u[s](e),i.c()),qe(i,1),i.m(o,null))},i(e){a||(qe(c,e),qe(i),a=!0)},o(e){Ve(c,e),Ve(i),a=!1},d(e){e&&R(t),c&&c.d(e),d[s].d()}}}function Q5(e,t,n){let{$$slots:r={},$$scope:o}=t,{hasMultipleSections:s=!1}=t;return e.$$set=e=>{"hasMultipleSections"in e&&n(0,s=e.hasMultipleSections),"$$scope"in e&&n(2,o=e.$$scope)},[s,r,o]}class e8 extends at{constructor(e){super(),it(this,e,Q5,Z5,p,{hasMultipleSections:0})}}function t8(e){let t,n;return t=new aG({props:{processedColumn:e[0]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.processedColumn=e[0]),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function n8(e){let t,n,r;return n=new YM({}),{c(){t=q("Set to "),rt(n.$$.fragment)},m(e,o){P(e,t,o),ot(n,e,o),r=!0},i(e){r||(qe(n.$$.fragment,e),r=!0)},o(e){Ve(n.$$.fragment,e),r=!1},d(e){e&&R(t),st(n,e)}}}function r8(e){let t,n;return t=new qp({props:{icon:Um,disabled:e[5],$$slots:{default:[n8]},$$scope:{ctx:e}}}),t.$on("click",e[23]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};32&n&&(r.disabled=e[5]),134217728&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function o8(e){let t,n,r;return n=new YM({}),{c(){t=F("div"),rt(n.$$.fragment),B(t,"class","null svelte-e4chwr")},m(e,o){P(e,t,o),ot(n,t,null),r=!0},i(e){r||(qe(n.$$.fragment,e),r=!0)},o(e){Ve(n.$$.fragment,e),r=!1},d(e){e&&R(t),st(n)}}}function s8(e){let t,n,r,o,s,i,a,l,c,u,d,p,$,m,f,g;s=new vo({props:{controller:e[13],$$slots:{default:[t8]},$$scope:{ctx:e}}}),l=new xc({props:{showArrow:!1,triggerAppearance:"plain",closeOnInnerClick:!0,ariaLabel:e[2].name+" Field Options",icon:$r,$$slots:{default:[r8]},$$scope:{ctx:e}}});let h=null===e[3]&&e[4]&&o8();function y(t){e[25](t)}let v={disabled:e[5],componentAndProps:e[0].inputComponentAndProps,labelController:e[13],recordSummary:e[10].get(String(e[2].id))?.get(String(e[8])),setRecordSummary:e[24],hasError:e[11]};return void 0!==e[3]&&(v.value=e[3]),p=new RM({props:v}),we.push((()=>nt(p,"value",y))),f=new My({props:{field:e[1]}}),{c(){t=F("div"),n=F("div"),r=F("div"),o=F("div"),rt(s.$$.fragment),i=V(),a=F("div"),rt(l.$$.fragment),c=V(),u=F("div"),h&&h.c(),d=V(),rt(p.$$.fragment),m=V(),rt(f.$$.fragment),B(o,"class","label svelte-e4chwr"),B(a,"class","options svelte-e4chwr"),B(r,"class","complex-label svelte-e4chwr"),B(n,"class","left cell svelte-e4chwr"),B(u,"class","input cell svelte-e4chwr"),B(t,"class","direct-field svelte-e4chwr")},m(e,$){P(e,t,$),A(t,n),A(n,r),A(r,o),ot(s,o,null),A(r,i),A(r,a),ot(l,a,null),A(t,c),A(t,u),h&&h.m(u,null),A(u,d),ot(p,u,null),A(u,m),ot(f,u,null),g=!0},p(e,[t]){const n={};134217729&t&&(n.$$scope={dirty:t,ctx:e}),s.$set(n);const r={};4&t&&(r.ariaLabel=e[2].name+" Field Options"),134217762&t&&(r.$$scope={dirty:t,ctx:e}),l.$set(r),null===e[3]&&e[4]?h?24&t&&qe(h,1):(h=o8(),h.c(),qe(h,1),h.m(u,d)):h&&(Fe(),Ve(h,1,1,(()=>{h=null})),He());const o={};32&t&&(o.disabled=e[5]),1&t&&(o.componentAndProps=e[0].inputComponentAndProps),1284&t&&(o.recordSummary=e[10].get(String(e[2].id))?.get(String(e[8]))),516&t&&(o.setRecordSummary=e[24]),2048&t&&(o.hasError=e[11]),!$&&8&t&&($=!0,o.value=e[3],Te((()=>$=!1))),p.$set(o);const i={};2&t&&(i.field=e[1]),f.$set(i)},i(e){g||(qe(s.$$.fragment,e),qe(l.$$.fragment,e),qe(h),qe(p.$$.fragment,e),qe(f.$$.fragment,e),g=!0)},o(e){Ve(s.$$.fragment,e),Ve(l.$$.fragment,e),Ve(h),Ve(p.$$.fragment,e),Ve(f.$$.fragment,e),g=!1},d(e){e&&R(t),st(s),st(l),h&&h.d(),st(p),st(f)}}}function i8(e,t,n){let r,o,i,a,l,c,u,d,p,m,g,h,y,v,b,w,x,S,C=s,k=s,D=()=>(k(),k=$(L,(e=>n(3,y=e))),L),I=s,_=s;f(e,Xh,(e=>n(21,b=e))),f(e,vh,(e=>n(22,w=e))),e.$$.on_destroy.push((()=>C())),e.$$.on_destroy.push((()=>k())),e.$$.on_destroy.push((()=>I())),e.$$.on_destroy.push((()=>_()));const T=Uv();f(e,T,(e=>n(20,v=e)));const M=new Set(["date","datetime","duration","time"]),E=new oo;let{record:O}=t,{processedColumn:A}=t,{field:L}=t;D();return e.$$set=e=>{"record"in e&&n(14,O=e.record),"processedColumn"in e&&n(0,A=e.processedColumn),"field"in e&&D(n(1,L=e.field))},e.$$.update=()=>{4194304&e.$$.dirty&&n(18,r=w),2097152&e.$$.dirty&&n(17,o=b),1441792&e.$$.dirty&&n(16,i=v?.hasPermission({database:r,schema:o},"canEditTableRecords")??!1),16384&e.$$.dirty&&(n(9,({recordSummaries:a}=O),a),I(),I=$(a,(e=>n(10,x=e)))),1&e.$$.dirty&&n(2,({column:l,abstractType:c}=A),l,(n(15,c),n(0,A))),8&e.$$.dirty&&n(8,u=y),2&e.$$.dirty&&(n(7,d=L.disabled),C(),C=$(d,(e=>n(19,h=e)))),2&e.$$.dirty&&(n(6,({showsError:p}=L),p),_(),_=$(p,(e=>n(11,S=e)))),589828&e.$$.dirty&&n(5,m=l.primary_key||!i||h),32768&e.$$.dirty&&n(4,g=!M.has(c.cellInfo.type))},[A,L,l,y,g,m,p,d,u,a,x,S,T,E,O,c,i,o,r,h,v,b,w,()=>L.set(null),(e,t)=>a.addBespokeRecordSummary({columnId:String(l.id),recordId:e,recordSummary:t}),function(e){y=e,L.set(y)}]}class a8 extends at{constructor(e){super(),it(this,e,i8,s8,p,{record:14,processedColumn:0,field:1})}}function l8(e){let t,n,r;return n=new Tr({}),{c(){t=F("div"),rt(n.$$.fragment),B(t,"class","record-page-loading-spinner svelte-covpeg")},m(e,o){P(e,t,o),ot(n,t,null),r=!0},p:s,i(e){r||(qe(n.$$.fragment,e),r=!0)},o(e){Ve(n.$$.fragment,e),r=!1},d(e){e&&R(t),st(n)}}}class c8 extends at{constructor(e){super(),it(this,e,null,l8,p,{})}}function u8(e){let t,n,r,o,s,i,l;const c=[{filtering:e[2]},{canViewLinkedEntities:e[3]},e[5]];let u={};for(let f=0;f<c.length;f+=1)u=a(u,c[f]);n=new C6({props:u});const d=[{sorting:e[1]},e[5]];let p={};for(let f=0;f<d.length;f+=1)p=a(p,d[f]);o=new t5({props:p});const $=[{grouping:e[0]},e[5]];let m={};for(let f=0;f<$.length;f+=1)m=a(m,$[f]);return i=new q6({props:m}),{c(){t=F("div"),rt(n.$$.fragment),r=V(),rt(o.$$.fragment),s=V(),rt(i.$$.fragment),B(t,"class","mini-actions-pane svelte-17z38bs")},m(e,a){P(e,t,a),ot(n,t,null),A(t,r),ot(o,t,null),A(t,s),ot(i,t,null),l=!0},p(e,[t]){const r=44&t?et(c,[4&t&&{filtering:e[2]},8&t&&{canViewLinkedEntities:e[3]},32&t&&tt(e[5])]):{};n.$set(r);const s=34&t?et(d,[2&t&&{sorting:e[1]},32&t&&tt(e[5])]):{};o.$set(s);const a=33&t?et($,[1&t&&{grouping:e[0]},32&t&&tt(e[5])]):{};i.$set(a)},i(e){l||(qe(n.$$.fragment,e),qe(o.$$.fragment,e),qe(i.$$.fragment,e),l=!0)},o(e){Ve(n.$$.fragment,e),Ve(o.$$.fragment,e),Ve(i.$$.fragment,e),l=!1},d(e){e&&R(t),st(n),st(o),st(i)}}}function d8(e,t,n){let r,o,s,i,a,l,c,u,d;f(e,Xh,(e=>n(9,c=e))),f(e,vh,(e=>n(10,u=e)));const p=Uv();f(e,p,(e=>n(11,d=e)));const $=sB();return f(e,$,(e=>n(8,l=e))),e.$$.update=()=>{3584&e.$$.dirty&&n(3,r=!!d?.hasPermission({database:u,schema:c},"canViewLinkedEntities")),256&e.$$.dirty&&n(7,({meta:o}=l),o),128&e.$$.dirty&&n(2,({filtering:s,sorting:i,grouping:a}=o),s,(n(1,i),n(7,o),n(8,l)),(n(0,a),n(7,o),n(8,l)))},[a,i,s,r,p,{placement:"bottom-end",size:"small"},$,o,l,c,u,d]}class p8 extends at{constructor(e){super(),it(this,e,d8,u8,p,{})}}function $8(e){let t,n,r,o,s,i,a,l,c,u;return o=new hb({props:{table:e[0]}}),i=new p8({}),c=new e6({props:{context:"widget",table:e[0]}}),{c(){t=F("div"),n=F("div"),r=F("h3"),rt(o.$$.fragment),s=V(),rt(i.$$.fragment),a=V(),l=F("div"),rt(c.$$.fragment),B(r,"class","bold-header"),B(n,"class","top svelte-11m8z5a"),B(l,"class","results"),B(t,"class","table-widget")},m(e,d){P(e,t,d),A(t,n),A(n,r),ot(o,r,null),A(n,s),ot(i,n,null),A(t,a),A(t,l),ot(c,l,null),u=!0},p(e,[t]){const n={};1&t&&(n.table=e[0]),o.$set(n);const r={};1&t&&(r.table=e[0]),c.$set(r)},i(e){u||(qe(o.$$.fragment,e),qe(i.$$.fragment,e),qe(c.$$.fragment,e),u=!0)},o(e){Ve(o.$$.fragment,e),Ve(i.$$.fragment,e),Ve(c.$$.fragment,e),u=!1},d(e){e&&R(t),st(o),st(i),st(c)}}}function m8(e,t,n){let r,o,s;f(e,gM,(e=>n(5,s=e)));const i=oB(void 0),a=new JY({pagination:new FL({size:10})});let{recordPk:l}=t,{table:c}=t,{fkColumn:u}=t;return e.$$set=e=>{"recordPk"in e&&n(1,l=e.recordPk),"table"in e&&n(0,c=e.table),"fkColumn"in e&&n(2,u=e.fkColumn)},e.$$.update=()=>{32&e.$$.dirty&&n(4,r=s.data),23&e.$$.dirty&&n(3,o=new nB({id:c.id,abstractTypesMap:r,meta:a,contextualFilters:new Map([[u.id,l]]),table:c})),8&e.$$.dirty&&i.set(o)},[c,l,u,o,r,s]}class f8 extends at{constructor(e){super(),it(this,e,m8,$8,p,{recordPk:1,table:0,fkColumn:2})}}const{Map:g8}=Ge;function h8(e,t,n){const r=e.slice();return r[7]=t[n].table,r[8]=t[n].fkColumn,r}function y8(e){let t;return{c(){t=F("div"),B(t,"class","no-widgets svelte-1rgq9rb")},m(e,n){P(e,t,n)},p:s,i:s,o:s,d(e){e&&R(t)}}}function v8(e){let t,n,r,o,s,i,a,l=[],c=new g8;o=new ni({props:{$$slots:{default:[w8]},$$scope:{ctx:e}}});let u=e[2];const d=e=>`${e[7].id}-${e[8].id}`;for(let p=0;p<u.length;p+=1){let t=h8(e,u,p),n=d(t);c.set(n,l[p]=x8(n,t))}return{c(){t=F("div"),n=F("h2"),r=q("Related Records\n      "),rt(o.$$.fragment),s=V(),i=F("div");for(let e=0;e<l.length;e+=1)l[e].c();B(n,"class","passthrough svelte-1rgq9rb"),B(i,"class","widgets svelte-1rgq9rb"),B(t,"class","widgets-area svelte-1rgq9rb")},m(e,c){P(e,t,c),A(t,n),A(n,r),ot(o,n,null),A(t,s),A(t,i);for(let t=0;t<l.length;t+=1)l[t].m(i,null);a=!0},p(e,t){const n={};2050&t&&(n.$$scope={dirty:t,ctx:e}),o.$set(n),5&t&&(u=e[2],Fe(),l=Qe(l,t,d,1,e,u,c,i,Je,x8,null,h8),He())},i(e){if(!a){qe(o.$$.fragment,e);for(let e=0;e<u.length;e+=1)qe(l[e]);a=!0}},o(e){Ve(o.$$.fragment,e);for(let t=0;t<l.length;t+=1)Ve(l[t]);a=!1},d(e){e&&R(t),st(o);for(let t=0;t<l.length;t+=1)l[t].d()}}}function b8(e){let t,n;return{c(){t=F("strong"),n=q(e[1])},m(e,r){P(e,t,r),A(t,n)},p(e,t){2&t&&X(n,e[1])},d(e){e&&R(t)}}}function w8(e){let t,n,r,o;return n=new nb({props:{icon:pf,truncate:!1,$$slots:{default:[b8]},$$scope:{ctx:e}}}),{c(){t=q("Each of the following records links to\n        "),rt(n.$$.fragment),r=q("\n        from another table.")},m(e,s){P(e,t,s),ot(n,e,s),P(e,r,s),o=!0},p(e,t){const r={};2050&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){o||(qe(n.$$.fragment,e),o=!0)},o(e){Ve(n.$$.fragment,e),o=!1},d(e){e&&R(t),st(n,e),e&&R(r)}}}function x8(e,t){let n,r,o,s;return r=new f8({props:{recordPk:t[0],table:t[7],fkColumn:t[8]}}),{key:e,first:null,c(){n=F("section"),rt(r.$$.fragment),o=V(),B(n,"class","table-widget-positioner svelte-1rgq9rb"),this.first=n},m(e,t){P(e,n,t),ot(r,n,null),A(n,o),s=!0},p(e,n){t=e;const o={};1&n&&(o.recordPk=t[0]),4&n&&(o.table=t[7]),4&n&&(o.fkColumn=t[8]),r.$set(o)},i(e){s||(qe(r.$$.fragment,e),s=!0)},o(e){Ve(r.$$.fragment,e),s=!1},d(e){e&&R(n),st(r)}}}function S8(e){let t,n,r,o;const s=[v8,y8],i=[];function a(e,t){return e[2].length?0:1}return t=a(e),n=i[t]=s[t](e),{c(){n.c(),r=j()},m(e,n){i[t].m(e,n),P(e,r,n),o=!0},p(e,[o]){let l=t;t=a(e),t===l?i[t].p(e,o):(Fe(),Ve(i[l],1,1,(()=>{i[l]=null})),He(),n=i[t],n?n.p(e,o):(n=i[t]=s[t](e),n.c()),qe(n,1),n.m(r.parentNode,r))},i(e){o||(qe(n),o=!0)},o(e){Ve(n),o=!1},d(e){i[t].d(e),e&&R(r)}}}function C8(e,t,n){let r,o,s;f(e,Cv,(e=>n(5,s=e)));let{recordPk:i}=t,{recordSummary:a}=t,{joinableTablesResult:l}=t;function c(e){const t=s.data.get(e.target);if(!t)return;const n=e.jp_path[0].slice(-1)[0];return{table:t,fkColumn:{id:n,name:r.get(n)??"(unknown column)"}}}return e.$$set=e=>{"recordPk"in e&&n(0,i=e.recordPk),"recordSummary"in e&&n(1,a=e.recordSummary),"joinableTablesResult"in e&&n(3,l=e.joinableTablesResult)},e.$$.update=()=>{8&e.$$.dirty&&(r=new Map(Object.entries(l.columns).map((([e,t])=>[parseInt(e,10),t.name])))),8&e.$$.dirty&&n(2,o=l.joinable_tables.filter((e=>e.multiple_results)).map(c).filter(Mt).sort(((e,t)=>e.table.name.localeCompare(t.table.name))))},[i,a,o,l]}class k8 extends at{constructor(e){super(),it(this,e,C8,S8,p,{recordPk:0,recordSummary:1,joinableTablesResult:3})}}function D8(e,t,n){const r=e.slice();return r[19]=t[n].field,r[20]=t[n].processedColumn,r}function I8(e,t){let n,r,o;return r=new a8({props:{record:t[0],processedColumn:t[20],field:t[19]}}),{key:e,first:null,c(){n=j(),rt(r.$$.fragment),this.first=n},m(e,t){P(e,n,t),ot(r,e,t),o=!0},p(e,n){t=e;const o={};1&n&&(o.record=t[0]),4&n&&(o.processedColumn=t[20]),4&n&&(o.field=t[19]),r.$set(o)},i(e){o||(qe(r.$$.fragment,e),o=!0)},o(e){Ve(r.$$.fragment,e),o=!1},d(e){e&&R(n),st(r,e)}}}function _8(e){let t,n,r,o,s,i=[],a=new Map,l=e[2];const c=e=>e[20].id;for(let u=0;u<l.length;u+=1){let t=D8(e,l,u),n=c(t);a.set(n,i[u]=I8(n,t))}return o=new Zy({props:{form:e[3],catchErrors:!0,proceedButton:{label:"Save",icon:jm},cancelButton:{label:"Discard Changes",icon:Km},onProceed:e[16],getErrorMessages:e[17],initiallyHidden:!0}}),{c(){t=F("div");for(let e=0;e<i.length;e+=1)i[e].c();n=V(),r=F("div"),rt(o.$$.fragment),B(t,"class","fields svelte-4domsl"),B(r,"class","submit svelte-4domsl")},m(e,a){P(e,t,a);for(let n=0;n<i.length;n+=1)i[n].m(t,null);P(e,n,a),P(e,r,a),ot(o,r,null),s=!0},p(e,n){5&n&&(l=e[2],Fe(),i=Qe(i,n,c,1,e,l,a,t,Je,I8,null,D8),He());const r={};8&n&&(r.form=e[3]),1025&n&&(r.onProceed=e[16]),2&n&&(r.getErrorMessages=e[17]),o.$set(r)},i(e){if(!s){for(let e=0;e<l.length;e+=1)qe(i[e]);qe(o.$$.fragment,e),s=!0}},o(e){for(let t=0;t<i.length;t+=1)Ve(i[t]);Ve(o.$$.fragment,e),s=!1},d(e){e&&R(t);for(let t=0;t<i.length;t+=1)i[t].d();e&&R(n),e&&R(r),st(o)}}}function T8(e){let t,n;return t=new Qw({props:{recordSummary:e[9]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};512&n&&(r.recordSummary=e[9]),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function M8(e){let t,n,r,o,s,i,a,l,c,u,d,p;return r=new nb({props:{icon:pf,$$slots:{default:[T8]},$$scope:{ctx:e}}}),l=new hb({props:{table:e[8],truncate:!1}}),d=new H5({props:{form:e[3]}}),{c(){t=F("div"),n=F("h1"),rt(r.$$.fragment),o=V(),s=F("div"),i=q("Record in\n        "),a=F("strong"),rt(l.$$.fragment),c=V(),u=F("div"),rt(d.$$.fragment),B(n,"class","title svelte-4domsl"),B(s,"class","table-name svelte-4domsl"),B(u,"class","form-status svelte-4domsl"),B(t,"slot","header"),B(t,"class","header svelte-4domsl")},m(e,$){P(e,t,$),A(t,n),ot(r,n,null),A(t,o),A(t,s),A(s,i),A(s,a),ot(l,a,null),A(t,c),A(t,u),ot(d,u,null),p=!0},p(e,t){const n={};8389120&t&&(n.$$scope={dirty:t,ctx:e}),r.$set(n);const o={};256&t&&(o.table=e[8]),l.$set(o);const s={};8&t&&(s.form=e[3]),d.$set(s)},i(e){p||(qe(r.$$.fragment,e),qe(l.$$.fragment,e),qe(d.$$.fragment,e),p=!0)},o(e){Ve(r.$$.fragment,e),Ve(l.$$.fragment,e),Ve(d.$$.fragment,e),p=!1},d(e){e&&R(t),st(r),st(l),st(d)}}}function E8(e){return{c:s,m:s,p:s,i:s,o:s,d:s}}function O8(e){let t,n;return t=new k8({props:{joinableTablesResult:e[18],recordPk:e[6],recordSummary:e[9]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};256&n&&(r.joinableTablesResult=e[18]),64&n&&(r.recordPk=e[6]),512&n&&(r.recordSummary=e[9]),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function A8(e){let t,n;return t=new c8({}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p:s,i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function L8(e){let t,n,r,o,s;n=new e8({props:{$$slots:{header:[M8],default:[_8]},$$scope:{ctx:e}}});let i={ctx:e,current:null,token:null,hasCatch:!1,pending:A8,then:O8,catch:E8,value:18,blocks:[,,,]};return Be(o=e[11](e[8].id),i),{c(){t=F("div"),rt(n.$$.fragment),r=V(),i.block.c(),B(t,"class","record-page-content svelte-4domsl")},m(e,o){P(e,t,o),ot(n,t,null),A(t,r),i.block.m(t,i.anchor=null),i.mount=()=>t,i.anchor=null,s=!0},p(t,[r]){e=t;const s={};8390415&r&&(s.$$scope={dirty:r,ctx:e}),n.$set(s),i.ctx=e,256&r&&o!==(o=e[11](e[8].id))&&Be(o,i)||Ke(i,e,r)},i(e){s||(qe(n.$$.fragment,e),qe(i.block),s=!0)},o(e){Ve(n.$$.fragment,e);for(let t=0;t<3;t+=1){Ve(i.blocks[t])}s=!1},d(e){e&&R(t),st(n),i.block.d(),i.token=null,i=null}}}function N8(e,t,n){let r,o,i,a,l,c,u,d,p,m,g,h,y,v=s,b=s,w=s,x=s;f(e,_v,(e=>n(15,g=e))),e.$$.on_destroy.push((()=>v())),e.$$.on_destroy.push((()=>b())),e.$$.on_destroy.push((()=>w())),e.$$.on_destroy.push((()=>x()));let{record:S}=t,{tableStructure:C}=t;return e.$$set=e=>{"record"in e&&n(0,S=e.record),"tableStructure"in e&&n(12,C=e.tableStructure)},e.$$.update=()=>{32768&e.$$.dirty&&n(8,r=g),4096&e.$$.dirty&&(n(7,({processedColumns:o}=C),o),b(),b=$(o,(e=>n(14,m=e)))),1&e.$$.dirty&&n(6,({recordPk:i,summary:a,fieldValues:l}=S),i,(n(5,a),w(),w=$(a,(e=>n(9,h=e))),a),(n(4,l),v(),v=$(l,(e=>n(13,p=e))),l)),24576&e.$$.dirty&&n(2,c=[...m.values()].map((e=>({processedColumn:e,field:nv(p.get(e.id))})))),4&e.$$.dirty&&n(1,u=Object.fromEntries(c.map((e=>[e.processedColumn.id,e.field])))),2&e.$$.dirty&&(n(3,d=sv(u)),x(),x=$(d,(e=>n(10,y=e))))},[S,u,c,d,l,a,i,o,r,h,y,function(e){return dh(`/api/db/v0/tables/${e}/joinable_tables/?max_depth=1`)},C,p,m,g,()=>S.patch(y.values),e=>{const{columnErrors:t,recordErrors:n}=R5(e);for(const[r,o]of t)u[r]?.serverErrors.set(o);return n}]}class P8 extends at{constructor(e){super(),it(this,e,N8,L8,p,{record:0,tableStructure:12})}}function R8(e){let t,n;return t=new P8({props:{tableStructure:e[1],record:e[0]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.tableStructure=e[1]),1&n&&(r.record=e[0]),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function z8(e){let t,n;return t=new c8({}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p:s,i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function F8(e){let t,n,r,o;const s=[z8,R8],i=[];function a(e,t){return e[3]?0:1}return t=a(e),n=i[t]=s[t](e),{c(){n.c(),r=j()},m(e,n){i[t].m(e,n),P(e,r,n),o=!0},p(e,o){let l=t;t=a(e),t===l?i[t].p(e,o):(Fe(),Ve(i[l],1,1,(()=>{i[l]=null})),He(),n=i[t],n?n.p(e,o):(n=i[t]=s[t](e),n.c()),qe(n,1),n.m(r.parentNode,r))},i(e){o||(qe(n),o=!0)},o(e){Ve(n),o=!1},d(e){i[t].d(e),e&&R(r)}}}function H8(e){let t,n,r,o;return document.title=t=hS(e[2]),r=new rS({props:{cssVariables:{"--page-padding":"0"},fitViewport:!0,$$slots:{default:[F8]},$$scope:{ctx:e}}}),{c(){n=V(),rt(r.$$.fragment)},m(e,t){P(e,n,t),ot(r,e,t),o=!0},p(e,[n]){(!o||4&n)&&t!==(t=hS(e[2]))&&(document.title=t);const s={};16395&n&&(s.$$scope={dirty:n,ctx:e}),r.$set(s)},i(e){o||(qe(r.$$.fragment,e),o=!0)},o(e){Ve(r.$$.fragment,e),o=!1},d(e){e&&R(n),st(r,e)}}}function q8(e,t,n){let r,o,i,a,l,c,u,d,p,m,g,h,y,v=s,b=s,w=s;f(e,gM,(e=>n(12,h=e))),f(e,_v,(e=>n(13,y=e))),e.$$.on_destroy.push((()=>v())),e.$$.on_destroy.push((()=>b())),e.$$.on_destroy.push((()=>w()));let{record:x}=t;return e.$$set=e=>{"record"in e&&n(0,x=e.record)},e.$$.update=()=>{8192&e.$$.dirty&&n(8,r=y),4352&e.$$.dirty&&n(1,o=new iB({id:r.id,abstractTypesMap:h.data})),2&e.$$.dirty&&(n(6,i=o.isLoading),b(),b=$(i,(e=>n(10,m=e)))),1&e.$$.dirty&&(n(5,a=x.fetchRequest),w(),w=$(a,(e=>n(11,g=e)))),1&e.$$.dirty&&(n(4,({summary:l}=x),l),v(),v=$(l,(e=>n(9,p=e)))),2048&e.$$.dirty&&n(7,c="processing"===g?.state),1152&e.$$.dirty&&n(3,u=m||c),640&e.$$.dirty&&n(2,d=c?"":p.replace(Hw,"NULL"))},[x,o,d,u,l,a,i,c,r,p,m,g,h,y]}class V8 extends at{constructor(e){super(),it(this,e,q8,H8,p,{record:0})}}class j8{constructor({table:t,recordPk:n}){e(this,"fetchRequest",mt(void 0)),e(this,"fieldValues",new gt),e(this,"recordSummaries",new sU),e(this,"summary",void 0),e(this,"table",void 0),e(this,"recordPk",void 0),e(this,"url",void 0),this.table=t,this.recordPk=n,this.url=`/api/db/v0/tables/${this.table.id}/records/${this.recordPk}/`;const{template:r}=this.table.settings.preview_settings;this.summary=ft([this.fieldValues,this.recordSummaries],(([e,t])=>Gw({template:r,inputData:Kw(e),transitiveData:t}))),this.fetch()}updateSelfWithApiResponseData(e){const t=e.results[0];this.fieldValues.reconstruct(Object.entries(t).map((([e,t])=>[parseInt(e,10),t]))),e.preview_data&&this.recordSummaries.setFetchedSummaries(Yw(e.preview_data))}async fetch(){this.fetchRequest.set({state:"processing"});try{this.updateSelfWithApiResponseData(await dh(this.url)),this.fetchRequest.set({state:"success"})}catch(e){this.fetchRequest.set({state:"failure",errors:[Dl(e)]})}}async patch(e){this.updateSelfWithApiResponseData(await $h(this.url,e))}}function W8(e){let t,n;return t=new uI({props:{item:{type:"record",database:e[0],schema:e[1],table:e[2],record:{pk:e[3],summary:e[8]}}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};271&n&&(r.item={type:"record",database:e[0],schema:e[1],table:e[2],record:{pk:e[3],summary:e[8]}}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function U8(e){let t,n,r,o="success"===e[7]?.state&&W8(e);return n=new V8({props:{record:e[4]}}),{c(){o&&o.c(),t=V(),rt(n.$$.fragment)},m(e,s){o&&o.m(e,s),P(e,t,s),ot(n,e,s),r=!0},p(e,[r]){"success"===e[7]?.state?o?(o.p(e,r),128&r&&qe(o,1)):(o=W8(e),o.c(),qe(o,1),o.m(t.parentNode,t)):o&&(Fe(),Ve(o,1,1,(()=>{o=null})),He());const s={};16&r&&(s.record=e[4]),n.$set(s)},i(e){r||(qe(o),qe(n.$$.fragment,e),r=!0)},o(e){Ve(o),Ve(n.$$.fragment,e),r=!1},d(e){o&&o.d(e),e&&R(t),st(n,e)}}}function Y8(e,t,n){let r,o,i,a,l,c=s,u=s;e.$$.on_destroy.push((()=>c())),e.$$.on_destroy.push((()=>u()));let{database:d}=t,{schema:p}=t,{table:m}=t,{recordPk:f}=t;return e.$$set=e=>{"database"in e&&n(0,d=e.database),"schema"in e&&n(1,p=e.schema),"table"in e&&n(2,m=e.table),"recordPk"in e&&n(3,f=e.recordPk)},e.$$.update=()=>{12&e.$$.dirty&&n(4,r=new j8({table:m,recordPk:f})),16&e.$$.dirty&&(n(6,({summary:o,fetchRequest:i}=r),o,(n(5,i),c(),c=$(i,(e=>n(7,a=e))),i)),u(),u=$(o,(e=>n(8,l=e))))},[d,p,m,f,r,i,o,a,l]}class B8 extends at{constructor(e){super(),it(this,e,Y8,U8,p,{database:0,schema:1,table:2,recordPk:3})}}function K8(e){let t,n;return t=new cS({props:{$$slots:{default:[X8]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};260&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function G8(e){let t,n,r,o,s,i;return t=new uI({props:{item:{type:"table",database:e[0],schema:e[1],table:e[3]}}}),r=new Tg({props:{path:"/",$$slots:{default:[J8]},$$scope:{ctx:e}}}),s=new Tg({props:{path:"/:recordPk",$$slots:{default:[Z8,({meta:e})=>({7:e}),({meta:e})=>e?128:0]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment),n=V(),rt(r.$$.fragment),o=V(),rt(s.$$.fragment)},m(e,a){ot(t,e,a),P(e,n,a),ot(r,e,a),P(e,o,a),ot(s,e,a),i=!0},p(e,n){const o={};11&n&&(o.item={type:"table",database:e[0],schema:e[1],table:e[3]}),t.$set(o);const i={};264&n&&(i.$$scope={dirty:n,ctx:e}),r.$set(i);const a={};395&n&&(a.$$scope={dirty:n,ctx:e}),s.$set(a)},i(e){i||(qe(t.$$.fragment,e),qe(r.$$.fragment,e),qe(s.$$.fragment,e),i=!0)},o(e){Ve(t.$$.fragment,e),Ve(r.$$.fragment,e),Ve(s.$$.fragment,e),i=!1},d(e){st(t,e),e&&R(n),st(r,e),e&&R(o),st(s,e)}}}function X8(e){let t,n,r;return{c(){t=q("Table with id "),n=q(e[2]),r=q(" not found.")},m(e,o){P(e,t,o),P(e,n,o),P(e,r,o)},p(e,t){4&t&&X(n,e[2])},d(e){e&&R(t),e&&R(n),e&&R(r)}}}function J8(e){let t,n;return t=new M5({props:{table:e[3]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};8&n&&(r.table=e[3]),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Z8(e){let t,n;return t=new B8({props:{database:e[0],schema:e[1],table:e[3],recordPk:String(e[7].params.recordPk)}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.database=e[0]),2&n&&(r.schema=e[1]),8&n&&(r.table=e[3]),128&n&&(r.recordPk=String(e[7].params.recordPk)),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Q8(e){let t,n,r,o;const s=[G8,K8],i=[];function a(e,t){return e[3]?0:1}return t=a(e),n=i[t]=s[t](e),{c(){n.c(),r=j()},m(e,n){i[t].m(e,n),P(e,r,n),o=!0},p(e,[o]){let l=t;t=a(e),t===l?i[t].p(e,o):(Fe(),Ve(i[l],1,1,(()=>{i[l]=null})),He(),n=i[t],n?n.p(e,o):(n=i[t]=s[t](e),n.c()),qe(n,1),n.m(r.parentNode,r))},i(e){o||(qe(n),o=!0)},o(e){Ve(n),o=!1},d(e){i[t].d(e),e&&R(r)}}}function e7(e,t,n){let r,o,s;f(e,Iv,(e=>n(5,o=e))),f(e,Cv,(e=>n(4,s=e)));let{database:i}=t,{schema:a}=t,{tableId:l}=t;function c(){k(Iv,o=void 0,o)}return pe((()=>c)),e.$$set=e=>{"database"in e&&n(0,i=e.database),"schema"in e&&n(1,a=e.schema),"tableId"in e&&n(2,l=e.tableId)},e.$$.update=()=>{4&e.$$.dirty&&k(Iv,o=l,o),20&e.$$.dirty&&n(3,r=s.data.get(l))},[i,a,l,r,s]}class t7 extends at{constructor(e){super(),it(this,e,e7,Q8,p,{database:0,schema:1,tableId:2})}}const n7="/api/db/v0/data_files/";function r7(e){return ph(n7,e)}const o7={addViaUrlToFile:e=>r7({url:e}),addViaText:e=>r7({paste:e}),addViaUpload:function(e,t){return function(e,t,n){const r=new XMLHttpRequest;r.open("POST",e);const o=Zg.get("csrftoken");return o&&r.setRequestHeader("X-CSRFToken",o),r.upload.onprogress=e=>{const{loaded:t,total:r}=e;n?.({loaded:t,total:r,percentCompleted:t/r*100})},r.send(t),new lt(((e,t)=>{r.addEventListener("load",(()=>{if(ch.has(r.status))try{const t=JSON.parse(String(r.response));e(t)}catch(n){e(r.response)}else t(new Error("An error has occurred while uploading a file."))}))}),(()=>{r.abort()}))}(n7,e,t)},get:function(e){return dh(`${n7}${e}/`)},update:function(e,t){return $h(`${n7}${e}/`,t)}};class s7{constructor({isLoading:t,settlement:n}){e(this,"settlement",void 0),e(this,"isLoading",void 0),this.isLoading=t,this.settlement=n}get isInitializing(){return this.isLoading&&void 0===this.settlement}get isReloading(){return this.isLoading&&void 0!==this.settlement}get isOk(){return!this.isLoading&&"resolved"===this.settlement?.state}get isStable(){return!this.isLoading&&"rejected"!==this.settlement?.state}get resolvedValue(){return"resolved"===this.settlement?.state?this.settlement.value:void 0}get error(){return"rejected"===this.settlement?.state?this.settlement.error:void 0}get isRejected(){return!this.isLoading&&"rejected"===this.settlement?.state}get hasInitialized(){return void 0!==this.settlement}}class i7{constructor(t,n=Dl){e(this,"runFn",void 0),e(this,"getError",void 0),e(this,"value",mt(new s7({isLoading:!1}))),e(this,"promise",void 0),this.runFn=t,this.getError=n}subscribe(e,t){return this.value.subscribe(e,t)}async run(e){this.cancel(),this.value.update((e=>new s7({...e,isLoading:!0}))),this.promise=this.runFn(e);try{return this.value.set(new s7({settlement:{state:"resolved",value:await this.promise},isLoading:!1})),m(this.value)}catch(t){return this.value.set(new s7({settlement:{state:"rejected",error:this.getError(t)},isLoading:!1})),m(this.value)}}cancel(){this.promise&&"cancel"in this.promise&&this.promise.cancel()}reset(){this.cancel(),this.value.set(new s7({isLoading:!1}))}}const a7=function(e){return dh(`/api/db/v0/tables/${e}/columns/?limit=500`)};function l7(e){let t;return{c(){t=q("Take the first row as column names")},m(e,n){P(e,t,n)},d(e){e&&R(t)}}}function c7(e){let t,n;return t=new nb({props:{icon:Jm,truncate:!1,$$slots:{default:[l7]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const r={};1&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}class u7 extends at{constructor(e){super(),it(this,e,null,c7,p,{})}}function d7(e){let t;return{c(){t=q("Set generic column names, keeping the first row as data")},m(e,n){P(e,t,n)},d(e){e&&R(t)}}}function p7(e){let t,n;return t=new nb({props:{icon:Zm,truncate:!1,$$slots:{default:[d7]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const r={};1&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}class $7 extends at{constructor(e){super(),it(this,e,null,p7,p,{})}}function m7(e){let t,n,r;const o=[{boxed:!0},{options:[!0,!1]},{label:"Column Names"},{getRadioLabel:e[2]},e[1]];function s(t){e[3](t)}let i={};for(let l=0;l<o.length;l+=1)i=a(i,o[l]);return void 0!==e[0]&&(i.value=e[0]),t=new al({props:i}),we.push((()=>nt(t,"value",s))),t.$on("change",e[4]),{c(){rt(t.$$.fragment)},m(e,n){ot(t,e,n),r=!0},p(e,[r]){const s=2&r?et(o,[o[0],o[1],o[2],0&r&&{getRadioLabel:e[2]},2&r&&tt(e[1])]):{};!n&&1&r&&(n=!0,s.value=e[0],Te((()=>n=!1))),t.$set(s)},i(e){r||(qe(t.$$.fragment,e),r=!0)},o(e){Ve(t.$$.fragment,e),r=!1},d(e){st(t,e)}}}function f7(e,t,n){const r=["value"];let o=x(t,r),{value:s=!0}=t;return e.$$set=e=>{t=a(a({},t),w(e)),n(1,o=x(t,r)),"value"in e&&n(0,s=e.value)},[s,o,e=>e?{component:u7}:{component:$7},function(e){s=e,n(0,s)},function(t){ve.call(this,e,t)}]}class g7 extends at{constructor(e){super(),it(this,e,f7,m7,p,{value:0})}}function h7(e){let t,n;return{c(){t=q("Pick the best data type for each column\n  "),n=F("em"),n.textContent="(slower for large imports)"},m(e,r){P(e,t,r),P(e,n,r)},p:s,d(e){e&&R(t),e&&R(n)}}}function y7(e){let t,n;return t=new nb({props:{icon:Om,truncate:!1,$$slots:{default:[h7]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const r={};1&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}class v7 extends at{constructor(e){super(),it(this,e,null,y7,p,{})}}function b7(e){let t,n;return{c(){t=q('Use "Text" for all column data types\n  '),n=F("em"),n.textContent="(faster for large imports)"},m(e,r){P(e,t,r),P(e,n,r)},p:s,d(e){e&&R(t),e&&R(n)}}}function w7(e){let t,n;return t=new nb({props:{icon:Ff,truncate:!1,$$slots:{default:[b7]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const r={};1&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}class x7 extends at{constructor(e){super(),it(this,e,null,w7,p,{})}}function S7(e){let t,n,r;const o=[{boxed:!0},{options:[!0,!1]},{label:"Column Data Types"},{getRadioLabel:e[2]},e[1]];function s(t){e[3](t)}let i={};for(let l=0;l<o.length;l+=1)i=a(i,o[l]);return void 0!==e[0]&&(i.value=e[0]),t=new al({props:i}),we.push((()=>nt(t,"value",s))),t.$on("change",e[4]),{c(){rt(t.$$.fragment)},m(e,n){ot(t,e,n),r=!0},p(e,[r]){const s=2&r?et(o,[o[0],o[1],o[2],0&r&&{getRadioLabel:e[2]},2&r&&tt(e[1])]):{};!n&&1&r&&(n=!0,s.value=e[0],Te((()=>n=!1))),t.$set(s)},i(e){r||(qe(t.$$.fragment,e),r=!0)},o(e){Ve(t.$$.fragment,e),r=!1},d(e){st(t,e)}}}function C7(e,t,n){const r=["value"];let o=x(t,r),{value:s=!0}=t;return e.$$set=e=>{t=a(a({},t),w(e)),n(1,o=x(t,r)),"value"in e&&n(0,s=e.value)},[s,o,e=>e?{component:v7}:{component:x7},function(e){s=e,n(0,s)},function(t){ve.call(this,e,t)}]}class k7 extends at{constructor(e){super(),it(this,e,C7,S7,p,{value:0})}}function D7(e){let t;return{c(){t=q("Retry")},m(e,n){P(e,t,n)},d(e){e&&R(t)}}}function I7(e){let t,n,r,o;const s=[km];let i={};for(let l=0;l<s.length;l+=1)i=a(i,s[l]);return t=new Wr({props:i}),{c(){rt(t.$$.fragment),n=V(),r=F("span"),r.textContent="Delete import",B(r,"class","svelte-1wuw7rs")},m(e,s){ot(t,e,s),P(e,n,s),P(e,r,s),o=!0},p(e,n){const r=0&n?et(s,[tt(km)]):{};t.$set(r)},i(e){o||(qe(t.$$.fragment,e),o=!0)},o(e){Ve(t.$$.fragment,e),o=!1},d(e){st(t,e),e&&R(n),e&&R(r)}}}function _7(e){let t,n,r,o,s,i,a,l,c,u,d,p;return a=new Ln({props:{appearance:"primary",$$slots:{default:[D7]},$$scope:{ctx:e}}}),a.$on("click",e[2]),d=new Ln({props:{appearance:"outline-primary",$$slots:{default:[I7]},$$scope:{ctx:e}}}),d.$on("click",e[3]),{c(){t=F("div"),t.textContent="Failed to load preview",n=V(),r=F("div"),o=q(e[0]),s=V(),i=F("div"),rt(a.$$.fragment),l=V(),c=F("span"),c.textContent="or",u=V(),rt(d.$$.fragment),B(t,"class","title svelte-1wuw7rs"),B(c,"class","svelte-1wuw7rs"),B(i,"class","buttons svelte-1wuw7rs")},m(e,$){P(e,t,$),P(e,n,$),P(e,r,$),A(r,o),P(e,s,$),P(e,i,$),ot(a,i,null),A(i,l),A(i,c),A(i,u),ot(d,i,null),p=!0},p(e,t){(!p||1&t)&&X(o,e[0]);const n={};16&t&&(n.$$scope={dirty:t,ctx:e}),a.$set(n);const r={};16&t&&(r.$$scope={dirty:t,ctx:e}),d.$set(r)},i(e){p||(qe(a.$$.fragment,e),qe(d.$$.fragment,e),p=!0)},o(e){Ve(a.$$.fragment,e),Ve(d.$$.fragment,e),p=!1},d(e){e&&R(t),e&&R(n),e&&R(r),e&&R(s),e&&R(i),st(a),st(d)}}}function T7(e){let t,n;return t=new hy({props:{fullWidth:!0,$$slots:{default:[_7]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const r={};17&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function M7(e,t,n){const r=fe();let{error:o}=t;return e.$$set=e=>{"error"in e&&n(0,o=e.error)},[o,r,()=>r("retry"),()=>r("delete")]}class E7 extends at{constructor(e){super(),it(this,e,M7,T7,p,{error:0})}}const O7=e=>({}),A7=e=>({}),L7=e=>({}),N7=e=>({});function P7(e){let t;const n=e[1].default,r=g(n,e,e[2],null);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||4&o)&&v(r,n,e,e[2],t?y(n,e[2],o,null):b(e[2]),null)},i(e){t||(qe(r,e),t=!0)},o(e){Ve(r,e),t=!1},d(e){r&&r.d(e)}}}function R7(e){let t;return{c(){t=F("h1"),t.textContent="Finish setting up your table",B(t,"slot","header")},m(e,n){P(e,t,n)},p:s,d(e){e&&R(t)}}}function z7(e){let t,n,r,o,s,i,a;r=new e8({props:{$$slots:{header:[R7],default:[P7]},$$scope:{ctx:e}}});const l=e[1].preview,c=g(l,e,e[2],N7),u=e[1].footer,d=g(u,e,e[2],A7);return{c(){t=F("div"),n=F("div"),rt(r.$$.fragment),o=V(),c&&c.c(),s=V(),i=F("div"),d&&d.c(),B(n,"class","page-content svelte-1irkssg"),te(n,"has-preview",e[0].preview),B(i,"class","footer svelte-1irkssg"),B(t,"class","import-preview-content svelte-1irkssg")},m(e,l){P(e,t,l),A(t,n),ot(r,n,null),A(n,o),c&&c.m(n,null),A(t,s),A(t,i),d&&d.m(i,null),a=!0},p(e,t){const o={};4&t&&(o.$$scope={dirty:t,ctx:e}),r.$set(o),c&&c.p&&(!a||4&t)&&v(c,l,e,e[2],a?y(l,e[2],t,L7):b(e[2]),N7),(!a||1&t)&&te(n,"has-preview",e[0].preview),d&&d.p&&(!a||4&t)&&v(d,u,e,e[2],a?y(u,e[2],t,O7):b(e[2]),A7)},i(e){a||(qe(r.$$.fragment,e),qe(c,e),qe(d,e),a=!0)},o(e){Ve(r.$$.fragment,e),Ve(c,e),Ve(d,e),a=!1},d(e){e&&R(t),st(r),c&&c.d(e),d&&d.d(e)}}}function F7(e){let t,n;return t=new rS({props:{fitViewport:!0,cssVariables:{"--max-layout-width":"var(--max-layout-width-data-pages)","--layout-background-color":"var(--slate-50)","--inset-page-section-padding":"var(--size-xx-large)","--page-padding":"var(--outer-page-padding-for-inset-page)"},$$slots:{default:[z7]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const r={};5&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function H7(e,t,n){let{$$slots:r={},$$scope:o}=t;const s=S(r);return e.$$set=e=>{"$$scope"in e&&n(2,o=e.$$scope)},[s,r,o]}class q7 extends at{constructor(e){super(),it(this,e,H7,F7,p,{})}}function V7(e){let t,n=e[3].abstractType.name+"";return{c(){t=q(n)},m(e,n){P(e,t,n)},p(e,r){8&r&&n!==(n=e[3].abstractType.name+"")&&X(t,n)},d(e){e&&R(t)}}}function j7(e){let t,n;return t=new nb({props:{slot:"trigger",icon:e[3].abstractType.getIcon(),$$slots:{default:[V7]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};8&n&&(r.icon=e[3].abstractType.getIcon()),2056&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function W7(e){let t,n,r;function o(...t){return e[9](e[10],...t)}return n=new HZ({props:{column:{...e[3].column,abstractType:e[3].abstractType},showWarnings:!1,save:o}}),n.$on("cancel",(function(){d(e[10])&&e[10].apply(this,arguments)})),{c(){t=F("div"),rt(n.$$.fragment),B(t,"slot","content"),B(t,"class","type-options-content svelte-12dazpn")},m(e,o){P(e,t,o),ot(n,t,null),r=!0},p(t,r){e=t;const s={};8&r&&(s.column={...e[3].column,abstractType:e[3].abstractType}),1048&r&&(s.save=o),n.$set(s)},i(e){r||(qe(n.$$.fragment,e),r=!0)},o(e){Ve(n.$$.fragment,e),r=!1},d(e){e&&R(t),st(n)}}}function U7(e){let t,n,r,o,s,i,a,l,c,u;function d(t){e[7](t)}let p={disabled:e[5]};function $(t){e[8](t)}void 0!==e[0]&&(p.checked=e[0]),r=new $o({props:p}),we.push((()=>nt(r,"checked",d)));let m={disabled:e[2]};return void 0!==e[1]&&(m.value=e[1]),i=new di({props:m}),we.push((()=>nt(i,"value",$))),i.$on("blur",e[6]),c=new ma({props:{disabled:e[5],triggerClass:"column-type",triggerAppearance:"plain",$$slots:{content:[W7,({close:e})=>({10:e}),({close:e})=>e?1024:0],trigger:[j7]},$$scope:{ctx:e}}}),{c(){t=F("div"),n=F("div"),rt(r.$$.fragment),s=V(),rt(i.$$.fragment),l=V(),rt(c.$$.fragment),B(n,"class","column-name svelte-12dazpn"),B(t,"class","column svelte-12dazpn")},m(e,o){P(e,t,o),A(t,n),ot(r,n,null),A(n,s),ot(i,n,null),A(t,l),ot(c,t,null),u=!0},p(e,[t]){const n={};32&t&&(n.disabled=e[5]),!o&&1&t&&(o=!0,n.checked=e[0],Te((()=>o=!1))),r.$set(n);const s={};4&t&&(s.disabled=e[2]),!a&&2&t&&(a=!0,s.value=e[1],Te((()=>a=!1))),i.$set(s);const l={};32&t&&(l.disabled=e[5]),3096&t&&(l.$$scope={dirty:t,ctx:e}),c.$set(l)},i(e){u||(qe(r.$$.fragment,e),qe(i.$$.fragment,e),qe(c.$$.fragment,e),u=!0)},o(e){Ve(r.$$.fragment,e),Ve(i.$$.fragment,e),Ve(c.$$.fragment,e),u=!1},d(e){e&&R(t),st(r),st(i),st(c)}}}function Y7(e,t,n){let r,{isLoading:o=!1}=t,{processedColumn:s}=t,{selected:i}=t,{displayName:a}=t,{updateTypeRelatedOptions:l}=t;return e.$$set=e=>{"isLoading"in e&&n(2,o=e.isLoading),"processedColumn"in e&&n(3,s=e.processedColumn),"selected"in e&&n(0,i=e.selected),"displayName"in e&&n(1,a=e.displayName),"updateTypeRelatedOptions"in e&&n(4,l=e.updateTypeRelatedOptions)},e.$$.update=()=>{12&e.$$.dirty&&n(5,r=s.column.primary_key||o)},[i,a,o,s,l,r,function(){""===a.trim()&&n(1,a=s.column.name)},function(e){i=e,n(0,i)},function(e){a=e,n(1,a)},async(e,t)=>{await l({...s.column,...t}),e()}]}class B7 extends at{constructor(e){super(),it(this,e,Y7,U7,p,{isLoading:2,processedColumn:3,selected:0,displayName:1,updateTypeRelatedOptions:4})}}function K7(e,t,n){const r=e.slice();return r[7]=t[n],r}function G7(e,t,n){const r=e.slice();return r[12]=t[n],r}function X7(e,t,n){const r=e.slice();return r[12]=t[n],r[16]=t,r[17]=n,r}function J7(e){let t,n,r,o,s,i,l,c,u;function d(t){e[5](t,e[12])}function p(t){e[6](t,e[12])}let $={isLoading:e[2],processedColumn:e[12],updateTypeRelatedOptions:e[3]};void 0!==e[0][e[12].id].selected&&($.selected=e[0][e[12].id].selected),void 0!==e[0][e[12].id].displayName&&($.displayName=e[0][e[12].id].displayName),n=new B7({props:$}),we.push((()=>nt(n,"selected",d))),we.push((()=>nt(n,"displayName",p))),i=new lN({props:{columnIdentifierKey:e[12].id,minColumnWidth:120}});let m=[e[10],{style:l=e[15]}],f={};for(let g=0;g<m.length;g+=1)f=a(f,m[g]);return{c(){t=F("div"),rt(n.$$.fragment),s=V(),rt(i.$$.fragment),c=V(),K(t,f),te(t,"svelte-11ufinz",!0)},m(e,r){P(e,t,r),ot(n,t,null),A(t,s),ot(i,t,null),P(e,c,r),u=!0},p(s,a){e=s;const c={};4&a&&(c.isLoading=e[2]),2&a&&(c.processedColumn=e[12]),8&a&&(c.updateTypeRelatedOptions=e[3]),!r&&3&a&&(r=!0,c.selected=e[0][e[12].id].selected,Te((()=>r=!1))),!o&&3&a&&(o=!0,c.displayName=e[0][e[12].id].displayName,Te((()=>o=!1))),n.$set(c);const d={};2&a&&(d.columnIdentifierKey=e[12].id),i.$set(d),K(t,f=et(m,[1024&a&&e[10],(!u||32768&a&&l!==(l=e[15]))&&{style:l}])),te(t,"svelte-11ufinz",!0)},i(e){u||(qe(n.$$.fragment,e),qe(i.$$.fragment,e),u=!0)},o(e){Ve(n.$$.fragment,e),Ve(i.$$.fragment,e),u=!1},d(e){e&&R(t),st(n),st(i),e&&R(c)}}}function Z7(e,t){let n,r,o;return r=new eN({props:{columnIdentifierKey:t[12].id,$$slots:{default:[J7,({htmlAttributes:e,style:t})=>({10:e,15:t}),({htmlAttributes:e,style:t})=>(e?1024:0)|(t?32768:0)]},$$scope:{ctx:t}}}),{key:e,first:null,c(){n=j(),rt(r.$$.fragment),this.first=n},m(e,t){P(e,n,t),ot(r,e,t),o=!0},p(e,n){t=e;const o={};2&n&&(o.columnIdentifierKey=t[12].id),295951&n&&(o.$$scope={dirty:n,ctx:t}),r.$set(o)},i(e){o||(qe(r.$$.fragment,e),o=!0)},o(e){Ve(r.$$.fragment,e),o=!1},d(e){e&&R(n),st(r,e)}}}function Q7(e){let t,n,r=[],o=new Map,s=e[1];const i=e=>e[12].id;for(let a=0;a<s.length;a+=1){let t=X7(e,s,a),n=i(t);o.set(n,r[a]=Z7(n,t))}return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=j()},m(e,o){for(let t=0;t<r.length;t+=1)r[t].m(e,o);P(e,t,o),n=!0},p(e,n){33807&n&&(s=e[1],Fe(),r=Qe(r,n,i,1,e,s,o,t.parentNode,Je,Z7,t,X7),He())},i(e){if(!n){for(let e=0;e<s.length;e+=1)qe(r[e]);n=!0}},o(e){for(let t=0;t<r.length;t+=1)Ve(r[t]);n=!1},d(e){for(let t=0;t<r.length;t+=1)r[t].d(e);e&&R(t)}}}function e9(e){let t,n,r,o,s;n=new kR({props:{columnFabric:e[12],value:e[7][e[12].column.name],showAsSkeleton:e[2],disabled:!0}});let i=[e[10],{style:r=e[15]}],l={};for(let c=0;c<i.length;c+=1)l=a(l,i[c]);return{c(){t=F("div"),rt(n.$$.fragment),o=V(),K(t,l),te(t,"svelte-11ufinz",!0)},m(e,r){P(e,t,r),ot(n,t,null),P(e,o,r),s=!0},p(e,o){const a={};2&o&&(a.columnFabric=e[12]),18&o&&(a.value=e[7][e[12].column.name]),4&o&&(a.showAsSkeleton=e[2]),n.$set(a),K(t,l=et(i,[1024&o&&e[10],(!s||32768&o&&r!==(r=e[15]))&&{style:r}])),te(t,"svelte-11ufinz",!0)},i(e){s||(qe(n.$$.fragment,e),s=!0)},o(e){Ve(n.$$.fragment,e),s=!1},d(e){e&&R(t),st(n),e&&R(o)}}}function t9(e,t){let n,r,o;return r=new eN({props:{columnIdentifierKey:t[12].id,$$slots:{default:[e9,({htmlAttributes:e,style:t})=>({10:e,15:t}),({htmlAttributes:e,style:t})=>(e?1024:0)|(t?32768:0)]},$$scope:{ctx:t}}}),{key:e,first:null,c(){n=j(),rt(r.$$.fragment),this.first=n},m(e,t){P(e,n,t),ot(r,e,t),o=!0},p(e,n){t=e;const o={};2&n&&(o.columnIdentifierKey=t[12].id),295958&n&&(o.$$scope={dirty:n,ctx:t}),r.$set(o)},i(e){o||(qe(r.$$.fragment,e),o=!0)},o(e){Ve(r.$$.fragment,e),o=!1},d(e){e&&R(n),st(r,e)}}}function n9(e){let t,n,r,o,s=[],i=new Map,l=e[1];const c=e=>e[12];for(let a=0;a<l.length;a+=1){let t=G7(e,l,a),n=c(t);i.set(n,s[a]=t9(n,t))}let u=[e[10],{style:n=e[11]}],d={};for(let p=0;p<u.length;p+=1)d=a(d,u[p]);return{c(){t=F("div");for(let e=0;e<s.length;e+=1)s[e].c();r=V(),K(t,d),te(t,"svelte-11ufinz",!0)},m(e,n){P(e,t,n);for(let r=0;r<s.length;r+=1)s[r].m(t,null);P(e,r,n),o=!0},p(e,r){33814&r&&(l=e[1],Fe(),s=Qe(s,r,c,1,e,l,i,t,Je,t9,null,G7),He()),K(t,d=et(u,[1024&r&&e[10],(!o||2048&r&&n!==(n=e[11]))&&{style:n}])),te(t,"svelte-11ufinz",!0)},i(e){if(!o){for(let e=0;e<l.length;e+=1)qe(s[e]);o=!0}},o(e){for(let t=0;t<s.length;t+=1)Ve(s[t]);o=!1},d(e){e&&R(t);for(let t=0;t<s.length;t+=1)s[t].d();e&&R(r)}}}function r9(e,t){let n,r,o;return r=new fP({props:{style:{position:"relative",height:30},$$slots:{default:[n9,({htmlAttributes:e,styleString:t})=>({10:e,11:t}),({htmlAttributes:e,styleString:t})=>(e?1024:0)|(t?2048:0)]},$$scope:{ctx:t}}}),{key:e,first:null,c(){n=j(),rt(r.$$.fragment),this.first=n},m(e,t){P(e,n,t),ot(r,e,t),o=!0},p(e,n){t=e;const o={};265238&n&&(o.$$scope={dirty:n,ctx:t}),r.$set(o)},i(e){o||(qe(r.$$.fragment,e),o=!0)},o(e){Ve(r.$$.fragment,e),o=!1},d(e){e&&R(n),st(r,e)}}}function o9(e){let t,n,r,o,s=[],i=new Map;t=new GL({props:{inheritFontStyle:!0,$$slots:{default:[Q7]},$$scope:{ctx:e}}});let a=e[4];const l=e=>e[7];for(let c=0;c<a.length;c+=1){let t=K7(e,a,c),n=l(t);i.set(n,s[c]=r9(n,t))}return{c(){rt(t.$$.fragment),n=V();for(let e=0;e<s.length;e+=1)s[e].c();r=j()},m(e,i){ot(t,e,i),P(e,n,i);for(let t=0;t<s.length;t+=1)s[t].m(e,i);P(e,r,i),o=!0},p(e,n){const o={};262159&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o),35862&n&&(a=e[4],Fe(),s=Qe(s,n,l,1,e,a,i,r.parentNode,Je,r9,r,K7),He())},i(e){if(!o){qe(t.$$.fragment,e);for(let e=0;e<a.length;e+=1)qe(s[e]);o=!0}},o(e){Ve(t.$$.fragment,e);for(let t=0;t<s.length;t+=1)Ve(s[t]);o=!1},d(e){st(t,e),e&&R(n);for(let t=0;t<s.length;t+=1)s[t].d(e);e&&R(r)}}}function s9(e){let t,n,r;return n=new YL({props:{restrictWidthToRowWidth:!0,columns:e[1],getColumnIdentifier:i9,$$slots:{default:[o9]},$$scope:{ctx:e}}}),{c(){t=F("div"),rt(n.$$.fragment),B(t,"class","import-preview svelte-11ufinz")},m(e,o){P(e,t,o),ot(n,t,null),r=!0},p(e,[t]){const r={};2&t&&(r.columns=e[1]),262175&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(qe(n.$$.fragment,e),r=!0)},o(e){Ve(n.$$.fragment,e),r=!1},d(e){e&&R(t),st(n)}}}const i9=e=>e.id;function a9(e,t,n){let{columns:r}=t,{isLoading:o}=t,{updateTypeRelatedOptions:s}=t,{columnPropertiesMap:i}=t,{records:a}=t;return e.$$set=e=>{"columns"in e&&n(1,r=e.columns),"isLoading"in e&&n(2,o=e.isLoading),"updateTypeRelatedOptions"in e&&n(3,s=e.updateTypeRelatedOptions),"columnPropertiesMap"in e&&n(0,i=e.columnPropertiesMap),"records"in e&&n(4,a=e.records)},[i,r,o,s,a,function(t,r){e.$$.not_equal(i[r.id].selected,t)&&(i[r.id].selected=t,n(0,i))},function(t,r){e.$$.not_equal(i[r.id].displayName,t)&&(i[r.id].displayName=t,n(0,i))}]}class l9 extends at{constructor(e){super(),it(this,e,a9,s9,p,{columns:1,isLoading:2,updateTypeRelatedOptions:3,columnPropertiesMap:0,records:4})}}function c9(e){return Object.fromEntries(e.map((e=>{return[e.id,(t=e,{selected:!0,displayName:t.name})];var t})))}function u9(e,t){return e.filter((e=>t[e.id]?.selected)).map((e=>({id:e.id,name:t[e.id]?.displayName??"",type:e.type,type_options:e.type_options,display_options:e.display_options})))}function d9(e){let t,n;return t=new g7({props:{value:e[0].header,disabled:e[7]}}),t.$on("change",e[18]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1&n[0]&&(r.value=e[0].header),128&n[0]&&(r.disabled=e[7]),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function p9(e){let t,n;return t=new k7({props:{value:e[1],disabled:e[7]}}),t.$on("change",e[19]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};2&n[0]&&(r.value=e[1]),128&n[0]&&(r.disabled=e[7]),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function $9(e){let t;return{c(){t=q("You can customize column names and types within the preview below.")},m(e,n){P(e,t,n)},d(e){e&&R(t)}}}function m9(e){let t,n;return t=new OC({props:{$$slots:{default:[$9]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};8&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function f9(e){let t,n,r,o,s,i,a,l;return t=new By({props:{field:e[2],label:"Table Name"}}),r=new Ay({props:{$$slots:{default:[d9]},$$scope:{ctx:e}}}),s=new Ay({props:{$$slots:{default:[p9]},$$scope:{ctx:e}}}),a=new Ay({props:{$$slots:{default:[m9]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment),n=V(),rt(r.$$.fragment),o=V(),rt(s.$$.fragment),i=V(),rt(a.$$.fragment)},m(e,c){ot(t,e,c),P(e,n,c),ot(r,e,c),P(e,o,c),ot(s,e,c),P(e,i,c),ot(a,e,c),l=!0},p(e,n){const o={};4&n[0]&&(o.field=e[2]),t.$set(o);const i={};129&n[0]|8&n[1]&&(i.$$scope={dirty:n,ctx:e}),r.$set(i);const l={};130&n[0]|8&n[1]&&(l.$$scope={dirty:n,ctx:e}),s.$set(l);const c={};8&n[1]&&(c.$$scope={dirty:n,ctx:e}),a.$set(c)},i(e){l||(qe(t.$$.fragment,e),qe(r.$$.fragment,e),qe(s.$$.fragment,e),qe(a.$$.fragment,e),l=!0)},o(e){Ve(t.$$.fragment,e),Ve(r.$$.fragment,e),Ve(s.$$.fragment,e),Ve(a.$$.fragment,e),l=!1},d(e){st(t,e),e&&R(n),st(r,e),e&&R(o),st(s,e),e&&R(i),st(a,e)}}}function g9(e){let t,n,r,o,s;n=new l9({props:{columns:e[5],isLoading:e[3].isLoading,updateTypeRelatedOptions:e[20],columnPropertiesMap:e[4],records:e[8]}});let i=e[8].length===I9&&w9();return{c(){t=F("div"),rt(n.$$.fragment),r=V(),i&&i.c(),o=j(),B(t,"class","sheet-holder svelte-wa8e2j")},m(e,a){P(e,t,a),ot(n,t,null),P(e,r,a),i&&i.m(e,a),P(e,o,a),s=!0},p(e,t){const r={};32&t[0]&&(r.columns=e[5]),8&t[0]&&(r.isLoading=e[3].isLoading),16&t[0]&&(r.columnPropertiesMap=e[4]),256&t[0]&&(r.records=e[8]),n.$set(r),e[8].length===I9?i?i.p(e,t):(i=w9(),i.c(),i.m(o.parentNode,o)):i&&(i.d(1),i=null)},i(e){s||(qe(n.$$.fragment,e),s=!0)},o(e){Ve(n.$$.fragment,e),s=!1},d(e){e&&R(t),st(n),e&&R(r),i&&i.d(e),e&&R(o)}}}function h9(e){let t,n;return t=new E7({props:{error:e[12].error}}),t.$on("retry",e[17]),t.$on("delete",e[21]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};4096&n[0]&&(r.error=e[12].error),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function y9(e){let t,n;return t=new E7({props:{error:e[3].error}}),t.$on("retry",e[17]),t.$on("delete",e[21]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};8&n[0]&&(r.error=e[3].error),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function v9(e){let t,n,r;return n=new Tr({}),{c(){t=F("div"),rt(n.$$.fragment),B(t,"class","loading svelte-wa8e2j")},m(e,o){P(e,t,o),ot(n,t,null),r=!0},p:s,i(e){r||(qe(n.$$.fragment,e),r=!0)},o(e){Ve(n.$$.fragment,e),r=!1},d(e){e&&R(t),st(n)}}}function b9(e){let t,n;return t=new E7({props:{error:e[11].error}}),t.$on("retry",e[17]),t.$on("delete",e[21]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};2048&n[0]&&(r.error=e[11].error),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function w9(e){let t;return{c(){t=F("div"),t.textContent=`(Preview is truncated at ${I9} rows.)`,B(t,"class","truncation-alert svelte-wa8e2j")},m(e,n){P(e,t,n)},p:s,d(e){e&&R(t)}}}function x9(e){let t,n,r,o,s,i;const a=[b9,v9,y9,h9,g9],l=[];function c(e,t){return e[11].error?0:e[3].hasInitialized?e[3].error?2:e[12].error?3:4:1}return o=c(e),s=l[o]=a[o](e),{c(){t=F("h2"),t.textContent="Table Preview",n=V(),r=F("div"),s.c(),B(t,"class","large-bold-header preview-header svelte-wa8e2j"),B(r,"class","preview-content svelte-wa8e2j")},m(e,s){P(e,t,s),P(e,n,s),P(e,r,s),l[o].m(r,null),i=!0},p(e,t){let n=o;o=c(e),o===n?l[o].p(e,t):(Fe(),Ve(l[n],1,1,(()=>{l[n]=null})),He(),s=l[o],s?s.p(e,t):(s=l[o]=a[o](e),s.c()),qe(s,1),s.m(r,null))},i(e){i||(qe(s),i=!0)},o(e){Ve(s),i=!1},d(e){e&&R(t),e&&R(n),e&&R(r),l[o].d()}}}function S9(e){let t,n;return t=new ro({props:{onCancel:e[21],onProceed:e[22],cancelButton:{icon:km},proceedButton:{label:"Confirm & create table"},canProceed:e[6]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};64&n[0]&&(r.canProceed=e[6]),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function C9(e){let t,n,r;return n=new Tr({}),{c(){t=q("Cleaning up... "),rt(n.$$.fragment)},m(e,o){P(e,t,o),ot(n,e,o),r=!0},p:s,i(e){r||(qe(n.$$.fragment,e),r=!0)},o(e){Ve(n.$$.fragment,e),r=!1},d(e){e&&R(t),st(n,e)}}}function k9(e){let t,n,r,o;const s=[C9,S9],i=[];function a(e,t){return e[10].isLoading?0:1}return t=a(e),n=i[t]=s[t](e),{c(){n.c(),r=j()},m(e,n){i[t].m(e,n),P(e,r,n),o=!0},p(e,o){let l=t;t=a(e),t===l?i[t].p(e,o):(Fe(),Ve(i[l],1,1,(()=>{i[l]=null})),He(),n=i[t],n?n.p(e,o):(n=i[t]=s[t](e),n.c()),qe(n,1),n.m(r.parentNode,r))},i(e){o||(qe(n),o=!0)},o(e){Ve(n),o=!1},d(e){i[t].d(e),e&&R(r)}}}function D9(e){let t,n;return t=new q7({props:{$$slots:{footer:[k9],preview:[x9],default:[f9]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};7679&n[0]|8&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}const I9=20;function _9(e,t,n){let r,o,i,a,l,c,u,d,p,m,g,h,y,v,b,w=s,x=s;f(e,gM,(e=>n(28,p=e))),f(e,Cv,(e=>n(30,h=e))),e.$$.on_destroy.push((()=>w())),e.$$.on_destroy.push((()=>x()));const S=new i7(a7);f(e,S,(e=>n(11,v=e)));const C=new i7(Sv);f(e,C,(e=>n(3,g=e)));const k=new i7(xv),D=new i7((async function(e){return await Promise.all([yv(e.database,e.schema,e.table.id),o7.update(e.dataFile.id,{header:e.firstRowIsHeader})]),vv(e.database,e.schema,{name:e.customizedTableName,dataFiles:[e.dataFile.id]})}));f(e,D,(e=>n(12,b=e)));const I=new i7((e=>yv(e.database,e.schema,e.table.id)));f(e,I,(e=>n(10,y=e)));let{database:_}=t,{schema:T}=t,{table:M}=t,{dataFile:E}=t,{useColumnTypeInference:O=!1}=t,A=[],L=c9([]);async function N(){const e=(await S.run(M.id))?.resolvedValue?.results;if(e){if(n(26,A=e),n(4,L=c9(A)),O){const e=await k.run(M.id);if("resolved"===e.settlement?.state){const t=e.settlement.value;n(26,A=A.map((e=>({...e,type:t[e.name]??e.type}))))}}await C.run({table:M,columns:A})}}function P(e){const t=e.table?.id??M.id;hg.goto(Fg(_.name,T.id,t,{useColumnTypeInference:e.useColumnTypeInference??O}),!0)}return e.$$set=e=>{"database"in e&&n(23,_=e.database),"schema"in e&&n(24,T=e.schema),"table"in e&&n(25,M=e.table),"dataFile"in e&&n(0,E=e.dataFile),"useColumnTypeInference"in e&&n(1,O=e.useColumnTypeInference)},e.$$.update=()=>{1107296256&e.$$.dirty[0]&&n(27,r=[...h.data.values()].filter((e=>e.id!==M.id)).map((e=>e.name))),167772160&e.$$.dirty[0]&&(n(2,o=rv(M.name,[ny(r,"A table with this name already exists.")])),w(),w=$(o,(e=>n(31,d=e)))),4&e.$$.dirty[0]&&(n(9,i=sv({customizedTableName:o})),x(),x=$(i,(e=>n(29,m=e)))),8&e.$$.dirty[0]&&n(8,a=g.resolvedValue?.records??[{},{}]),8&e.$$.dirty[0]&&n(7,l=!g.isOk),536870920&e.$$.dirty[0]&&n(6,c=g.isOk&&m.canSubmit),335544320&e.$$.dirty[0]&&n(5,u=function(e,t){return e.map((e=>{const n=iM(e.type,t);return{id:e.id,column:e,abstractType:n,cellComponentAndProps:eL({cellInfo:n.cellInfo,column:e})}}))}(A,p.data)),33554434&e.$$.dirty[0]&&N()},[E,O,o,g,L,u,c,l,a,i,y,v,b,S,C,D,I,N,async function(){C.reset();const e=await D.run({database:_,dataFile:E,firstRowIsHeader:!E.header,schema:T,table:M,customizedTableName:d});e.resolvedValue&&P({table:e.resolvedValue})},async function(){C.reset(),P({useColumnTypeInference:!O})},function(e){return n(26,A=A.map((t=>t.id===e.id?e:t))),C.run({table:M,columns:A})},async function(){const e=await I.run({database:_,schema:T,table:M});e.isOk?hg.goto(Lg(_.name,T.id),!0):Uf.fromError(e.error)},async function(){try{await function(e,t){const n=$h(`/api/db/v0/tables/${e}/`,t);return new lt(((t,r)=>{n.then((n=>(hv(e,n),t(n))),r)}),(()=>{n.cancel()}))}(M.id,{name:d,import_verified:!0,columns:u9(A,L)}),hg.goto(jg(_.name,T.id,M.id),!0)}catch(e){Uf.fromError(e)}},_,T,M,A,r,p,m,h]}class T9 extends at{constructor(e){super(),it(this,e,_9,D9,p,{database:23,schema:24,table:25,dataFile:0,useColumnTypeInference:1},null,[-1,-1])}}function M9(e){let t,n;return t=new q7({props:{$$slots:{default:[L9]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1056&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function E9(e){let t,n;return t=new q7({props:{$$slots:{default:[N9]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1024&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function O9(e){let t,n;return t=new T9({props:{database:e[0],schema:e[1],table:e[4].resolvedValue,dataFile:e[3].resolvedValue,useColumnTypeInference:e[2]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.database=e[0]),2&n&&(r.schema=e[1]),16&n&&(r.table=e[4].resolvedValue),8&n&&(r.dataFile=e[3].resolvedValue),4&n&&(r.useColumnTypeInference=e[2]),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function A9(e){let t,n,r,o,s=Dl(e[5])+"";return{c(){t=F("p"),t.textContent="Unable to load import table",n=V(),r=F("p"),o=q(s)},m(e,s){P(e,t,s),P(e,n,s),P(e,r,s),A(r,o)},p(e,t){32&t&&s!==(s=Dl(e[5])+"")&&X(o,s)},d(e){e&&R(t),e&&R(n),e&&R(r)}}}function L9(e){let t,n;return t=new hy({props:{$$slots:{default:[A9]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1056&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function N9(e){let t,n;return t=new Tr({}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function P9(e){let t,n,r,o,s,i;document.title=t=hS("Import");const a=[O9,E9,M9],l=[];function c(e,t){return e[4].resolvedValue&&e[3].resolvedValue?0:e[4].isLoading||e[3].isLoading?1:2}return r=c(e),o=l[r]=a[r](e),{c(){n=V(),o.c(),s=j()},m(e,t){P(e,n,t),l[r].m(e,t),P(e,s,t),i=!0},p(e,[n]){(!i||0&n)&&t!==(t=hS("Import"))&&(document.title=t);let u=r;r=c(e),r===u?l[r].p(e,n):(Fe(),Ve(l[u],1,1,(()=>{l[u]=null})),He(),o=l[r],o?o.p(e,n):(o=l[r]=a[r](e),o.c()),qe(o,1),o.m(s.parentNode,s))},i(e){i||(qe(o),i=!0)},o(e){Ve(o),i=!1},d(e){e&&R(n),l[r].d(e),e&&R(s)}}}function R9(e,t,n){let r,o,s;const i=new i7(wv);f(e,i,(e=>n(4,s=e)));const a=new i7(o7.get);f(e,a,(e=>n(3,o=e)));let{database:l}=t,{schema:c}=t,{tableId:u}=t,{useColumnTypeInference:d=!1}=t;function p(){hg.goto(jg(l.name,c.id,u))}return e.$$set=e=>{"database"in e&&n(0,l=e.database),"schema"in e&&n(1,c=e.schema),"tableId"in e&&n(8,u=e.tableId),"useColumnTypeInference"in e&&n(2,d=e.useColumnTypeInference)},e.$$.update=()=>{256&e.$$.dirty&&(async()=>{const e=(await i.run(u)).resolvedValue;if(!e)return;if(e.import_verified)return void p();const t=e.data_files?.[0];void 0!==t?await a.run(t):p()})(),24&e.$$.dirty&&n(5,r=s.error??o.error)},[l,c,d,o,s,r,i,a,u]}class z9 extends at{constructor(e){super(),it(this,e,R9,P9,p,{database:0,schema:1,tableId:8,useColumnTypeInference:2})}}function F9(e){let t,n,r;return n=new Ln({props:{$$slots:{default:[H9]},$$scope:{ctx:e}}}),n.$on("click",e[4]),{c(){t=F("div"),rt(n.$$.fragment),B(t,"class","button svelte-j8a923")},m(e,o){P(e,t,o),ot(n,t,null),r=!0},p(e,t){const r={};4096&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(qe(n.$$.fragment,e),r=!0)},o(e){Ve(n.$$.fragment,e),r=!1},d(e){e&&R(t),st(n)}}}function H9(e){let t;return{c(){t=q("Cancel upload")},m(e,n){P(e,t,n)},d(e){e&&R(t)}}}function q9(e){let t,n,r,o,s;function i(t){e[9](t)}let a={fileProgress:e[2]};void 0!==e[0]&&(a.fileUploads=e[0]),t=new mu({props:a}),we.push((()=>nt(t,"fileUploads",i))),t.$on("add",e[3]);let l=e[1]&&F9(e);return{c(){rt(t.$$.fragment),r=V(),l&&l.c(),o=j()},m(e,n){ot(t,e,n),P(e,r,n),l&&l.m(e,n),P(e,o,n),s=!0},p(e,[r]){const s={};4&r&&(s.fileProgress=e[2]),!n&&1&r&&(n=!0,s.fileUploads=e[0],Te((()=>n=!1))),t.$set(s),e[1]?l?(l.p(e,r),2&r&&qe(l,1)):(l=F9(e),l.c(),qe(l,1),l.m(o.parentNode,o)):l&&(Fe(),Ve(l,1,1,(()=>{l=null})),He())},i(e){s||(qe(t.$$.fragment,e),qe(l),s=!0)},o(e){Ve(t.$$.fragment,e),Ve(l),s=!1},d(e){st(t,e),e&&R(r),l&&l.d(e),e&&R(o)}}}function V9(e,t,n){let r,o,s,i,{value:a}=t,{isUploading:l=!1}=t,c=0;function u(){n(5,a=void 0),n(6,l=!1),n(0,s=void 0),n(7,c=0),n(1,i=void 0)}function d(e){n(7,c=e.percentCompleted)}function p(){i&&i.cancel(),u()}return me(p),e.$$set=e=>{"value"in e&&n(5,a=e.value),"isUploading"in e&&n(6,l=e.isUploading)},e.$$.update=()=>{32&e.$$.dirty&&void 0===a&&u(),1&e.$$.dirty&&n(8,r=s?.[0]),448&e.$$.dirty&&n(2,o=(()=>{if(!r)return{};const e=l?Math.min(c,98):100;return{[r.fileId]:e}})())},[s,i,o,async function(e){try{const t=new FormData;t.append("file",e.detail.added[0].file),n(6,l=!0),n(1,i=o7.addViaUpload(t,d));const r=await i;n(5,a=r.id),n(6,l=!1),n(1,i=void 0)}catch(t){Uf.fromError(t),u()}},p,a,l,c,r,function(e){s=e,n(0,s)}]}class j9 extends at{constructor(e){super(),it(this,e,V9,q9,p,{value:5,isUploading:6})}}function W9(e,t,n){const r=e.slice();return r[23]=t[n],r}function U9(e){let t,n,r,o,s,i;return t=new Ay({props:{$$slots:{default:[eee]},$$scope:{ctx:e}}}),r=new By({props:{field:e[11],input:{component:k7}}}),s=new Ay({props:{$$slots:{default:[tee]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment),n=V(),rt(r.$$.fragment),o=V(),rt(s.$$.fragment)},m(e,a){ot(t,e,a),P(e,n,a),ot(r,e,a),P(e,o,a),ot(s,e,a),i=!0},p(e,n){const r={};67108889&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r);const o={};67108900&n&&(o.$$scope={dirty:n,ctx:e}),s.$set(o)},i(e){i||(qe(t.$$.fragment,e),qe(r.$$.fragment,e),qe(s.$$.fragment,e),i=!0)},o(e){Ve(t.$$.fragment,e),Ve(r.$$.fragment,e),Ve(s.$$.fragment,e),i=!1},d(e){st(t,e),e&&R(n),st(r,e),e&&R(o),st(s,e)}}}function Y9(e){let t,n;return t=new hy({props:{$$slots:{default:[ree]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};67108866&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function B9(e){let t,n,r,o,s,i,a,l,c=e[4].general.processingData()+"";return s=new Tr({}),a=new dk({props:{$$slots:{default:[oee]},$$scope:{ctx:e}}}),{c(){t=F("h2"),n=q(c),r=V(),o=F("div"),rt(s.$$.fragment),i=V(),rt(a.$$.fragment),B(o,"class","processing-spinner svelte-ghvmhi")},m(e,c){P(e,t,c),A(t,n),P(e,r,c),P(e,o,c),ot(s,o,null),P(e,i,c),ot(a,e,c),l=!0},p(e,t){(!l||16&t)&&c!==(c=e[4].general.processingData()+"")&&X(n,c);const r={};67108880&t&&(r.$$scope={dirty:t,ctx:e}),a.$set(r)},i(e){l||(qe(s.$$.fragment,e),qe(a.$$.fragment,e),l=!0)},o(e){Ve(s.$$.fragment,e),Ve(a.$$.fragment,e),l=!1},d(e){e&&R(t),e&&R(r),e&&R(o),st(s),e&&R(i),st(a,e)}}}function K9(e){let t,n=_l(e[0].key)+"";return{c(){t=q(n)},m(e,n){P(e,t,n)},p(e,r){1&r&&n!==(n=_l(e[0].key)+"")&&X(t,n)},i:s,o:s,d(e){e&&R(t)}}}function G9(e){let t,n;return t=new By({props:{field:e[9],label:"Paste the data you want to import",layout:"stacked",input:{component:gl,props:{rows:10}}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p:s,i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function X9(e){let t,n;return t=new By({props:{field:e[8],layout:"stacked",label:"Enter the URL of the file you want to import"}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p:s,i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function J9(e){let t,n,r;function o(t){e[16](t)}let s={};return void 0!==e[3]&&(s.value=e[3]),t=new j9({props:s}),we.push((()=>nt(t,"value",o))),{c(){rt(t.$$.fragment)},m(e,n){ot(t,e,n),r=!0},p(e,r){const o={};!n&&8&r&&(n=!0,o.value=e[3],Te((()=>n=!1))),t.$set(o)},i(e){r||(qe(t.$$.fragment,e),r=!0)},o(e){Ve(t.$$.fragment,e),r=!1},d(e){st(t,e)}}}function Z9(e){let t;return{c(){t=q("documentation")},m(e,n){P(e,t,n)},d(e){e&&R(t)}}}function Q9(e){let t,n,r,o,s,i,a,l,c,u;const d=[J9,X9,G9,K9],p=[];function $(e,t){return"file"===e[0].key?0:"url"===e[0].key?1:"clipboard"===e[0].key?2:3}return r=$(e),o=p[r]=d[r](e),l=new bS({props:{path:"/user-guide/importing-data/",$$slots:{default:[Z9]},$$scope:{ctx:e}}}),{c(){t=F("div"),n=F("div"),o.c(),s=V(),i=F("div"),a=q("The data must be in tabular format (CSV, TSV etc) or JSON. See\n              relevant\n              "),rt(l.$$.fragment),c=q("."),B(n,"class","data-source-input svelte-ghvmhi"),B(i,"class","upload-format-help svelte-ghvmhi"),B(t,"class","data-source-detail"),B(t,"slot","extra")},m(e,o){P(e,t,o),A(t,n),p[r].m(n,null),A(t,s),A(t,i),A(i,a),ot(l,i,null),A(i,c),u=!0},p(e,t){let s=r;r=$(e),r===s?p[r].p(e,t):(Fe(),Ve(p[s],1,1,(()=>{p[s]=null})),He(),o=p[r],o?o.p(e,t):(o=p[r]=d[r](e),o.c()),qe(o,1),o.m(n,null));const i={};67108864&t&&(i.$$scope={dirty:t,ctx:e}),l.$set(i)},i(e){u||(qe(o),qe(l.$$.fragment,e),u=!0)},o(e){Ve(o),Ve(l.$$.fragment,e),u=!1},d(e){e&&R(t),p[r].d(),st(l)}}}function eee(e){let t,n,r;function o(t){e[18](t)}let s={boxed:!0,options:e[6],isInline:!0,label:e[4].general.dataSource(),getRadioLabel:e[17],$$slots:{extra:[Q9]},$$scope:{ctx:e}};return void 0!==e[0]&&(s.value=e[0]),t=new al({props:s}),we.push((()=>nt(t,"value",o))),{c(){rt(t.$$.fragment)},m(e,n){ot(t,e,n),r=!0},p(e,r){const o={};16&r&&(o.label=e[4].general.dataSource()),67108873&r&&(o.$$scope={dirty:r,ctx:e}),!n&&1&r&&(n=!0,o.value=e[0],Te((()=>n=!1))),t.$set(o)},i(e){r||(qe(t.$$.fragment,e),r=!0)},o(e){Ve(t.$$.fragment,e),r=!1},d(e){st(t,e)}}}function tee(e){let t,n;return t=new Zy({props:{form:e[2],onProceed:e[13],onCancel:e[12],cancelButton:{label:"Reset"},canCancel:e[5].hasChanges}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};4&n&&(r.form=e[2]),32&n&&(r.canCancel=e[5].hasChanges),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function nee(e){let t,n,r=e[23]+"";return{c(){t=F("li"),n=q(r)},m(e,r){P(e,t,r),A(t,n)},p(e,t){2&t&&r!==(r=e[23]+"")&&X(n,r)},d(e){e&&R(t)}}}function ree(e){let t,n=e[1].errors,r=[];for(let o=0;o<n.length;o+=1)r[o]=nee(W9(e,n,o));return{c(){t=F("ul");for(let e=0;e<r.length;e+=1)r[e].c()},m(e,n){P(e,t,n);for(let o=0;o<r.length;o+=1)r[o].m(t,null)},p(e,o){if(2&o){let s;for(n=e[1].errors,s=0;s<n.length;s+=1){const i=W9(e,n,s);r[s]?r[s].p(i,o):(r[s]=nee(i),r[s].c(),r[s].m(t,null))}for(;s<r.length;s+=1)r[s].d(1);r.length=n.length}},d(e){e&&R(t),z(r,e)}}}function oee(e){let t,n=e[4].importUploadPage.largeDataTakesTimeWarning()+"";return{c(){t=q(n)},m(e,n){P(e,t,n)},p(e,r){16&r&&n!==(n=e[4].importUploadPage.largeDataTakesTimeWarning()+"")&&X(t,n)},d(e){e&&R(t)}}}function see(e){let t,n,r,o,s,i,a,l=e[4].importUploadPage.createATableByImporting()+"";const c=[B9,Y9,U9],u=[];function d(e,t){return"processing"===e[1]?.state?0:"failure"===e[1]?.state?1:2}return s=d(e),i=u[s]=c[s](e),{c(){t=F("h1"),n=q(l),r=V(),o=F("div"),i.c(),B(o,"class","import-file-view svelte-ghvmhi")},m(e,i){P(e,t,i),A(t,n),P(e,r,i),P(e,o,i),u[s].m(o,null),a=!0},p(e,t){(!a||16&t)&&l!==(l=e[4].importUploadPage.createATableByImporting()+"")&&X(n,l);let r=s;s=d(e),s===r?u[s].p(e,t):(Fe(),Ve(u[r],1,1,(()=>{u[r]=null})),He(),i=u[s],i?i.p(e,t):(i=u[s]=c[s](e),i.c()),qe(i,1),i.m(o,null))},i(e){a||(qe(i),a=!0)},o(e){Ve(i),a=!1},d(e){e&&R(t),e&&R(r),e&&R(o),u[s].d()}}}function iee(e){let t,n,r,o;return document.title=t=hS(e[4].general.import()),r=new rS({props:{restrictWidth:!0,cssVariables:{"--page-padding":"var(--inset-page-padding)","--max-layout-width":"var(--max-layout-width-data-pages)","--layout-background-color":"var(--sand-200)"},$$slots:{default:[see]},$$scope:{ctx:e}}}),{c(){n=V(),rt(r.$$.fragment)},m(e,t){P(e,n,t),ot(r,e,t),o=!0},p(e,[n]){(!o||16&n)&&t!==(t=hS(e[4].general.import()))&&(document.title=t);const s={};67108927&n&&(s.$$scope={dirty:n,ctx:e}),r.$set(s)},i(e){o||(qe(r.$$.fragment,e),o=!0)},o(e){Ve(r.$$.fragment,e),o=!1},d(e){e&&R(n),st(r,e)}}}function aee(e,t,n){let r,o,i,a,l,c,u,d,p=s;f(e,A2,(e=>n(4,u=e))),e.$$.on_destroy.push((()=>p()));let{database:m}=t,{schema:g}=t;const h=[{key:"file",label:u.importUploadPage.uploadAFile(),icon:yr},{key:"url",label:u.importUploadPage.provideUrlToFile(),icon:_f},{key:"clipboard",label:u.importUploadPage.copyAndPasteText(),icon:Gm}],y=rv(h[0]);f(e,y,(e=>n(0,i=e)));const v=rv("");f(e,v,(e=>n(21,l=e)));const b=rv("");f(e,b,(e=>n(20,a=e)));const w=rv(void 0);f(e,w,(e=>n(3,c=e)));const x=rv(!0);let S;f(e,x,(e=>n(19,o=e)));return e.$$set=e=>{"database"in e&&n(14,m=e.database),"schema"in e&&n(15,g=e.schema)},e.$$.update=()=>{1&e.$$.dirty&&(n(2,r=(()=>{const e={uploadMethod:y,useColumnTypeInference:x};return"file"===i.key?sv({...e,fileUploadId:w}):"url"===i.key?sv({...e,urlToFile:v}):"clipboard"===i.key?sv({...e,clipboardContent:b}):_l(i.key)})()),p(),p=$(r,(e=>n(5,d=e))))},[i,S,r,c,u,d,h,y,v,b,w,x,function(){r.reset(),n(1,S=void 0)},async function(){try{n(1,S={state:"processing"});const e=await async function(){if("file"===i.key){if(void 0===c)throw new Error(u.general.noFileUploaded());return c}return"url"===i.key?(await o7.addViaUrlToFile(l)).id:"clipboard"===i.key?(await o7.addViaText(a)).id:_l(i.key)}();if(void 0===e)return;const t=await vv(m,g,{dataFiles:[e]}),r=Fg(m.name,g.id,t.id,{useColumnTypeInference:o});hg.goto(r,!0),n(1,S=void 0)}catch(e){n(1,S={state:"failure",errors:[Dl(e)]})}},m,g,function(e){c=e,w.set(c)},e=>({component:nb,props:{name:e.label,icon:e.icon}}),function(e){i=e,y.set(i)}]}class lee extends at{constructor(e){super(),it(this,e,aee,iee,p,{database:14,schema:15})}}function cee(e){const t={useColumnTypeInference:"true"===e[2].query.inference};e[3]=t;const n=parseInt(e[2].params.tableIdString,10);e[4]=n}function uee(e){let t,n;return t=new lee({props:{database:e[0],schema:e[1]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.database=e[0]),2&n&&(r.schema=e[1]),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function dee(e){let t,n;cee(e);const r=[{database:e[0]},{schema:e[1]},{tableId:e[4]},e[3]];let o={};for(let s=0;s<r.length;s+=1)o=a(o,r[s]);return t=new z9({props:o}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){cee(e);const o=7&n?et(r,[1&n&&{database:e[0]},2&n&&{schema:e[1]},4&n&&{tableId:e[4]},4&n&&tt(e[3])]):{};t.$set(o)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function pee(e){let t,n,r,o,s,i;return t=new uI({props:{item:{type:"simple",href:Rg(e[0].name,e[1].id),label:"Import",icon:Em}}}),r=new Tg({props:{path:"/",$$slots:{default:[uee]},$$scope:{ctx:e}}}),s=new Tg({props:{path:"/:tableIdString",$$slots:{default:[dee,({meta:e})=>({2:e}),({meta:e})=>e?4:0]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment),n=V(),rt(r.$$.fragment),o=V(),rt(s.$$.fragment)},m(e,a){ot(t,e,a),P(e,n,a),ot(r,e,a),P(e,o,a),ot(s,e,a),i=!0},p(e,[n]){const o={};3&n&&(o.item={type:"simple",href:Rg(e[0].name,e[1].id),label:"Import",icon:Em}),t.$set(o);const i={};35&n&&(i.$$scope={dirty:n,ctx:e}),r.$set(i);const a={};39&n&&(a.$$scope={dirty:n,ctx:e}),s.$set(a)},i(e){i||(qe(t.$$.fragment,e),qe(r.$$.fragment,e),qe(s.$$.fragment,e),i=!0)},o(e){Ve(t.$$.fragment,e),Ve(r.$$.fragment,e),Ve(s.$$.fragment,e),i=!1},d(e){st(t,e),e&&R(n),st(r,e),e&&R(o),st(s,e)}}}function $ee(e,t,n){let{database:r}=t,{schema:o}=t;return e.$$set=e=>{"database"in e&&n(0,r=e.database),"schema"in e&&n(1,o=e.schema)},[r,o]}class mee extends at{constructor(e){super(),it(this,e,$ee,pee,p,{database:0,schema:1})}}const fee={list:function(e){return dh(`/api/ui/v0/queries/${e}/shares/`)},add:function(e,t){return ph(`/api/ui/v0/queries/${e}/shares/`,t)},update:function(e,t,n){return $h(`/api/ui/v0/queries/${e}/shares/${t}/`,n)},regenerate:function(e,t){return ph(`/api/ui/v0/tables/${e}/shares/${t}/regenerate/`)}};function gee(e){let t,n,r,o;const s=[Qm];let i={};for(let l=0;l<s.length;l+=1)i=a(i,s[l]);return t=new Wr({props:i}),{c(){rt(t.$$.fragment),n=V(),r=F("span"),r.textContent="Share",B(r,"class","responsive-button-label")},m(e,s){ot(t,e,s),P(e,n,s),P(e,r,s),o=!0},p(e,n){const r=0&n?et(s,[tt(Qm)]):{};t.$set(r)},i(e){o||(qe(t.$$.fragment,e),o=!0)},o(e){Ve(t.$$.fragment,e),o=!1},d(e){st(t,e),e&&R(n),e&&R(r)}}}function hee(e){let t,n;return t=new d5({props:{slot:"content",entityId:e[0],api:fee,text:{header:"Share Exploration",description:"Give read-only access to this exploration to anyone via a link.",empty:"This exploration is currently not shared."},getLink:e[2]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.entityId=e[0]),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function yee(e){let t,n;const r=[{showArrow:!1},{triggerAppearance:"secondary"},e[1],{ariaLabel:"Share"}];let o={$$slots:{content:[hee],trigger:[gee]},$$scope:{ctx:e}};for(let s=0;s<r.length;s+=1)o=a(o,r[s]);return t=new ma({props:o}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const o=2&n?et(r,[r[0],r[1],tt(e[1]),r[3]]):{};9&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function vee(e,t,n){const r=["id"];let o=x(t,r),{id:s}=t;return e.$$set=e=>{t=a(a({},t),w(e)),n(1,o=x(t,r)),"id"in e&&n(0,s=e.id)},[s,o,e=>`/shares/explorations/${e.slug}/`]}class bee extends at{constructor(e){super(),it(this,e,vee,yee,p,{id:0})}}function wee(e){let t,n,r,o=e[4]&&xee(e);return n=new bee({props:{id:e[3].id}}),{c(){o&&o.c(),t=V(),rt(n.$$.fragment)},m(e,s){o&&o.m(e,s),P(e,t,s),ot(n,e,s),r=!0},p(e,r){e[4]?o?o.p(e,r):(o=xee(e),o.c(),o.m(t.parentNode,t)):o&&(o.d(1),o=null);const s={};8&r&&(s.id=e[3].id),n.$set(s)},i(e){r||(qe(n.$$.fragment,e),r=!0)},o(e){Ve(n.$$.fragment,e),r=!1},d(e){o&&o.d(e),e&&R(t),st(n,e)}}}function xee(e){let t,n,r;return{c(){t=F("a"),n=F("span"),n.textContent="Edit in Data Explorer",B(t,"class","btn btn-primary"),B(t,"href",r=Vg(e[1].name,e[2].id,e[3].id))},m(e,r){P(e,t,r),A(t,n)},p(e,n){14&n&&r!==(r=Vg(e[1].name,e[2].id,e[3].id))&&B(t,"href",r)},d(e){e&&R(t)}}}function See(e){let t,n,r,o;const s=[yf];let i={};for(let l=0;l<s.length;l+=1)i=a(i,s[l]);return t=new Wr({props:i}),{c(){rt(t.$$.fragment),n=V(),r=F("span"),r.textContent="Inspector"},m(e,s){ot(t,e,s),P(e,n,s),P(e,r,s),o=!0},p(e,n){const r=0&n?et(s,[tt(yf)]):{};t.$set(r)},i(e){o||(qe(t.$$.fragment,e),o=!0)},o(e){Ve(t.$$.fragment,e),o=!1},d(e){st(t,e),e&&R(n),e&&R(r)}}}function Cee(e){let t,n,r,o="shared-consumer-page"!==e[5]&&wee(e);return n=new Ln({props:{appearance:"secondary",$$slots:{default:[See]},$$scope:{ctx:e}}}),n.$on("click",e[6]),{c(){o&&o.c(),t=V(),rt(n.$$.fragment)},m(e,s){o&&o.m(e,s),P(e,t,s),ot(n,e,s),r=!0},p(e,r){"shared-consumer-page"!==e[5]?o?(o.p(e,r),32&r&&qe(o,1)):(o=wee(e),o.c(),qe(o,1),o.m(t.parentNode,t)):o&&(Fe(),Ve(o,1,1,(()=>{o=null})),He());const s={};128&r&&(s.$$scope={dirty:r,ctx:e}),n.$set(s)},i(e){r||(qe(o),qe(n.$$.fragment,e),r=!0)},o(e){Ve(o),Ve(n.$$.fragment,e),r=!1},d(e){o&&o.d(e),e&&R(t),st(n,e)}}}function kee(e){let t,n;return t=new JI({props:{title:{icon:sf,name:e[3].name,description:e[3].description},$$slots:{"actions-right":[Cee]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const r={};8&n&&(r.title={icon:sf,name:e[3].name,description:e[3].description}),191&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Dee(e,t,n){let{database:r}=t,{schema:o}=t,{query:s}=t,{isInspectorOpen:i=!0}=t,{canEditMetadata:a}=t,{context:l="page"}=t;return e.$$set=e=>{"database"in e&&n(1,r=e.database),"schema"in e&&n(2,o=e.schema),"query"in e&&n(3,s=e.query),"isInspectorOpen"in e&&n(0,i=e.isInspectorOpen),"canEditMetadata"in e&&n(4,a=e.canEditMetadata),"context"in e&&n(5,l=e.context)},[i,r,o,s,a,l,()=>{n(0,i=!i)}]}class Iee extends at{constructor(e){super(),it(this,e,Dee,kee,p,{database:1,schema:2,query:3,isInspectorOpen:0,canEditMetadata:4,context:5})}}function _ee(e){let t,n,r,o,s,i;function a(t){e[12](t)}let l={query:e[2],database:e[0],schema:e[1],canEditMetadata:e[6],context:e[5]};return void 0!==e[4]&&(l.isInspectorOpen=e[4]),n=new Iee({props:l}),we.push((()=>nt(n,"isInspectorOpen",a))),s=new jR({props:{isInspectorOpen:e[4],queryHandler:e[3],canEditMetadata:e[6],$$slots:{default:[Tee]},$$scope:{ctx:e}}}),s.$on("delete",e[8]),{c(){t=F("div"),rt(n.$$.fragment),o=V(),rt(s.$$.fragment),B(t,"class","exploration-page svelte-weidhd")},m(e,r){P(e,t,r),ot(n,t,null),A(t,o),ot(s,t,null),i=!0},p(e,t){const o={};4&t&&(o.query=e[2]),1&t&&(o.database=e[0]),2&t&&(o.schema=e[1]),64&t&&(o.canEditMetadata=e[6]),32&t&&(o.context=e[5]),!r&&16&t&&(r=!0,o.isInspectorOpen=e[4],Te((()=>r=!1))),n.$set(o);const i={};16&t&&(i.isInspectorOpen=e[4]),8&t&&(i.queryHandler=e[3]),64&t&&(i.canEditMetadata=e[6]),16392&t&&(i.$$scope={dirty:t,ctx:e}),s.$set(i)},i(e){i||(qe(n.$$.fragment,e),qe(s.$$.fragment,e),i=!0)},o(e){Ve(n.$$.fragment,e),Ve(s.$$.fragment,e),i=!1},d(e){e&&R(t),st(n),st(s)}}}function Tee(e){let t,n;return t=new Cq({props:{queryHandler:e[3],isExplorationPage:!0}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};8&n&&(r.queryHandler=e[3]),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Mee(e){let t,n,r=e[3]&&_ee(e);return{c(){r&&r.c(),t=j()},m(e,o){r&&r.m(e,o),P(e,t,o),n=!0},p(e,n){e[3]?r?(r.p(e,n),8&n&&qe(r,1)):(r=_ee(e),r.c(),qe(r,1),r.m(t.parentNode,t)):r&&(Fe(),Ve(r,1,1,(()=>{r=null})),He())},i(e){n||(qe(r),n=!0)},o(e){Ve(r),n=!1},d(e){r&&r.d(e),e&&R(t)}}}function Eee(e){let t,n,r,o;return document.title=t=e[2].name+" | "+e[1].name+" | Mathesar",r=new rS({props:{fitViewport:!0,$$slots:{default:[Mee]},$$scope:{ctx:e}}}),{c(){n=V(),rt(r.$$.fragment)},m(e,t){P(e,n,t),ot(r,e,t),o=!0},p(e,[n]){(!o||6&n)&&t!==(t=e[2].name+" | "+e[1].name+" | Mathesar")&&(document.title=t);const s={};16511&n&&(s.$$scope={dirty:n,ctx:e}),r.$set(s)},i(e){o||(qe(r.$$.fragment,e),o=!0)},o(e){Ve(r.$$.fragment,e),o=!1},d(e){e&&R(n),st(r,e)}}}function Oee(e,t,n){let r,o,s;f(e,gM,(e=>n(10,o=e)));const i=Uv();f(e,i,(e=>n(11,s=e)));let a,{database:l}=t,{schema:c}=t,{query:u}=t,{shareConsumer:d}=t,p=!0;let $="page";return e.$$set=e=>{"database"in e&&n(0,l=e.database),"schema"in e&&n(1,c=e.schema),"query"in e&&n(2,u=e.query),"shareConsumer"in e&&n(9,d=e.shareConsumer)},e.$$.update=()=>{var t,i;2051&e.$$.dirty&&n(6,r=s?.hasPermission({database:l,schema:c},"canEditMetadata")??!1),512&e.$$.dirty&&n(5,$=d?"shared-consumer-page":"page"),1028&e.$$.dirty&&(t=u,i=o.data,a?.destroy(),n(3,a=new TP({query:new OL(t),abstractTypeMap:i,runMode:"queryId",shareConsumer:d})))},[l,c,u,a,p,$,r,i,function(){hg.goto(Lg(l.name,c.id))},d,o,s,function(e){p=e,n(4,p)}]}class Aee extends at{constructor(e){super(),it(this,e,Oee,Eee,p,{database:0,schema:1,query:2,shareConsumer:9})}}function Lee(e){let t,n;return t=new cS({props:{$$slots:{default:[Pee]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};32&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Nee(e){let t,n,r,o;return t=new uI({props:{item:{type:"exploration",database:e[0],schema:e[1],query:e[2]}}}),r=new Aee({props:{database:e[0],schema:e[1],query:e[2]}}),{c(){rt(t.$$.fragment),n=V(),rt(r.$$.fragment)},m(e,s){ot(t,e,s),P(e,n,s),ot(r,e,s),o=!0},p(e,n){const o={};7&n&&(o.item={type:"exploration",database:e[0],schema:e[1],query:e[2]}),t.$set(o);const s={};1&n&&(s.database=e[0]),2&n&&(s.schema=e[1]),4&n&&(s.query=e[2]),r.$set(s)},i(e){o||(qe(t.$$.fragment,e),qe(r.$$.fragment,e),o=!0)},o(e){Ve(t.$$.fragment,e),Ve(r.$$.fragment,e),o=!1},d(e){st(t,e),e&&R(n),st(r,e)}}}function Pee(e){let t;return{c(){t=q("The page you're looking for doesn't exist.")},m(e,n){P(e,t,n)},d(e){e&&R(t)}}}function Ree(e){let t,n,r,o;const s=[Nee,Lee],i=[];function a(e,t){return e[2]?0:1}return t=a(e),n=i[t]=s[t](e),{c(){n.c(),r=j()},m(e,n){i[t].m(e,n),P(e,r,n),o=!0},p(e,[o]){let l=t;t=a(e),t===l?i[t].p(e,o):(Fe(),Ve(i[l],1,1,(()=>{i[l]=null})),He(),n=i[t],n?n.p(e,o):(n=i[t]=s[t](e),n.c()),qe(n,1),n.m(r.parentNode,r))},i(e){o||(qe(n),o=!0)},o(e){Ve(n),o=!1},d(e){i[t].d(e),e&&R(r)}}}function zee(e,t,n){let r,o;f(e,gw,(e=>n(4,o=e)));let{database:s}=t,{schema:i}=t,{queryId:a}=t;return e.$$set=e=>{"database"in e&&n(0,s=e.database),"schema"in e&&n(1,i=e.schema),"queryId"in e&&n(3,a=e.queryId)},e.$$.update=()=>{24&e.$$.dirty&&n(2,r=o.data.get(a))},[s,i,r,a,o]}class Fee extends at{constructor(e){super(),it(this,e,zee,Ree,p,{database:0,schema:1,queryId:3})}}function Hee(e){let t,n;return t=new cS({props:{$$slots:{default:[Vee]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};8192&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function qee(e){let t,n,r,o,s,i,a,l,c,u,d;t=new uI({props:{item:{type:"schema",database:e[0],schema:e[1]}}});let p=e[3]&&jee(e);return o=new Tg({props:{path:"/tables/:tableId/*",firstmatch:!0,$$slots:{default:[Uee,({meta:e})=>({12:e}),({meta:e})=>e?4096:0]},$$scope:{ctx:e}}}),i=new Tg({props:{path:"/explorations/:queryId",firstmatch:!0,$$slots:{default:[Yee,({meta:e})=>({12:e}),({meta:e})=>e?4096:0]},$$scope:{ctx:e}}}),l=new WW({props:{paths:e[2]?[{name:"edit-exploration",path:"/explorations/:queryId/edit/"},e[5]]:[e[5]],$$slots:{default:[Bee,({path:e,meta:t})=>({11:e,12:t}),({path:e,meta:t})=>(e?2048:0)|(t?4096:0)]},$$scope:{ctx:e}}}),u=new WW({props:{paths:[{name:"tables",path:"/tables/"},{name:"explorations",path:"/explorations/"},{name:"overview",path:"/"}],$$slots:{default:[Kee,({path:e})=>({11:e}),({path:e})=>e?2048:0]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment),n=V(),p&&p.c(),r=V(),rt(o.$$.fragment),s=V(),rt(i.$$.fragment),a=V(),rt(l.$$.fragment),c=V(),rt(u.$$.fragment)},m(e,$){ot(t,e,$),P(e,n,$),p&&p.m(e,$),P(e,r,$),ot(o,e,$),P(e,s,$),ot(i,e,$),P(e,a,$),ot(l,e,$),P(e,c,$),ot(u,e,$),d=!0},p(e,n){const s={};3&n&&(s.item={type:"schema",database:e[0],schema:e[1]}),t.$set(s),e[3]?p?(p.p(e,n),8&n&&qe(p,1)):(p=jee(e),p.c(),qe(p,1),p.m(r.parentNode,r)):p&&(Fe(),Ve(p,1,1,(()=>{p=null})),He());const a={};12291&n&&(a.$$scope={dirty:n,ctx:e}),o.$set(a);const c={};12291&n&&(c.$$scope={dirty:n,ctx:e}),i.$set(c);const d={};4&n&&(d.paths=e[2]?[{name:"edit-exploration",path:"/explorations/:queryId/edit/"},e[5]]:[e[5]]),14339&n&&(d.$$scope={dirty:n,ctx:e}),l.$set(d);const $={};10243&n&&($.$$scope={dirty:n,ctx:e}),u.$set($)},i(e){d||(qe(t.$$.fragment,e),qe(p),qe(o.$$.fragment,e),qe(i.$$.fragment,e),qe(l.$$.fragment,e),qe(u.$$.fragment,e),d=!0)},o(e){Ve(t.$$.fragment,e),Ve(p),Ve(o.$$.fragment,e),Ve(i.$$.fragment,e),Ve(l.$$.fragment,e),Ve(u.$$.fragment,e),d=!1},d(e){st(t,e),e&&R(n),p&&p.d(e),e&&R(r),st(o,e),e&&R(s),st(i,e),e&&R(a),st(l,e),e&&R(c),st(u,e)}}}function Vee(e){let t;return{c(){t=q("Schema not found.")},m(e,n){P(e,t,n)},d(e){e&&R(t)}}}function jee(e){let t,n;return t=new Tg({props:{path:"/import/*",firstmatch:!0,$$slots:{default:[Wee]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};8195&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Wee(e){let t,n;return t=new mee({props:{database:e[0],schema:e[1]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.database=e[0]),2&n&&(r.schema=e[1]),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Uee(e){let t,n;return t=new t7({props:{database:e[0],schema:e[1],tableId:parseInt(e[12].params.tableId,10)}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.database=e[0]),2&n&&(r.schema=e[1]),4096&n&&(r.tableId=parseInt(e[12].params.tableId,10)),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Yee(e){let t,n;return t=new Fee({props:{database:e[0],schema:e[1],queryId:parseInt(e[12].params.queryId,10)}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.database=e[0]),2&n&&(r.schema=e[1]),4096&n&&(r.queryId=parseInt(e[12].params.queryId,10)),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Bee(e){let t,n;return t=new oU({props:{database:e[0],schema:e[1],queryId:"edit-exploration"===e[11]?parseInt(e[12].params.queryId,10):void 0}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.database=e[0]),2&n&&(r.schema=e[1]),6144&n&&(r.queryId="edit-exploration"===e[11]?parseInt(e[12].params.queryId,10):void 0),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Kee(e){let t,n;return t=new MW({props:{database:e[0],schema:e[1],section:e[11]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.database=e[0]),2&n&&(r.schema=e[1]),2048&n&&(r.section=e[11]),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Gee(e){let t,n,r,o;const s=[qee,Hee],i=[];function a(e,t){return e[1]?0:1}return t=a(e),n=i[t]=s[t](e),{c(){n.c(),r=j()},m(e,n){i[t].m(e,n),P(e,r,n),o=!0},p(e,[o]){let l=t;t=a(e),t===l?i[t].p(e,o):(Fe(),Ve(i[l],1,1,(()=>{i[l]=null})),He(),n=i[t],n?n.p(e,o):(n=i[t]=s[t](e),n.c()),qe(n,1),n.m(r.parentNode,r))},i(e){o||(qe(n),o=!0)},o(e){Ve(n),o=!1},d(e){i[t].d(e),e&&R(r)}}}function Xee(e,t,n){let r,o,s,i,a,l;f(e,Fh,(e=>n(9,i=e))),f(e,Gh,(e=>n(8,l=e)));const c=Uv();f(e,c,(e=>n(7,a=e)));let{database:u}=t,{schemaId:d}=t;function p(){k(Fh,i=void 0,i)}return pe((()=>p)),e.$$set=e=>{"database"in e&&n(0,u=e.database),"schemaId"in e&&n(6,d=e.schemaId)},e.$$.update=()=>{64&e.$$.dirty&&k(Fh,i=d,i),320&e.$$.dirty&&n(1,r=l.data.get(d)),131&e.$$.dirty&&n(3,o=a?.hasPermission({database:u,schema:r},"canExecuteDDL")),131&e.$$.dirty&&n(2,s=a?.hasPermission({database:u,schema:r},"canEditMetadata"))},[u,r,s,o,c,{name:"new-exploration",path:"/data-explorer/"},d,a,l]}class Jee extends at{constructor(e){super(),it(this,e,Xee,Gee,p,{database:0,schemaId:6})}}function Zee(e){let t,n;return t=new cS({props:{$$slots:{default:[tte]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};65&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Qee(e){let t,n,r,o,s,i;return t=new uI({props:{item:{type:"database",database:e[1]}}}),r=new Tg({props:{path:"/",$$slots:{default:[nte]},$$scope:{ctx:e}}}),s=new Tg({props:{path:"/:schemaId/*",firstmatch:!0,$$slots:{default:[rte,({meta:e})=>({5:e}),({meta:e})=>e?32:0]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment),n=V(),rt(r.$$.fragment),o=V(),rt(s.$$.fragment)},m(e,a){ot(t,e,a),P(e,n,a),ot(r,e,a),P(e,o,a),ot(s,e,a),i=!0},p(e,n){const o={};2&n&&(o.item={type:"database",database:e[1]}),t.$set(o);const i={};66&n&&(i.$$scope={dirty:n,ctx:e}),r.$set(i);const a={};98&n&&(a.$$scope={dirty:n,ctx:e}),s.$set(a)},i(e){i||(qe(t.$$.fragment,e),qe(r.$$.fragment,e),qe(s.$$.fragment,e),i=!0)},o(e){Ve(t.$$.fragment,e),Ve(r.$$.fragment,e),Ve(s.$$.fragment,e),i=!1},d(e){st(t,e),e&&R(n),st(r,e),e&&R(o),st(s,e)}}}function ete(e){let t;return{c(){t=q(e[0])},m(e,n){P(e,t,n)},p(e,n){1&n&&X(t,e[0])},d(e){e&&R(t)}}}function tte(e){let t,n,r,o;return n=new mm({props:{$$slots:{default:[ete]},$$scope:{ctx:e}}}),{c(){t=q("Database with name "),rt(n.$$.fragment),r=q(" is not found.")},m(e,s){P(e,t,s),ot(n,e,s),P(e,r,s),o=!0},p(e,t){const r={};65&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){o||(qe(n.$$.fragment,e),o=!0)},o(e){Ve(n.$$.fragment,e),o=!1},d(e){e&&R(t),st(n,e),e&&R(r)}}}function nte(e){let t,n;return t=new lI({props:{database:e[1]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.database=e[1]),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function rte(e){let t,n;return t=new Jee({props:{database:e[1],schemaId:parseInt(e[5].params.schemaId,10)}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.database=e[1]),32&n&&(r.schemaId=parseInt(e[5].params.schemaId,10)),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function ote(e){let t,n,r,o;const s=[Qee,Zee],i=[];function a(e,t){return e[1]?0:1}return t=a(e),n=i[t]=s[t](e),{c(){n.c(),r=j()},m(e,n){i[t].m(e,n),P(e,r,n),o=!0},p(e,[o]){let l=t;t=a(e),t===l?i[t].p(e,o):(Fe(),Ve(i[l],1,1,(()=>{i[l]=null})),He(),n=i[t],n?n.p(e,o):(n=i[t]=s[t](e),n.c()),qe(n,1),n.m(r.parentNode,r))},i(e){o||(qe(n),o=!0)},o(e){Ve(n),o=!1},d(e){i[t].d(e),e&&R(r)}}}function ste(e,t,n){let r,o,s;f(e,hh,(e=>n(3,o=e))),f(e,yh,(e=>n(2,s=e)));let{databaseName:i}=t;function a(){k(hh,o=void 0,o)}return pe((()=>a)),e.$$set=e=>{"databaseName"in e&&n(0,i=e.databaseName)},e.$$.update=()=>{1&e.$$.dirty&&k(hh,o=i,o),5&e.$$.dirty&&n(1,r=s.data?.find((e=>e.name===i)))},[i,r,s]}class ite extends at{constructor(e){super(),it(this,e,ste,ote,p,{databaseName:0})}}function ate(e){let t,n;return t=new hy({props:{$$slots:{default:[cte]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};8&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function lte(e){let t,n,r,o,s,i;t=new Y5({props:{$$slots:{header:[dte],default:[ute]},$$scope:{ctx:e}}}),r=new Y5({props:{$$slots:{default:[pte]},$$scope:{ctx:e}}});let a=!e[0].isSuperUser&&$te(e);return{c(){rt(t.$$.fragment),n=V(),rt(r.$$.fragment),o=V(),a&&a.c(),s=j()},m(e,l){ot(t,e,l),P(e,n,l),ot(r,e,l),P(e,o,l),a&&a.m(e,l),P(e,s,l),i=!0},p(e,n){const o={};9&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o);const i={};9&n&&(i.$$scope={dirty:n,ctx:e}),r.$set(i),e[0].isSuperUser?a&&(Fe(),Ve(a,1,1,(()=>{a=null})),He()):a?1&n&&qe(a,1):(a=$te(e),a.c(),qe(a,1),a.m(s.parentNode,s))},i(e){i||(qe(t.$$.fragment,e),qe(r.$$.fragment,e),qe(a),i=!0)},o(e){Ve(t.$$.fragment,e),Ve(r.$$.fragment,e),Ve(a),i=!1},d(e){st(t,e),e&&R(n),st(r,e),e&&R(o),a&&a.d(e),e&&R(s)}}}function cte(e){let t;return{c(){t=q("Could not fetch user profile details. Try refreshing your page.")},m(e,n){P(e,t,n)},d(e){e&&R(t)}}}function ute(e){let t,n;return t=new ak({props:{user:e[0].getUser()}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.user=e[0].getUser()),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function dte(e){let t;return{c(){t=F("h2"),t.textContent="Account Details",B(t,"class","large-bold-header svelte-zd9d3z"),B(t,"slot","header")},m(e,n){P(e,t,n)},p:s,d(e){e&&R(t)}}}function pte(e){let t,n;return t=new Dk({props:{userId:e[0].id}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.userId=e[0].id),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function $te(e){let t,n;return t=new Y5({props:{$$slots:{header:[fte],default:[mte]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function mte(e){let t;return{c(){t=F("div"),t.textContent="Please contact your administrator to request permanent deletion of\n            your account"},m(e,n){P(e,t,n)},p:s,d(e){e&&R(t)}}}function fte(e){let t;return{c(){t=F("h2"),t.textContent="Delete Account",B(t,"class","large-bold-header svelte-zd9d3z"),B(t,"slot","header")},m(e,n){P(e,t,n)},p:s,d(e){e&&R(t)}}}function gte(e){let t,n,r,o;const s=[lte,ate],i=[];function a(e,t){return e[0]?0:1}return t=a(e),n=i[t]=s[t](e),{c(){n.c(),r=j()},m(e,n){i[t].m(e,n),P(e,r,n),o=!0},p(e,o){let l=t;t=a(e),t===l?i[t].p(e,o):(Fe(),Ve(i[l],1,1,(()=>{i[l]=null})),He(),n=i[t],n?n.p(e,o):(n=i[t]=s[t](e),n.c()),qe(n,1),n.m(r.parentNode,r))},i(e){o||(qe(n),o=!0)},o(e){Ve(n),o=!1},d(e){i[t].d(e),e&&R(r)}}}function hte(e){let t;return{c(){t=F("h1"),t.textContent="User Profile",B(t,"slot","header")},m(e,n){P(e,t,n)},p:s,d(e){e&&R(t)}}}function yte(e){let t,n;return t=new e8({props:{hasMultipleSections:!0,$$slots:{header:[hte],default:[gte]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};9&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function vte(e){let t,n,r,o;return document.title=t=(e[0]?.getDisplayName()??"User profile")+" | Mathesar",r=new rS({props:{cssVariables:{"--page-padding":"var(--outer-page-padding-for-inset-page)","--layout-background-color":"var(--sand-200)","--inset-page-section-padding":"var(--size-ultra-large) var(--size-xx-large)"},$$slots:{default:[yte]},$$scope:{ctx:e}}}),{c(){n=V(),rt(r.$$.fragment)},m(e,t){P(e,n,t),ot(r,e,t),o=!0},p(e,[n]){(!o||1&n)&&t!==(t=(e[0]?.getDisplayName()??"User profile")+" | Mathesar")&&(document.title=t);const s={};9&n&&(s.$$scope={dirty:n,ctx:e}),r.$set(s)},i(e){o||(qe(r.$$.fragment,e),o=!0)},o(e){Ve(r.$$.fragment,e),o=!1},d(e){e&&R(n),st(r,e)}}}function bte(e,t,n){let r,o;const s=Uv();return f(e,s,(e=>n(2,o=e))),e.$$.update=()=>{4&e.$$.dirty&&n(0,r=o)},[r,s,o]}class wte extends at{constructor(e){super(),it(this,e,bte,vte,p,{})}}function xte(e){let t,n,r,o;return t=new uI({props:{item:{type:"simple",href:Ug,label:"User Profile",icon:xf}}}),r=new wte({}),{c(){rt(t.$$.fragment),n=V(),rt(r.$$.fragment)},m(e,s){ot(t,e,s),P(e,n,s),ot(r,e,s),o=!0},p:s,i(e){o||(qe(t.$$.fragment,e),qe(r.$$.fragment,e),o=!0)},o(e){Ve(t.$$.fragment,e),Ve(r.$$.fragment,e),o=!1},d(e){st(t,e),e&&R(n),st(r,e)}}}class Ste extends at{constructor(e){super(),it(this,e,null,xte,p,{})}}const Cte={async upgrade(){await ph("/api/ui/v0/upgrade/",{})}};function kte(e){let t,n,r,o,s,i,a,l,c,u,d,p,$,m,f,g,h,y,v,b,w,x,S,C,k;return x=new ro({props:{onCancel:e[2],proceedButton:{label:"Continue",icon:zm},onProceed:e[1]}}),{c(){t=F("p"),t.textContent="Before Upgrading",n=V(),r=F("ul"),o=F("li"),s=q("Read the\n    "),i=F("a"),a=q("release notes"),c=q("\n    to see if this release requires any special upgrade instructions."),u=V(),d=F("li"),d.textContent="Prepare your users for up to five minutes of downtime.",p=V(),$=F("p"),$.textContent="While Upgrading",m=V(),f=F("ul"),f.innerHTML="<li>This window will remain open but all features within Mathesar will be\n    unusable.</li> \n  <li>You will see a loading spinner but no progress bar.</li>",g=V(),h=F("p"),h.textContent="After Upgrading",y=V(),v=F("ul"),v.innerHTML='<li>This page will automatically reload, showing the software update status\n    again.</li> \n  <li>If the upgrade succeeds, you will see that you&#39;re running the latest\n    version.</li> \n  <li>If the upgrade fails, the update status screen will still show that an\n    upgrade is available, and you will need to refer to our\n    <a href="https://docs.mathesar.org/">documentation</a>\n    for further troubleshooting.</li>',b=V(),w=F("div"),rt(x.$$.fragment),B(i,"href",l=e[0].notesUrl),B(i,"target","_blank")},m(e,l){P(e,t,l),P(e,n,l),P(e,r,l),A(r,o),A(o,s),A(o,i),A(i,a),A(o,c),A(r,u),A(r,d),P(e,p,l),P(e,$,l),P(e,m,l),P(e,f,l),P(e,g,l),P(e,h,l),P(e,y,l),P(e,v,l),P(e,b,l),P(e,w,l),ot(x,w,null),S=!0,C||(k=D(dm.call(null,w)),C=!0)},p(e,[t]){(!S||1&t&&l!==(l=e[0].notesUrl))&&B(i,"href",l);const n={};4&t&&(n.onCancel=e[2]),2&t&&(n.onProceed=e[1]),x.$set(n)},i(e){S||(qe(x.$$.fragment,e),S=!0)},o(e){Ve(x.$$.fragment,e),S=!1},d(e){e&&R(t),e&&R(n),e&&R(r),e&&R(p),e&&R($),e&&R(m),e&&R(f),e&&R(g),e&&R(h),e&&R(y),e&&R(v),e&&R(b),e&&R(w),st(x),C=!1,k()}}}function Dte(e,t,n){let{release:r}=t,{onProceed:o}=t,{onClose:s}=t;return e.$$set=e=>{"release"in e&&n(0,r=e.release),"onProceed"in e&&n(1,o=e.onProceed),"onClose"in e&&n(2,s=e.onClose)},[r,o,s]}class Ite extends at{constructor(e){super(),it(this,e,Dte,kte,p,{release:0,onProceed:1,onClose:2})}}function _te(e){let t;return{c(){t=q(e[0])},m(e,n){P(e,t,n)},p(e,n){1&n&&X(t,e[0])},d(e){e&&R(t)}}}function Tte(e){let t,n,r,o,s,i,a;return t=new hy({props:{$$slots:{default:[_te]},$$scope:{ctx:e}}}),o=new ro({props:{onCancel:e[2],proceedButton:{label:"Retry",icon:qm},onProceed:e[1]}}),{c(){rt(t.$$.fragment),n=V(),r=F("div"),rt(o.$$.fragment)},m(e,l){ot(t,e,l),P(e,n,l),P(e,r,l),ot(o,r,null),s=!0,i||(a=D(dm.call(null,r)),i=!0)},p(e,[n]){const r={};9&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r);const s={};4&n&&(s.onCancel=e[2]),2&n&&(s.onProceed=e[1]),o.$set(s)},i(e){s||(qe(t.$$.fragment,e),qe(o.$$.fragment,e),s=!0)},o(e){Ve(t.$$.fragment,e),Ve(o.$$.fragment,e),s=!1},d(e){st(t,e),e&&R(n),e&&R(r),st(o),i=!1,a()}}}function Mte(e,t,n){let{message:r}=t,{onRetry:o}=t,{onClose:s}=t;return e.$$set=e=>{"message"in e&&n(0,r=e.message),"onRetry"in e&&n(1,o=e.onRetry),"onClose"in e&&n(2,s=e.onClose)},[r,o,s]}class Ete extends at{constructor(e){super(),it(this,e,Mte,Tte,p,{message:0,onRetry:1,onClose:2})}}function Ote(e){let t;return{c(){t=F("p"),t.textContent="A Mathesar upgrade is currently in progress. It is important that you do not\n    navigate away from this page until the upgrade is complete."},m(e,n){P(e,t,n)},p:s,d(e){e&&R(t)}}}function Ate(e){let t,n,r,o,s,i,a,l;return t=new dk({props:{$$slots:{default:[Ote]},$$scope:{ctx:e}}}),s=new Tr({}),{c(){rt(t.$$.fragment),n=V(),r=F("div"),o=F("div"),rt(s.$$.fragment),i=V(),a=F("div"),a.textContent="Upgrading...",B(o,"class","spinner svelte-szmtfz"),B(r,"class","upgrading svelte-szmtfz")},m(e,c){ot(t,e,c),P(e,n,c),P(e,r,c),A(r,o),ot(s,o,null),A(r,i),A(r,a),l=!0},p(e,[n]){const r={};1&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){l||(qe(t.$$.fragment,e),qe(s.$$.fragment,e),l=!0)},o(e){Ve(t.$$.fragment,e),Ve(s.$$.fragment,e),l=!1},d(e){st(t,e),e&&R(n),e&&R(r),st(s)}}}class Lte extends at{constructor(e){super(),it(this,e,null,Ate,p,{})}}function Nte(e){let t,n=_l(e[2])+"";return{c(){t=q(n)},m(e,n){P(e,t,n)},p(e,r){4&r&&n!==(n=_l(e[2])+"")&&X(t,n)},i:s,o:s,d(e){e&&R(t)}}}function Pte(e){let t,n;return t=new Ete({props:{message:e[2].errorMsg,onClose:e[9],onRetry:e[5]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};4&n&&(r.message=e[2].errorMsg),1&n&&(r.onClose=e[9]),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Rte(e){let t,n;return t=new Lte({}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p:s,i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function zte(e){let t,n;return t=new Ite({props:{release:e[1],onProceed:e[5],onClose:e[8]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.release=e[1]),1&n&&(r.onClose=e[8]),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Fte(e){let t,n,r,o;const s=[zte,Rte,Pte,Nte],i=[];function a(e,t){return"confirm"===e[2].status?0:"processing"===e[2].status?1:"error"===e[2].status?2:3}return t=a(e),n=i[t]=s[t](e),{c(){n.c(),r=j()},m(e,n){i[t].m(e,n),P(e,r,n),o=!0},p(e,o){let l=t;t=a(e),t===l?i[t].p(e,o):(Fe(),Ve(i[l],1,1,(()=>{i[l]=null})),He(),n=i[t],n?n.p(e,o):(n=i[t]=s[t](e),n.c()),qe(n,1),n.m(r.parentNode,r))},i(e){o||(qe(n),o=!0)},o(e){Ve(n),o=!1},d(e){i[t].d(e),e&&R(r)}}}function Hte(e){let t,n;return t=new Bd({props:{controller:e[0],title:e[3],size:"large",allowClose:"processing"!==e[2].status,$$slots:{default:[Fte]},$$scope:{ctx:e}}}),t.$on("open",e[4]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const r={};1&n&&(r.controller=e[0]),8&n&&(r.title=e[3]),4&n&&(r.allowClose="processing"!==e[2].status),4103&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function qte(e,t,n){let r,o,s,i,{controller:a}=t,{release:l}=t,c={status:"confirm"};async function u(){try{await fh.list(),window.location.reload()}catch{i=window.setTimeout((()=>{u()}),2e3)}}return e.$$set=e=>{"controller"in e&&n(0,a=e.controller),"release"in e&&n(1,l=e.release)},e.$$.update=()=>{2&e.$$.dirty&&n(7,r=`Mathesar ${l.tagName}`),128&e.$$.dirty&&n(6,o={confirm:`Upgrade to ${r}`,processing:`Upgrading to ${r}`,error:"Error Upgrading"}),68&e.$$.dirty&&n(3,s=o[c.status])},[a,l,c,s,function(){"processing"!==c.status&&(window.clearTimeout(i),n(2,c={status:"confirm"}))},async function(){n(2,c={status:"processing"});try{await Cte.upgrade(),u()}catch(e){n(2,c={status:"error",errorMsg:Dl(e)})}},o,r,()=>a.close(),()=>a.close()]}class Vte extends at{constructor(e){super(),it(this,e,qte,Hte,p,{controller:0,release:1})}}function jte(e){let t,n=_l(e[0])+"";return{c(){t=q(n)},m(e,n){P(e,t,n)},p(e,r){1&r&&n!==(n=_l(e[0])+"")&&X(t,n)},i:s,o:s,d(e){e&&R(t)}}}function Wte(e){let t;return{c(){t=q("Latest Available Version (not installed)")},m(e,n){P(e,t,n)},p:s,i:s,o:s,d(e){e&&R(t)}}}function Ute(e){let t,n,r;const o=[wf];let s={};for(let i=0;i<o.length;i+=1)s=a(s,o[i]);return t=new Wr({props:s}),{c(){rt(t.$$.fragment),n=q("\n      Currently Installed")},m(e,o){ot(t,e,o),P(e,n,o),r=!0},p(e,n){const r=0&n?et(o,[tt(wf)]):{};t.$set(r)},i(e){r||(qe(t.$$.fragment,e),r=!0)},o(e){Ve(t.$$.fragment,e),r=!1},d(e){st(t,e),e&&R(n)}}}function Yte(e){let t,n,r;const o=[wf];let s={};for(let i=0;i<o.length;i+=1)s=a(s,o[i]);return t=new Wr({props:s}),{c(){rt(t.$$.fragment),n=q("\n      You are running the latest version")},m(e,o){ot(t,e,o),P(e,n,o),r=!0},p(e,n){const r=0&n?et(o,[tt(wf)]):{};t.$set(r)},i(e){r||(qe(t.$$.fragment,e),r=!0)},o(e){Ve(t.$$.fragment,e),r=!1},d(e){st(t,e),e&&R(n)}}}function Bte(e){let t,n,r;const o=[bf];let s={};for(let i=0;i<o.length;i+=1)s=a(s,o[i]);return t=new Wr({props:s}),{c(){rt(t.$$.fragment),n=q("\n      New Version Available")},m(e,o){ot(t,e,o),P(e,n,o),r=!0},p(e,n){const r=0&n?et(o,[tt(bf)]):{};t.$set(r)},i(e){r||(qe(t.$$.fragment,e),r=!0)},o(e){Ve(t.$$.fragment,e),r=!1},d(e){st(t,e),e&&R(n)}}}function Kte(e){let t,n,r,o,s;return o=new Ln({props:{appearance:"secondary",$$slots:{default:[Gte]},$$scope:{ctx:e}}}),o.$on("click",e[5]),{c(){t=F("div"),n=F("div"),n.textContent="We can install this new version for you",r=V(),rt(o.$$.fragment),B(n,"class","message svelte-h6yxxp"),B(t,"class","update-action svelte-h6yxxp")},m(e,i){P(e,t,i),A(t,n),A(t,r),ot(o,t,null),s=!0},p(e,t){const n={};64&t&&(n.$$scope={dirty:t,ctx:e}),o.$set(n)},i(e){s||(qe(o.$$.fragment,e),s=!0)},o(e){Ve(o.$$.fragment,e),s=!1},d(e){e&&R(t),st(o)}}}function Gte(e){let t;return{c(){t=q("Upgrade...")},m(e,n){P(e,t,n)},d(e){e&&R(t)}}}function Xte(e){let t,n;return t=new Vte({props:{controller:e[3],release:e[1]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.release=e[1]),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Jte(e){let t,n,r,o,s,i,l,c,u,d,p,$,m,f,g,h,y,v,b,w,x,S,C,k,D,I,_,T,M=e[1].tagName+"";const E=[Bte,Yte,Ute,Wte,jte],O=[];function L(e,t){return"available-upgrade"===e[0]?0:"currently-installed-and-latest"===e[0]?1:"current"===e[0]?2:"latest"===e[0]?3:4}r=L(e),o=O[r]=E[r](e),u=new Dw({});const N=[af];let z={};for(let A=0;A<N.length;A+=1)z=a(z,N[A]);C=new Wr({props:z});let H="available-upgrade"===e[0]&&Kte(e),W="available-upgrade"===e[0]&&Xte(e);return{c(){t=F("div"),n=F("div"),o.c(),s=V(),i=F("div"),l=F("div"),c=F("div"),rt(u.$$.fragment),d=V(),p=F("div"),p.textContent="Mathesar",$=V(),m=F("div"),f=q(M),g=V(),h=F("div"),y=F("div"),v=q("Released "),b=q(e[2]),w=V(),x=F("a"),S=q("Release Notes "),rt(C.$$.fragment),D=V(),H&&H.c(),I=V(),W&&W.c(),_=j(),B(n,"class","type svelte-h6yxxp"),B(c,"class","logo svelte-h6yxxp"),B(p,"class","name svelte-h6yxxp"),B(m,"class","version svelte-h6yxxp"),B(l,"class","left svelte-h6yxxp"),B(y,"class","date"),B(x,"href",k=e[1].notesUrl),B(x,"class","notes svelte-h6yxxp"),B(x,"target","_blank"),B(h,"class","right svelte-h6yxxp"),B(i,"class","details svelte-h6yxxp"),B(t,"class","release svelte-h6yxxp"),te(t,"available-upgrade","available-upgrade"===e[0]),te(t,"currently-installed-and-latest","currently-installed-and-latest"===e[0])},m(e,o){P(e,t,o),A(t,n),O[r].m(n,null),A(t,s),A(t,i),A(i,l),A(l,c),ot(u,c,null),A(l,d),A(l,p),A(l,$),A(l,m),A(m,f),A(i,g),A(i,h),A(h,y),A(y,v),A(y,b),A(h,w),A(h,x),A(x,S),ot(C,x,null),A(t,D),H&&H.m(t,null),P(e,I,o),W&&W.m(e,o),P(e,_,o),T=!0},p(e,[s]){let i=r;r=L(e),r===i?O[r].p(e,s):(Fe(),Ve(O[i],1,1,(()=>{O[i]=null})),He(),o=O[r],o?o.p(e,s):(o=O[r]=E[r](e),o.c()),qe(o,1),o.m(n,null)),(!T||2&s)&&M!==(M=e[1].tagName+"")&&X(f,M),(!T||4&s)&&X(b,e[2]);const a=0&s?et(N,[tt(af)]):{};C.$set(a),(!T||2&s&&k!==(k=e[1].notesUrl))&&B(x,"href",k),"available-upgrade"===e[0]?H?(H.p(e,s),1&s&&qe(H,1)):(H=Kte(e),H.c(),qe(H,1),H.m(t,null)):H&&(Fe(),Ve(H,1,1,(()=>{H=null})),He()),(!T||1&s)&&te(t,"available-upgrade","available-upgrade"===e[0]),(!T||1&s)&&te(t,"currently-installed-and-latest","currently-installed-and-latest"===e[0]),"available-upgrade"===e[0]?W?(W.p(e,s),1&s&&qe(W,1)):(W=Xte(e),W.c(),qe(W,1),W.m(_.parentNode,_)):W&&(Fe(),Ve(W,1,1,(()=>{W=null})),He())},i(e){T||(qe(o),qe(u.$$.fragment,e),qe(C.$$.fragment,e),qe(H),qe(W),T=!0)},o(e){Ve(o),Ve(u.$$.fragment,e),Ve(C.$$.fragment,e),Ve(H),Ve(W),T=!1},d(e){e&&R(t),O[r].d(),st(u),st(C),H&&H.d(),e&&R(I),W&&W.d(e),e&&R(_)}}}function Zte(e,t,n){let r,o;const s=Wf.spawnModalController();let{type:i}=t,{release:a}=t;return e.$$set=e=>{"type"in e&&n(0,i=e.type),"release"in e&&n(1,a=e.release)},e.$$.update=()=>{2&e.$$.dirty&&n(4,r=new Date(a.date)),16&e.$$.dirty&&n(2,o=r.toLocaleDateString())},[i,a,o,s,r,()=>s.open()]}class Qte extends at{constructor(e){super(),it(this,e,Zte,Jte,p,{type:0,release:1})}}function ene(e){let t,n,r,o,i;return o=new Tr({}),{c(){t=F("div"),t.textContent="Loading release data",n=V(),r=F("div"),rt(o.$$.fragment)},m(e,s){P(e,t,s),P(e,n,s),P(e,r,s),ot(o,r,null),i=!0},p:s,i(e){i||(qe(o.$$.fragment,e),i=!0)},o(e){Ve(o.$$.fragment,e),i=!1},d(e){e&&R(t),e&&R(n),e&&R(r),st(o)}}}function tne(e){let t,n,r,o;const s=[lne,ane,ine,sne,one,rne,nne],i=[];function a(e,t){return e[5]?0:e[10]?"up-to-date"===e[3]?2:e[11]?"upgradable"===e[3]?4:void 0===e[3]?5:6:3:1}return n=a(e),r=i[n]=s[n](e),{c(){t=F("div"),r.c(),B(t,"class","releases svelte-jzxcls")},m(e,r){P(e,t,r),i[n].m(t,null),o=!0},p(e,o){let l=n;n=a(e),n===l?i[n].p(e,o):(Fe(),Ve(i[l],1,1,(()=>{i[l]=null})),He(),r=i[n],r?r.p(e,o):(r=i[n]=s[n](e),r.c()),qe(r,1),r.m(t,null))},i(e){o||(qe(r),o=!0)},o(e){Ve(r),o=!1},d(e){e&&R(t),i[n].d()}}}function nne(e){let t,n=_l(e[3])+"";return{c(){t=q(n)},m(e,n){P(e,t,n)},p(e,r){8&r&&n!==(n=_l(e[3])+"")&&X(t,n)},i:s,o:s,d(e){e&&R(t)}}}function rne(e){let t,n,r,o;return t=new Qte({props:{release:e[10],type:"current"}}),r=new Qte({props:{release:e[11],type:"latest"}}),{c(){rt(t.$$.fragment),n=V(),rt(r.$$.fragment)},m(e,s){ot(t,e,s),P(e,n,s),ot(r,e,s),o=!0},p(e,n){const o={};2&n&&(o.release=e[10]),t.$set(o);const s={};2&n&&(s.release=e[11]),r.$set(s)},i(e){o||(qe(t.$$.fragment,e),qe(r.$$.fragment,e),o=!0)},o(e){Ve(t.$$.fragment,e),Ve(r.$$.fragment,e),o=!1},d(e){st(t,e),e&&R(n),st(r,e)}}}function one(e){let t,n,r,o;return t=new Qte({props:{release:e[11],type:"available-upgrade"}}),r=new Qte({props:{release:e[10],type:"current"}}),{c(){rt(t.$$.fragment),n=V(),rt(r.$$.fragment)},m(e,s){ot(t,e,s),P(e,n,s),ot(r,e,s),o=!0},p(e,n){const o={};2&n&&(o.release=e[11]),t.$set(o);const s={};2&n&&(s.release=e[10]),r.$set(s)},i(e){o||(qe(t.$$.fragment,e),qe(r.$$.fragment,e),o=!0)},o(e){Ve(t.$$.fragment,e),Ve(r.$$.fragment,e),o=!1},d(e){st(t,e),e&&R(n),st(r,e)}}}function sne(e){let t,n,r,o;return t=new Qte({props:{release:e[10],type:"current"}}),r=new hy({props:{$$slots:{default:[cne]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment),n=V(),rt(r.$$.fragment)},m(e,s){ot(t,e,s),P(e,n,s),ot(r,e,s),o=!0},p(e,n){const o={};2&n&&(o.release=e[10]),t.$set(o);const s={};4096&n&&(s.$$scope={dirty:n,ctx:e}),r.$set(s)},i(e){o||(qe(t.$$.fragment,e),qe(r.$$.fragment,e),o=!0)},o(e){Ve(t.$$.fragment,e),Ve(r.$$.fragment,e),o=!1},d(e){st(t,e),e&&R(n),st(r,e)}}}function ine(e){let t,n;return t=new Qte({props:{release:e[10],type:"currently-installed-and-latest"}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.release=e[10]),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function ane(e){let t,n,r,o;t=new hy({props:{$$slots:{default:[une]},$$scope:{ctx:e}}});let s=e[11]&&dne(e);return{c(){rt(t.$$.fragment),n=V(),s&&s.c(),r=j()},m(e,i){ot(t,e,i),P(e,n,i),s&&s.m(e,i),P(e,r,i),o=!0},p(e,n){const o={};4098&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o),e[11]?s?(s.p(e,n),2&n&&qe(s,1)):(s=dne(e),s.c(),qe(s,1),s.m(r.parentNode,r)):s&&(Fe(),Ve(s,1,1,(()=>{s=null})),He())},i(e){o||(qe(t.$$.fragment,e),qe(s),o=!0)},o(e){Ve(t.$$.fragment,e),Ve(s),o=!1},d(e){st(t,e),e&&R(n),s&&s.d(e),e&&R(r)}}}function lne(e){let t,n,r,o,i;return o=new Tr({}),{c(){t=F("div"),t.textContent="Loading release data",n=V(),r=F("div"),rt(o.$$.fragment)},m(e,s){P(e,t,s),P(e,n,s),P(e,r,s),ot(o,r,null),i=!0},p:s,i(e){i||(qe(o.$$.fragment,e),i=!0)},o(e){Ve(o.$$.fragment,e),i=!1},d(e){e&&R(t),e&&R(n),e&&R(r),st(o)}}}function cne(e){let t;return{c(){t=q("Unable to load data about the latest release.")},m(e,n){P(e,t,n)},d(e){e&&R(t)}}}function une(e){let t,n,r,o,s=e[1].inputHash+"";return{c(){t=q("The currently-installed version is\n        "),n=F("strong"),r=q(s),o=q("\n        but we were unable to load data about this release.")},m(e,s){P(e,t,s),P(e,n,s),A(n,r),P(e,o,s)},p(e,t){2&t&&s!==(s=e[1].inputHash+"")&&X(r,s)},d(e){e&&R(t),e&&R(n),e&&R(o)}}}function dne(e){let t,n;return t=new Qte({props:{release:e[11],type:"latest"}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.release=e[11]),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function pne(e){let t,n;return{c(){t=q("Last checked: "),n=q(e[2])},m(e,r){P(e,t,r),P(e,n,r)},p(e,t){4&t&&X(n,e[2])},d(e){e&&R(t),e&&R(n)}}}function $ne(e){let t,n,r,o,s,i,a,l;const c=[tne,ene],u=[];function d(e,t){return e[1]?0:1}function p(e,t){return 0===t?function(e){const t=e.slice(),n=t[1];t[9]=n.value;const r=t[9];return t[10]=r.current,t[11]=r.latest,t}(e):e}t=d(e),n=u[t]=c[t](p(e,t)),i=new Jr({props:{label:"Check for Updates",appearance:"default",icon:qm,onClick:e[6]}});let $=e[2]&&pne(e);return{c(){n.c(),r=V(),o=F("div"),s=F("div"),rt(i.$$.fragment),a=V(),$&&$.c(),B(s,"class","check-button svelte-jzxcls"),B(o,"class","store-status svelte-jzxcls")},m(e,n){u[t].m(e,n),P(e,r,n),P(e,o,n),A(o,s),ot(i,s,null),A(o,a),$&&$.m(o,null),l=!0},p(e,[s]){let i=t;t=d(e),t===i?u[t].p(p(e,t),s):(Fe(),Ve(u[i],1,1,(()=>{u[i]=null})),He(),n=u[t],n?n.p(p(e,t),s):(n=u[t]=c[t](p(e,t)),n.c()),qe(n,1),n.m(r.parentNode,r)),e[2]?$?$.p(e,s):($=pne(e),$.c(),$.m(o,null)):$&&($.d(1),$=null)},i(e){l||(qe(n),qe(i.$$.fragment,e),l=!0)},o(e){Ve(n),Ve(i.$$.fragment,e),l=!1},d(e){u[t].d(e),e&&R(r),e&&R(o),st(i),$&&$.d()}}}function mne(e,t,n){let r,o,i,a,l,c,u,d=s,p=()=>(d(),d=$(f,(e=>n(8,c=e))),f),m=s;e.$$.on_destroy.push((()=>d())),e.$$.on_destroy.push((()=>m()));let{releaseDataStore:f}=t;return p(),e.$$set=e=>{"releaseDataStore"in e&&p(n(0,f=e.releaseDataStore))},e.$$.update=()=>{256&e.$$.dirty&&n(1,r=c),1&e.$$.dirty&&(n(4,({loading:o}=f),o),m(),m=$(o,(e=>n(5,u=e)))),256&e.$$.dirty&&n(7,i=c?.value),128&e.$$.dirty&&n(3,a=i?.upgradeStatus),2&e.$$.dirty&&n(2,l=(()=>{if(r)return new Date(r.timestamp).toLocaleString()})())},[f,r,l,a,o,u,async function(){try{await f.forceFetch()}catch(e){Uf.fromError(e)}},i,c]}class fne extends at{constructor(e){super(),it(this,e,mne,$ne,p,{releaseDataStore:0})}}function gne(e){let t,n;return t=new hy({props:{$$slots:{default:[yne]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function hne(e){let t,n;return t=new fne({props:{releaseDataStore:e[0]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p:s,i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function yne(e){let t;return{c(){t=q("Release data store not found in context.")},m(e,n){P(e,t,n)},d(e){e&&R(t)}}}function vne(e){let t,n,r,o,s,i,a,l;document.title=t=hS("Software Update");const c=[hne,gne],u=[];return s=function(e,t){return e[0]?0:1}(e),i=u[s]=c[s](e),{c(){n=V(),r=F("h1"),r.textContent="Software Update",o=V(),i.c(),a=j()},m(e,t){P(e,n,t),P(e,r,t),P(e,o,t),u[s].m(e,t),P(e,a,t),l=!0},p(e,[n]){(!l||0&n)&&t!==(t=hS("Software Update"))&&(document.title=t),i.p(e,n)},i(e){l||(qe(i),l=!0)},o(e){Ve(i),l=!1},d(e){e&&R(n),e&&R(r),e&&R(o),u[s].d(e),e&&R(a)}}}function bne(e){return[Rh()]}class wne extends at{constructor(e){super(),it(this,e,bne,vne,p,{})}}function xne(e){let t;return{c(){t=q("Update")},m(e,n){P(e,t,n)},d(e){e&&R(t)}}}function Sne(e){let t;return{c(){t=q("Users")},m(e,n){P(e,t,n)},d(e){e&&R(t)}}}function Cne(e){let t,n,r,o,s,i,a,l;return n=new Mp({props:{icon:mf,hasNotificationDot:e[0],$$slots:{default:[xne]},$$scope:{ctx:e}}}),s=new Mp({props:{icon:Sf,$$slots:{default:[Sne]},$$scope:{ctx:e}}}),{c(){t=F("a"),rt(n.$$.fragment),r=V(),o=F("a"),rt(s.$$.fragment),B(t,"role","menuitem"),B(t,"href",Bg),B(t,"class","menu-item menu-item-link"),B(o,"role","menuitem"),B(o,"href",Kg),B(o,"class","menu-item menu-item-link")},m(e,c){P(e,t,c),ot(n,t,null),P(e,r,c),P(e,o,c),ot(s,o,null),i=!0,a||(l=[D(yg.call(null,t)),D(yg.call(null,o))],a=!0)},p(e,t){const r={};1&t&&(r.hasNotificationDot=e[0]),8&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r);const o={};8&t&&(o.$$scope={dirty:t,ctx:e}),s.$set(o)},i(e){i||(qe(n.$$.fragment,e),qe(s.$$.fragment,e),i=!0)},o(e){Ve(n.$$.fragment,e),Ve(s.$$.fragment,e),i=!1},d(e){e&&R(t),st(n),e&&R(r),e&&R(o),st(s),a=!1,u(l)}}}function kne(e){let t,n,r;return n=new ws({props:{$$slots:{default:[Cne]},$$scope:{ctx:e}}}),{c(){t=F("div"),rt(n.$$.fragment),B(t,"class","admin-navigation svelte-1keif3v")},m(e,o){P(e,t,o),ot(n,t,null),r=!0},p(e,[t]){const r={};9&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(qe(n.$$.fragment,e),r=!0)},o(e){Ve(n.$$.fragment,e),r=!1},d(e){e&&R(t),st(n)}}}function Dne(e,t,n){let r,o;const s=Rh();return f(e,s,(e=>n(2,o=e))),e.$$.update=()=>{4&e.$$.dirty&&n(0,r="upgradable"===o?.value?.upgradeStatus)},[r,s,o]}class Ine extends at{constructor(e){super(),it(this,e,Dne,kne,p,{})}}function _ne(e){let t,n,r,o=e[0].fullName&&Tne(e),s=e[0].fullName&&e[0].email&&Mne(),i=e[0].email&&Ene(e);return{c(){t=F("div"),o&&o.c(),n=V(),s&&s.c(),r=V(),i&&i.c(),B(t,"class","user-detailed-info svelte-1fsft1x")},m(e,a){P(e,t,a),o&&o.m(t,null),A(t,n),s&&s.m(t,null),A(t,r),i&&i.m(t,null)},p(e,a){e[0].fullName?o?o.p(e,a):(o=Tne(e),o.c(),o.m(t,n)):o&&(o.d(1),o=null),e[0].fullName&&e[0].email?s||(s=Mne(),s.c(),s.m(t,r)):s&&(s.d(1),s=null),e[0].email?i?i.p(e,a):(i=Ene(e),i.c(),i.m(t,null)):i&&(i.d(1),i=null)},d(e){e&&R(t),o&&o.d(),s&&s.d(),i&&i.d()}}}function Tne(e){let t,n,r=e[0].fullName+"";return{c(){t=F("span"),n=q(r)},m(e,r){P(e,t,r),A(t,n)},p(e,t){1&t&&r!==(r=e[0].fullName+"")&&X(n,r)},d(e){e&&R(t)}}}function Mne(e){let t;return{c(){t=F("span"),B(t,"class","divider svelte-1fsft1x")},m(e,n){P(e,t,n)},d(e){e&&R(t)}}}function Ene(e){let t,n,r=e[0].email+"";return{c(){t=F("span"),n=q(r)},m(e,r){P(e,t,r),A(t,n)},p(e,t){1&t&&r!==(r=e[0].email+"")&&X(n,r)},d(e){e&&R(t)}}}function One(e){let t,n,r,o,s,i,l,c,u,d,p,$,m,f=e[0].username+"",g=e[2].displayName+"",h=e[1]&&_ne(e);const y=[{class:"icon"},e[2].icon];let v={};for(let b=0;b<y.length;b+=1)v=a(v,y[b]);return c=new Wr({props:v}),{c(){t=F("a"),n=F("div"),r=F("span"),o=q(f),s=V(),h&&h.c(),i=V(),l=F("div"),rt(c.$$.fragment),u=V(),d=F("span"),p=q(g),B(n,"class","user-info svelte-1fsft1x"),B(l,"class","user-type svelte-1fsft1x"),B(t,"class","user-row passthrough svelte-1fsft1x"),B(t,"href",$=Xg(e[0].id))},m(e,a){P(e,t,a),A(t,n),A(n,r),A(r,o),A(n,s),h&&h.m(n,null),A(t,i),A(t,l),ot(c,l,null),A(l,u),A(l,d),A(d,p),m=!0},p(e,[r]){(!m||1&r)&&f!==(f=e[0].username+"")&&X(o,f),e[1]?h?h.p(e,r):(h=_ne(e),h.c(),h.m(n,null)):h&&(h.d(1),h=null);const s=4&r?et(y,[y[0],tt(e[2].icon)]):{};c.$set(s),(!m||4&r)&&g!==(g=e[2].displayName+"")&&X(p,g),(!m||1&r&&$!==($=Xg(e[0].id)))&&B(t,"href",$)},i(e){m||(qe(c.$$.fragment,e),m=!0)},o(e){Ve(c.$$.fragment,e),m=!1},d(e){e&&R(t),h&&h.d(),st(c)}}}function Ane(e,t,n){let r,o,{user:s}=t;return e.$$set=e=>{"user"in e&&n(0,s=e.user)},e.$$.update=()=>{1&e.$$.dirty&&n(2,r=$D(s)),1&e.$$.dirty&&n(1,o=s.email||s.fullName)},[s,o,r]}class Lne extends at{constructor(e){super(),it(this,e,Ane,One,p,{user:0})}}function Nne(e){let t,n,r;return n=new $l({props:{loading:!0}}),{c(){t=F("div"),rt(n.$$.fragment),B(t,"class","user-skeleton-container svelte-1ko2nwt")},m(e,o){P(e,t,o),ot(n,t,null),r=!0},p:s,i(e){r||(qe(n.$$.fragment,e),r=!0)},o(e){Ve(n.$$.fragment,e),r=!1},d(e){e&&R(t),st(n)}}}class Pne extends at{constructor(e){super(),it(this,e,null,Nne,p,{})}}const Rne=e=>({}),zne=e=>({slot:"action"}),Fne=e=>({}),Hne=e=>({slot:"resultInfo"});function qne(e,t,n){const r=e.slice();return r[12]=t[n],r[14]=n,r}const Vne=e=>({}),jne=e=>({slot:"content"});function Wne(e){let t,n;return t=new hy({props:{$$slots:{default:[Bne]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1056&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Une(e){let t,n,r;function o(t){e[9](t)}let s={searchPlaceholder:"Search Users",$$slots:{content:[tre],resultInfo:[Xne],action:[Gne]},$$scope:{ctx:e}};return void 0!==e[0]&&(s.searchQuery=e[0]),t=new mC({props:s}),we.push((()=>nt(t,"searchQuery",o))),t.$on("clear",e[6]),{c(){rt(t.$$.fragment)},m(e,n){ot(t,e,n),r=!0},p(e,r){const o={};1027&r&&(o.$$scope={dirty:r,ctx:e}),!n&&1&r&&(n=!0,o.searchQuery=e[0],Te((()=>n=!1))),t.$set(o)},i(e){r||(qe(t.$$.fragment,e),r=!0)},o(e){Ve(t.$$.fragment,e),r=!1},d(e){st(t,e)}}}function Yne(e){let t,n;return t=new Pne({}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p:s,i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Bne(e){let t,n,r,o=e[5].errors+"";return{c(){t=F("p"),n=q("Error: "),r=q(o)},m(e,o){P(e,t,o),A(t,n),A(t,r)},p(e,t){32&t&&o!==(o=e[5].errors+"")&&X(r,o)},d(e){e&&R(t)}}}function Kne(e){let t,n,r,o;const s=[xm];let i={};for(let l=0;l<s.length;l+=1)i=a(i,s[l]);return t=new Wr({props:i}),{c(){rt(t.$$.fragment),n=V(),r=F("span"),r.textContent="Add user"},m(e,s){ot(t,e,s),P(e,n,s),P(e,r,s),o=!0},p(e,n){const r=0&n?et(s,[tt(xm)]):{};t.$set(r)},i(e){o||(qe(t.$$.fragment,e),o=!0)},o(e){Ve(t.$$.fragment,e),o=!1},d(e){st(t,e),e&&R(n),e&&R(r)}}}function Gne(e){let t;const n=e[8].default,r=g(n,e,e[10],zne),o=r||function(e){let t,n;return t=new pn({props:{appearance:"primary",href:Gg,$$slots:{default:[Kne]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1024&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}(e);return{c(){o&&o.c()},m(e,n){o&&o.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||1024&o)&&v(r,n,e,e[10],t?y(n,e[10],o,Rne):b(e[10]),zne)},i(e){t||(qe(o,e),t=!0)},o(e){Ve(o,e),t=!1},d(e){o&&o.d(e)}}}function Xne(e){let t;const n=e[8].default,r=g(n,e,e[10],Hne),o=r||function(e){let t,n,r,o,s,i=Eb(e[1],"results")+"";return{c(){t=F("p"),n=q(i),r=q("\n          for all users matching "),o=F("strong"),s=q(e[0])},m(e,i){P(e,t,i),A(t,n),A(t,r),A(t,o),A(o,s)},p(e,t){2&t&&i!==(i=Eb(e[1],"results")+"")&&X(n,i),1&t&&X(s,e[0])},d(e){e&&R(t)}}}(e);return{c(){o&&o.c()},m(e,n){o&&o.m(e,n),t=!0},p(e,s){r?r.p&&(!t||1024&s)&&v(r,n,e,e[10],t?y(n,e[10],s,Fne):b(e[10]),Hne):o&&o.p&&(!t||3&s)&&o.p(e,t?s:-1)},i(e){t||(qe(o,e),t=!0)},o(e){Ve(o,e),t=!1},d(e){o&&o.d(e)}}}function Jne(e){let t;return{c(){t=F("p"),t.textContent="No users found",B(t,"class","no-users-found-text")},m(e,n){P(e,t,n)},p:s,i:s,o:s,d(e){e&&R(t)}}}function Zne(e){let t,n,r=[],o=new Map,s=e[1];const i=e=>e[12].id;for(let a=0;a<s.length;a+=1){let t=qne(e,s,a),n=i(t);o.set(n,r[a]=ere(n,t))}return{c(){t=F("div");for(let e=0;e<r.length;e+=1)r[e].c();B(t,"class","users-list svelte-1923w5b")},m(e,o){P(e,t,o);for(let n=0;n<r.length;n+=1)r[n].m(t,null);n=!0},p(e,n){2&n&&(s=e[1],Fe(),r=Qe(r,n,i,1,e,s,o,t,Je,ere,null,qne),He())},i(e){if(!n){for(let e=0;e<s.length;e+=1)qe(r[e]);n=!0}},o(e){for(let t=0;t<r.length;t+=1)Ve(r[t]);n=!1},d(e){e&&R(t);for(let t=0;t<r.length;t+=1)r[t].d()}}}function Qne(e){let t;return{c(){t=F("hr"),B(t,"class","svelte-1923w5b")},m(e,n){P(e,t,n)},d(e){e&&R(t)}}}function ere(e,t){let n,r,o,s,i=0!==t[14]&&Qne();return o=new Lne({props:{user:t[12]}}),{key:e,first:null,c(){n=j(),i&&i.c(),r=V(),rt(o.$$.fragment),this.first=n},m(e,t){P(e,n,t),i&&i.m(e,t),P(e,r,t),ot(o,e,t),s=!0},p(e,n){0!==(t=e)[14]?i||(i=Qne(),i.c(),i.m(r.parentNode,r)):i&&(i.d(1),i=null);const s={};2&n&&(s.user=t[12]),o.$set(s)},i(e){s||(qe(o.$$.fragment,e),s=!0)},o(e){Ve(o.$$.fragment,e),s=!1},d(e){e&&R(n),i&&i.d(e),e&&R(r),st(o,e)}}}function tre(e){let t;const n=e[8].default,r=g(n,e,e[10],jne),o=r||function(e){let t,n,r,o;const s=[Zne,Jne],i=[];function a(e,t){return e[1].length?0:0===e[1].length?1:-1}return~(t=a(e))&&(n=i[t]=s[t](e)),{c(){n&&n.c(),r=j()},m(e,n){~t&&i[t].m(e,n),P(e,r,n),o=!0},p(e,o){let l=t;t=a(e),t===l?~t&&i[t].p(e,o):(n&&(Fe(),Ve(i[l],1,1,(()=>{i[l]=null})),He()),~t?(n=i[t],n?n.p(e,o):(n=i[t]=s[t](e),n.c()),qe(n,1),n.m(r.parentNode,r)):n=null)},i(e){o||(qe(n),o=!0)},o(e){Ve(n),o=!1},d(e){~t&&i[t].d(e),e&&R(r)}}}(e);return{c(){o&&o.c()},m(e,n){o&&o.m(e,n),t=!0},p(e,s){r?r.p&&(!t||1024&s)&&v(r,n,e,e[10],t?y(n,e[10],s,Vne):b(e[10]),jne):o&&o.p&&(!t||2&s)&&o.p(e,t?s:-1)},i(e){t||(qe(o,e),t=!0)},o(e){Ve(o,e),t=!1},d(e){o&&o.d(e)}}}function nre(e){let t,n,r,o,s,i,a,l,c,u;document.title=t=hS("Users");const d=[Yne,Une,Wne],p=[];function $(e,t){return"processing"===e[5]?.state?0:"success"===e[5]?.state?1:"failure"===e[5]?.state?2:-1}return~(l=$(e))&&(c=p[l]=d[l](e)),{c(){n=V(),r=F("h1"),o=q("Users "),s=q(e[2]),i=V(),a=F("section"),c&&c.c(),B(a,"class","users-list-container svelte-1923w5b")},m(e,t){P(e,n,t),P(e,r,t),A(r,o),A(r,s),P(e,i,t),P(e,a,t),~l&&p[l].m(a,null),u=!0},p(e,[n]){(!u||0&n)&&t!==(t=hS("Users"))&&(document.title=t),(!u||4&n)&&X(s,e[2]);let r=l;l=$(e),l===r?~l&&p[l].p(e,n):(c&&(Fe(),Ve(p[r],1,1,(()=>{p[r]=null})),He()),~l?(c=p[l],c?c.p(e,n):(c=p[l]=d[l](e),c.c()),qe(c,1),c.m(a,null)):c=null)},i(e){u||(qe(c),u=!0)},o(e){Ve(c),u=!1},d(e){e&&R(n),e&&R(r),e&&R(i),e&&R(a),~l&&p[l].d()}}}function rre(e,t,n){let r,o,i,a,l,c,u=s,d=s;e.$$.on_destroy.push((()=>u())),e.$$.on_destroy.push((()=>d()));let{$$slots:p={},$$scope:m}=t,f="";const g=Vv();return e.$$set=e=>{"$$scope"in e&&n(10,m=e.$$scope)},e.$$.update=()=>{var t;129&e.$$.dirty&&n(1,(t=f,i=(l??[])?.filter((e=>!t||((e,t)=>e.username.toLowerCase().includes(t)||e.fullName?.toLowerCase().includes(t)||e.email?.toLowerCase().includes(t))(e,t.trim().toLowerCase()))))),2&e.$$.dirty&&n(2,a=i.length?`(${i.length})`:"")},n(4,r=g?.requestStatus),d(),d=$(r,(e=>n(5,c=e))),n(3,o=g?.users),u(),u=$(o,(e=>n(7,l=e))),[f,i,a,o,r,c,function(){n(0,f="")},l,p,function(e){f=e,n(0,f)},m]}class ore extends at{constructor(e){super(),it(this,e,rre,nre,p,{})}}function sre(e){let t,n;const r=e[1].default,o=g(r,e,e[0],null);return{c(){t=F("div"),o&&o.c(),B(t,"class","form-box svelte-cgjg4v")},m(e,r){P(e,t,r),o&&o.m(t,null),n=!0},p(e,[t]){o&&o.p&&(!n||1&t)&&v(o,r,e,e[0],n?y(r,e[0],t,null):b(e[0]),null)},i(e){n||(qe(o,e),n=!0)},o(e){Ve(o,e),n=!1},d(e){e&&R(t),o&&o.d(e)}}}function ire(e,t,n){let{$$slots:r={},$$scope:o}=t;return e.$$set=e=>{"$$scope"in e&&n(0,o=e.$$scope)},[o,r]}class are extends at{constructor(e){super(),it(this,e,ire,sre,p,{})}}function lre(e){let t,n;return t=new ak({}),t.$on("create",e[1]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p:s,i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function cre(e){let t,n,r,o,s,i,l,c;t=new uI({props:{item:{type:"simple",href:Gg,label:"New User",icon:Sm}}});const u=[Sm];let d={};for(let p=0;p<u.length;p+=1)d=a(d,u[p]);return o=new Wr({props:d}),l=new are({props:{$$slots:{default:[lre]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment),n=V(),r=F("h1"),rt(o.$$.fragment),s=q(" New User"),i=V(),rt(l.$$.fragment)},m(e,a){ot(t,e,a),P(e,n,a),P(e,r,a),ot(o,r,null),A(r,s),P(e,i,a),ot(l,e,a),c=!0},p(e,[t]){const n=0&t?et(u,[tt(Sm)]):{};o.$set(n);const r={};8&t&&(r.$$scope={dirty:t,ctx:e}),l.$set(r)},i(e){c||(qe(t.$$.fragment,e),qe(o.$$.fragment,e),qe(l.$$.fragment,e),c=!0)},o(e){Ve(t.$$.fragment,e),Ve(o.$$.fragment,e),Ve(l.$$.fragment,e),c=!1},d(e){st(t,e),e&&R(n),e&&R(r),st(o),e&&R(i),st(l,e)}}}function ure(e){const t=Vv();function n(e){t?.fetchUsers(),hg.goto(Xg(e.id),!0)}return[n,e=>n(e.detail)]}class dre extends at{constructor(e){super(),it(this,e,ure,cre,p,{})}}function pre(e){return{c:s,m:s,p:s,i:s,o:s,d:s}}function $re(e){let t,n,r,o;const s=[fre,mre],i=[];function a(e,t){return void 0===e[12]?0:1}return t=a(e),n=i[t]=s[t](e),{c(){n.c(),r=j()},m(e,n){i[t].m(e,n),P(e,r,n),o=!0},p(e,o){let l=t;t=a(e),t===l?i[t].p(e,o):(Fe(),Ve(i[l],1,1,(()=>{i[l]=null})),He(),n=i[t],n?n.p(e,o):(n=i[t]=s[t](e),n.c()),qe(n,1),n.m(r.parentNode,r))},i(e){o||(qe(n),o=!0)},o(e){Ve(n),o=!1},d(e){i[t].d(e),e&&R(r)}}}function mre(e){let t,n,r,o,s,i,l,c,u,d,p,$,m,f,g=e[12].username+"";t=new uI({props:{item:{type:"simple",href:Xg(e[0]),label:e[12].username,icon:_m}}});const h=[_m];let y={};for(let b=0;b<h.length;b+=1)y=a(y,h[b]);o=new Wr({props:y}),u=new are({props:{$$slots:{default:[gre]},$$scope:{ctx:e}}}),p=new are({props:{$$slots:{default:[hre]},$$scope:{ctx:e}}});let v=!e[2]&&yre(e);return{c(){rt(t.$$.fragment),n=V(),r=F("h1"),rt(o.$$.fragment),s=q("\n      Edit User: "),i=F("strong"),l=q(g),c=V(),rt(u.$$.fragment),d=V(),rt(p.$$.fragment),$=V(),v&&v.c(),m=j()},m(e,a){ot(t,e,a),P(e,n,a),P(e,r,a),ot(o,r,null),A(r,s),A(r,i),A(i,l),P(e,c,a),ot(u,e,a),P(e,d,a),ot(p,e,a),P(e,$,a),v&&v.m(e,a),P(e,m,a),f=!0},p(e,n){const r={};3&n&&(r.item={type:"simple",href:Xg(e[0]),label:e[12].username,icon:_m}),t.$set(r);const s=0&n?et(h,[tt(_m)]):{};o.$set(s),(!f||2&n)&&g!==(g=e[12].username+"")&&X(l,g);const i={};8194&n&&(i.$$scope={dirty:n,ctx:e}),u.$set(i);const a={};8193&n&&(a.$$scope={dirty:n,ctx:e}),p.$set(a),e[2]?v&&(Fe(),Ve(v,1,1,(()=>{v=null})),He()):v?(v.p(e,n),4&n&&qe(v,1)):(v=yre(e),v.c(),qe(v,1),v.m(m.parentNode,m))},i(e){f||(qe(t.$$.fragment,e),qe(o.$$.fragment,e),qe(u.$$.fragment,e),qe(p.$$.fragment,e),qe(v),f=!0)},o(e){Ve(t.$$.fragment,e),Ve(o.$$.fragment,e),Ve(u.$$.fragment,e),Ve(p.$$.fragment,e),Ve(v),f=!1},d(e){st(t,e),e&&R(n),e&&R(r),st(o),e&&R(c),st(u,e),e&&R(d),st(p,e),e&&R($),v&&v.d(e),e&&R(m)}}}function fre(e){let t;function n(e,t){return"failure"===e[4]?.state?wre:bre}let r=n(e),o=r(e);return{c(){o.c(),t=j()},m(e,n){o.m(e,n),P(e,t,n)},p(e,s){r===(r=n(e))&&o?o.p(e,s):(o.d(1),o=r(e),o&&(o.c(),o.m(t.parentNode,t)))},i:s,o:s,d(e){o.d(e),e&&R(t)}}}function gre(e){let t,n;return t=new ak({props:{user:e[12].getUser()}}),t.$on("update",e[6]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.user=e[12].getUser()),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function hre(e){let t,n;return t=new Dk({props:{userId:e[0]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.userId=e[0]),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function yre(e){let t,n;return t=new are({props:{$$slots:{default:[vre]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};8194&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function vre(e){let t,n;function r(){return e[9](e[12])}function o(){return e[10](e[12])}return t=new Jr({props:{confirm:r,onClick:o,icon:km,danger:!0,label:"Delete User",appearance:"default"}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(n,s){e=n;const i={};2&s&&(i.confirm=r),2&s&&(i.onClick=o),t.$set(i)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function bre(e){let t;return{c(){t=q("User not found")},m(e,n){P(e,t,n)},p:s,d(e){e&&R(t)}}}function wre(e){let t,n=e[4].errors+"";return{c(){t=q(n)},m(e,n){P(e,t,n)},p(e,r){16&r&&n!==(n=e[4].errors+"")&&X(t,n)},d(e){e&&R(t)}}}function xre(e){let t;return{c(){t=q("Fetching user details")},m(e,n){P(e,t,n)},p:s,i:s,o:s,d(e){e&&R(t)}}}function Sre(e){let t,n,r,o={ctx:e,current:null,token:null,hasCatch:!1,pending:xre,then:$re,catch:pre,value:12,blocks:[,,,]};return Be(n=e[1],o),{c(){t=j(),o.block.c()},m(e,n){P(e,t,n),o.block.m(e,o.anchor=n),o.mount=()=>t.parentNode,o.anchor=t,r=!0},p(t,[r]){e=t,o.ctx=e,2&r&&n!==(n=e[1])&&Be(n,o)||Ke(o,e,r)},i(e){r||(qe(o.block),r=!0)},o(e){for(let t=0;t<3;t+=1){Ve(o.blocks[t])}r=!1},d(e){e&&R(t),o.block.d(e),o.token=null,o=null}}}function Cre(e,t,n){let r,o,i,a,l,c=s;e.$$.on_destroy.push((()=>c()));const u=Uv();f(e,u,(e=>n(8,a=e)));const d=Vv();let{userId:p}=t;async function m(e){if(d)try{await d.delete(e.id),hg.goto(Kg)}catch(t){Uf.fromError(t)}}return e.$$set=e=>{"userId"in e&&n(0,p=e.userId)},e.$$.update=()=>{1&e.$$.dirty&&n(1,o=d?.getUserDetails(p)),257&e.$$.dirty&&n(2,i=a?.id===p)},n(3,r=d?.requestStatus),c(),c=$(r,(e=>n(4,l=e))),[p,o,i,r,l,u,async function(){await(d?.fetchUsers()),n(1,o=d?.getUserDetails(p))},m,a,e=>Gf({identifierName:e.username,identifierType:"user"}),e=>m(e)]}class kre extends at{constructor(e){super(),it(this,e,Cre,Sre,p,{userId:0})}}function Dre(e){let t,n;return t=new ore({}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Ire(e){let t,n;return t=new dre({}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function _re(e){let t,n;return t=new kre({props:{userId:parseInt(e[0].params.userId,10)}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.userId=parseInt(e[0].params.userId,10)),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Tre(e){let t,n,r,o,s,i,a,l;return t=new uI({props:{item:{type:"simple",href:Kg,label:"Users",icon:Sf}}}),r=new Tg({props:{path:"/",$$slots:{default:[Dre]},$$scope:{ctx:e}}}),s=new Tg({props:{path:"/new",$$slots:{default:[Ire]},$$scope:{ctx:e}}}),a=new Tg({props:{path:"/:userId",$$slots:{default:[_re,({meta:e})=>({0:e}),({meta:e})=>e?1:0]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment),n=V(),rt(r.$$.fragment),o=V(),rt(s.$$.fragment),i=V(),rt(a.$$.fragment)},m(e,c){ot(t,e,c),P(e,n,c),ot(r,e,c),P(e,o,c),ot(s,e,c),P(e,i,c),ot(a,e,c),l=!0},p(e,[t]){const n={};2&t&&(n.$$scope={dirty:t,ctx:e}),r.$set(n);const o={};2&t&&(o.$$scope={dirty:t,ctx:e}),s.$set(o);const i={};3&t&&(i.$$scope={dirty:t,ctx:e}),a.$set(i)},i(e){l||(qe(t.$$.fragment,e),qe(r.$$.fragment,e),qe(s.$$.fragment,e),qe(a.$$.fragment,e),l=!0)},o(e){Ve(t.$$.fragment,e),Ve(r.$$.fragment,e),Ve(s.$$.fragment,e),Ve(a.$$.fragment,e),l=!1},d(e){st(t,e),e&&R(n),st(r,e),e&&R(o),st(s,e),e&&R(i),st(a,e)}}}function Mre(e){return jv(),[]}class Ere extends at{constructor(e){super(),it(this,e,Mre,Tre,p,{})}}function Ore(e){let t,n,r,o;return t=new uI({props:{item:{type:"simple",href:Bg,label:"Software Update"}}}),r=new wne({}),{c(){rt(t.$$.fragment),n=V(),rt(r.$$.fragment)},m(e,s){ot(t,e,s),P(e,n,s),ot(r,e,s),o=!0},p:s,i(e){o||(qe(t.$$.fragment,e),qe(r.$$.fragment,e),o=!0)},o(e){Ve(t.$$.fragment,e),Ve(r.$$.fragment,e),o=!1},d(e){st(t,e),e&&R(n),st(r,e)}}}function Are(e){let t,n;return t=new Ere({}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Lre(e){let t,n,r,o;return t=new Tg({props:{path:"/update",$$slots:{default:[Ore]},$$scope:{ctx:e}}}),r=new Tg({props:{path:"/users/*",firstmatch:!0,$$slots:{default:[Are]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment),n=V(),rt(r.$$.fragment)},m(e,s){ot(t,e,s),P(e,n,s),ot(r,e,s),o=!0},p(e,n){const o={};1&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o);const s={};1&n&&(s.$$scope={dirty:n,ctx:e}),r.$set(s)},i(e){o||(qe(t.$$.fragment,e),qe(r.$$.fragment,e),o=!0)},o(e){Ve(t.$$.fragment,e),Ve(r.$$.fragment,e),o=!1},d(e){st(t,e),e&&R(n),st(r,e)}}}function Nre(e){let t,n;return t=new Ine({props:{slot:"sidebar"}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p:s,i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Pre(e){let t,n;return t=new gS({props:{$$slots:{sidebar:[Nre],default:[Lre]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Rre(e){let t,n;return t=new KS({props:{slot:"secondary-header",theme:"light",pageTitleAndMetaProps:{name:"Administration",icon:mf}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p:s,i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function zre(e){let t,n,r,o,s,i;return t=new uI({props:{item:{type:"simple",href:Yg,label:"Administration",icon:mf}}}),r=new Tg({props:{path:"/",redirect:Bg}}),s=new rS({props:{cssVariables:{"--max-layout-width":"var(--max-layout-width-console-pages)"},restrictWidth:!0,$$slots:{"secondary-header":[Rre],default:[Pre]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment),n=V(),rt(r.$$.fragment),o=V(),rt(s.$$.fragment)},m(e,a){ot(t,e,a),P(e,n,a),ot(r,e,a),P(e,o,a),ot(s,e,a),i=!0},p(e,[t]){const n={};1&t&&(n.$$scope={dirty:t,ctx:e}),s.$set(n)},i(e){i||(qe(t.$$.fragment,e),qe(r.$$.fragment,e),qe(s.$$.fragment,e),i=!0)},o(e){Ve(t.$$.fragment,e),Ve(r.$$.fragment,e),Ve(s.$$.fragment,e),i=!1},d(e){st(t,e),e&&R(n),st(r,e),e&&R(o),st(s,e)}}}class Fre extends at{constructor(e){super(),it(this,e,null,zre,p,{})}}function Hre(e){let t,n;return t=new Tg({props:{path:"/",$$slots:{default:[jre]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};128&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function qre(e){let t,n;return t=new Tg({props:{path:"/",redirect:Ag(e[1].name)}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.redirect=Ag(e[1].name)),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Vre(e){let t;return{c(){t=q("No databases found")},m(e,n){P(e,t,n)},d(e){e&&R(t)}}}function jre(e){let t,n;return t=new cS({props:{$$slots:{default:[Vre]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};128&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Wre(e){let t,n;return t=new Ste({}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Ure(e){let t,n;return t=new Tg({props:{path:"/administration/*",firstmatch:!0,$$slots:{default:[Yre]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Yre(e){let t,n;return t=new Fre({}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Bre(e){let t,n;return t=new ite({props:{databaseName:e[6].params.databaseName}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};64&n&&(r.databaseName=e[6].params.databaseName),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Kre(e){let t,n,r,o,s,i,a,l;const c=[qre,Hre],u=[];function d(e,t){return e[1]?0:1}t=d(e),n=u[t]=c[t](e),o=new Tg({props:{path:"/profile",$$slots:{default:[Wre]},$$scope:{ctx:e}}});let p=e[0].isSuperUser&&Ure(e);return a=new Tg({props:{path:"/db/:databaseName/*",firstmatch:!0,$$slots:{default:[Bre,({meta:e})=>({6:e}),({meta:e})=>e?64:0]},$$scope:{ctx:e}}}),{c(){n.c(),r=V(),rt(o.$$.fragment),s=V(),p&&p.c(),i=V(),rt(a.$$.fragment)},m(e,n){u[t].m(e,n),P(e,r,n),ot(o,e,n),P(e,s,n),p&&p.m(e,n),P(e,i,n),ot(a,e,n),l=!0},p(e,[s]){let l=t;t=d(e),t===l?u[t].p(e,s):(Fe(),Ve(u[l],1,1,(()=>{u[l]=null})),He(),n=u[t],n?n.p(e,s):(n=u[t]=c[t](e),n.c()),qe(n,1),n.m(r.parentNode,r));const $={};128&s&&($.$$scope={dirty:s,ctx:e}),o.$set($),e[0].isSuperUser?p?1&s&&qe(p,1):(p=Ure(e),p.c(),qe(p,1),p.m(i.parentNode,i)):p&&(Fe(),Ve(p,1,1,(()=>{p=null})),He());const m={};192&s&&(m.$$scope={dirty:s,ctx:e}),a.$set(m)},i(e){l||(qe(n),qe(o.$$.fragment,e),qe(p),qe(a.$$.fragment,e),l=!0)},o(e){Ve(n),Ve(o.$$.fragment,e),Ve(p),Ve(a.$$.fragment,e),l=!1},d(e){u[t].d(e),e&&R(r),st(o,e),e&&R(s),p&&p.d(e),e&&R(i),st(a,e)}}}function Gre(e,t,n){let r,o,i,a,l,c=s;f(e,yh,(e=>n(4,a=e))),e.$$.on_destroy.push((()=>c()));let{commonData:u}=t;return e.$$set=e=>{"commonData"in e&&n(3,u=e.commonData)},e.$$.update=()=>{8&e.$$.dirty&&(n(2,r=Yv(u.user)),c(),c=$(r,(e=>n(5,l=e)))),32&e.$$.dirty&&n(0,o=l),9&e.$$.dirty&&o.isSuperUser&&function(e){if(void 0!==Rh())throw Error("ReleaseDataStore context has already been set");ge(Ph,Nh(e))}(u.current_release_tag_name),16&e.$$.dirty&&n(1,i=a.data?.[0])},[o,i,r,u,a,l]}class Xre extends at{constructor(e){super(),it(this,e,Gre,Kre,p,{commonData:3})}}function Jre(e){let t,n;return t=new cS({props:{$$slots:{default:[Qre]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};256&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Zre(e){let t,n;return t=new M5({props:{table:e[1],shareConsumer:e[0]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.table=e[1]),1&n&&(r.shareConsumer=e[0]),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Qre(e){let t;return{c(){t=q("The page you're looking for doesn't exist.")},m(e,n){P(e,t,n)},d(e){e&&R(t)}}}function eoe(e){let t,n,r,o;const s=[Zre,Jre],i=[];function a(e,t){return e[1]?0:1}return t=a(e),n=i[t]=s[t](e),{c(){n.c(),r=j()},m(e,n){i[t].m(e,n),P(e,r,n),o=!0},p(e,o){let l=t;t=a(e),t===l?i[t].p(e,o):(Fe(),Ve(i[l],1,1,(()=>{i[l]=null})),He(),n=i[t],n?n.p(e,o):(n=i[t]=s[t](e),n.c()),qe(n,1),n.m(r.parentNode,r))},i(e){o||(qe(n),o=!0)},o(e){Ve(n),o=!1},d(e){i[t].d(e),e&&R(r)}}}function toe(e){let t,n;return t=new Tg({props:{path:"/",$$slots:{default:[eoe]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const r={};259&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function noe(e,t,n){let r,o,s,i,a;f(e,Iv,(e=>n(5,i=e))),f(e,Cv,(e=>n(4,a=e)));const l=tg("shared_table");let{slug:c}=t;function u(){k(Iv,i=void 0,i)}return pe((()=>u)),e.$$set=e=>{"slug"in e&&n(2,c=e.slug)},e.$$.update=()=>{8&e.$$.dirty&&k(Iv,i=r??void 0,i),24&e.$$.dirty&&n(1,o=r?a.data.get(r):void 0),4&e.$$.dirty&&n(0,s=new lw({slug:c}))},n(3,r=l?.table_id??void 0),[s,o,c,r,a]}class roe extends at{constructor(e){super(),it(this,e,noe,toe,p,{slug:2})}}function ooe(e){let t,n;return t=new cS({props:{$$slots:{default:[ioe]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1024&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function soe(e){let t,n;return t=new Aee({props:{database:e[2],schema:e[1],query:e[3],shareConsumer:e[0]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};4&n&&(r.database=e[2]),2&n&&(r.schema=e[1]),8&n&&(r.query=e[3]),1&n&&(r.shareConsumer=e[0]),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function ioe(e){let t;return{c(){t=q("The page you're looking for doesn't exist.")},m(e,n){P(e,t,n)},d(e){e&&R(t)}}}function aoe(e){let t,n,r,o;const s=[soe,ooe],i=[];function a(e,t){return e[3]&&e[2]&&e[1]?0:1}return t=a(e),n=i[t]=s[t](e),{c(){n.c(),r=j()},m(e,n){i[t].m(e,n),P(e,r,n),o=!0},p(e,o){let l=t;t=a(e),t===l?i[t].p(e,o):(Fe(),Ve(i[l],1,1,(()=>{i[l]=null})),He(),n=i[t],n?n.p(e,o):(n=i[t]=s[t](e),n.c()),qe(n,1),n.m(r.parentNode,r))},i(e){o||(qe(n),o=!0)},o(e){Ve(n),o=!1},d(e){i[t].d(e),e&&R(r)}}}function loe(e){let t,n;return t=new Tg({props:{path:"/",$$slots:{default:[aoe]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const r={};1039&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function coe(e,t,n){let r,o,s,i,a,l,c,u;f(e,Xh,(e=>n(6,l=e))),f(e,vh,(e=>n(7,c=e))),f(e,gw,(e=>n(8,u=e)));const d=tg("shared_query");let{slug:p}=t;return e.$$set=e=>{"slug"in e&&n(4,p=e.slug)},e.$$.update=()=>{288&e.$$.dirty&&n(3,o=r?u.data.get(r):void 0),128&e.$$.dirty&&n(2,s=c),64&e.$$.dirty&&n(1,i=l),16&e.$$.dirty&&n(0,a=new lw({slug:p}))},n(5,r=d?.query_id??void 0),[a,i,s,o,p,r,l,c,u]}class uoe extends at{constructor(e){super(),it(this,e,coe,loe,p,{slug:4})}}function doe(e){let t,n;return t=new roe({props:{slug:String(e[0].params.slug)}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.slug=String(e[0].params.slug)),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function poe(e){let t,n;return t=new uoe({props:{slug:String(e[0].params.slug)}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.slug=String(e[0].params.slug)),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function $oe(e){let t,n,r,o;return t=new Tg({props:{path:"/tables/:slug/*",$$slots:{default:[doe,({meta:e})=>({0:e}),({meta:e})=>e?1:0]},$$scope:{ctx:e}}}),r=new Tg({props:{path:"/explorations/:slug/*",$$slots:{default:[poe,({meta:e})=>({0:e}),({meta:e})=>e?1:0]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment),n=V(),rt(r.$$.fragment)},m(e,s){ot(t,e,s),P(e,n,s),ot(r,e,s),o=!0},p(e,[n]){const o={};3&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o);const s={};3&n&&(s.$$scope={dirty:n,ctx:e}),r.$set(s)},i(e){o||(qe(t.$$.fragment,e),qe(r.$$.fragment,e),o=!0)},o(e){Ve(t.$$.fragment,e),Ve(r.$$.fragment,e),o=!1},d(e){st(t,e),e&&R(n),st(r,e)}}}function moe(e){return Yv(new Fv),[]}class foe extends at{constructor(e){super(),it(this,e,moe,$oe,p,{})}}function goe(e){let t,n;return t=new Tg({props:{path:"/*",firstmatch:!0,$$slots:{default:[xoe]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};9&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function hoe(e){let t,n;return t=new Tg({props:{path:"/*",firstmatch:!0,$$slots:{default:[Ioe]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};8&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function yoe(e){let t,n;return t=new Xre({props:{commonData:e[0]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.commonData=e[0]),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function voe(e){let t,n;return t=new dS({}),t.$on("load",e[2]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p:s,i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function boe(e){let t;return{c(){t=q("The page you're looking for doesn't exist.")},m(e,n){P(e,t,n)},d(e){e&&R(t)}}}function woe(e){let t,n;return t=new cS({props:{$$slots:{default:[boe]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};8&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function xoe(e){let t,n,r,o,s,i=e[0].is_authenticated&&yoe(e);return n=new Tg({props:{path:"/shares/*",$$slots:{default:[voe]},$$scope:{ctx:e}}}),o=new Tg({props:{fallback:!0,$$slots:{default:[woe]},$$scope:{ctx:e}}}),{c(){i&&i.c(),t=V(),rt(n.$$.fragment),r=V(),rt(o.$$.fragment)},m(e,a){i&&i.m(e,a),P(e,t,a),ot(n,e,a),P(e,r,a),ot(o,e,a),s=!0},p(e,r){e[0].is_authenticated?i?(i.p(e,r),1&r&&qe(i,1)):(i=yoe(e),i.c(),qe(i,1),i.m(t.parentNode,t)):i&&(Fe(),Ve(i,1,1,(()=>{i=null})),He());const s={};8&r&&(s.$$scope={dirty:r,ctx:e}),n.$set(s);const a={};8&r&&(a.$$scope={dirty:r,ctx:e}),o.$set(a)},i(e){s||(qe(i),qe(n.$$.fragment,e),qe(o.$$.fragment,e),s=!0)},o(e){Ve(i),Ve(n.$$.fragment,e),Ve(o.$$.fragment,e),s=!1},d(e){i&&i.d(e),e&&R(t),st(n,e),e&&R(r),st(o,e)}}}function Soe(e){let t;return{c(){t=q("The page you're looking for doesn't exist.")},m(e,n){P(e,t,n)},d(e){e&&R(t)}}}function Coe(e){let t,n;return t=new cS({props:{$$slots:{default:[Soe]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};8&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function koe(e){let t,n,r,o;return t=new foe({}),r=new Tg({props:{fallback:!0,$$slots:{default:[Coe]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment),n=V(),rt(r.$$.fragment)},m(e,s){ot(t,e,s),P(e,n,s),ot(r,e,s),o=!0},p(e,t){const n={};8&t&&(n.$$scope={dirty:t,ctx:e}),r.$set(n)},i(e){o||(qe(t.$$.fragment,e),qe(r.$$.fragment,e),o=!0)},o(e){Ve(t.$$.fragment,e),Ve(r.$$.fragment,e),o=!1},d(e){st(t,e),e&&R(n),st(r,e)}}}function Doe(e){let t,n;return t=new dS({}),t.$on("load",e[1]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p:s,i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Ioe(e){let t,n,r,o;return t=new Tg({props:{path:"/shares/*",firstmatch:!0,$$slots:{default:[koe]},$$scope:{ctx:e}}}),r=new Tg({props:{fallback:!0,$$slots:{default:[Doe]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment),n=V(),rt(r.$$.fragment)},m(e,s){ot(t,e,s),P(e,n,s),ot(r,e,s),o=!0},p(e,n){const o={};8&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o);const s={};8&n&&(s.$$scope={dirty:n,ctx:e}),r.$set(s)},i(e){o||(qe(t.$$.fragment,e),qe(r.$$.fragment,e),o=!0)},o(e){Ve(t.$$.fragment,e),Ve(r.$$.fragment,e),o=!1},d(e){st(t,e),e&&R(n),st(r,e)}}}function _oe(e){let t,n,r,o;const s=[hoe,goe],i=[];function a(e,t){return"anonymous"===e[0].routing_context?0:1}return t=a(e),n=i[t]=s[t](e),{c(){n.c(),r=j()},m(e,n){i[t].m(e,n),P(e,r,n),o=!0},p(e,[o]){let l=t;t=a(e),t===l?i[t].p(e,o):(Fe(),Ve(i[l],1,1,(()=>{i[l]=null})),He(),n=i[t],n?n.p(e,o):(n=i[t]=s[t](e),n.c()),qe(n,1),n.m(r.parentNode,r))},i(e){o||(qe(n),o=!0)},o(e){Ve(n),o=!1},d(e){i[t].d(e),e&&R(r)}}}function Toe(e,t,n){ge(Mg,mt([]));let{commonData:r}=t;return e.$$set=e=>{"commonData"in e&&n(0,r=e.commonData)},[r,()=>window.location.reload(),()=>window.location.reload()]}class Moe extends at{constructor(e){super(),it(this,e,Toe,_oe,p,{commonData:0})}}function Eoe(e,t){const{hasOverflowTop:n,hasOverflowLeft:r,hasOverflowBottom:o,hasOverflowRight:s}=t;function i(){const{scrollTop:t,scrollLeft:i,scrollHeight:a,scrollWidth:l,clientHeight:c,clientWidth:u}=e;n.set(t>0),r.set(i>0),o.set(Math.abs(a-c-t)>1),s.set(Math.abs(l-u-i)>1)}e.addEventListener("scroll",i);const a=new ResizeObserver(i);return a.observe(e),{destroy:()=>{e.removeEventListener("scroll",i),a.disconnect()}}}function Ooe(e){let t,n;const r=e[10].default,o=g(r,e,e[9],null);return{c(){t=F("div"),o&&o.c(),B(t,"class","td svelte-1bmz4cl"),te(t,"column-header","columnHeaderRow"===e[0]),te(t,"row-header","rowHeaderColumn"===e[2]),te(t,"row-is-selected",e[1]),te(t,"table-overflow-top",e[6]),te(t,"table-overflow-left",e[7]),te(t,"show-above-overlay",e[3])},m(e,r){P(e,t,r),o&&o.m(t,null),n=!0},p(e,[s]){o&&o.p&&(!n||512&s)&&v(o,r,e,e[9],n?y(r,e[9],s,null):b(e[9]),null),(!n||1&s)&&te(t,"column-header","columnHeaderRow"===e[0]),(!n||4&s)&&te(t,"row-header","rowHeaderColumn"===e[2]),(!n||2&s)&&te(t,"row-is-selected",e[1]),(!n||64&s)&&te(t,"table-overflow-top",e[6]),(!n||128&s)&&te(t,"table-overflow-left",e[7]),(!n||8&s)&&te(t,"show-above-overlay",e[3])},i(e){n||(qe(o,e),n=!0)},o(e){Ve(o,e),n=!1},d(e){e&&R(t),o&&o.d(e)}}}function Aoe(e,t,n){let r,o,i,a,l=s,c=s;e.$$.on_destroy.push((()=>l())),e.$$.on_destroy.push((()=>c()));let{$$slots:u={},$$scope:d}=t,{rowType:p}=t,{rowIsSelected:m=!1}=t,{columnType:f}=t,{overflowDetails:g}=t,{showAboveOverlay:h=!1}=t;return e.$$set=e=>{"rowType"in e&&n(0,p=e.rowType),"rowIsSelected"in e&&n(1,m=e.rowIsSelected),"columnType"in e&&n(2,f=e.columnType),"overflowDetails"in e&&n(8,g=e.overflowDetails),"showAboveOverlay"in e&&n(3,h=e.showAboveOverlay),"$$scope"in e&&n(9,d=e.$$scope)},e.$$.update=()=>{256&e.$$.dirty&&(n(5,r=Ft(g?.hasOverflowTop??!1)),l(),l=$(r,(e=>n(6,i=e)))),256&e.$$.dirty&&(n(4,o=Ft(g?.hasOverflowLeft??!1)),c(),c=$(o,(e=>n(7,a=e))))},[p,m,f,h,o,r,i,a,g,d,u]}class Loe extends at{constructor(e){super(),it(this,e,Aoe,Ooe,p,{rowType:0,rowIsSelected:1,columnType:2,overflowDetails:8,showAboveOverlay:3})}}function Noe(e){let t,n,r,o;const s=e[9].default,i=g(s,e,e[8],null);let l=[{class:"passthrough tr svelte-rluf06"},{href:e[0]},{tabindex:"-1"}],c={};for(let u=0;u<l.length;u+=1)c=a(c,l[u]);return{c(){t=F(e[2]),i&&i.c(),K(t,c),te(t,"selected",e[1])},m(s,a){P(s,t,a),i&&i.m(t,null),n=!0,r||(o=[W(t,"click",e[3]),W(t,"mousemove",e[4])],r=!0)},p(e,r){i&&i.p&&(!n||256&r)&&v(i,s,e,e[8],n?y(s,e[8],r,null):b(e[8]),null),K(t,c=et(l,[{class:"passthrough tr svelte-rluf06"},(!n||1&r)&&{href:e[0]},{tabindex:"-1"}])),te(t,"selected",e[1])},i(e){n||(qe(i,e),n=!0)},o(e){Ve(i,e),n=!1},d(e){e&&R(t),i&&i.d(e),r=!1,u(o)}}}function Poe(e){let t,n,r=e[2],o=e[2]&&Noe(e);return{c(){o&&o.c(),t=j()},m(e,r){o&&o.m(e,r),P(e,t,r),n=!0},p(e,[n]){e[2]?r?p(r,e[2])?(o.d(1),o=Noe(e),o.c(),o.m(t.parentNode,t)):o.p(e,n):(o=Noe(e),o.c(),o.m(t.parentNode,t)):r&&(o.d(1),o=null),r=e[2]},i(e){n||(qe(o),n=!0)},o(e){Ve(o),n=!1},d(e){e&&R(t),o&&o.d(e)}}}function Roe(e,t,n){let r,o,{$$slots:s={},$$scope:i}=t;const a=fe();let{href:l}=t,{index:c}=t,{selectionIndex:u}=t,{setSelectionIndex:d}=t;return e.$$set=e=>{"href"in e&&n(0,l=e.href),"index"in e&&n(5,c=e.index),"selectionIndex"in e&&n(6,u=e.selectionIndex),"setSelectionIndex"in e&&n(7,d=e.setSelectionIndex),"$$scope"in e&&n(8,i=e.$$scope)},e.$$.update=()=>{1&e.$$.dirty&&n(2,r=l?"a":"div"),96&e.$$.dirty&&n(1,o=u===c)},[l,o,r,function(e){e.preventDefault(),a("click")},function(){void 0!==u&&d(c)},c,u,d,i,s]}class zoe extends at{constructor(e){super(),it(this,e,Roe,Poe,p,{href:0,index:5,selectionIndex:6,setSelectionIndex:7})}}function Foe(e){let t,n;return t=new aG({props:{processedColumn:e[0]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.processedColumn=e[0]),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Hoe(e){let t,n;return t=new RM({props:{class:"record-selector-input column-"+e[5].id,componentAndProps:e[0].inputComponentAndProps,value:e[6],recordSummary:e[9],labelController:e[10],allowsHyperlinks:!1,setRecordSummary:e[15]}}),t.$on("input",(function(...t){return e[16](e[27],...t)})),t.$on("artificialInput",(function(...t){return e[17](e[27],...t)})),t.$on("change",(function(...t){return e[18](e[27],...t)})),t.$on("artificialChange",(function(...t){return e[19](e[27],...t)})),t.$on("focus",e[20]),t.$on("blur",e[21]),t.$on("recordSelectorOpen",e[22]),t.$on("recordSelectorSubmit",e[23]),t.$on("recordSelectorCancel",e[24]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(n,r){e=n;const o={};32&r&&(o.class="record-selector-input column-"+e[5].id),1&r&&(o.componentAndProps=e[0].inputComponentAndProps),64&r&&(o.value=e[6]),512&r&&(o.recordSummary=e[9]),36&r&&(o.setRecordSummary=e[15]),t.$set(o)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function qoe(e){let t;return{c(){t=F("div"),B(t,"class","overlay svelte-1oja6qb")},m(e,n){P(e,t,n)},d(e){e&&R(t)}}}function Voe(e){let t,n,r,o,s,i,a,l,c,u;n=new vo({props:{controller:e[10],$$slots:{default:[Foe]},$$scope:{ctx:e}}}),l=new Os({props:{$$slots:{default:[Hoe,({handleNewValue:e})=>({27:e}),({handleNewValue:e})=>e?134217728:0]},$$scope:{ctx:e}}}),l.$on("artificialChange",e[11]);let d=e[3]&&qoe();return{c(){t=F("div"),rt(n.$$.fragment),r=V(),o=F("div"),s=F("div"),i=q(e[8]),a=V(),rt(l.$$.fragment),c=V(),d&&d.c(),B(s,"class","search-value svelte-1oja6qb"),B(o,"class","input-wrapper"),B(t,"class","column-header-cell svelte-1oja6qb"),te(t,"has-nested-selector-open",e[3])},m(p,$){P(p,t,$),ot(n,t,null),A(t,r),A(t,o),A(o,s),A(s,i),A(o,a),ot(l,o,null),e[25](o),A(t,c),d&&d.m(t,null),u=!0},p(e,r){const o={};268435457&r&&(o.$$scope={dirty:r,ctx:e}),n.$set(o),(!u||256&r)&&X(i,e[8]);const s={};402653797&r&&(s.$$scope={dirty:r,ctx:e}),l.$set(s),e[3]?d||(d=qoe(),d.c(),d.m(t,null)):d&&(d.d(1),d=null),(!u||8&r)&&te(t,"has-nested-selector-open",e[3])},i(e){u||(qe(n.$$.fragment,e),qe(l.$$.fragment,e),u=!0)},o(e){Ve(n.$$.fragment,e),Ve(l.$$.fragment,e),u=!1},d(r){r&&R(t),st(n),st(l),e[25](null),d&&d.d()}}}function joe(e){let t,n;return t=new Loe({props:{rowType:"columnHeaderRow",columnType:"dataColumn",overflowDetails:e[4],showAboveOverlay:e[3],$$slots:{default:[Voe]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const r={};16&n&&(r.overflowDetails=e[4]),8&n&&(r.showAboveOverlay=e[3]),268436461&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Woe(e,t,n){let r,o,i,a,l,c=s,u=()=>(c(),c=$(h,(e=>n(13,a=e))),h),d=s,p=()=>(d(),d=$(g,(e=>n(14,l=e))),g);e.$$.on_destroy.push((()=>c())),e.$$.on_destroy.push((()=>d()));const m=new oo;let{processedColumn:f}=t,{searchFuzzy:g}=t;p();let{recordSummaryStore:h}=t;u();let y,v,{hasNestedSelectorOpen:b}=t,{overflowDetails:w}=t,x="";async function S(){await Ie(),n(8,x=v?.value??"")}pe((()=>{v=y.querySelector("input[type=text], textarea")}));return e.$$set=e=>{"processedColumn"in e&&n(0,f=e.processedColumn),"searchFuzzy"in e&&p(n(1,g=e.searchFuzzy)),"recordSummaryStore"in e&&u(n(2,h=e.recordSummaryStore)),"hasNestedSelectorOpen"in e&&n(3,b=e.hasNestedSelectorOpen),"overflowDetails"in e&&n(4,w=e.overflowDetails)},e.$$.update=()=>{1&e.$$.dirty&&n(5,({column:r}=f),r),16416&e.$$.dirty&&n(6,o=l.get(r.id)),8288&e.$$.dirty&&n(9,i=a.get(String(r.id))?.get(String(o)))},[f,g,h,b,w,r,o,y,x,i,m,function(e){const t=e.detail;g.update((e=>e.with(r.id,t)))},S,a,l,(e,t)=>h.addBespokeRecordSummary({columnId:String(r.id),recordId:e,recordSummary:t}),(e,t)=>{S(),e({value:Ut(t),debounce:!0})},(e,t)=>{S(),e({value:Yt(t),debounce:!0})},(e,t)=>e({value:Ut(t),debounce:!1}),(e,t)=>e({value:Yt(t),debounce:!1}),function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(e){we[e?"unshift":"push"]((()=>{y=e,n(7,y)}))}]}class Uoe extends at{constructor(e){super(),it(this,e,Woe,joe,p,{processedColumn:0,searchFuzzy:1,recordSummaryStore:2,hasNestedSelectorOpen:3,overflowDetails:4})}}function Yoe(e){let t,n,r,o,s,i,l,c,u;const d=[e[3]];let p={};for(let f=0;f<d.length;f+=1)p=a(p,d[f]);r=new Wr({props:p});let $=[{class:"submit passthrough svelte-16wt450"}],m={};for(let f=0;f<$.length;f+=1)m=a(m,$[f]);return{c(){t=F(e[1]),n=F("span"),rt(r.$$.fragment),o=V(),s=F("span"),i=q(e[2]),B(n,"class","icon"),B(s,"class","label"),K(t,m),te(t,"hover",e[0])},m(a,d){P(a,t,d),A(t,n),ot(r,n,null),A(t,o),A(t,s),A(s,i),l=!0,c||(u=W(t,"click",e[4]),c=!0)},p(e,n){const o=8&n?et(d,[tt(e[3])]):{};r.$set(o),(!l||4&n)&&X(i,e[2]),K(t,m=et($,[{class:"submit passthrough svelte-16wt450"}])),te(t,"hover",e[0])},i(e){l||(qe(r.$$.fragment,e),l=!0)},o(e){Ve(r.$$.fragment,e),l=!1},d(e){e&&R(t),st(r),c=!1,u()}}}function Boe(e){let t,n=e[1],r=e[1]&&Yoe(e);return{c(){r&&r.c(),t=j()},m(e,n){r&&r.m(e,n),P(e,t,n)},p(e,[o]){e[1]?n?p(n,e[1])?(r.d(1),r=Yoe(e),r.c(),r.m(t.parentNode,t)):r.p(e,o):(r=Yoe(e),r.c(),r.m(t.parentNode,t)):n&&(r.d(1),r=null),n=e[1]},i:s,o(e){Ve(r)},d(e){e&&R(t),r&&r.d(e)}}}function Koe(e,t,n){let r,o,s;const i=fe();let{purpose:a}=t,{isSelected:l}=t;return e.$$set=e=>{"purpose"in e&&n(5,a=e.purpose),"isSelected"in e&&n(0,l=e.isSelected)},e.$$.update=()=>{32&e.$$.dirty&&n(3,r="dataEntry"===a?Fm:uf),32&e.$$.dirty&&n(2,o="dataEntry"===a?"Pick":"Open"),32&e.$$.dirty&&n(1,s="dataEntry"===a?"button":"div")},[l,s,o,r,function(){"dataEntry"===a&&i("click")},a]}class Goe extends at{constructor(e){super(),it(this,e,Koe,Boe,p,{purpose:5,isSelected:0})}}function Xoe(e){let t,n;return t=new kR({props:{columnFabric:e[1],value:e[4],recordSummary:e[5],disabled:!0,showAsSkeleton:!_Y(e[0]),searchValue:e[6],showTruncationPopover:!0}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.columnFabric=e[1]),16&n&&(r.value=e[4]),32&n&&(r.recordSummary=e[5]),1&n&&(r.showAsSkeleton=!_Y(e[0])),64&n&&(r.searchValue=e[6]),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Joe(e){let t,n;return t=new Loe({props:{rowType:"dataRow",columnType:"dataColumn",$$slots:{default:[Xoe]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const r={};1139&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Zoe(e,t,n){let r,o,i,a,l,c,u=s,d=()=>(u(),u=$(h,(e=>n(8,l=e))),h),p=s,m=()=>(p(),p=$(y,(e=>n(9,c=e))),y);e.$$.on_destroy.push((()=>u())),e.$$.on_destroy.push((()=>p()));let{row:f}=t,{processedColumn:g}=t,{recordSummaries:h}=t;d();let{searchFuzzy:y}=t;return m(),e.$$set=e=>{"row"in e&&n(0,f=e.row),"processedColumn"in e&&n(1,g=e.processedColumn),"recordSummaries"in e&&d(n(2,h=e.recordSummaries)),"searchFuzzy"in e&&m(n(3,y=e.searchFuzzy))},e.$$.update=()=>{2&e.$$.dirty&&n(7,({column:r}=g),r),640&e.$$.dirty&&n(6,o=c.get(r.id)),129&e.$$.dirty&&n(4,i=f?.record?.[r.id]),400&e.$$.dirty&&n(5,a=l.get(String(r.id))?.get(String(i)))},[f,g,h,y,i,a,o,r,l,c]}class Qoe extends at{constructor(e){super(),it(this,e,Zoe,Joe,p,{row:0,processedColumn:1,recordSummaries:2,searchFuzzy:3})}}function ese(e,t,n){const r=e.slice();return r[67]=t[n],r[69]=n,r}function tse(e,t,n){const r=e.slice();return r[70]=t[n][0],r[71]=t[n][1],r}function nse(e,t,n){const r=e.slice();r[70]=t[n][0],r[71]=t[n][1];const o=r[71].column;return r[74]=o,r}function rse(e,t){let n,r,o;return r=new Uoe({props:{hasNestedSelectorOpen:t[74]===t[19],overflowDetails:t[24],processedColumn:t[71],searchFuzzy:t[4],recordSummaryStore:t[8]}}),r.$on("focus",(function(){return t[46](t[74])})),r.$on("blur",t[47]),r.$on("recordSelectorOpen",(function(){return t[48](t[74])})),r.$on("recordSelectorSubmit",t[49]),r.$on("recordSelectorCancel",t[50]),{key:e,first:null,c(){n=j(),rt(r.$$.fragment),this.first=n},m(e,t){P(e,n,t),ot(r,e,t),o=!0},p(e,n){t=e;const o={};786432&n[0]&&(o.hasNestedSelectorOpen=t[74]===t[19]),262144&n[0]&&(o.processedColumn=t[71]),16&n[0]&&(o.searchFuzzy=t[4]),256&n[0]&&(o.recordSummaryStore=t[8]),r.$set(o)},i(e){o||(qe(r.$$.fragment,e),o=!0)},o(e){Ve(r.$$.fragment,e),o=!1},d(e){e&&R(n),st(r,e)}}}function ose(e){let t,n;return t=new Goe({props:{purpose:e[13],isSelected:e[2]===e[69]}}),t.$on("click",(function(){return e[51](e[69])})),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(n,r){e=n;const o={};8192&r[0]&&(o.purpose=e[13]),4&r[0]&&(o.isSelected=e[2]===e[69]),t.$set(o)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function sse(e,t){let n,r,o;return r=new Qoe({props:{row:t[67],processedColumn:t[71],recordSummaries:t[8],searchFuzzy:t[4]}}),{key:e,first:null,c(){n=j(),rt(r.$$.fragment),this.first=n},m(e,t){P(e,n,t),ot(r,e,t),o=!0},p(e,n){t=e;const o={};2&n[0]&&(o.row=t[67]),262144&n[0]&&(o.processedColumn=t[71]),256&n[0]&&(o.recordSummaries=t[8]),16&n[0]&&(o.searchFuzzy=t[4]),r.$set(o)},i(e){o||(qe(r.$$.fragment,e),o=!0)},o(e){Ve(r.$$.fragment,e),o=!1},d(e){e&&R(n),st(r,e)}}}function ise(e){let t,n,r,o,s=[],i=new Map;t=new Loe({props:{rowType:"dataRow",columnType:"rowHeaderColumn",rowIsSelected:e[2]===e[69],overflowDetails:e[24],$$slots:{default:[ose]},$$scope:{ctx:e}}});let a=[...e[18]];const l=e=>e[70];for(let c=0;c<a.length;c+=1){let t=tse(e,a,c),n=l(t);i.set(n,s[c]=sse(n,t))}return{c(){rt(t.$$.fragment),n=V();for(let e=0;e<s.length;e+=1)s[e].c();r=V()},m(e,i){ot(t,e,i),P(e,n,i);for(let t=0;t<s.length;t+=1)s[t].m(e,i);P(e,r,i),o=!0},p(e,n){const o={};4&n[0]&&(o.rowIsSelected=e[2]===e[69]),8196&n[0]|32768&n[2]&&(o.$$scope={dirty:n,ctx:e}),t.$set(o),262418&n[0]&&(a=[...e[18]],Fe(),s=Qe(s,n,l,1,e,a,i,r.parentNode,Je,sse,r,tse),He())},i(e){if(!o){qe(t.$$.fragment,e);for(let e=0;e<a.length;e+=1)qe(s[e]);o=!0}},o(e){Ve(t.$$.fragment,e);for(let t=0;t<s.length;t+=1)Ve(s[t]);o=!1},d(e){st(t,e),e&&R(n);for(let t=0;t<s.length;t+=1)s[t].d(e);e&&R(r)}}}function ase(e){let t,n;return t=new zoe({props:{href:e[22](e[67]),index:e[69],selectionIndex:e[2],setSelectionIndex:e[52],$$slots:{default:[ise]},$$scope:{ctx:e}}}),t.$on("click",(function(){return e[53](e[69])})),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(n,r){e=n;const o={};2&r[0]&&(o.href=e[22](e[67])),4&r[0]&&(o.selectionIndex=e[2]),1&r[0]&&(o.setSelectionIndex=e[52]),270614&r[0]|32768&r[2]&&(o.$$scope={dirty:r,ctx:e}),t.$set(o)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function lse(e){let t,n,r,o,s,i,a,l,c,u,d,p,$,m,f=[],g=new Map;i=new Loe({props:{rowType:"columnHeaderRow",columnType:"rowHeaderColumn",overflowDetails:e[24]}});let h=[...e[18]];const y=e=>e[70];for(let x=0;x<h.length;x+=1){let t=nse(e,h,x),n=y(t);g.set(n,f[x]=rse(n,t))}let v=e[1],b=[];for(let x=0;x<v.length;x+=1)b[x]=ase(ese(e,v,x));const w=e=>Ve(b[e],1,1,(()=>{b[e]=null}));return{c(){t=F("div"),n=F("div"),r=F("div"),o=F("div"),s=F("div"),rt(i.$$.fragment),a=V();for(let e=0;e<f.length;e+=1)f[e].c();l=V(),c=F("div");for(let e=0;e<b.length;e+=1)b[e].c();u=V(),d=F("div"),B(s,"class","tr inputs svelte-1ymk5sc"),B(o,"class","thead svelte-1ymk5sc"),B(c,"class","tbody svelte-1ymk5sc"),B(r,"class","table svelte-1ymk5sc"),B(n,"class","scroll-container svelte-1ymk5sc"),B(d,"class","inset-shadow svelte-1ymk5sc"),B(t,"class","inset-shadow-positioner svelte-1ymk5sc"),te(t,"has-overflow-top",e[14]),te(t,"has-overflow-right",e[15]),te(t,"has-overflow-bottom",e[16]),te(t,"has-overflow-left",e[17])},m(g,h){P(g,t,h),A(t,n),A(n,r),A(r,o),A(o,s),ot(i,s,null),A(s,a);for(let e=0;e<f.length;e+=1)f[e].m(s,null);A(r,l),A(r,c);for(let e=0;e<b.length;e+=1)b[e].m(c,null);A(t,u),A(t,d),p=!0,$||(m=D(Eoe.call(null,n,e[24])),$=!0)},p(e,n){if(20709648&n[0]&&(h=[...e[18]],Fe(),f=Qe(f,n,y,1,e,h,g,s,Je,rse,null,nse),He()),29630743&n[0]){let t;for(v=e[1],t=0;t<v.length;t+=1){const r=ese(e,v,t);b[t]?(b[t].p(r,n),qe(b[t],1)):(b[t]=ase(r),b[t].c(),qe(b[t],1),b[t].m(c,null))}for(Fe(),t=v.length;t<b.length;t+=1)w(t);He()}(!p||16384&n[0])&&te(t,"has-overflow-top",e[14]),(!p||32768&n[0])&&te(t,"has-overflow-right",e[15]),(!p||65536&n[0])&&te(t,"has-overflow-bottom",e[16]),(!p||131072&n[0])&&te(t,"has-overflow-left",e[17])},i(e){if(!p){qe(i.$$.fragment,e);for(let e=0;e<h.length;e+=1)qe(f[e]);for(let e=0;e<v.length;e+=1)qe(b[e]);p=!0}},o(e){Ve(i.$$.fragment,e);for(let t=0;t<f.length;t+=1)Ve(f[t]);b=b.filter(Boolean);for(let t=0;t<b.length;t+=1)Ve(b[t]);p=!1},d(e){e&&R(t),st(i);for(let t=0;t<f.length;t+=1)f[t].d();z(b,e),$=!1,m()}}}function cse(e,t,n){let r,o,i,a,l,c,u,d,p,m,g,h,y,v,b,w,x,S,C,D,I,_,T,M,E,O,A,L,N,P,R,z,F,H,q,V,j,W=s,U=s,Y=s,B=s,K=s,G=s,X=s,J=s,Z=s;f(e,Cv,(e=>n(42,O=e))),f(e,FA,(e=>n(60,A=e))),e.$$.on_destroy.push((()=>W())),e.$$.on_destroy.push((()=>U())),e.$$.on_destroy.push((()=>Y())),e.$$.on_destroy.push((()=>B())),e.$$.on_destroy.push((()=>K())),e.$$.on_destroy.push((()=>G())),e.$$.on_destroy.push((()=>X())),e.$$.on_destroy.push((()=>J())),e.$$.on_destroy.push((()=>Z()));let{controller:Q}=t,{tabularData:ee}=t,{nestedController:te}=t,{submitResult:ne}=t,{isHoveringCreate:re=!1}=t;const oe=oB(ee);let se,ie;function ae(e){te.cancel(),n(34,se=e)}function le(){n(34,se=void 0)}function ce(e){if(void 0===ie)return;const t=ie+e;n(0,ie=Math.min(Math.max(t,0),D-1))}function ue(e){const{record:t}=e;if(t&&0!==Object.keys(t).length)return MY(t,T)}function de(e){const t=C[e];if(!t)return;const{record:n}=t,r=ue(t);if(!n||void 0===r)return;const o=Gw({template:O.data.get(c)?.settings?.preview_settings?.template??"",inputData:jw(n),transitiveData:E});ne({recordId:r,recordSummary:o})}function $e(e){if(M)return;let t=!0;switch(e.key){case"ArrowUp":ce(-1);break;case"ArrowDown":ce(1);break;case"Enter":!I||e.shiftKey?void 0!==_&&de(_):t=!1;break;default:t=!1}t&&(e.stopPropagation(),e.preventDefault())}pe((()=>(window.addEventListener("keydown",$e,{capture:!0}),()=>{window.removeEventListener("keydown",$e,{capture:!0})}))),pe((async()=>{const e=function({table:e,columns:t}){return function(){if(!e)return;const{template:t}=e.settings.preview_settings,n=t.match(/\{\d+\}/)?.[0]??void 0;if(!n)return;const r=parseInt(n.slice(1,-1),10);return Number.isNaN(r)?void 0:r}()??function(){const e=t.find((e=>!e.primary_key));if(e)return e.id}()}({table:p,columns:T});if(void 0===e)return;await Ie();const t=`.record-selector-input.column-${e}`,n=document.querySelector(t);n&&n.focus()}));const me={hasOverflowTop:mt(!1),hasOverflowLeft:mt(!1),hasOverflowBottom:mt(!1),hasOverflowRight:mt(!1)},{hasOverflowTop:fe,hasOverflowRight:ge,hasOverflowBottom:he,hasOverflowLeft:ye}=me;f(e,fe,(e=>n(14,z=e))),f(e,ge,(e=>n(15,F=e))),f(e,he,(e=>n(16,H=e))),f(e,ye,(e=>n(17,q=e)));return e.$$set=e=>{"controller"in e&&n(29,Q=e.controller),"tabularData"in e&&n(30,ee=e.tabularData),"nestedController"in e&&n(31,te=e.nestedController),"submitResult"in e&&n(32,ne=e.submitResult),"isHoveringCreate"in e&&n(33,re=e.isHoveringCreate)},e.$$.update=()=>{1&e.$$.dirty[1]&&Zf(te),536870912&e.$$.dirty[0]&&(n(12,({columnWithNestedSelectorOpen:r,purpose:o}=Q),r,(n(11,o),B(),B=$(o,(e=>n(13,L=e))),o)),Z(),Z=$(r,(e=>n(19,j=e)))),1073741824&e.$$.dirty[0]&&oe.set(ee),1073741824&e.$$.dirty[0]&&(n(10,({constraintsDataStore:i,meta:a,columnsDataStore:l,id:c,recordsData:u,processedColumns:d}=ee),i,(n(40,a),n(30,ee)),(n(41,l),n(30,ee)),(n(35,c),n(30,ee)),(n(38,u),n(30,ee)),(n(9,d),J(),J=$(d,(e=>n(18,V=e))),d)),G(),G=$(i,(e=>n(44,P=e)))),2064&e.$$.dirty[1]&&(p=O.data.get(c)),128&e.$$.dirty[1]&&(n(8,({recordSummaries:m,state:g}=u),m,(n(7,g),X(),X=$(g,(e=>n(45,R=e))),g)),Y(),Y=$(m,(e=>n(59,E=e)))),16384&e.$$.dirty[1]&&n(36,h=R===rh.Loading),8192&e.$$.dirty[1]&&n(39,({constraints:y}=P),y),1&e.$$.dirty[1]&&(n(6,v=te.isOpen),U(),U=$(v,(e=>n(58,M=e)))),1024&e.$$.dirty[1]&&(n(5,({columns:b}=l),b),W(),W=$(b,(e=>n(57,T=e)))),512&e.$$.dirty[1]&&n(4,({searchFuzzy:w}=a),w),256&e.$$.dirty[1]&&n(37,x=new ut(y.filter(eB).filter((e=>1===e.columns.length)).map((e=>e.columns[0])))),128&e.$$.dirty[1]&&(n(3,S=u.savedRecords),K(),K=$(S,(e=>n(43,N=e)))),4096&e.$$.dirty[1]&&n(1,C=N),2&e.$$.dirty[0]&&(D=C.length),72&e.$$.dirty[1]&&(I=(()=>{if(void 0!==se)return x.has(se.id)?se:void 0})()),32&e.$$.dirty[1]&&n(0,ie=h?void 0:0),1&e.$$.dirty[0]|4&e.$$.dirty[1]&&n(2,_=re?void 0:ie)},[ie,C,_,S,w,b,v,g,m,d,i,o,r,L,z,F,H,q,V,j,ae,le,function(e){if("dataEntry"===L)return;const t=ue(e);return t?A({tableId:c,recordId:t}):void 0},de,me,fe,ge,he,ye,Q,ee,te,ne,re,se,c,h,x,u,y,a,l,O,N,P,R,e=>ae(e),()=>le(),e=>{k(r,j=e,j)},()=>{k(r,j=void 0,j)},()=>{k(r,j=void 0,j)},e=>de(e),e=>{n(0,ie=e)},e=>de(e)]}class use extends at{constructor(e){super(),it(this,e,cse,lse,p,{controller:29,tabularData:30,nestedController:31,submitResult:32,isHoveringCreate:33},null,[-1,-1,-1])}}function dse(e){let t,n,r=(e[4]||!e[10])&&pse();return{c(){t=F("div"),r&&r.c(),B(t,"class","content-loading svelte-nebr56"),te(t,"prevent-user-entry",e[4])},m(e,o){P(e,t,o),r&&r.m(t,null),n=!0},p(e,o){e[4]||!e[10]?r?1040&o[0]&&qe(r,1):(r=pse(),r.c(),qe(r,1),r.m(t,null)):r&&(Fe(),Ve(r,1,1,(()=>{r=null})),He()),(!n||16&o[0])&&te(t,"prevent-user-entry",e[4])},i(e){n||(qe(r),n=!0)},o(e){Ve(r),n=!1},d(e){e&&R(t),r&&r.d()}}}function pse(e){let t,n;return t=new Tr({props:{size:"2em"}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function $se(e){let t,n;return t=new use({props:{tabularData:e[2],controller:e[1],nestedController:e[3],submitResult:e[19],isHoveringCreate:e[5]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};4&n[0]&&(r.tabularData=e[2]),2&n[0]&&(r.controller=e[1]),8&n[0]&&(r.nestedController=e[3]),32&n[0]&&(r.isHoveringCreate=e[5]),t.$set(r)},i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function mse(e){let t,n,r,o;const s=[gse,fse],i=[];function a(e,t){return e[17]?0:1}return t=a(e),n=i[t]=s[t](e),{c(){n.c(),r=j()},m(e,n){i[t].m(e,n),P(e,r,n),o=!0},p(e,o){let l=t;t=a(e),t===l?i[t].p(e,o):(Fe(),Ve(i[l],1,1,(()=>{i[l]=null})),He(),n=i[t],n?n.p(e,o):(n=i[t]=s[t](e),n.c()),qe(n,1),n.m(r.parentNode,r))},i(e){o||(qe(n),o=!0)},o(e){Ve(n),o=!1},d(e){i[t].d(e),e&&R(r)}}}function fse(e){let t,n,r;function o(e,t){return e[8]?yse:hse}let i=o(e),a=i(e);return{c(){t=F("div"),n=q("No "),a.c(),r=q(" records"),B(t,"class","no-results svelte-nebr56")},m(e,o){P(e,t,o),A(t,n),a.m(t,null),A(t,r)},p(e,n){i!==(i=o(e))&&(a.d(1),a=i(e),a&&(a.c(),a.m(t,r)))},i:s,o:s,d(e){e&&R(t),a.d()}}}function gse(e){let t,n,r;return n=new Tr({props:{size:"2em"}}),{c(){t=F("div"),rt(n.$$.fragment),B(t,"class","results-loading svelte-nebr56")},m(e,o){P(e,t,o),ot(n,t,null),r=!0},p:s,i(e){r||(qe(n.$$.fragment,e),r=!0)},o(e){Ve(n.$$.fragment,e),r=!1},d(e){e&&R(t),st(n)}}}function hse(e){let t;return{c(){t=q("existing")},m(e,n){P(e,t,n)},d(e){e&&R(t)}}}function yse(e){let t;return{c(){t=q("matching")},m(e,n){P(e,t,n)},d(e){e&&R(t)}}}function vse(e){let t,n,r;return n=new Ln({props:{size:"small",appearance:"secondary",$$slots:{default:[bse]},$$scope:{ctx:e}}}),n.$on("click",e[20]),n.$on("mouseenter",e[34]),n.$on("mouseleave",e[35]),{c(){t=F("div"),rt(n.$$.fragment),B(t,"class","button svelte-nebr56")},m(e,o){P(e,t,o),ot(n,t,null),r=!0},p(e,t){const r={};4096&t[1]&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(qe(n.$$.fragment,e),r=!0)},o(e){Ve(n.$$.fragment,e),r=!1},d(e){e&&R(t),st(n)}}}function bse(e){let t,n,r,o;const s=[xm];let i={};for(let l=0;l<s.length;l+=1)i=a(i,s[l]);return t=new Wr({props:i}),{c(){rt(t.$$.fragment),n=V(),r=F("span"),r.textContent="Create Record From Search Criteria"},m(e,s){ot(t,e,s),P(e,n,s),P(e,r,s),o=!0},p(e,n){const r=0&n?et(s,[tt(xm)]):{};t.$set(r)},i(e){o||(qe(t.$$.fragment,e),o=!0)},o(e){Ve(t.$$.fragment,e),o=!1},d(e){st(t,e),e&&R(n),e&&R(r)}}}function wse(e){let t;function n(e,t){return e[8]?Sse:xse}let r=n(e),o=r(e);return{c(){t=F("div"),o.c(),B(t,"class","message svelte-nebr56")},m(e,n){P(e,t,n),o.m(t,null)},p(e,s){r!==(r=n(e))&&(o.d(1),o=r(e),o&&(o.c(),o.m(t,null)))},d(e){e&&R(t),o.d()}}}function xse(e){let t;return{c(){t=q("The first 10 records are shown. Filter to see more.")},m(e,n){P(e,t,n)},d(e){e&&R(t)}}}function Sse(e){let t;return{c(){t=q("The 10 best matches are shown. Continue filtering to see more.")},m(e,n){P(e,t,n)},d(e){e&&R(t)}}}function Cse(e){let t,n,r,o,s,i,a,l,c=(e[17]||e[4])&&dse(e),u=e[10]&&$se(e),d=e[10]&&!e[6].length&&mse(e),p=e[8]&&e[16]&&vse(e),$=10===e[6].length&&e[10]&&wse(e);return{c(){t=F("div"),c&&c.c(),n=V(),u&&u.c(),r=V(),d&&d.c(),o=V(),s=F("div"),p&&p.c(),i=V(),$&&$.c(),B(s,"class","footer svelte-nebr56"),B(t,"class","record-selector-content svelte-nebr56"),_e((()=>e[36].call(t)))},m(m,f){P(m,t,f),c&&c.m(t,null),A(t,n),u&&u.m(t,null),A(t,r),d&&d.m(t,null),A(t,o),A(t,s),p&&p.m(s,null),A(s,i),$&&$.m(s,null),a=function(e,t){"static"===getComputedStyle(e).position&&(e.style.position="relative");const n=F("iframe");n.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),n.setAttribute("aria-hidden","true"),n.tabIndex=-1;const r=ee();let o;return r?(n.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",o=W(window,"message",(e=>{e.source===n.contentWindow&&t()}))):(n.src="about:blank",n.onload=()=>{o=W(n.contentWindow,"resize",t)}),A(e,n),()=>{(r||o&&n.contentWindow)&&o(),R(n)}}(t,e[36].bind(t)),l=!0},p(e,a){e[17]||e[4]?c?(c.p(e,a),131088&a[0]&&qe(c,1)):(c=dse(e),c.c(),qe(c,1),c.m(t,n)):c&&(Fe(),Ve(c,1,1,(()=>{c=null})),He()),e[10]?u?(u.p(e,a),1024&a[0]&&qe(u,1)):(u=$se(e),u.c(),qe(u,1),u.m(t,r)):u&&(Fe(),Ve(u,1,1,(()=>{u=null})),He()),e[10]&&!e[6].length?d?(d.p(e,a),1088&a[0]&&qe(d,1)):(d=mse(e),d.c(),qe(d,1),d.m(t,o)):d&&(Fe(),Ve(d,1,1,(()=>{d=null})),He()),e[8]&&e[16]?p?(p.p(e,a),65792&a[0]&&qe(p,1)):(p=vse(e),p.c(),qe(p,1),p.m(s,i)):p&&(Fe(),Ve(p,1,1,(()=>{p=null})),He()),10===e[6].length&&e[10]?$?$.p(e,a):($=wse(e),$.c(),$.m(s,null)):$&&($.d(1),$=null)},i(e){l||(qe(c),qe(u),qe(d),qe(p),l=!0)},o(e){Ve(c),Ve(u),Ve(d),Ve(p),l=!1},d(e){e&&R(t),c&&c.d(),u&&u.d(),d&&d.d(),p&&p.d(),$&&$.d(),a()}}}function kse(e,t,n){let r,o,i,a,l,c,u,d,p,m,g,h,y,v,b,w,x,S,C,k,D,I,_,T,M,E,O,A,L,N,P=s,R=s,z=s,F=s,H=s,q=s,V=s;f(e,Cv,(e=>n(38,C=e))),f(e,FA,(e=>n(40,I=e))),f(e,Xh,(e=>n(32,A=e))),f(e,vh,(e=>n(33,L=e))),e.$$.on_destroy.push((()=>P())),e.$$.on_destroy.push((()=>R())),e.$$.on_destroy.push((()=>z())),e.$$.on_destroy.push((()=>F())),e.$$.on_destroy.push((()=>H())),e.$$.on_destroy.push((()=>q())),e.$$.on_destroy.push((()=>V()));const j=Uv();f(e,j,(e=>n(31,O=e)));let{controller:W}=t,{tabularData:U}=t,{nestedController:Y}=t,{height:B=0}=t,K=!1,G=!1;function X(e){if("dataEntry"===_)W.submit(e);else if("navigation"===_){const{recordId:t}=e,n=I({tableId:p,recordId:t});n&&(hg.goto(n),W.cancel())}}return e.$$set=e=>{"controller"in e&&n(1,W=e.controller),"tabularData"in e&&n(2,U=e.tabularData),"nestedController"in e&&n(3,Y=e.nestedController),"height"in e&&n(0,B=e.height)},e.$$.update=()=>{4&e.$$.dirty[1]&&n(26,r=L),2&e.$$.dirty[1]&&n(25,o=A),100663296&e.$$.dirty[0]|1&e.$$.dirty[1]&&n(16,i=O?.hasPermission({database:r,schema:o},"canEditTableRecords")??!1),4&e.$$.dirty[0]&&(n(15,({constraintsDataStore:a,meta:l,isLoading:c,columnsDataStore:u,recordsData:d,id:p}=U),a,(n(22,l),n(2,U)),(n(14,c),V(),V=$(c,(e=>n(17,N=e))),c),(n(24,u),n(2,U)),(n(21,d),n(2,U))),q(),q=$(a,(e=>n(30,E=e)))),2&e.$$.dirty[0]&&(n(13,({purpose:m}=W),m),z(),z=$(m,(e=>n(41,_=e)))),16777216&e.$$.dirty[0]&&(n(12,({columns:g,fetchStatus:h}=u),g,(n(11,h),H(),H=$(h,(e=>n(29,M=e))),h)),P(),P=$(g,(e=>n(39,k=e)))),1073741824&e.$$.dirty[0]&&n(23,({state:y}=E),y),545259520&e.$$.dirty[0]&&n(10,v="processing"!==M?.state&&y===rh.Done),4194304&e.$$.dirty[0]&&(n(9,({searchFuzzy:b}=l),b),R(),R=$(b,(e=>n(27,D=e)))),134217728&e.$$.dirty[0]&&n(8,w=D.size>0),2097152&e.$$.dirty[0]&&(n(7,x=d.savedRecords),F(),F=$(x,(e=>n(28,T=e)))),268435456&e.$$.dirty[0]&&n(6,S=T)},[B,W,U,Y,K,G,S,x,w,b,v,h,g,m,c,a,i,N,j,X,async function(){const e=`/api/db/v0/tables/${p}/records/`,t=function(){const e=k.filter((e=>e.primary_key)).map((e=>e.id));return Object.fromEntries(D.without(e))}();try{n(4,K=!0);const r=await ph(e,t),o=r.results[0],s=MY(o,k),i=r.preview_data??[],a=C.data.get(p)?.settings?.preview_settings?.template;if(!a)throw new Error("No record summary template found in API response.");X({recordId:s,recordSummary:Gw({inputData:jw(o),template:a,transitiveData:Yw(i)})})}catch(r){Uf.error(Dl(r))}finally{n(4,K=!1)}},d,l,y,u,o,r,D,T,M,E,O,A,L,()=>{n(5,G=!0)},()=>{n(5,G=!1)},function(){B=this.clientHeight,n(0,B)}]}class Dse extends at{constructor(e){super(),it(this,e,kse,Cse,p,{controller:1,tabularData:2,nestedController:3,height:0},null,[-1,-1])}}const{window:Ise}=Ge;function _se(e){let t,n,r;return n=new Cd({props:{canScrollBody:!1,$$slots:{title:[Ose],default:[Mse]},$$scope:{ctx:e}}}),n.$on("close",e[19]),{c(){t=F("div"),rt(n.$$.fragment),B(t,"class","record-selector-window svelte-n6efra"),Z(t,"margin-bottom",e[5])},m(e,o){P(e,t,o),ot(n,t,null),r=!0},p(e,o){const s={};2098079&o&&(s.$$scope={dirty:o,ctx:e}),n.$set(s),(!r||32&o)&&Z(t,"margin-bottom",e[5])},i(e){r||(qe(n.$$.fragment,e),r=!0)},o(e){Ve(n.$$.fragment,e),r=!1},d(e){e&&R(t),st(n)}}}function Tse(e){let t,n,r,o,s,i,a,l;return o=new Nse({props:{windowPositionerElement:e[1],controller:e[3]}}),{c(){t=F("div"),n=V(),r=F("div"),rt(o.$$.fragment),B(t,"class","overlay svelte-n6efra"),B(r,"class","nested-record-selector")},m(c,u){P(c,t,u),P(c,n,u),P(c,r,u),ot(o,r,null),i=!0,a||(l=D(s=on.call(null,r,e[1])),a=!0)},p(e,t){const n={};2&t&&(n.windowPositionerElement=e[1]),8&t&&(n.controller=e[3]),o.$set(n),s&&d(s.update)&&2&t&&s.update.call(null,e[1])},i(e){i||(qe(o.$$.fragment,e),i=!0)},o(e){Ve(o.$$.fragment,e),i=!1},d(e){e&&R(t),e&&R(n),e&&R(r),st(o),a=!1,l()}}}function Mse(e){let t,n,r,o,s;function i(t){e[18](t)}let a={tabularData:e[9],controller:e[0],nestedController:e[3]};void 0!==e[2]&&(a.height=e[2]),t=new Dse({props:a}),we.push((()=>nt(t,"height",i)));let l=e[4]&&Tse(e);return{c(){rt(t.$$.fragment),r=V(),l&&l.c(),o=j()},m(e,n){ot(t,e,n),P(e,r,n),l&&l.m(e,n),P(e,o,n),s=!0},p(e,r){const s={};512&r&&(s.tabularData=e[9]),1&r&&(s.controller=e[0]),8&r&&(s.nestedController=e[3]),!n&&4&r&&(n=!0,s.height=e[2],Te((()=>n=!1))),t.$set(s),e[4]?l?(l.p(e,r),16&r&&qe(l,1)):(l=Tse(e),l.c(),qe(l,1),l.m(o.parentNode,o)):l&&(Fe(),Ve(l,1,1,(()=>{l=null})),He())},i(e){s||(qe(t.$$.fragment,e),qe(l),s=!0)},o(e){Ve(t.$$.fragment,e),Ve(l),s=!1},d(e){st(t,e),e&&R(r),l&&l.d(e),e&&R(o)}}}function Ese(e){let t,n,r,o,s=xb(e[8])+"";return r=new hb({props:{table:{name:e[8]},truncate:!1}}),{c(){t=q(s),n=V(),rt(r.$$.fragment)},m(e,s){P(e,t,s),P(e,n,s),ot(r,e,s),o=!0},p(e,n){(!o||256&n)&&s!==(s=xb(e[8])+"")&&X(t,s);const i={};256&n&&(i.table={name:e[8]}),r.$set(i)},i(e){o||(qe(r.$$.fragment,e),o=!0)},o(e){Ve(r.$$.fragment,e),o=!1},d(e){e&&R(t),e&&R(n),st(r,e)}}}function Ose(e){let t,n,r,o,s,i=e[8]&&Ese(e);return{c(){t=F("span"),n=q(e[7]),r=V(),i&&i.c(),o=q("\n        Record"),B(t,"slot","title")},m(e,a){P(e,t,a),A(t,n),A(t,r),i&&i.m(t,null),A(t,o),s=!0},p(e,r){(!s||128&r)&&X(n,e[7]),e[8]?i?(i.p(e,r),256&r&&qe(i,1)):(i=Ese(e),i.c(),qe(i,1),i.m(t,o)):i&&(Fe(),Ve(i,1,1,(()=>{i=null})),He())},i(e){s||(qe(i),s=!0)},o(e){Ve(i),s=!1},d(e){e&&R(t),i&&i.d()}}}function Ase(e){let t,n,r,o,s=e[9]&&_se(e);return{c(){s&&s.c(),t=j()},m(i,a){s&&s.m(i,a),P(i,t,a),n=!0,r||(o=W(Ise,"keydown",e[12]),r=!0)},p(e,[n]){e[9]?s?(s.p(e,n),512&n&&qe(s,1)):(s=_se(e),s.c(),qe(s,1),s.m(t.parentNode,t)):s&&(Fe(),Ve(s,1,1,(()=>{s=null})),He())},i(e){n||(qe(s),n=!0)},o(e){Ve(s),n=!1},d(e){s&&s.d(e),e&&R(t),r=!1,o()}}}function Lse(e,t,n){let r,o,i,a,l,c,u,d,p,g,h,y,v,b,w=s,x=s,S=s;f(e,gM,(e=>n(16,v=e))),f(e,Cv,(e=>n(17,b=e))),e.$$.on_destroy.push((()=>w())),e.$$.on_destroy.push((()=>x())),e.$$.on_destroy.push((()=>S()));const C=new Map([["dataEntry","Pick"],["navigation","Open"]]);let{controller:k}=t,{windowPositionerElement:D}=t,I=0;return e.$$set=e=>{"controller"in e&&n(0,k=e.controller),"windowPositionerElement"in e&&n(1,D=e.windowPositionerElement)},e.$$.update=()=>{1&e.$$.dirty&&n(3,r=new Xf({nestingLevel:k.nestingLevel+1})),1&e.$$.dirty&&(n(11,({tableId:o,purpose:i}=k),o,(n(10,i),x(),x=$(i,(e=>n(14,h=e))),i)),S(),S=$(o,(e=>n(15,y=e)))),163840&e.$$.dirty&&n(13,a=y&&b.data.get(y)),106496&e.$$.dirty&&n(9,l=y&&a?new nB({id:y,abstractTypesMap:v.data,meta:new JY({pagination:new FL({size:10})}),hasEnhancedPrimaryKeyCell:!1,table:a}):void 0),32768&e.$$.dirty&&n(8,c=y?function(e){return m(Cv).data.get(e)?.name}(y):void 0),16384&e.$$.dirty&&n(7,u=C.get(h)??""),8&e.$$.dirty&&(n(6,d=r.isOpen),w(),w=$(d,(e=>n(4,g=e)))),20&e.$$.dirty&&n(5,p=g?`calc(2rem - ${I}px)`:"0")},[k,D,I,r,g,p,d,u,c,l,i,o,function(e){"Escape"!==e.key||g||k.cancel()},a,h,y,v,b,function(e){I=e,n(2,I)},()=>k.cancel()]}class Nse extends at{constructor(e){super(),it(this,e,Lse,Ase,p,{controller:0,windowPositionerElement:1})}}function Pse(e){let t,n,r,o,s,i,a,l,c=e[2]&&Rse(e);return s=new Nse({props:{windowPositionerElement:e[3],controller:e[0]}}),{c(){t=F("div"),c&&c.c(),n=V(),r=F("div"),o=F("div"),rt(s.$$.fragment),B(o,"class","root-record-selector svelte-2903t4"),B(r,"class","window-positioner svelte-2903t4"),B(t,"class","modal-record-selector svelte-2903t4")},m(u,d){P(u,t,d),c&&c.m(t,null),A(t,n),A(t,r),A(r,o),ot(s,o,null),e[11](r),i=!0,a||(l=D(on.call(null,t)),a=!0)},p(e,r){e[2]?c?(c.p(e,r),4&r&&qe(c,1)):(c=Rse(e),c.c(),qe(c,1),c.m(t,n)):c&&(Fe(),Ve(c,1,1,(()=>{c=null})),He());const o={};8&r&&(o.windowPositionerElement=e[3]),1&r&&(o.controller=e[0]),s.$set(o)},i(e){i||(qe(c),qe(s.$$.fragment,e),i=!0)},o(e){Ve(c),Ve(s.$$.fragment,e),i=!1},d(n){n&&R(t),c&&c.d(),st(s),e[11](null),a=!1,l()}}}function Rse(e){let t,n,r,o,i,a;return{c(){t=F("div"),B(t,"class","overlay svelte-2903t4")},m(n,r){P(n,t,r),o=!0,i||(a=W(t,"click",e[7]),i=!0)},p:s,i(e){o||(_e((()=>{r&&r.end(1),n=We(t,ll,{duration:150}),n.start()})),o=!0)},o(e){n&&n.invalidate(),r=Ue(t,ll,{duration:150}),o=!1},d(e){e&&R(t),e&&r&&r.end(),i=!1,a()}}}function zse(e){let t,n,r=e[1]&&Pse(e);return{c(){r&&r.c(),t=j()},m(e,o){r&&r.m(e,o),P(e,t,o),n=!0},p(e,[n]){e[1]?r?(r.p(e,n),2&n&&qe(r,1)):(r=Pse(e),r.c(),qe(r,1),r.m(t.parentNode,t)):r&&(Fe(),Ve(r,1,1,(()=>{r=null})),He())},i(e){n||(qe(r),n=!0)},o(e){Ve(r),n=!1},d(e){r&&r.d(e),e&&R(t)}}}function Fse(e,t,n){let r,o,i,a,l,c,u,d,p=s,m=s,f=s;e.$$.on_destroy.push((()=>p())),e.$$.on_destroy.push((()=>m())),e.$$.on_destroy.push((()=>f()));const g=fe();let h,{recordSelectorController:y}=t,{modalController:v}=t;return e.$$set=e=>{"recordSelectorController"in e&&n(0,y=e.recordSelectorController),"modalController"in e&&n(8,v=e.modalController)},e.$$.update=()=>{1&e.$$.dirty&&(n(6,({columnWithNestedSelectorOpen:r}=y),r),f(),f=$(r,(e=>n(10,d=e)))),1024&e.$$.dirty&&n(9,o=!!d),256&e.$$.dirty&&(n(5,({isOpen:i,isOnTop:a}=v),i,(n(4,a),m(),m=$(a,(e=>n(2,u=e))),a)),p(),p=$(i,(e=>n(1,c=e)))),516&e.$$.dirty&&(l=u&&!o),2&e.$$.dirty&&async function(e){await Ie(),g(e?"open":"close")}(c)},[y,c,u,h,a,i,r,function(){l&&(k(i,c=!1,c),y.cancel())},v,o,d,function(e){we[e?"unshift":"push"]((()=>{h=e,n(3,h)}))}]}class Hse extends at{constructor(e){super(),it(this,e,Fse,zse,p,{recordSelectorController:0,modalController:8})}}const qse=function(e,t,n){return e()},Vse={ja:()=>qse((()=>n.import("./index-legacy.e3ac4bf2.js"))),en:()=>qse((()=>n.import("./index-legacy.817da01b.js")))};async function jse(e){!function(e,t){M2[e]={...M2[e],...t},M2[e]}(e,await async function(e){return(await Vse[e]()).default}(e)),function(e){E2[e]={}}(e)}function Wse(e){let t,n,r;return n=new Tr({props:{size:"2rem"}}),{c(){t=F("div"),rt(n.$$.fragment),B(t,"class","app-loader")},m(e,o){P(e,t,o),ot(n,t,null),r=!0},p:s,i(e){r||(qe(n.$$.fragment,e),r=!0)},o(e){Ve(n.$$.fragment,e),r=!1},d(e){e&&R(t),st(n)}}}function Use(e){let t,n,r,o,i,a,l,c;t=new d$({props:{entries:Uf.entries}}),r=new ep({props:{controller:Kf}}),i=new Hse({props:{recordSelectorController:e[4],modalController:e[3]}});let u=e[1]&&function(e){let t,n;return t=new Moe({props:{commonData:e[1]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p:s,i(e){n||(qe(t.$$.fragment,e),n=!0)},o(e){Ve(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}(e);return{c(){rt(t.$$.fragment),n=V(),rt(r.$$.fragment),o=V(),rt(i.$$.fragment),a=V(),u&&u.c(),l=j()},m(e,s){ot(t,e,s),P(e,n,s),ot(r,e,s),P(e,o,s),ot(i,e,s),P(e,a,s),u&&u.m(e,s),P(e,l,s),c=!0},p(e,t){e[1]&&u.p(e,t)},i(e){c||(qe(t.$$.fragment,e),qe(r.$$.fragment,e),qe(i.$$.fragment,e),qe(u),c=!0)},o(e){Ve(t.$$.fragment,e),Ve(r.$$.fragment,e),Ve(i.$$.fragment,e),Ve(u),c=!1},d(e){st(t,e),e&&R(n),st(r,e),e&&R(o),st(i,e),e&&R(a),u&&u.d(e),e&&R(l)}}}function Yse(e){let t,n,r,o,s,i,a;const l=[Use,Wse],c=[];function u(e,t){return e[0]?0:1}return n=u(e),r=c[n]=l[n](e),{c(){t=V(),r.c(),o=j()},m(r,l){P(r,t,l),c[n].m(r,l),P(r,o,l),s=!0,i||(a=W(document.body,"copy",e[5]),i=!0)},p(e,[t]){let s=n;n=u(e),n===s?c[n].p(e,t):(Fe(),Ve(c[s],1,1,(()=>{c[s]=null})),He(),r=c[n],r?r.p(e,t):(r=c[n]=l[n](e),r.c()),qe(r,1),r.m(o.parentNode,o))},i(e){s||(qe(r),s=!0)},o(e){Ve(r),s=!1},d(e){e&&R(t),c[n].d(e),e&&R(o),i=!1,a()}}}function Bse(e,t,n){let r,o,s=!1;(async()=>{await jse("en"),L2("en"),n(0,s=!0)})();const i=ng(),a=function(){const e=mt(void 0);return ge(HL,e),e}();f(e,a,(e=>n(6,o=e)));const l=Wf.spawnModalController(),c=new Xf({onOpen:()=>l.open(),onClose:()=>l.close(),nestingLevel:0});return Zf(c),e.$$.update=()=>{64&e.$$.dirty&&(r=o)},[s,i,a,l,c,function(e){r&&(r.handleCopy(e),e.preventDefault())},o]}new class extends at{constructor(e){super(),it(this,e,Bse,Yse,p,{})}}({target:document.body})}}}))}();
