# Mathesar 0.5.0

!!! question "Help us refine files and joined data!"
	For our next release, we're actively working on:

	- better support for working with files in Mathesar
	- working with joined data, like many to many relationships

	If you're interested in either, we'd love your input! We want to make sure we're prioritizing the right problems to solve. [Talk to us for 20 min](https://cal.com/mathesar/users), we'll give you a $25 gift card as a thank you.

## Summary

Mathesar 0.5.0 introduces support for public forms, which allow people outside your Mathesar installation to submit data directly into your tables. This release also includes a new modal view for records, improved display of column descriptions, and automatic secret key generation for simpler installation.

!!! info ""
	This page provides a comprehensive list of all changes in the release.

## Improvements


### Public forms for data entry

![Screenshot of a new form in Mathesar.](../assets/releases/0.5.0/form-fill-example.png)
/// caption
Create new service requests for a bike shop, choosing from available mechanics.
///

Forms let you collect information directly into your tables without giving people access to your Mathesar installation. You can decide which fields to include and whether they’re required. For related fields, respondents can pick from existing values or create new linked records, allowing forms to work across multiple tables instead of being limited to just one.

![A screenshot of the new form builder](../assets/releases/0.5.0/form-builder.png)
/// caption
The new form builder allows respondents to choose from and/or create new linked records.
///

Forms can be shared using a unique link. Anyone with the link can fill out the form, and each submission is saved as a new record in the table.

[#4556](https://github.com/mathesar-foundation/mathesar/pull/4556 "ARCHIVE: Original Row Seeker Prototype") [#4598](https://github.com/mathesar-foundation/mathesar/pull/4598 "Forms backend - Add RPC method to fetch table & column info for form fields") [#4609](https://github.com/mathesar-foundation/mathesar/pull/4609 "Forms frontend") [#4637](https://github.com/mathesar-foundation/mathesar/pull/4637 "Implement Row Seeker within Forms") [#4644](https://github.com/mathesar-foundation/mathesar/pull/4644 "Forms backend - Re-enable forms & remove reverse_fk field type") [#4653](https://github.com/mathesar-foundation/mathesar/pull/4653 "Bump form-data from 4.0.0 to 4.0.4 in /mathesar_ui") [#4657](https://github.com/mathesar-foundation/mathesar/pull/4657 "Implement `forms.submit` RPC method") [#4663](https://github.com/mathesar-foundation/mathesar/pull/4663 "Make TableStructure store hold all structural info and remove TabularData store dependencies (Split from #4609)") [#4664](https://github.com/mathesar-foundation/mathesar/pull/4664 "Separate out common data for anonymous pages (Split from #4609)") [#4665](https://github.com/mathesar-foundation/mathesar/pull/4665 "Make certain components common, general improvements (Split from #4609)") [#4666](https://github.com/mathesar-foundation/mathesar/pull/4666 "Remove sharing specific logic that is no longer used (Split from #4609)") [#4669](https://github.com/mathesar-foundation/mathesar/pull/4669 "Disallow paste into most PK cells") [#4671](https://github.com/mathesar-foundation/mathesar/pull/4671 "Form backend unblockers") [#4673](https://github.com/mathesar-foundation/mathesar/pull/4673 "Forms feature (WIP)") [#4680](https://github.com/mathesar-foundation/mathesar/pull/4680 "Check form permissions before `get`, `get_source_info` and `submit`") [#4681](https://github.com/mathesar-foundation/mathesar/pull/4681 "Forms management UI in Schema page (Split from #4609)") [#4683](https://github.com/mathesar-foundation/mathesar/pull/4683 "Forms replace is patch") [#4691](https://github.com/mathesar-foundation/mathesar/pull/4691 "Forms permission check fix") [#4694](https://github.com/mathesar-foundation/mathesar/pull/4694 "Sort form fields via drag and drop") [#4695](https://github.com/mathesar-foundation/mathesar/pull/4695 "Form row seeker integration improvements") [#4698](https://github.com/mathesar-foundation/mathesar/pull/4698 "Improve responsive behavior of shared form fill-out page") [#4699](https://github.com/mathesar-foundation/mathesar/pull/4699 "Handle FK field interaction behavior for Forms") [#4700](https://github.com/mathesar-foundation/mathesar/pull/4700 "Forms: Throw exception while inserting into a column with fks constraints on multiple columns") [#4701](https://github.com/mathesar-foundation/mathesar/pull/4701 "Forms - Improve error states") [#4704](https://github.com/mathesar-foundation/mathesar/pull/4704 "Remove stale nested fields, implement utility for dynamic nested derived stores") [#4707](https://github.com/mathesar-foundation/mathesar/pull/4707 "Forms polish") [#4710](https://github.com/mathesar-foundation/mathesar/pull/4710 "Forms: cleanup styles, add inspector button") [#4711](https://github.com/mathesar-foundation/mathesar/pull/4711 "Forms post-submission views") [#4713](https://github.com/mathesar-foundation/mathesar/pull/4713 "Forms: UX fixes") [#4726](https://github.com/mathesar-foundation/mathesar/pull/4726 "Add forms analytics") [#4727](https://github.com/mathesar-foundation/mathesar/pull/4727 "Fix QA issues - 0.5.0")


### Modal display for single records

![alt text](../assets/releases/0.5.0/modal-view.png)
/// caption
View a customer's service requests without leaving the table page.
///

You can now view individual records in a modal dialog, without navigating away from your current table view. Previously, opening a record required loading it in a new tab. The modal display makes it easier to review and edit records while staying in context.

[#4674](https://github.com/mathesar-foundation/mathesar/pull/4674 "Modal record view") [#4659](https://github.com/mathesar-foundation/mathesar/pull/4659 "Improve focus behavior for modals")

### View column descriptions from the table headers

![alt text](../assets/releases/0.5.0/column-descriptions.png)

Column descriptions are now accessible directly from the table headers. If a column has a description, an icon will appear in its header. Hovering over the icon displays the description, making it easier to understand the purpose of each column without opening the table settings.

[#4685](https://github.com/mathesar-foundation/mathesar/pull/4685 "Display column descriptions in column header cells")

### Automatic SECRET_KEY generation

In earlier versions of Mathesar, you needed to manually generate and set the `SECRET_KEY` environment variable. Mathesar now takes care of this for you by automatically generating and persisting a value, making installation simpler.

If you prefer, you can still provide your own `SECRET_KEY`, which will override the automatically generated one. However, when deploying on platforms without a persistent filesystem—such as [DigitalOcean's App Platform](../administration/install-digitalocean.md)—you must supply a `SECRET_KEY` manually to ensure stability across restarts.

[#4597](https://github.com/mathesar-foundation/mathesar/pull/4597 "Generate and persist `SECRET_KEY` by default")

### Change "edit" action to "rename" in some context menus

![Rename a table](../assets/releases/0.5.0/rename-table-action.png)

Previously, the action to modify the name and descriptions of resources like tables, schemas, and now forms was called "edit". We've changed this action to "rename" to avoid confusion with opening the form builder and to better reflect what the action does.

[#4709](https://github.com/mathesar-foundation/mathesar/pull/4709 "Change some UI terminology from edit to rename")

## Bug Fixes

- Fix UI delays when changing the table page result size [#4686](https://github.com/mathesar-foundation/mathesar/pull/4686 "Fix UI hang issues")
- Add a default value for the OIDC_CONFIG_DICT [#4667](https://github.com/mathesar-foundation/mathesar/pull/4667 "Add default for OIDC_CONFIG_DICT")

## Maintenance

- Write 0.5.0 Release notes [#4716](https://github.com/mathesar-foundation/mathesar/pull/4716 "0.5.0 Release notes")
- Update the setuptools package to 78.1.1 [#4484](https://github.com/mathesar-foundation/mathesar/pull/4484 "Bump setuptools from 75.5.0 to 78.1.1 in /docs")
- Remove a duplicated line from the 0.4.0 release notes [#4662](https://github.com/mathesar-foundation/mathesar/pull/4662 "Removed duplicate line.") [#4668](https://github.com/mathesar-foundation/mathesar/pull/4668 "Merge pull request #4662 from mathesar-foundation/kgodey-patch-1")


## Upgrading to 0.5.0 {:#upgrading}

### For installations using Docker Compose

If you have a Docker compose installation, run the command below:

```
docker compose -f /etc/mathesar/docker-compose.yml up --pull always -d
```

!!! warning "Your installation directory may be different"
    You may need to change `/etc/mathesar/` in the command above if you chose to install Mathesar to a different directory.

### For direct installations of Mathesar on Linux, macOS, or WSL

Mathesar provides an install script that automates both fresh installs and upgrades for standalone (non-Docker) installations.

!!! tip "Previously referred to as "Installation from scratch""
    In versions earlier than 0.3.0, this setup was referred to as "Installation from scratch".

Follow the steps below to upgrade Mathesar:


1. Enter your installation directory into the box below and press <kbd>Enter</kbd> to personalize this guide:

    <input data-input-for="MATHESAR_INSTALL_DIR" aria-label="Your Mathesar installation directory"/>

    - Do _not_ include a trailing slash.
    - Do _not_ use any variables like `$HOME`.

2.  Go to your Mathesar installation directory.

    ```
    cd xMATHESAR_INSTALL_DIRx
    ```

    !!! note
        Your installation directory may be different from above if you used a different directory when installing Mathesar.

3. Download and run the install script for 0.5.0
    ```
    curl -sSfL https://github.com/mathesar-foundation/mathesar/releases/download/0.5.0/nstall.sh -o install.sh
    chmod +x install.sh

    ./install.sh .
    ```

4. Replace your gunicorn systemd service with a Mathesar systemd service

    1. Disable and stop the existing gunicorn service
        ```
        systemctl disable gunicorn.service
        systemctl stop gunicorn.service
        ```

    2. Follow the steps in [Run Mathesar as a systemd service](../administration/install-from-scratch.md#run-mathesar-as-a-systemd-service) from the installation guide

    3. Remove the gunicorn service file
        ```
        sudo rm /lib/systemd/system/gunicorn.service
        ```

5. Update your Caddyfile

    1. Use the configuration shown in [Install and configure Caddy](.md#install-and-configure-caddy) in the installation guide, and update your Caddyfile accordingly

    2. Ensure that your domains are specified directly in the first line of the Caddyfile

    3. Restart your Caddy service
      ```
      systemctl restart caddy.service
      ```

!!! tip
    **If you're running Mathesar only on localhost and do not want it to run as a service**, you could:

    1. Remove the gunicorn and caddy services
    1. Start Mathesar manually with:
      ```
      mathesar run
      ```
