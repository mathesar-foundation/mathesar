# Mathesar 0.2.4

???+ note "Help shape the future of Mathesar"
    We're looking to speak with users to better understand how Mathesar can help you or your team. It's only a 20 minute interview, and we're happy to offer a $25 gift card in return.

    If you're interested in helping, you can use [this link](https://cal.com/mathesar/users) to schedule a chat with Zack on the Mathesar team. Thank you!

## Summary

This is a **hotfix release** addressing specific issues related to connecting databases to Mathesar via Unix socket. For details about new features such as row duplication and enhanced paste behavior, please refer to the [0.2.3 release notes](./0.2.3.md).

### Unix socket bug fixes

In version 0.2.3, users experienced the following issues when connecting via Unix socket:

- Inability to create new databases when Mathesar's internal database used a Unix socket connection ([#4480](https://github.com/mathesar-foundation/mathesar/issues/4480 "Unable to work with explorations when DB is connected via Unix socket")).
- Failure to connect when the internal database used a Unix socket connection with an explicit port specified ([#4455](https://github.com/mathesar-foundation/mathesar/issues/4455 "Mathesar fails to start when port is specified while connecting over the Unix socket")).
- Problems working with data explorations whose base tables were connected via Unix socket ([#4454](https://github.com/mathesar-foundation/mathesar/issues/4454  "Unable to create new databases when internal DB is connected over Unix socket")).

These issues have all been resolved. Additionally, Unix socket connections no longer require URL encoding. Instead, they must now be provided unencoded:

* ❌ `%2Fvar%2Frun%2Fpostgresql`
* ✅ `/var/run/postgresql`


## Upgrading to 0.2.4  {:#upgrading}

### For installations using Docker Compose

If you have a Docker compose installation (including one from the guided script), run the command below:

```
docker compose -f /etc/mathesar/docker-compose.yml up --pull always -d
```

!!! warning "Your installation directory may be different"
    You may need to change `/etc/mathesar/` in the command above if you chose to install Mathesar to a different directory.

### For installations done from scratch

If you installed Mathesar [from scratch](../administration/install-from-scratch.md), then use these steps to upgrade your installation to 0.2.4.

1. Go to your Mathesar installation directory

    ```
    cd xMATHESAR_INSTALLATION_DIRx
    ```

    !!! note
        Your installation directory may be different from above if you used a different directory when installing Mathesar.

1. Pull version 0.2.4 from the repository

    ```
    git pull https://github.com/mathesar-foundation/mathesar.git
    git checkout 0.2.4
    ```

1. Update Python dependencies

    ```
    pip install -r requirements.txt
    ```

1. Activate our virtual environment

    ```
    source ./mathesar-venv/bin/activate
    ```

2. Run Django migrations

    ```
    python manage.py migrate
    ```

3. Download and extract frontend assets

    ```
    wget https://github.com/mathesar-foundation/mathesar/releases/download/0.2.4/static_files.zip
    unzip static_files.zip && mv static_files mathesar/static/mathesar && rm static_files.zip
    ```

4. Compile Mathesar translation files

    ```
    python manage.py compilemessages
    ```

5. Update Mathesar functions on the database:

    ```
    python -m mathesar.install --skip-confirm | tee /tmp/install.py.log
    ```

6. Restart the gunicorn server

    ```
    systemctl restart gunicorn
    ```
